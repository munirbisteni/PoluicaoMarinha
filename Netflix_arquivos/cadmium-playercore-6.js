a000.x2J=function(){return typeof a000.D2J.W2J === 'function'?a000.D2J.W2J.apply(a000.D2J,arguments):a000.D2J.W2J;};a000.c2J=function(){return typeof a000.D2J.P2J === 'function'?a000.D2J.P2J.apply(a000.D2J,arguments):a000.D2J.P2J;};a000.z2J=function(){return typeof a000.D2J.P2J === 'function'?a000.D2J.P2J.apply(a000.D2J,arguments):a000.D2J.P2J;};a000.Q2J=function(){return typeof a000.D2J.W2J === 'function'?a000.D2J.W2J.apply(a000.D2J,arguments):a000.D2J.W2J;};function a000(){}a000.D2J=(function(U2J){return {P2J:function(){var Y2J,N2J=arguments;switch(U2J){case 7:Y2J=(N2J[0] + N2J[5] + N2J[3]) / N2J[2] + -N2J[4] / N2J[1];break;case 15:Y2J=N2J[1] * N2J[0] + N2J[2];break;case 3:Y2J=void N2J[0] !== N2J[1];break;case 14:Y2J=N2J[1] * N2J[2] - N2J[0] + -N2J[3];break;case 19:Y2J=(N2J[2] - N2J[1]) * N2J[0];break;case 10:Y2J=N2J[1] / N2J[0];break;case 13:Y2J=N2J[1] / N2J[0] | N2J[2];break;case 2:Y2J=N2J[0] / N2J[1] / N2J[2];break;case 4:Y2J=N2J[2] + N2J[3] + N2J[1] + N2J[0] + N2J[4];break;case 5:Y2J=N2J[1] + N2J[0] + N2J[2];break;case 8:Y2J=N2J[0] * N2J[1];break;case 0:Y2J=N2J[1] - N2J[0];break;case 18:Y2J=N2J[2] - N2J[1] + N2J[0];break;case 6:Y2J=(N2J[0] + N2J[1]) / N2J[2];break;case 9:Y2J=(N2J[1] / N2J[3] | N2J[2]) * N2J[0];break;case 22:Y2J=N2J[0] <= N2J[1];break;case 1:Y2J=N2J[1] + N2J[0];break;case 11:Y2J=N2J[1] + N2J[0] / N2J[2] * N2J[3];break;case 20:Y2J=-(N2J[3] * N2J[2]) - N2J[1] + N2J[0];break;case 16:Y2J=(N2J[2] - N2J[0]) / -N2J[1];break;case 24:Y2J=N2J[0] === N2J[1];break;case 17:Y2J=(N2J[2] * N2J[3] - N2J[0]) / N2J[1];break;case 23:Y2J=N2J[0] > N2J[1];break;case 21:Y2J=N2J[1] >= N2J[0];break;case 12:Y2J=N2J[0] * N2J[2] / N2J[3] | N2J[1];break;}return Y2J;},W2J:function(X2J){U2J=X2J;}};})();(function(){(function(nb,zb){var wc,Fc,Qb,ud,Db,Fb,Zb,De,Ee,Lb,Mb,Mc,Fe,vd,Ge,He,Vd,Ja,Ab,jd,Ie,Wd,cb,ub,xb,xc,kc,Vb,vb,$b,Pb,Oc,Hb,Gb,Jb,cc,wd,yc,sc,tc,xd,Xd,Je,Hc,Ic,Pc,Yd,Zc,zc,yd,Lc,Zd,Ke,$c,$d,ae,be,ce,Ac,de,ee,fe,bd,Bc,Cc,cd,zd,Ad,Bd,jc,Kf,Nb,Nc,Le,Cd,oc,Me,Lf,uc,Ne,Mf,Dd,Oe,Nf,id,Pe,Jf,Of,ge,Ed,Pf,Qf,Ae,Rf,Be,Qe,lc,kd,Re,ld,Se,pc,Te,he,Ue,ie,Fd,Ve,Tf,Ce,Gd,Ud,We,Sf,Xe,je,Ye,Ze,$e,ke,Kc,bf,af,Uf,md,cf,me,nd,df,le,ef,ff,ne,hf,jf,Jd,Sc,dd,Tc,kf,lf,mf,nf,of,pf,Kd,Vf,qf,rf,pe,sf,ic,Qc,ad,Rc,Jc,Dc,Hd,ac,Gc,gf,od,Uc,tf,Wf,pd,uf,Xf,ed,vf,Ld,qe,qd,re,wf,rd,xf,yf,zf,Yf,sd,Af,Zf,$f,Bf,oe,Id,Cf,If,Df,ag,cg,bg,fd,td,dg,ze,eg,Ef;function Tb(gb,fb){if(!fb || "utf-8" === fb)return Pd(gb);throw Error("unsupported encoding");}function Rb(gb,fb){if(!fb || "utf-8" === fb)return Qd(gb);throw Error("unsupported encoding");}function Pd(gb){for(var fb=0,eb,bb=gb.length,lb="";fb < bb;){eb=gb[fb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (gb[fb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((gb[fb++] & 63) << 6) + (gb[fb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(eb);}return lb;}function Qd(gb){var fb,eb,bb,lb,pb;fb=gb.length;eb=0;lb=0;for(bb=fb;bb--;){pb=gb.charCodeAt(bb);128 > pb?eb++:eb=2048 > pb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(bb=0;bb < fb;bb++){pb=gb.charCodeAt(bb);128 > pb?eb[lb++]=pb:(2048 > pb?eb[lb++]=192 | pb >>> 6:(eb[lb++]=224 | pb >>> 12,eb[lb++]=128 | pb >>> 6 & 63),eb[lb++]=128 | pb & 63);}return eb;}function Wb(gb,fb){if(gb === fb)return !0;if(!gb || !fb || gb.length != fb.length)return !1;for(var eb=0;eb < gb.length;++eb){if(gb[eb] != fb[eb])return !1;}return !0;}function gc(gb){var bb;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var fb=1,eb=0;eb < gb.length;++eb){bb=gb[eb];if("number" !== typeof bb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + bb);fb=31 * fb + bb & 4294967295;}return fb;}function ue(gb,fb){var jb;if(gb === fb)return !0;if(!gb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var eb=0;eb < fb.length;++eb){for(var bb=fb[eb],lb=!1,pb=0;pb < gb.length;++pb){jb=gb[pb];if(bb.equals && "function" === typeof bb.equals && bb.equals(jb) || bb == jb){lb=!0;break;}}if(!lb)return !1;}return !0;}function ve(gb,fb){return ue(gb,fb) && (gb.length == fb.length || ue(fb,gb));}function La(gb,fb,eb){var bb,lb;eb && (bb=eb);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=fb.call(bb,gb);lb !== zb && gb.result(lb);}catch(pb){try{gb.error(pb);}catch(jb){}}}function db(gb,fb,eb){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");La(gb,fb,eb);}function W(gb,fb,eb){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Rd(gb){switch(gb){case Nb.PSK:case Nb.MGK:return !0;default:return !1;}}function we(gb){switch(gb){case Nb.PSK:case Nb.MGK:case Nb.X509:case Nb.RSA:case Nb.NPTICKET:case Nb.ECC:return !0;default:return !1;}}function Ff(gb){return gb.toJSON();}function xe(gb,fb){td?fb.result(td):Promise.resolve().then(function(){return Jb.getKeyByName(gb);}).catch(function(){return Jb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){td=eb;fb.result(td);}).catch(function(eb){fb.error(new cb(W.INTERNAL_EXCEPTION,"Unable to get system key"));});}function ye(gb,fb){var eb,bb;eb=fb.masterToken;bb=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:bb && bb.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:fb && fb.length};}function Gf(gb){return gb.uniqueKey();}function Hf(gb,fb,eb,bb,lb){var Ra;function pb(Aa,oa){Aa.errorCode === Ja.ENTITY_REAUTH || Aa.errorCode === Ja.ENTITYDATA_REAUTH?(bb.clearCryptoContexts(),Ma()):Aa.errorCode !== Ja.USER_REAUTH && Aa.errorCode !== Ja.USERDATA_REAUTH || jb(oa);}function jb(Aa){if(Aa=bb.getUserIdToken(Aa))(bb.removeUserIdToken(Aa),Ma());}function Ga(Aa,oa,ha){var aa;aa=[];(function ia(){Aa.read(-1,oa,{result:function(fa){La(ha,function(){var V,Z,ta,qa,va;if(fa)(aa.push(fa),ia());else switch(aa.length){case 0:return new Uint8Array(0);case 1:return aa[0];default:(ta=aa.length,qa=0);for(Z=V=0;Z < ta;Z++){V+=aa[Z].length;}V=new Uint8Array(V);for(Z=0;Z < ta;Z++){va=aa[Z];V.set(va,qa);qa+=va.length;}return V;}});},timeout:function(){ha.timeout();},error:function(fa){ha.error(fa);}});})();}function Ma(){bb.getStoreState({result:function(Aa){for(var oa=Ra.slice(),ha=0;ha < oa.length;ha++){oa[ha]({storeState:Aa});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(Aa){gb.error("Error getting store state","" + Aa);}});}Ra=[];this.addEventHandler=function(Aa,oa){switch(Aa){case "shouldpersist":Ra.push(oa);}};this.send=function(Aa){return new Promise(function(oa,ha){var aa,ca,ia;aa=Aa.timeout;ca=new ze(gb,eb,Aa,bb.getKeyRequestData());ia=new Ae(Aa.url);gb.trace("Sending MSL request");fb.request(eb,ca,ia,aa,{result:function(fa){var V;gb.trace("Received MSL response",{Method:Aa.method});if(fa){Aa.allowTokenRefresh && Ma();V=fa.getErrorHeader();V?(pb(V,Aa.profileGuid || Aa.userId),ha({success:!1,error:V})):Ga(fa,aa,{result:function(Z){oa({success:!0,body:Tb(Z)});},timeout:function(){ha({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(Z){ha({success:!1,error:Z});}});}else ha({success:!1,error:new cb(W.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(fa){ha({success:!1,error:fa});}});});};this.hasUserIdToken=function(Aa){return ! !bb.getUserIdToken(Aa);};this.getUserIdTokenKeys=function(){return bb.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){bb.clearUserIdTokens();Ma();};this.isErrorReauth=function(Aa){return Aa && Aa.errorCode == Ja.USERDATA_REAUTH;};this.isErrorHeader=function(Aa){return Aa instanceof Kc;};this.getErrorCode=function(Aa){return Aa && Aa.errorCode;};this.getStateForMdx=function(Aa){var oa,ha;oa=bb.getMasterToken();Aa=bb.getUserIdToken(Aa);ha=bb.getCryptoContext(oa);return {masterToken:oa,userIdToken:Aa,cryptoContext:ha};};this.buildPlayDataRequest=function(Aa,oa){var ha;ha=new Be();fb.request(eb,new ze(gb,eb,Aa),ha,Aa.timeout,{result:function(){oa.result(ha.getRequest());},error:function(){oa.result(ha.getRequest());},timeout:function(){oa.timeout();}});};this.rekeyUserIdToken=function(Aa,oa){bb.rekeyUserIdToken(Aa,oa);Ma();};this.getServiceTokens=function(Aa){var oa;oa=bb.getMasterToken();(Aa=bb.getUserIdToken(Aa)) && !Aa.isBoundTo(oa) && (Aa=zb);return bb.getServiceTokens(oa,Aa);};this.removeServiceToken=function(Aa){var oa;oa=bb.getMasterToken();bb.getServiceTokens(oa).find(function(ha){return ha.name === Aa;}) && (bb.removeServiceTokens(Aa,oa),Ma());};}function Sd(gb,fb,eb,bb,lb,pb){function jb(Ga){var Ma;return Promise.resolve().then(function(){Ma=gb.authenticationKeyNames[Ga];if(!Ma)throw new cb(W.KEY_IMPORT_ERROR,"Invalid config keyName " + Ga);return Jb.getKeyByName(Ma);}).then(function(Ra){return new Promise(function(Aa,oa){Zc(Ra,{result:Aa,error:function(){oa(new cb(W.KEY_IMPORT_ERROR,"Unable to create " + Ma + " CipherKey"));}});});}).catch(function(Ra){throw new cb(W.KEY_IMPORT_ERROR,"Unable to import " + Ma,Ra);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new cb(W.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([jb("e"),jb("h"),jb("w")]);}).then(function(Ga){var Ma,Ra,Aa;Ma={};Ma[fb]=new eb(gb.esn,Ga[0],Ga[1],Ga[2]);Ga=new bb(gb.esn);Ra=new If();Ra=[new lb(Ra)];Aa=new pb(fb);return {entityAuthFactories:Ma,entityAuthData:Ga,keyExchangeFactories:Ra,keyRequestData:Aa};});}function Td(gb,fb,eb){var pb;function bb(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return lb(jb.publicKey,jb.privateKey);});}function lb(jb,Ga){return Promise.all([new Promise(function(Ma,Ra){Lc(jb,{result:Ma,error:function(Aa){Ra(new cb(W.INTERNAL_EXCEPTION,"Unable to create keyx public key",Aa));}});}),new Promise(function(Ma,Ra){$c(Ga,{result:Ma,error:function(Aa){Ra(new cb(W.INTERNAL_EXCEPTION,"Unable to create keyx private key",Aa));}});})]).then(function(Ma){Ma=new Ud("rsaKeypairId",eb,Ma[0],Ma[1]);pb && (Ma.storeData={keyxPublicKey:jb,keyxPrivateKey:Ga});return Ma;});}pb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Ga;jb=gb.storeState;Ga=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return pb && Ga && jb?lb(Ga,jb):bb();}).then(function(jb){var Ga,Ma,Ra;Ga={};Ga[Nb.NONE]=new Jf();Ma=new id(gb.esn);Ra=[new Ce()];return {entityAuthFactories:Ga,entityAuthData:Ma,keyExchangeFactories:Ra,keyRequestData:jb,createKeyRequestData:pb?bb:zb};});}Fc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Qb=Fc && (Fc.webkitSubtle || Fc.subtle);ud=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(gb){var fb,eb;fb=(function(){function bb(lb,pb){lb instanceof fb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=pb || 0);}bb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,pb,jb){var Ga;Ga=new Uint8Array(this.abv.buffer,this.position,jb);lb=new Uint8Array(lb.buffer,pb,jb);Ga.set(lb);this.position+=jb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return bb;})();eb={};(function(){var fa,V,Z,ta,qa,va,Da,wa,ra;function bb(Y,ba){var ea;ba.writeByte(Y.tagClass << 6 | Y.constructed << 5 | Y.tag);ea=Y.payloadLen;if(128 > ea)ba.writeByte(ea);else {for(var na=ea,Ha=0;na;){++Ha;na>>=8;}ba.writeByte(128 | Ha);for(na=0;na < Ha;++na){ba.writeByte(ea >> 8 * (Ha - na - 1) & 255);}}if(Y.child)for((Y.tag == fa.BIT_STRING && ba.writeByte(0),Y=Y._child);Y;){if(!bb(Y,ba))return !1;Y=Y.next;}else switch(Y.tag){case fa.INTEGER:Y.backingStore[Y.dataIdx] >> 7 && ba.writeByte(0);ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);break;case fa.BIT_STRING:ba.writeByte(0);ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);break;case fa.OCTET_STRING:ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);break;case fa.OBJECT_IDENTIFIER:ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);}return !0;}function lb(Y){var ba,ea;ba=Y.readByte();ea=ba & 127;if(ea == ba)return ea;if(3 < ea || 0 === ea)return -1;for(var na=ba=0;na < ea;++na){ba=ba << 8 | Y.readByte();}return ba;}function pb(Y,ba,ea){var na,Ha,Ea,Pa,Ta,la,xa;na=Y.backingStore;Ha=new fb(na,ba);ba+=ea;ea=Y;if(8 < qa++)return zb;for(;Ha.getPosition() < ba;){Ha.getPosition();Pa=Ha.readByte();if(31 == (Pa & 31)){for(Ea=0;Pa & 128;){Ea<<=8;Ea|=Pa & 127;}Pa=Ea;}Ta=Pa;Ea=Ta & 31;if(0 > Ea || 30 < Ea)return zb;Pa=lb(Ha);if(0 > Pa || Pa > Ha.getRemaining())return zb;ea.constructed=Ta & 32;ea.tagClass=(Ta & 192) >> 6;ea.tag=Ea;ea.dataLen=Pa;ea.dataIdx=Ha.getPosition();Ea=Ha;la=Ta;Ta=Pa;if(la & 32)Ea=!0;else if(la < fa.BIT_STRING || la > fa.OCTET_STRING)Ea=!1;else {xa=new fb(Ea);la == fa.BIT_STRING && xa.skip(1);xa.readByte() >> 6 & 1?Ea=!1:(la=lb(xa),Ea=xa.getPosition() - Ea.getPosition() + la == Ta);}Ea && (Ea=Ha.getPosition(),Ta=Pa,ea.tag == fa.BIT_STRING && (ea.dataIdx++,ea.dataLen--,Ea++,Ta--),ea.child=new V(na,ea),pb(ea.child,Ea,Ta));ea.tag == fa.INTEGER && (Ea=Ha.getPosition(),0 == Ha.peekByte(Ea) && Ha.peekByte(Ea + 1) >> 7 && (ea.dataIdx++,ea.dataLen--));Ha.skip(Pa);Ha.getPosition() < ba && (ea.next=new V(na,ea.parent),ea=ea.next);}qa--;return Y;}function jb(Y,ba,ea){if(9 != ea)return !1;for(ea=0;9 > ea;++ea){if(Y[ba++] != va[ea])return !1;}return !0;}function Ga(Y){var ba;if(!(Y && Y.child && Y.child.next && Y.child.child && Y.child.next.child))return !1;ba=Y.child.child;return jb(ba.backingStore,ba.dataIdx,ba.dataLen) && 2 == Y.nChildren && 2 == Y.child.nChildren && 2 == Y.child.next.child.nChildren?!0:!1;}function Ma(Y){var ba;if(!(Y && Y.child && Y.child.next && Y.child.next.child && Y.child.next.next && Y.child.next.next.child))return !1;ba=Y.child.next.child;return jb(ba.backingStore,ba.dataIdx,ba.dataLen) && 3 == Y.nChildren && 2 == Y.child.next.nChildren && 9 == Y.child.next.next.child.nChildren?!0:!1;}function Ra(Y){var ba,ea;ba=Z.createSequenceNode();ea=new ta(ba);ea.addChild(Z.createSequenceNode());ea.addChild(Z.createOidNode(va));ea.addSibling(Z.createNullNode());ea.addToParent(ba,Z.createBitStringNode(null));ea.addChild(Z.createSequenceNode());ea.addChild(Z.createIntegerNode(Y.n));ea.addSibling(Z.createIntegerNode(Y.e));return ba;}function Aa(Y){var ba;Y=Y.child.next.child.child;ba=Y.data;Y=Y.next;return new Da(ba,Y.data,null,null);}function oa(Y){var ba,ea;ba=Z.createSequenceNode();ea=new ta(ba);ea.addChild(Z.createIntegerNode(new Uint8Array([0])));ea.addSibling(Z.createSequenceNode());ea.addChild(Z.createOidNode(va));ea.addSibling(Z.createNullNode());ea.addToParent(ba,Z.createOctetStringNode(null));ea.addChild(Z.createSequenceNode());ea.addChild(Z.createIntegerNode(new Uint8Array([0])));ea.addSibling(Z.createIntegerNode(Y.n));ea.addSibling(Z.createIntegerNode(Y.e));ea.addSibling(Z.createIntegerNode(Y.d));ea.addSibling(Z.createIntegerNode(Y.p));ea.addSibling(Z.createIntegerNode(Y.q));ea.addSibling(Z.createIntegerNode(Y.dp));ea.addSibling(Z.createIntegerNode(Y.dq));ea.addSibling(Z.createIntegerNode(Y.qi));return ba;}function ha(Y){var ba;ba=[];Y=Y.child.next.next.child.child.next;for(var ea=0;8 > ea;ea++){ba.push(Y.data);Y=Y.next;}return new wa(ba[0],ba[1],ba[2],ba[3],ba[4],ba[5],ba[6],ba[7]);}function aa(Y,ba,ea,na){if(!(Y instanceof Da || Y instanceof wa))return zb;if(ea)for(var Ha=0;Ha < ea.length;++Ha){if(-1 == ra.indexOf(ea[Ha]))return zb;}ba={kty:"RSA",alg:ba,key_ops:ea || [],ext:na == zb?!1:na,n:Db(Y.n,!0),e:Db(Y.e,!0)};Y instanceof wa && (ba.d=Db(Y.d,!0),ba.p=Db(Y.p,!0),ba.q=Db(Y.q,!0),ba.dp=Db(Y.dp,!0),ba.dq=Db(Y.dq,!0),ba.qi=Db(Y.qi,!0));return ba;}function ca(Y){var ba,ea,na,Ha,Ea,Pa,Ta,la,xa,za;if(!Y.kty || "RSA" != Y.kty || !Y.n || !Y.e)return zb;ba=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(Y.alg && -1 == ba.indexOf(Y.alg))return zb;ba=[];Y.use?"enc" == Y.use?ba=["encrypt","decrypt","wrap","unwrap"]:"sig" == Y.use && (ba=["sign","verify"]):ba=Y.key_ops;ea=Y.ext;na=Fb(Y.n,!0);Ha=Fb(Y.e,!0);if(Y.d){Ea=Fb(Y.d,!0);Pa=Fb(Y.p,!0);Ta=Fb(Y.q,!0);la=Fb(Y.dp,!0);xa=Fb(Y.dq,!0);za=Fb(Y.qi,!0);return new wa(na,Ha,Ea,Pa,Ta,la,xa,za,Y.alg,ba,ea);}return new Da(na,Ha,ea,ba);}function ia(Y,ba,ea,na){this.der=Y;this.type=ba;this.keyOps=ea;this.extractable=na;}fa={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};V=function(Y,ba,ea,na,Ha,Ea){this._data=Y;this._parent=ba || zb;this._constructed=ea || !1;this._tagClass=0;this._tag=na || 0;this._dataIdx=Ha || 0;this._dataLen=Ea || 0;};V.prototype={_child:zb,_next:zb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(Y) {this._constructed=0 != Y?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(Y) {this._tagClass=Y;},get tag() {return this._tag;},set tag(Y) {this._tag=Y;},get dataIdx() {return this._dataIdx;},set dataIdx(Y) {this._dataIdx=Y;},get dataLen() {return this._dataLen;},set dataLen(Y) {this._dataLen=Y;},get child() {return this._child;},set child(Y) {this._child=Y;this._child.parent=this;},get next() {return this._next;},set next(Y) {this._next=Y;},get parent() {return this._parent;},set parent(Y) {this._parent=Y;},get payloadLen() {var Y;Y=0;if(this._child){for(var ba=this._child;ba;){Y+=ba.length;ba=ba.next;}this._tag == fa.BIT_STRING && Y++;}else switch(this._tag){case fa.INTEGER:Y=this._dataLen;this._data[this._dataIdx] >> 7 && Y++;break;case fa.BIT_STRING:Y=this._dataLen + 1;break;case fa.OCTET_STRING:Y=this._dataLen;break;case fa.NULL:Y=0;break;case fa.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (Y=9);}return Y;},get length() {var Y,ba;Y=this.payloadLen;if(127 < Y)for(ba=Y;ba;){ba>>=8;++Y;}return Y + 2;},get der() {var Y,ba;Y=this.length;if(!Y)return zb;Y=new Uint8Array(Y);ba=new fb(Y);return bb(this,ba)?Y:zb;},get nChildren() {for(var Y=0,ba=this._child;ba;){Y++;ba=ba.next;}return Y;}};Z={createSequenceNode:function(){return new V(null,null,!0,fa.SEQUENCE,null,null);},createOidNode:function(Y){return new V(Y,null,!1,fa.OBJECT_IDENTIFIER,0,Y?Y.length:0);},createNullNode:function(){return new V(null,null,!1,fa.NULL,null,null);},createBitStringNode:function(Y){return new V(Y,null,!1,fa.BIT_STRING,0,Y?Y.length:0);},createIntegerNode:function(Y){return new V(Y,null,!1,fa.INTEGER,0,Y?Y.length:0);},createOctetStringNode:function(Y){return new V(Y,null,!1,fa.OCTET_STRING,0,Y?Y.length:0);}};ta=function(Y){this._currentNode=this._rootNode=Y;};ta.prototype={addChild:function(Y){this.addTo(this._currentNode,Y);},addSibling:function(Y){this.addTo(this._currentNode.parent,Y);},addTo:function(Y,ba){this._currentNode=ba;this._currentNode.parent=Y;if(Y.child){for(Y=Y.child;Y.next;){Y=Y.next;}Y.next=ba;}else Y.child=ba;},addToParent:function(Y,ba){this.findNode(Y) && this.addTo(Y,ba);},findNode:function(Y){for(var ba=this._currentNode;ba;){if(Y == ba)return !0;ba=ba.parent;}return !1;}};qa=0;va=new Uint8Array([42,134,72,134,247,13,1,1,1]);Da=function(Y,ba,ea,na){this.n=Y;this.e=ba;this.ext=ea;this.keyOps=na;};wa=function(Y,ba,ea,na,Ha,Ea,Pa,Ta,la,xa,za){this.n=Y;this.e=ba;this.d=ea;this.p=na;this.q=Ha;this.dp=Ea;this.dq=Pa;this.qi=Ta;this.alg=la;this.keyOps=xa;this.ext=za;};ra=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ia.prototype.getDer=function(){return this.der;};ia.prototype.getType=function(){return this.type;};ia.prototype.getKeyOps=function(){return this.keyOps;};ia.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(Y){qa=0;return pb(new V(Y),0,Y.length);};eb.show=function(Y,ba){};eb.isRsaSpki=Ga;eb.isRsaPkcs8=Ma;eb.NodeFactory=Z;eb.Builder=ta;eb.tagVal=fa;eb.RsaPublicKey=Da;eb.RsaPrivateKey=wa;eb.buildRsaSpki=Ra;eb.parseRsaSpki=function(Y){Y=eb.parse(Y);return Ga?Aa(Y):zb;};eb.buildRsaPkcs8=oa;eb.parseRsaPkcs8=function(Y){Y=eb.parse(Y);return Ma(Y)?ha(Y):zb;};eb.buildRsaJwk=aa;eb.parseRsaJwk=ca;eb.RsaDer=ia;eb.rsaDerToJwk=function(Y,ba,ea,na){Y=eb.parse(Y);if(!Y)return zb;if(Ga(Y))Y=Aa(Y);else if(Ma(Y))Y=ha(Y);else return zb;return aa(Y,ba,ea,na);};eb.jwkToRsaDer=function(Y){var ba,ea;Y=ca(Y);if(!Y)return zb;if(Y instanceof Da){ba="spki";ea=Ra(Y).der;}else if(Y instanceof wa)(ba="pkcs8",ea=oa(Y).der);else return zb;return new ia(ea,ba,Y.keyOps,Y.ext);};eb.webCryptoAlgorithmToJwkAlg=function(Y){return "RSAES-PKCS1-v1_5" == Y.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == Y.name?"SHA-256" == Y.hash.name?"RS256":"SHA-384" == Y.hash.name?"RS384":"SHA-512" == Y.hash.name?"RS512":zb:zb;};eb.webCryptoUsageToJwkKeyOps=function(Y){return Y.map(function(ba){return "wrapKey" == ba?"wrap":"unwrapKey" == ba?"unwrap":ba;});};})();gb.ASN1=eb;})(nb);(function(){for(var gb={},fb={},eb={"=":0,".":0},bb={"=":0,".":0},lb=/\s+/g,pb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Db=function(Ga,Ma){for(var Ra="",Aa=0,oa=Ga.length,ha=oa - 2,aa=Ma?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ca=Ma?"":"=";Aa < ha;){Ma=65536 * Ga[Aa++] + 256 * Ga[Aa++] + Ga[Aa++];Ra+=aa[Ma >>> 18] + aa[Ma >>> 12 & 63] + aa[Ma >>> 6 & 63] + aa[Ma & 63];}Aa == ha?(Ma=65536 * Ga[Aa++] + 256 * Ga[Aa++],Ra+=aa[Ma >>> 18] + aa[Ma >>> 12 & 63] + aa[Ma >>> 6 & 63] + ca):Aa == oa - 1 && (Ma=65536 * Ga[Aa++],Ra+=aa[Ma >>> 18] + aa[Ma >>> 12 & 63] + ca + ca);return Ra;};Fb=function(Ga,Ma){Ga=Ga.replace(lb,"");if(Ma && (Ma=Ga.length % 4)){Ma=4 - Ma;for(var Ra=0;Ra < Ma;++Ra){Ga+="=";}}Ma=Ga.length;if(0 != Ma % 4 || !pb.test(Ga))throw Error("bad base64: " + Ga);for(var Aa=Ma / 4 * 3 - ("=" == Ga[Ma - 1]?1:0) - ("=" == Ga[Ma - 2]?1:0),oa=new Uint8Array(Aa),ha=0,aa=0;ha < Ma;){Ra=gb[Ga[ha++]] + fb[Ga[ha++]] + eb[Ga[ha++]] + bb[Ga[ha++]];oa[aa++]=Ra >>> 16;aa < Aa && (oa[aa++]=Ra >>> 8 & 255,aa < Aa && (oa[aa++]=Ra & 255));}return oa;};})();Zb={};(function(){var pb,jb,Ga,Ra;function gb(Aa){if(!(this instanceof gb))return new gb(Aa);for(var oa=0,ha=jb.length;oa < ha;oa++){this[jb[oa]]="";}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=Aa || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ga.BEGIN;this.stack=new pb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(Aa,oa,ha){if(Aa[oa])Aa[oa](ha);}function eb(Aa,oa){var ha,aa;ha=Aa.opt;aa=Aa.textNode;ha.trim && (aa=aa.trim());ha.normalize && (aa=aa.replace(/\s+/g," "));Aa.textNode=aa;Aa.textNode && fb(Aa,oa?oa:"onvalue",Aa.textNode);Aa.textNode="";}function bb(Aa,oa){eb(Aa);oa+="\nLine: " + Aa.line + "\nColumn: " + Aa.column + "\nChar: " + Aa.c;oa=Error(oa);Aa.error=oa;fb(Aa,"onerror",oa);return Aa;}function lb(Aa){Aa.state !== Ga.VALUE && bb(Aa,"Unexpected end");eb(Aa);Aa.c="";Aa.closed=!0;fb(Aa,"onend");gb.call(Aa,Aa.opt);return Aa;}pb=Array;Zb.parser=function(Aa){return new gb(Aa);};Zb.CParser=gb;Zb.MAX_BUFFER_LENGTH=65536;Zb.DEBUG=!1;Zb.INFO=!1;Zb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];Zb.EVENTS.filter(function(Aa){return "error" !== Aa && "end" !== Aa;});Ga=0;Zb.STATE={BEGIN:Ga++,VALUE:Ga++,OPEN_OBJECT:Ga++,CLOSE_OBJECT:Ga++,OPEN_ARRAY:Ga++,CLOSE_ARRAY:Ga++,TEXT_ESCAPE:Ga++,STRING:Ga++,BACKSLASH:Ga++,END:Ga++,OPEN_KEY:Ga++,CLOSE_KEY:Ga++,TRUE:Ga++,TRUE2:Ga++,TRUE3:Ga++,FALSE:Ga++,FALSE2:Ga++,FALSE3:Ga++,FALSE4:Ga++,NULL:Ga++,NULL2:Ga++,NULL3:Ga++,NUMBER_DECIMAL_POINT:Ga++,NUMBER_DIGIT:Ga++};for(var Ma in Zb.STATE){Zb.STATE[Zb.STATE[Ma]]=Ma;}Ga=Zb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(Aa){return Aa.__proto__;});Ra=/[\\"\n]/g;gb.prototype={end:function(){lb(this);},write:function(Aa){var aa,ca,ia;if(this.error)throw this.error;if(this.closed)return bb(this,"Cannot write after close. Assign an onready handler.");if(null === Aa)return lb(this);for(var oa=Aa[0],ha;oa;){ha=oa;this.c=oa=Aa.charAt(this.index++);ha !== oa?this.p=ha:ha=this.p;if(!oa)break;this.position++;"\n" === oa?(this.line++,this.column=0):this.column++;switch(this.state){case Ga.BEGIN:"{" === oa?this.state=Ga.OPEN_OBJECT:"[" === oa?this.state=Ga.OPEN_ARRAY:"\r" !== oa && "\n" !== oa && " " !== oa && "\t" !== oa && bb(this,"Non-whitespace before {[.");continue;case Ga.OPEN_KEY:case Ga.OPEN_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ga.OPEN_KEY)this.stack.push(Ga.CLOSE_KEY);else if("}" === oa){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_OBJECT);'"' === oa?this.state=Ga.STRING:bb(this,'Malformed object key should start with "');continue;case Ga.CLOSE_KEY:case Ga.CLOSE_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;":" === oa?(this.state === Ga.CLOSE_OBJECT?(this.stack.push(Ga.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Ga.VALUE):"}" === oa?(eb(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ga.VALUE):"," === oa?(this.state === Ga.CLOSE_OBJECT && this.stack.push(Ga.CLOSE_OBJECT),eb(this),this.state=Ga.OPEN_KEY):bb(this,"Bad object");continue;case Ga.OPEN_ARRAY:case Ga.VALUE:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ga.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Ga.VALUE,"]" === oa)){fb(this,"onclosearray");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_ARRAY);'"' === oa?this.state=Ga.STRING:"{" === oa?this.state=Ga.OPEN_OBJECT:"[" === oa?this.state=Ga.OPEN_ARRAY:"t" === oa?this.state=Ga.TRUE:"f" === oa?this.state=Ga.FALSE:"n" === oa?this.state=Ga.NULL:"-" === oa?this.numberNode+=oa:"0" === oa?(this.numberNode+=oa,this.state=Ga.NUMBER_DIGIT):-1 !== ("123456789").indexOf(oa)?(this.numberNode+=oa,this.state=Ga.NUMBER_DIGIT):bb(this,"Bad value");continue;case Ga.CLOSE_ARRAY:if("," === oa)(this.stack.push(Ga.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Ga.VALUE);else if("]" === oa)(eb(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ga.VALUE);else if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;else bb(this,"Bad array");continue;case Ga.STRING:ha=this.index - 1;(aa=this.slashed,ca=this.unicodeI);a:for(;;){if(Zb.DEBUG)for(;0 < ca;){if((this.unicodeS+=oa,oa=Aa.charAt(this.index++),4 === ca?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),ca=0,ha=this.index - 1):ca++,!oa))break a;}if('"' === oa && !aa){this.state=this.stack.pop() || Ga.VALUE;(this.textNode+=Aa.substring(ha,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === oa && !aa && (aa=!0,this.textNode+=Aa.substring(ha,this.index - 1),oa=Aa.charAt(this.index++),!oa))break;if(aa)if((aa=!1,"n" === oa?this.textNode+="\n":"r" === oa?this.textNode+="\r":"t" === oa?this.textNode+="\t":"f" === oa?this.textNode+="\f":"b" === oa?this.textNode+="\b":"u" === oa?(ca=1,this.unicodeS=""):this.textNode+=oa,oa=Aa.charAt(this.index++),ha=this.index - 1,oa))continue;else break;Ra.lastIndex=this.index;ia=Ra.exec(Aa);if(null === ia){this.index=Aa.length + 1;this.textNode+=Aa.substring(ha,this.index - 1);break;}this.index=ia.index + 1;oa=Aa.charAt(ia.index);if(!oa){this.textNode+=Aa.substring(ha,this.index - 1);break;}}this.slashed=aa;this.unicodeI=ca;continue;case Ga.TRUE:if("" === oa)continue;"r" === oa?this.state=Ga.TRUE2:bb(this,"Invalid true started with t" + oa);continue;case Ga.TRUE2:if("" === oa)continue;"u" === oa?this.state=Ga.TRUE3:bb(this,"Invalid true started with tr" + oa);continue;case Ga.TRUE3:if("" === oa)continue;"e" === oa?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Ga.VALUE):bb(this,"Invalid true started with tru" + oa);continue;case Ga.FALSE:if("" === oa)continue;"a" === oa?this.state=Ga.FALSE2:bb(this,"Invalid false started with f" + oa);continue;case Ga.FALSE2:if("" === oa)continue;"l" === oa?this.state=Ga.FALSE3:bb(this,"Invalid false started with fa" + oa);continue;case Ga.FALSE3:if("" === oa)continue;"s" === oa?this.state=Ga.FALSE4:bb(this,"Invalid false started with fal" + oa);continue;case Ga.FALSE4:if("" === oa)continue;"e" === oa?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Ga.VALUE):bb(this,"Invalid false started with fals" + oa);continue;case Ga.NULL:if("" === oa)continue;"u" === oa?this.state=Ga.NULL2:bb(this,"Invalid null started with n" + oa);continue;case Ga.NULL2:if("" === oa)continue;"l" === oa?this.state=Ga.NULL3:bb(this,"Invalid null started with nu" + oa);continue;case Ga.NULL3:if("" === oa)continue;"l" === oa?(fb(this,"onvalue",null),this.state=this.stack.pop() || Ga.VALUE):bb(this,"Invalid null started with nul" + oa);continue;case Ga.NUMBER_DECIMAL_POINT:"." === oa?(this.numberNode+=oa,this.state=Ga.NUMBER_DIGIT):bb(this,"Leading zero not followed by .");continue;case Ga.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(oa)?this.numberNode+=oa:"." === oa?(-1 !== this.numberNode.indexOf(".") && bb(this,"Invalid number has two dots"),this.numberNode+=oa):"e" === oa || "E" === oa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || bb(this,"Invalid number has two exponential"),this.numberNode+=oa):"+" === oa || "-" === oa?("e" !== ha && "E" !== ha && bb(this,"Invalid symbol in number"),this.numberNode+=oa):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ga.VALUE);continue;default:bb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){Aa=Math.max(Zb.MAX_BUFFER_LENGTH,10);ha=oa=0;for(aa=jb.length;ha < aa;ha++){ca=this[jb[ha]].length;if(ca > Aa)switch(jb[ha]){case "text":break;default:bb(this,"Max buffer length exceeded: " + jb[ha]);}oa=Math.max(oa,ca);}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH - oa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var bb,lb,pb;function gb(jb,Ga){Ga || (Ga=jb.length);return jb.reduce(function(Ma,Ra,Aa){return Aa < Ga?Ma + String.fromCharCode(Ra):Ma;},"");}for(var fb={},eb=0;256 > eb;++eb){bb=gb([eb]);fb[bb]=eb;}lb=Object.keys(fb).length;pb=[];for(eb=0;256 > eb;++eb){pb[eb]=[eb];}De=function(jb,Ga){var V,Z;function Ma(ta,qa){var va;for(;0 < qa;){if(ca >= aa.length)return !1;if(qa > ia){va=ta;va>>>=qa - ia;aa[ca]|=va & 255;qa-=ia;ia=8;++ca;}else qa <= ia && (va=ta,va<<=ia - qa,va&=255,va>>>=8 - ia,aa[ca]|=va & 255,ia-=qa,qa=0,0 == ia && (ia=8,++ca));}return !0;}for(var Ra in fb){Ga[Ra]=fb[Ra];}for(var Aa=lb,oa=[],ha=8,aa=new Uint8Array(jb.length),ca=0,ia=8,fa=0;fa < jb.length;++fa){V=jb[fa];oa.push(V);Ra=gb(oa);Z=Ga[Ra];if(!Z){oa=gb(oa,oa.length - 1);if(!Ma(Ga[oa],ha))return null;0 != Aa >> ha && ++ha;Ga[Ra]=Aa++;oa=[V];}}return 0 < oa.length && (Ra=gb(oa),Z=Ga[Ra],!Ma(Z,ha))?null:aa.subarray(0,8 > ia?ca + 1:ca);};Ee=function(jb){var fa,V;for(var Ga=pb.slice(),Ma=0,Ra=0,Aa=8,oa=new Uint8Array(Math.ceil(1.5 * jb.length)),ha=0,aa,ca=[];Ma < jb.length && !(8 * (jb.length - Ma) - Ra < Aa);){for(var ia=aa=0;ia < Aa;){fa=Math.min(Aa - ia,8 - Ra);V=jb[Ma];V<<=Ra;V&=255;V>>>=8 - fa;ia+=fa;Ra+=fa;8 == Ra && (Ra=0,++Ma);aa|=(V & 255) << Aa - ia;}ia=Ga[aa];0 == ca.length?++Aa:(ia?ca.push(ia[0]):ca.push(ca[0]),Ga[Ga.length]=ca,ca=[],Ga.length == 1 << Aa && ++Aa,ia || (ia=Ga[aa]));aa=ha + ia.length;aa >= oa.length && (fa=new Uint8Array(Math.ceil(1.5 * aa)),fa.set(oa),oa=fa);oa.set(ia,ha);ha=aa;ca=ca.concat(ia);}return oa.subarray(0,ha);};})();(function(){var gb,fb,eb;Lb="utf-8";Mb=9007199254740992;gb=Mc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Mc);Fe=function(bb){for(var lb=[gb.GZIP,gb.LZW],pb=0;pb < lb.length && 0 < bb.length;++pb){for(var jb=lb[pb],Ga=0;Ga < bb.length;++Ga){if(bb[Ga] == jb)return jb;}}return null;};fb=vd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vd);Ge=function(bb){return fb.AES_CBC_PKCS5Padding == bb?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == bb?fb.RSA_ECB_PKCS1Padding:fb[bb];};eb=He={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(He);Vd=function(bb){return eb[bb];};Ja={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ja);})();Ab={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,fb,eb,bb,lb,pb,jb,Ga;gb=arguments[0];fb=1;eb=arguments.length;bb=!1;"boolean" === typeof gb && (bb=gb,gb=arguments[1],fb=2);for(;fb < eb;fb++){if(null != (lb=arguments[fb]))for(pb in lb){if(!(bb && (pb in gb))){jb=lb[pb];if(gb !== jb && jb !== zb){Ga=gb[pb];gb[pb]=null !== Ga && null !== jb && "object" === typeof Ga && "object" === typeof jb?Ab.extendDeep(bb,{},Ga,jb):jb;}}}}return gb;}};(function(){var jb,Ga;function gb(Ma,Ra){return function(){var Aa,oa;Aa=Ma.base;Ma.base=Ra;oa=Ma.apply(this,arguments);Ma.base=Aa;return oa;};}function fb(Ma,Ra,Aa){var oa,ha,aa,ca;Aa=Aa || Ga;ha=! !Aa.extendAll;for(oa in Ra){aa=Ra.__lookupGetter__(oa);ca=Ra.__lookupSetter__(oa);aa || ca?(aa && Ma.__defineGetter__(oa,aa),ca && Ma.__defineSetter__(oa,ca)):(aa=Ra[oa],ca=Ma[oa],"function" === typeof aa && "function" === typeof ca && aa !== ca?(aa.base !== Function.prototype.base && (aa=gb(aa,ca)),aa.base=ca):(ha || Aa[oa]) && Ab.isObjectLiteral(aa) && Ab.isObjectLiteral(ca) && (aa=Ab.extendDeep({},ca,aa)),Ma[oa]=aa);}}function eb(){var Ma,Ra;Ma=Array.prototype.slice;Ra=Ma.call(arguments,1);return this.extend({init:function oa(){var ha;ha=Ma.call(arguments,0);oa.base.apply(this,Ra.concat(ha));}});}function bb(Ma,Ra){var Aa;Aa=new this(jb);fb(Aa,Ma,Ra);return pb(Aa);}function lb(Ma,Ra){fb(this.prototype,Ma,Ra);return this;}function pb(Ma){var Ra;Ra=function(){var Aa;Aa=this.init;Aa && arguments[0] !== jb && Aa.apply(this,arguments);};Ma && (Ra.prototype=Ma);Ra.prototype.constructor=Ra;Ra.extend=bb;Ra.bind=eb;Ra.mixin=lb;return Ra;}jb={};Ga={actions:!0};Function.prototype.base=function(){};Ab.Class={create:pb,mixin:fb,extend:function(Ma,Ra){var Aa;Aa=pb();Aa.prototype=new Ma();return Aa.extend(Ra);}};Ab.mixin=function(){Ab.log && Ab.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var jb,Ga,Ma;function gb(Ra,Aa){return function(){var oa,ha;oa=Ra.base;Ra.base=Aa;ha=Ra.apply(this,arguments);Ra.base=oa;return ha;};}function fb(Ra,Aa,oa){var ha,aa,ca,ia;oa=oa || Ga;aa=! !oa.extendAll;for(ha in Aa){ca=Aa.__lookupGetter__(ha);ia=Aa.__lookupSetter__(ha);ca || ia?(ca && Ra.__defineGetter__(ha,ca),ia && Ra.__defineSetter__(ha,ia)):(ca=Aa[ha],ia=Ra[ha],"function" === typeof ca && "function" === typeof ia && ca !== ia?(ca.base !== Ma && (ca=gb(ca,ia)),ca.base=ia):(aa || oa[ha]) && Ab.isObjectLiteral(ca) && Ab.isObjectLiteral(ia) && (ca=Ab.extendDeep({},ia,ca)),Ra[ha]=ca);}}function eb(){var Ra,Aa;Ra=Array.prototype.slice;Aa=Ra.call(arguments,1);return this.extend({init:function ha(){var aa;aa=Ra.call(arguments,0);ha.base.apply(this,Aa.concat(aa));}});}function bb(Ra,Aa){var oa;oa=new this(jb);fb(oa,Ra,Aa);return pb(oa);}function lb(Ra,Aa){fb(this.prototype,Ra,Aa);return this;}function pb(Ra){var Aa;Aa=function(){var oa;oa=this.init;oa && arguments[0] !== jb && oa.apply(this,arguments);};Ra && (Aa.prototype=Ra);Aa.prototype.constructor=Aa;Aa.extend=bb;Aa.bind=eb;Aa.mixin=lb;return Aa;}jb={};Ga={actions:!0};Ma=function(){};Function.prototype.base=Ma;Ab.Class={create:pb,mixin:fb,extend:function(Ra,Aa){var oa;oa=pb();oa.prototype=new Ra();return oa.extend(Aa);}};Ab.mixin=function(){Ab.log && Ab.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function gb(eb){return eb == Mb?1:eb + 1;}function fb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var bb=gb(eb._nextWaiter);!eb._waiters[bb];){bb=gb(bb);}return bb;}jd=Ab.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var bb;if(this._waiters[eb]){bb=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=fb(this));bb.call(this,zb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,bb){var lb,pb;lb=this;pb=gb(this._lastWaiter);this._lastWaiter=pb;db(bb,function(){var jb,Ga;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){bb.result(jb);},0);}else {-1 != eb && (Ga=setTimeout(function(){delete lb._waiters[pb];pb == lb._nextWaiter && (lb._nextWaiter=fb(lb));bb.timeout();},eb));this._waiters[pb]=function(Ma){clearTimeout(Ga);setTimeout(function(){bb.result(Ma);},0);};this._nextWaiter || (this._nextWaiter=pb);}},lb);return pb;},add:function(eb){var bb;if(this._nextWaiter){bb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);bb.call(this,eb);}else this._queue.push(eb);}});})();(function(){var gb;gb=0 - Mb;Ie=Ab.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);Fc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var eb;if(null !== fb && fb !== zb){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;eb=new Uint8Array(4);Fc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);Fc.getRandomValues(fb);eb=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var fb=gb;fb == gb;){fb=new Uint8Array(7);Fc.getRandomValues(fb);eb=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-eb - 1:eb;}return fb;},nextBytes:function(fb){Fc.getRandomValues(fb);}});})();(function(){function gb(bb){return bb == Mb?1:bb + 1;}function fb(bb){if(0 === Object.keys(bb._waitingReaders).length)return 0;for(var lb=gb(bb._nextReader);!bb._waitingReaders[lb];){lb=gb(lb);}return lb;}function eb(bb){if(0 === Object.keys(bb._waitingWriters).length)return 0;for(var lb=gb(bb._nextWriter);!bb._waitingWriters[lb];){lb=gb(lb);}return lb;}Wd=Ab.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var lb;if(this._waitingReaders[bb]){lb=this._waitingReaders[bb];delete this._waitingReaders[bb];bb == this._nextReader && (this._nextReader=fb(this));lb.call(this,!0);}this._waitingWriters[bb] && (lb=this._waitingWriters[bb],delete this._waitingWriters[bb],bb == this._nextWriter && (this._nextWriter=eb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(bb,lb){var pb,jb;pb=this;jb=gb(this._lastNumber);this._lastNumber=jb;db(lb,function(){var Ga;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != bb && (Ga=setTimeout(function(){delete pb._waitingReaders[jb];jb == pb._nextReader && (pb._nextReader=fb(pb));lb.timeout();},bb));this._waitingReaders[jb]=function(Ma){clearTimeout(Ga);Ma?setTimeout(function(){lb.result(zb);},0):(pb._readers[jb]=!0,setTimeout(function(){lb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},pb);return jb;},writeLock:function(bb,lb){var pb,jb;pb=this;jb=gb(this._lastNumber);this._lastNumber=jb;db(lb,function(){var Ga;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != bb && (Ga=setTimeout(function(){delete pb._waitingWriters[jb];jb == pb._nextWriter && (pb._nextWriter=eb(pb));lb.timeout();},bb));this._waitingWriters[jb]=function(Ma){clearTimeout(Ga);Ma?setTimeout(function(){lb.result(zb);},0):(pb._writer=jb,setTimeout(function(){lb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},pb);return jb;},unlock:function(bb){if(bb == this._writer)this._writer=null;else {if(!this._readers[bb])throw new vb("There is no reader or writer with ticket number " + bb + ".");delete this._readers[bb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (bb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),bb.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=gb(lb)){this._waitingReaders[lb] && (bb=this._waitingReaders[lb],delete this._waitingReaders[lb],bb.call(this,!1));}this._nextReader=0;}}});})();Ab.Class.mixin(W,{JSON_PARSE_ERROR:new W(0,Ja.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new W(1,Ja.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new W(2,Ja.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new W(3,Ja.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new W(4,Ja.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new W(5,Ja.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new W(6,Ja.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new W(7,Ja.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new W(8,Ja.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new W(9,Ja.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new W(10,Ja.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new W(11,Ja.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new W(12,Ja.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new W(13,Ja.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new W(14,Ja.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new W(15,Ja.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new W(16,Ja.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new W(17,Ja.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new W(18,Ja.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new W(19,Ja.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new W(20,Ja.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new W(21,Ja.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new W(22,Ja.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new W(23,Ja.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new W(24,Ja.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new W(25,Ja.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new W(26,Ja.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new W(27,Ja.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new W(28,Ja.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new W(29,Ja.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new W(30,Ja.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new W(31,Ja.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new W(32,Ja.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new W(33,Ja.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new W(34,Ja.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new W(35,Ja.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new W(36,Ja.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new W(37,Ja.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new W(38,Ja.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new W(39,Ja.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new W(40,Ja.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new W(41,Ja.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new W(42,Ja.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new W(43,Ja.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new W(44,Ja.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new W(45,Ja.FAIL,"Error exporting key."),DIGEST_ERROR:new W(46,Ja.FAIL,"Error in digest."),UNSUPPORTED_KEY:new W(47,Ja.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new W(48,Ja.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new W(49,Ja.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new W(50,Ja.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new W(51,Ja.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new W(52,Ja.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new W(53,Ja.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new W(54,Ja.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new W(55,Ja.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new W(56,Ja.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new W(57,Ja.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new W(58,Ja.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new W(59,Ja.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new W(60,Ja.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new W(61,Ja.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new W(62,Ja.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new W(1E3,Ja.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new W(1001,Ja.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new W(1002,Ja.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new W(1003,Ja.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(1004,Ja.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(1005,Ja.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new W(1006,Ja.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new W(1007,Ja.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new W(1008,Ja.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new W(1009,Ja.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new W(1010,Ja.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new W(1011,Ja.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new W(1012,Ja.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new W(1013,Ja.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new W(1014,Ja.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new W(2E3,Ja.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new W(2001,Ja.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new W(2002,Ja.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new W(2003,Ja.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new W(2004,Ja.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new W(2005,Ja.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2006,Ja.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2007,Ja.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new W(2008,Ja.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new W(2009,Ja.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new W(2010,Ja.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new W(2011,Ja.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new W(2012,Ja.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new W(2013,Ja.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new W(2014,Ja.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new W(2015,Ja.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new W(2016,Ja.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new W(2017,Ja.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new W(2018,Ja.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new W(2019,Ja.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new W(2020,Ja.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new W(3E3,Ja.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new W(3001,Ja.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new W(3002,Ja.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new W(3003,Ja.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new W(3004,Ja.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3005,Ja.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3006,Ja.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new W(3007,Ja.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new W(3008,Ja.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new W(3009,Ja.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new W(4E3,Ja.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new W(4001,Ja.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new W(4002,Ja.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new W(4003,Ja.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new W(4004,Ja.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new W(4005,Ja.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new W(4006,Ja.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new W(4007,Ja.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new W(4008,Ja.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new W(4009,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new W(4010,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new W(4011,Ja.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new W(4012,Ja.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new W(4013,Ja.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new W(4014,Ja.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new W(4015,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new W(4016,Ja.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new W(4017,Ja.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new W(4018,Ja.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new W(4019,Ja.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new W(4020,Ja.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new W(4021,Ja.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new W(4022,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new W(4023,Ja.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new W(4024,Ja.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new W(4025,Ja.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new W(4026,Ja.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new W(5E3,Ja.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new W(5001,Ja.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new W(5002,Ja.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new W(5003,Ja.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new W(5004,Ja.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new W(5005,Ja.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new W(5006,Ja.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new W(5007,Ja.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new W(5008,Ja.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new W(5009,Ja.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new W(5010,Ja.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new W(5011,Ja.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new W(5012,Ja.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new W(5013,Ja.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new W(5014,Ja.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new W(5015,Ja.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new W(5016,Ja.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new W(5017,Ja.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new W(5018,Ja.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new W(5019,Ja.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new W(5020,Ja.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new W(5021,Ja.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new W(5022,Ja.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new W(5023,Ja.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new W(5024,Ja.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new W(5025,Ja.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new W(5026,Ja.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new W(5027,Ja.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new W(5028,Ja.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new W(5029,Ja.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new W(5030,Ja.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new W(5031,Ja.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new W(5032,Ja.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new W(5033,Ja.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new W(5034,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new W(5035,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new W(5036,Ja.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new W(5037,Ja.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new W(5038,Ja.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new W(5039,Ja.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new W(5040,Ja.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new W(6E3,Ja.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new W(6001,Ja.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new W(6002,Ja.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new W(6003,Ja.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new W(6004,Ja.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new W(6005,Ja.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new W(6006,Ja.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new W(6007,Ja.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new W(6008,Ja.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new W(6009,Ja.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new W(6010,Ja.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new W(6011,Ja.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new W(6012,Ja.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new W(6013,Ja.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new W(6014,Ja.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new W(6015,Ja.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new W(6016,Ja.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new W(6017,Ja.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new W(6018,Ja.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(6019,Ja.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new W(6020,Ja.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new W(6021,Ja.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new W(6022,Ja.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new W(6023,Ja.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new W(6024,Ja.FAIL,"Invalid header data."),PAYLOAD_INVALID:new W(6025,Ja.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new W(6026,Ja.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new W(6027,Ja.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new W(6028,Ja.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new W(6029,Ja.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new W(6030,Ja.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new W(6031,Ja.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new W(6032,Ja.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new W(6033,Ja.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new W(6034,Ja.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new W(6035,Ja.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new W(6036,Ja.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new W(6037,Ja.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new W(7E3,Ja.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new W(7001,Ja.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new W(7002,Ja.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new W(7003,Ja.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new W(7004,Ja.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new W(7005,Ja.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new W(7006,Ja.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new W(7007,Ja.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new W(7008,Ja.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new W(7009,Ja.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new W(7010,Ja.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new W(7011,Ja.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new W(7012,Ja.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new W(7013,Ja.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new W(7014,Ja.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new W(7015,Ja.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new W(7016,Ja.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new W(8E3,Ja.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new W(8001,Ja.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new W(8002,Ja.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new W(8003,Ja.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new W(8004,Ja.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new W(8005,Ja.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new W(8006,Ja.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new W(8007,Ja.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new W(8008,Ja.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new W(8009,Ja.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new W(8010,Ja.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new W(8011,Ja.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new W(8012,Ja.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new W(9E3,Ja.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new W(9001,Ja.FAIL,"Error communicating with MSL entity."),NONE:new W(9999,Ja.FAIL,"Special unit test error.")});Object.freeze(W);(function(){cb=Ab.Class.create(Error());cb.mixin({init:function(gb,fb,eb){var lb,pb,jb;function bb(){return pb?pb:this.cause && this.cause instanceof cb?this.cause.messageId:zb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=gb.message;fb && (lb+=" [" + fb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:bb,set:function(Ga){if(0 > Ga || Ga > Mb)throw new RangeError("Message ID " + Ga + " is outside the valid range.");bb() || (pb=Ga);},configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();jb && (Ga+="\n" + jb);eb && eb.stack && (Ga+="\nCaused by " + eb.stack);return Ga;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof ic?this.masterToken=gb:gb instanceof Nc && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof ad?this.userIdToken=gb:gb instanceof Gc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=cb.extend({init:function lb(fb,eb,bb){lb.base.call(this,fb,eb,bb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});xb=cb.extend({init:function pb(eb,bb,lb){pb.base.call(this,eb,bb,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xc=cb.extend({init:function jb(bb,lb,pb){jb.base.call(this,bb,lb,pb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Ab.Class.create(Error());kc.mixin({init:function(bb,lb,pb){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:pb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();jb && (Ga+="\n" + jb);lb && lb.stack && (Ga+="\nCaused by " + lb.stack);return Ga;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Vb=Ab.Class.create(Error());Vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();pb && (jb+="\n" + pb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Ab.Class.create(Error());vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();pb && (jb+="\n" + pb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){$b=Ab.Class.create(Error());$b.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();pb && (jb+="\n" + pb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Pb=cb.extend({init:function Ga(lb,pb,jb){Ga.base.call(this,lb,pb,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Oc=cb.extend({init:function Ga(pb,jb){Ga.base.call(this,pb);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Hb=cb.extend({init:function Ra(jb,Ga,Ma){Ra.base.call(this,jb,Ga,Ma);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Gb=cb.extend({init:function Aa(Ga,Ma,Ra){Aa.base.call(this,Ga,Ma,Ra);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var oa;function Ga(ha){return "undefined" === typeof ha?!1:ha;}function Ma(ha){return ha && ha.length?(cc === oa.V2014_02 && (ha=ha.map(function(aa){return "wrap" == aa?"wrapKey":"unwrap" == aa?"unwrapKey":aa;})),ha):cc === oa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Ra(ha,aa,ca,ia,fa){return Promise.resolve().then(function(){return Qb.importKey(ha,aa,ca,ia,fa);}).catch(function(V){var Z;if("spki" !== ha && "pkcs8" !== ha)throw V;V=ASN1.webCryptoAlgorithmToJwkAlg(ca);Z=ASN1.webCryptoUsageToJwkKeyOps(fa);V=ASN1.rsaDerToJwk(aa,V,Z,ia);if(!V)throw Error("Could not make valid JWK from DER input");V=JSON.stringify(V);return Qb.importKey("jwk",Qd(V),ca,ia,fa);});}function Aa(ha,aa){return Promise.resolve().then(function(){return Qb.exportKey(ha,aa);}).catch(function(ca){if("spki" !== ha && "pkcs8" !== ha)throw ca;return Qb.exportKey("jwk",aa).then(function(ia){ia=JSON.parse(Pd(new Uint8Array(ia)));ia=ASN1.jwkToRsaDer(ia);if(!ia)throw Error("Could not make valid DER from JWK input");return ia.getDer().buffer;});});}oa=wd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wd);cc=oa.LATEST;Jb={encrypt:function(ha,aa,ca){switch(cc){case oa.LEGACY:return new Promise(function(ia,fa){var V;V=Qb.encrypt(ha,aa,ca);V.oncomplete=function(Z){ia(Z.target.result);};V.onerror=function(Z){fa(Z);};});case oa.V2014_01:case oa.V2014_02:return Qb.encrypt(ha,aa,ca).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,aa,ca){switch(cc){case oa.LEGACY:return new Promise(function(ia,fa){var V;V=Qb.decrypt(ha,aa,ca);V.oncomplete=function(Z){ia(Z.target.result);};V.onerror=function(Z){fa(Z);};});case oa.V2014_01:case oa.V2014_02:return Qb.decrypt(ha,aa,ca).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,aa,ca){switch(cc){case oa.LEGACY:return new Promise(function(ia,fa){var V;V=Qb.sign(ha,aa,ca);V.oncomplete=function(Z){ia(Z.target.result);};V.onerror=function(Z){fa(Z);};});case oa.V2014_01:case oa.V2014_02:return Qb.sign(ha,aa,ca).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,aa,ca,ia){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var Z;Z=Qb.verify(ha,aa,ca,ia);Z.oncomplete=function(ta){fa(ta.target.result);};Z.onerror=function(ta){V(ta);};});case oa.V2014_01:case oa.V2014_02:return Qb.verify(ha,aa,ca,ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,aa){switch(cc){case oa.LEGACY:return new Promise(function(ca,ia){var fa;fa=Qb.digest(ha,aa);fa.oncomplete=function(V){ca(V.target.result);};fa.onerror=function(V){ia(V);};});case oa.V2014_01:case oa.V2014_02:return Qb.digest(ha,aa).then(function(ca){return new Uint8Array(ca);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,aa,ca){var ia,fa;ia=Ga(aa);fa=Ma(ca);switch(cc){case oa.LEGACY:return new Promise(function(V,Z){var ta;ta=Qb.generateKey(ha,ia,fa);ta.oncomplete=function(qa){V(qa.target.result);};ta.onerror=function(qa){Z(qa);};});case oa.V2014_01:case oa.V2014_02:return Qb.generateKey(ha,ia,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,aa,ca,ia,fa){var V,Z;V=Ga(ia);Z=Ma(fa);switch(cc){case oa.LEGACY:return new Promise(function(ta,qa){var va;va=Qb.deriveKey(ha,aa,ca,V,Z);va.oncomplete=function(Da){ta(Da.target.result);};va.onerror=function(Da){qa(Da);};});case oa.V2014_01:case oa.V2014_02:return Qb.deriveKey(ha,aa,ca,V,Z);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,aa,ca,ia,fa){var V,Z;V=Ga(ia);Z=Ma(fa);switch(cc){case oa.LEGACY:return new Promise(function(ta,qa){var va;va=Qb.importKey(ha,aa,ca,V,Z);va.oncomplete=function(Da){ta(Da.target.result);};va.onerror=function(Da){qa(Da);};});case oa.V2014_01:case oa.V2014_02:return Ra(ha,aa,ca,V,Z);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,aa){switch(cc){case oa.LEGACY:return new Promise(function(ca,ia){var fa;fa=Qb.exportKey(ha,aa);fa.oncomplete=function(V){ca(V.target.result);};fa.onerror=function(V){ia(V);};});case oa.V2014_01:case oa.V2014_02:return Aa(ha,aa).then(function(ca){return new Uint8Array(ca);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,aa,ca,ia){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var Z;Z=Qb.wrapKey(aa,ca,ia);Z.oncomplete=function(ta){fa(ta.target.result);};Z.onerror=function(ta){V(ta);};});case oa.V2014_01:case oa.V2014_02:return Qb.wrapKey(ha,aa,ca,ia).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,aa,ca,ia,fa,V,Z){switch(cc){case oa.LEGACY:return new Promise(function(ta,qa){var va;va=Qb.unwrapKey(aa,fa,ca);va.oncomplete=function(Da){ta(Da.target.result);};va.onerror=function(Da){qa(Da);};});case oa.V2014_01:case oa.V2014_02:return Qb.unwrapKey(ha,aa,ca,ia,fa,Ga(V),Ma(Z));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};ud && ud.getKeyByName && (Jb.getKeyByName=function(ha){switch(cc){case oa.LEGACY:return new Promise(function(aa,ca){var ia;ia=ud.getKeyByName(ha);ia.oncomplete=function(fa){aa(fa.target.result);};ia.onerror=function(fa){ca(fa);};});case oa.V2014_01:case oa.V2014_02:return ud.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Jb;})();yc={name:"AES-KW"};sc={name:"AES-CBC"};tc={name:"HMAC",hash:{name:"SHA-256"}};xd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Xd={name:"RSAES-PKCS1-v1_5"};Je={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hc=["encrypt","decrypt"];Ic=["wrap","unwrap"];Pc=["sign","verify"];(function(){Yd=Ab.Class.create({init:function(Ga,Ma,Ra){var oa;function Aa(ha){La(Ma,function(){var aa;aa=ha?Db(ha):zb;Object.defineProperties(oa,{rawKey:{value:Ga,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:aa,writable:!1,configurable:!1}});return this;},oa);}oa=this;La(Ma,function(){if(!Ga || "object" != typeof Ga)throw new ub(W.INVALID_SYMMETRIC_KEY);!Ra && Ga.extractable?Jb.exportKey("raw",Ga).then(function(ha){Aa(new Uint8Array(ha));},function(ha){Ma.error(new ub(W.KEY_EXPORT_ERROR,"raw"));}):Aa(Ra);},oa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zc=function(Ga,Ma){new Yd(Ga,Ma);};zc=function(Ga,Ma,Ra,Aa){La(Aa,function(){try{Ga="string" == typeof Ga?Fb(Ga):Ga;}catch(oa){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + Ga,oa);}Jb.importKey("raw",Ga,Ma,!0,Ra).then(function(oa){new Yd(oa,Aa,Ga);},function(oa){Aa.error(new ub(W.INVALID_SYMMETRIC_KEY));});});};})();(function(){yd=Ab.Class.create({init:function(Ga,Ma,Ra){var oa;function Aa(ha){La(Ma,function(){Object.defineProperties(oa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},oa);}oa=this;La(Ma,function(){if(!Ga || "object" != typeof Ga || "public" != Ga.type)throw new TypeError("Only original public crypto keys are supported.");!Ra && Ga.extractable?Jb.exportKey("spki",Ga).then(function(ha){Aa(new Uint8Array(ha));},function(ha){Ma.error(new ub(W.KEY_EXPORT_ERROR,"spki"));}):Aa(Ra);});},getEncoded:function(){return this.encoded;}});Lc=function(Ga,Ma){new yd(Ga,Ma);};Zd=function(Ga,Ma,Ra,Aa){La(Aa,function(){try{Ga="string" == typeof Ga?Fb(Ga):Ga;}catch(oa){throw new ub(W.INVALID_PUBLIC_KEY,"spki " + Ga,oa);}Jb.importKey("spki",Ga,Ma,!0,Ra).then(function(oa){new yd(oa,Aa,Ga);},function(oa){Aa.error(new ub(W.INVALID_PUBLIC_KEY));});});};})();(function(){Ke=Ab.Class.create({init:function(Ga,Ma,Ra){var oa;function Aa(ha){La(Ma,function(){Object.defineProperties(oa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},oa);}oa=this;La(Ma,function(){if(!Ga || "object" != typeof Ga || "private" != Ga.type)throw new TypeError("Only original private crypto keys are supported.");!Ra && Ga.extractable?Jb.exportKey("pkcs8",Ga).then(function(ha){Aa(new Uint8Array(ha));},function(ha){Ma.error(new ub(W.KEY_EXPORT_ERROR,"pkcs8"));}):Aa(Ra);});},getEncoded:function(){return this.encoded;}});$c=function(Ga,Ma){new Ke(Ga,Ma);};})();(function(){var Ga;Ga=ce={V1:1,V2:2};$d=Ab.Class.create({init:function(Ma,Ra,Aa,oa){La(oa,function(){var ha,aa,ca,ia;ha=Ga.V1;aa=Ma;ca=null;for(ia in vd){if(vd[ia] == Ma){ha=Ga.V2;aa=null;ca=Ma;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:aa,writable:!1,configurable:!1},cipherSpec:{value:ca,writable:!1,configurable:!1},iv:{value:Ra,writable:!1,configurable:!1},ciphertext:{value:Aa,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ma;Ma={};switch(this.version){case Ga.V1:Ma.keyid=this.keyId;this.iv && (Ma.iv=Db(this.iv));Ma.ciphertext=Db(this.ciphertext);Ma.sha256="AA==";break;case Ga.V2:Ma.version=this.version;Ma.cipherspec=this.cipherSpec;this.iv && (Ma.iv=Db(this.iv));Ma.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ma;}});ae=function(Ma,Ra,Aa,oa){new $d(Ma,Ra,Aa,oa);};be=function(Ma,Ra,Aa){La(Aa,function(){var oa,ha,aa,ca,ia,fa,V;oa=Ma.keyid;ha=Ma.cipherspec;aa=Ma.iv;ca=Ma.ciphertext;ia=Ma.sha256;if(!Ra)if((Ra=Ma.version) && "number" === typeof Ra && Ra === Ra){fa=!1;for(V in Ga){if(Ga[V] == Ra){fa=!0;break;}}if(!fa)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ma));}else Ra=Ga.V1;switch(Ra){case Ga.V1:if("string" !== typeof oa || aa && "string" !== typeof aa || "string" !== typeof ca || "string" !== typeof ia)throw new xb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ma));break;case Ga.V2:V=Ma.version;if(V != Ga.V2)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ma));if("string" !== typeof ha || aa && "string" !== typeof aa || "string" !== typeof ca)throw new xb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ma));ha=Ge(ha);if(!ha)throw new ub(W.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ma));oa=ha;break;default:throw new ub(W.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ma));}try{aa && (aa=Fb(aa));ca=Fb(ca);}catch(Z){throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ma),Z);}new $d(oa,aa,ca,Aa);});};})();(function(){var Ga;Ga=fe={V1:1,V2:2};Ac=Ab.Class.create({init:function(Ma,Ra,Aa){var oa;switch(Ma){case Ga.V1:oa=Aa;break;case Ga.V2:oa={};oa.version=Ma;oa.algorithm=Ra;oa.signature=Db(Aa);oa=Rb(JSON.stringify(oa),Lb);break;default:throw new vb("Signature envelope version " + Ma + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ma,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Ra,writable:!1,configurable:!1},signature:{value:Aa,writable:!1,configurable:!1},bytes:{value:oa,writable:!1,configurable:!1}});}});de=function(){var Ma,Ra,Aa,oa;if(2 == arguments.length){Ma=Ga.V1;Ra=arguments[0];Aa=null;oa=arguments[1];}else 3 == arguments.length && (Ma=Ga.V2,Aa=arguments[0],Ra=arguments[1],oa=arguments[2]);La(oa,function(){return new Ac(Ma,Aa,Ra);});};ee=function(Ma,Ra,Aa){La(Aa,function(){var oa,ha,aa,ca,ia,fa,V;if(Ra)switch(Ra){case Ga.V1:return new Ac(Ga.V1,null,Ma);case Ga.V2:try{oa=Tb(Ma,Lb);ha=JSON.parse(oa);aa=parseInt(ha.version);ca=ha.algorithm;ia=ha.signature;if(!aa || "number" !== typeof aa || aa != aa || "string" !== typeof ca || "string" !== typeof ia)throw new xb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Ma));if(Ga.V2 != aa)throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Ma));fa=Vd(ca);if(!fa)throw new ub(W.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(Ma));V=Fb(ia);if(!V)throw new ub(W.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ma));return new Ac(Ga.V2,fa,V);}catch(Z){if(Z instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Ma),Z);throw Z;}default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Ma));}try{oa=Tb(Ma,Lb);ha=JSON.parse(oa);}catch(Z){ha=null;}if(ha && ha.version){if((oa=ha.version,"number" !== typeof oa || oa !== oa))oa=Ga.V1;}else oa=Ga.V1;switch(oa){case Ga.V1:return new Ac(oa,null,Ma);case Ga.V2:fa=ha.algorithm;ia=ha.signature;if("string" !== typeof fa || "string" !== typeof ia)return new Ac(Ga.V1,null,Ma);fa=Vd(fa);if(!fa)return new Ac(Ga.V1,null,Ma);try{V=Fb(ia);}catch(Z){return new Ac(Ga.V1,null,Ma);}return new Ac(oa,fa,V);default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ma);}});};})();bd=Ab.Class.create({encrypt:function(Ga,Ma){},decrypt:function(Ga,Ma){},wrap:function(Ga,Ma){},unwrap:function(Ga,Ma,Ra,Aa){},sign:function(Ga,Ma){},verify:function(Ga,Ma,Ra){}});(function(){var Ga;Ga=Cc={RSA_OAEP:xd.name,A128KW:yc.name};wc="A128GCM";Bc=Ab.Class.create({init:function(Ma,Ra,Aa,oa,ha){switch(Ra){case Ga.RSA_OAEP:ha=ha && (ha.rawKey || ha);oa=oa && (oa.rawKey || oa);break;case Ga.A128KW:ha=oa=oa && (oa.rawKey || oa);break;default:throw new vb("Unsupported algorithm: " + Ra);}Object.defineProperties(this,{_ctx:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_enc:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ma,Ra){Ra.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ma,Ra){Ra.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(Ma,Ra){La(Ra,function(){Jb.wrapKey("jwe+jwk",Ma.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(Aa){Ra.result(Aa);},function(Aa){Ra.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Ma,Ra,Aa,oa){function ha(aa){La(oa,function(){switch(aa.type){case "secret":Zc(aa,oa);break;case "public":Lc(aa,oa);break;case "private":$c(aa,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + aa.type);}});}La(oa,function(){Jb.unwrapKey("jwe+jwk",Ma,this._unwrapKey,this._unwrapKey.algorithm,Ra,!1,Aa).then(function(aa){ha(aa);},function(){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Ma,Ra){Ra.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(Ma,Ra,Aa){Aa.error(new ub(W.VERIFY_NOT_SUPPORTED));}});})();cd=bd.extend({encrypt:function(Ga,Ma){Ma.result(Ga);},decrypt:function(Ga,Ma){Ma.result(Ga);},wrap:function(Ga,Ma){Ma.result(Ga);},unwrap:function(Ga,Ma,Ra,Aa){Aa.result(Ga);},sign:function(Ga,Ma){Ma.result(new Uint8Array(0));},verify:function(Ga,Ma,Ra){Ra.result(!0);}});(function(){var Ga;Ga=Ad={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zd=bd.extend({init:function ca(Ra,Aa,oa,ha,aa){ca.base.call(this);oa && (oa=oa.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:Aa,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:aa == Ga.ENCRYPT_DECRYPT_PKCS1?Xd:aa == Ga.ENCRYPT_DECRYPT_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:aa == Ga.WRAP_UNWRAP_PKCS1?Xd:aa == Ga.WRAP_UNWRAP_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:aa == Ga.SIGN_VERIFY?Je:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ra,Aa){var oa;oa=this;La(Aa,function(){if("nullOp" == this.transform)return Ra;if(!this.publicKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Ra.length)return Ra;Jb.encrypt(oa.transform,oa.publicKey,Ra).then(function(ha){ae(oa.id,null,ha,{result:function(aa){var ca;try{ca=JSON.stringify(aa);Aa.result(Rb(ca,Lb));}catch(ia){Aa.error(new ub(W.ENCRYPT_ERROR,null,ia));}},error:function(aa){aa instanceof cb || (aa=new ub(W.ENCRYPT_ERROR,null,aa));Aa.error(aa);}});},function(ha){Aa.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Ra,Aa){var oa;oa=this;La(Aa,function(){var ha,aa;if("nullOp" == this.transform)return Ra;if(!this.privateKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Ra.length)return Ra;try{ha=Tb(Ra,Lb);aa=JSON.parse(ha);}catch(ca){if(ca instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new ub(W.DECRYPT_ERROR,null,ca);}be(aa,ce.V1,{result:function(ca){var ia;try{if(ca.keyId != oa.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);ia=Aa.result;Jb.decrypt(oa.transform,oa.privateKey,ca.ciphertext).then(ia,function(fa){Aa.error(new ub(W.DECRYPT_ERROR));});}catch(fa){fa instanceof cb?Aa.error(fa):Aa.error(new ub(W.DECRYPT_ERROR,null,fa));}},error:function(ca){ca instanceof xb && (ca=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof cb || (ca=new ub(W.DECRYPT_ERROR,null,ca));Aa.error(ca);}});},this);},wrap:function(Ra,Aa){La(Aa,function(){var oa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no public key");oa=Aa.result;Jb.wrapKey("jwk",Ra.rawKey,this.publicKey,this.wrapTransform).then(oa,function(ha){Aa.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Ra,Aa,oa,ha){function aa(ca){La(ha,function(){switch(ca.type){case "secret":Zc(ca,ha);break;case "public":Lc(ca,ha);break;case "private":$c(ca,ha);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + ca.type);}});}La(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Ra,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},Aa,!1,oa).then(aa,function(ca){ha.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Ra,Aa){La(Aa,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Ra).then(function(oa){de(oa,{result:function(ha){Aa.result(ha.bytes);},error:Aa.error});},function(oa){Aa.error(new ub(W.SIGNATURE_ERROR));});},this);},verify:function(Ra,Aa,oa){var ha;ha=this;La(oa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no public key");ee(Aa,fe.V1,{result:function(aa){La(oa,function(){var ca;ca=oa.result;Jb.verify(this.algo,this.publicKey,aa.signature,Ra).then(ca,function(ia){oa.error(new ub(W.SIGNATURE_ERROR));});},ha);},error:oa.error});},this);}});})();(function(){Bd=bd.extend({init:function aa(Ma,Ra,Aa,oa,ha){aa.base.call(this);Aa=Aa && Aa.rawKey;oa=oa && oa.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:Ma,writable:!1,enumerable:!1,configurable:!1},id:{value:Ra,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ma,Ra){var Aa;Aa=this;La(Ra,function(){var oa;if(!this.encryptionKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ma.length)return Ma;oa=new Uint8Array(16);this.ctx.getRandom().nextBytes(oa);Jb.encrypt({name:sc.name,iv:oa},Aa.encryptionKey,Ma).then(function(ha){ha=new Uint8Array(ha);ae(Aa.id,oa,ha,{result:function(aa){var ca;try{ca=JSON.stringify(aa);Ra.result(Rb(ca,Lb));}catch(ia){Ra.error(new ub(W.ENCRYPT_ERROR,null,ia));}},error:function(aa){aa instanceof cb || (aa=new ub(W.ENCRYPT_ERROR,null,aa));Ra.error(aa);}});},function(ha){Ra.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Ma,Ra){var Aa;Aa=this;La(Ra,function(){var oa,ha;if(!this.encryptionKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ma.length)return Ma;try{oa=Tb(Ma,Lb);ha=JSON.parse(oa);}catch(aa){if(aa instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,aa);throw new ub(W.DECRYPT_ERROR,null,aa);}be(ha,ce.V1,{result:function(aa){try{if(aa.keyId != Aa.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:sc.name,iv:aa.iv},Aa.encryptionKey,aa.ciphertext).then(function(ca){ca=new Uint8Array(ca);Ra.result(ca);},function(){Ra.error(new ub(W.DECRYPT_ERROR));});}catch(ca){ca instanceof cb?Ra.error(ca):Ra.error(new ub(W.DECRYPT_ERROR,null,ca));}},error:function(aa){aa instanceof xb && (aa=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,aa));aa instanceof cb || (aa=new ub(W.DECRYPT_ERROR,null,aa));Ra.error(aa);}});},this);},wrap:function(Ma,Ra){La(Ra,function(){if(!this.wrapKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Ma.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(Aa){Ra.result(Aa);},function(Aa){Ra.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Ma,Ra,Aa,oa){function ha(aa){La(oa,function(){switch(aa.type){case "secret":Zc(aa,oa);break;case "public":Lc(aa,oa);break;case "private":$c(aa,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + aa.type);}});}La(oa,function(){if(!this.wrapKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Ma,this.wrapKey,this.wrapKey.algorithm,Ra,!1,Aa).then(function(aa){ha(aa);},function(aa){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Ma,Ra){var Aa;Aa=this;La(Ra,function(){if(!this.hmacKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(tc,this.hmacKey,Ma).then(function(oa){La(Ra,function(){var ha;ha=new Uint8Array(oa);de(ha,{result:function(aa){Ra.result(aa.bytes);},error:Ra.error});},Aa);},function(){Ra.error(new ub(W.HMAC_ERROR));});},this);},verify:function(Ma,Ra,Aa){var oa;oa=this;La(Aa,function(){if(!this.hmacKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no HMAC key.");ee(Ra,fe.V1,{result:function(ha){La(Aa,function(){Jb.verify(tc,this.hmacKey,ha.signature,Ma).then(function(aa){Aa.result(aa);},function(aa){Aa.error(new ub(W.HMAC_ERROR));});},oa);},error:Aa.error});},this);}});})();jc=Bd.extend({init:function aa(Ma,Ra,Aa,oa,ha){if(Aa || oa || ha)aa.base.call(this,Ma,Aa + "_" + Ra.sequenceNumber,oa,ha,null);else {if(!Ra.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,Ra);aa.base.call(this,Ma,Ra.identity + "_" + Ra.sequenceNumber,Ra.encryptionKey,Ra.hmacKey,null);}}});Kf=bd.extend({encrypt:function(Ma,Ra){Ra.result(Ma);},decrypt:function(Ma,Ra){Ra.result(Ma);},wrap:function(Ma,Ra){Ra.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ma,Ra,Aa,oa){oa.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ma,Ra){Ra.result(new Uint8Array(0));},verify:function(Ma,Ra,Aa){Aa.result(!1);}});Nb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Nb);(function(){Nc=Ab.Class.create({init:function(Ma){Object.defineProperties(this,{scheme:{value:Ma,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ma){return this === Ma?!0:Ma instanceof Nc?this.scheme == Ma.scheme:!1;},toJSON:function(){var Ma;Ma={};Ma.scheme=this.scheme;Ma.authdata=this.getAuthData();return Ma;}});Le=function(Ma,Ra){var Aa,oa;Aa=Ra.scheme;oa=Ra.authdata;if(!Aa || !oa)throw new xb(W.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Ra));if(!Nb[Aa])throw new xc(W.UNIDENTIFIED_ENTITYAUTH_SCHEME,Aa);Ra=Ma.getEntityAuthenticationFactory(Aa);if(!Ra)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,Aa);return Ra.createData(Ma,oa);};})();Cd=Ab.Class.create({init:function(Ma){Object.defineProperties(this,{scheme:{value:Ma,writable:!1,configurable:!1}});},createData:function(Ma,Ra){},getCryptoContext:function(Ma,Ra){}});(function(){oc=Nc.extend({init:function Aa(Ra){Aa.base.call(this,Nb.MGK);Object.defineProperties(this,{identity:{value:Ra,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Ra;Ra={};Ra.identity=this.identity;return Ra;},equals:function oa(Aa){return this === Aa?!0:Aa instanceof oc?oa.base.call(this,this,Aa) && this.identity == Aa.identity:!1;}});Me=function(Aa){var oa;oa=Aa.identity;if(!oa)throw new xb(W.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(Aa));return new oc(oa);};})();Lf=Cd.extend({init:function Aa(Ra){Aa.base.call(this,Nb.MGK);Object.defineProperties(this,{localIdentity:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Ra,Aa){return Me(Aa);},getCryptoContext:function(Ra,Aa){if(!(Aa instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(Aa) + ".");if(Aa.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + Aa.identity).setEntity(Aa);return new cd();}});(function(){uc=Nc.extend({init:function oa(Aa){oa.base.call(this,Nb.PSK);Object.defineProperties(this,{identity:{value:Aa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Aa;Aa={};Aa.identity=this.identity;return Aa;},equals:function ha(oa){return this === oa?!0:oa instanceof uc?ha.base.call(this,this,oa) && this.identity == oa.identity:!1;}});Ne=function(oa){var ha;ha=oa.identity;if(!ha)throw new xb(W.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(oa));return new uc(ha);};})();Mf=Cd.extend({init:function oa(Aa){oa.base.call(this,Nb.PSK);Object.defineProperties(this,{localIdentity:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Aa,oa){return Ne(oa);},getCryptoContext:function(Aa,oa){if(!(oa instanceof uc))throw new vb("Incorrect authentication data type " + JSON.stringify(oa) + ".");if(oa.getIdentity() != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + oa.identity).setEntity(oa);return new cd();}});(function(){Dd=Nc.extend({init:function aa(oa,ha){aa.base.call(this,Nb.RSA);Object.defineProperties(this,{identity:{value:oa,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var oa;oa={};oa.identity=this.identity;oa.pubkeyid=this.publicKeyId;return oa;},equals:function aa(ha){return this === ha?!0:ha instanceof Dd?aa.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});Oe=function(ha){var aa,ca;aa=ha.identity;ca=ha.pubkeyid;if(!aa || "string" !== typeof aa || !ca || "string" !== typeof ca)throw new xb(W.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new Dd(aa,ca);};})();Nf=Cd.extend({init:function ha(oa){ha.base.call(this,Nb.RSA);Object.defineProperties(this,{store:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(oa,ha){return Oe(ha);},getCryptoContext:function(oa,ha){var aa,ca,ia;if(!(ha instanceof Dd))throw new vb("Incorrect authentication data type " + ha + ".");aa=ha.identity;ca=ha.publicKeyId;ia=this.store.getPublicKey(ca);if(!ia)throw new xc(W.RSA_PUBLICKEY_NOT_FOUND,ca).setEntity(ha);return new zd(oa,aa,null,ia,Ad.SIGN_VERIFY);}});(function(){id=Nc.extend({init:function aa(ha){aa.base.call(this,Nb.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function ca(aa){return this === aa?!0:aa instanceof id?ca.base.call(this,this,aa) && this.identity == aa.identity:!1;}});Pe=function(aa){var ca;ca=aa.identity;if(!ca)throw new xb(W.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(aa));return new id(ca);};})();Jf=Cd.extend({init:function ha(){ha.base.call(this,Nb.NONE);},createData:function(ha,aa){return Pe(aa);},getCryptoContext:function(ha,aa){if(!(aa instanceof id))throw new vb("Incorrect authentication data type " + JSON.stringify(aa) + ".");return new cd();}});Of=Ab.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,aa){if(!(aa instanceof yd))throw new vb("Incorrect key data type " + aa + ".");this.rsaKeys[ha]=aa;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});ge=Ab.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,aa,ca){}});Ed=Ab.Class.create({abort:function(){},close:function(ha,aa){},write:function(ha,aa,ca,ia,fa){},flush:function(ha,aa){}});Pf=Ab.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Vb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,aa,ca){db(ca,function(){var ia;if(this._closed)throw new Vb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);ia=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=ia.length;return ia;},this);}});Qf=Ab.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,aa){this._closed=!0;aa.result(!0);},write:function(ha,aa,ca,ia,fa){db(fa,function(){var V;if(this._closed)throw new Vb("Stream is already closed.");if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > ca)throw new RangeError("Length cannot be negative.");if(aa + ca > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");V=ha.subarray(aa,ca);this._buffered.push(V);return V.length;},this);},flush:function(ha,aa){var ca;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){ca=new Uint8Array(this._result.length + ha.length);ca.set(this._result);ca.set(ha,this._result.length);this._result=ca;}else this._result=new Uint8Array(ha);}aa.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Rf=Ab.Class.create({getResponse:function(ha,aa,ca){}});(function(){var ha,aa;ha=Ed.extend({init:function(ca,ia){ca={_httpLocation:{value:ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Qf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:zb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:zb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new jd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},setTimeout:function(ca){this._timeout=ca;},getResponse:function(ca,ia){var fa;fa=this;this._responseQueue.poll(ca,{result:function(V){db(ia,function(){V && this._responseQueue.add(V);return V;},fa);},timeout:function(){db(ia,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ia.timeout();},fa);},error:function(V){db(ia,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw V;},fa);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(ca,ia){var fa;fa=this;db(ia,function(){var V;if(this._response)return !0;V=this._buffer.toByteArray();0 < V.length && (this._abortToken=this._httpLocation.getResponse({body:V},this._timeout,{result:function(Z){fa._response={response:Z};fa._responseQueue.add(fa._response);},timeout:function(){fa._response={isTimeout:!0};fa._responseQueue.add(fa._response);},error:function(Z){fa._response={isError:!0,error:Z};fa._responseQueue.add(fa._response);}}));return !0;},this);},write:function(ca,ia,fa,V,Z){db(Z,function(){if(this._response)throw new Vb("HttpOutputStream already closed.");this._buffer.write(ca,ia,fa,V,Z);},this);},flush:function(ca,ia){db(ia,function(){if(this._response)return !0;this._buffer.flush(ca,ia);},this);}});aa=ge.extend({init:function(ca){Object.defineProperties(this,{_out:{value:ca,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:zb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:zb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(ca,ia,fa){var Z;function V(ta){db(fa,function(){if(!ta)return new Uint8Array(0);this._out.getResponse(ia,{result:function(qa){db(fa,function(){var va;if(qa.isTimeout)(this._timedout=!0,fa.timeout());else {if(qa.isError)throw (this._exception=qa.error || new Vb("Unknown HTTP exception."),this._exception);if(!qa.response)throw (this._exception=new Vb("Missing HTTP response."),this._exception);qa.response.json !== zb && (this._json=qa.response.json,this.getJSON=function(){return Z._json;});va=qa.response.content || Qd("string" === typeof qa.response.body?qa.response.body:JSON.stringify(this._json));this._buffer=new Pf(va);this._buffer.read(ca,ia,fa);}},Z);},timeout:function(){fa.timeout();},error:function(qa){fa.error(qa);}});},Z);}Z=this;db(fa,function(){if(this._exception)throw this._exception;if(this._timedout)fa.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(ca,ia,fa):this._out.close(ia,{result:function(ta){V(ta);},timeout:function(){fa.timeout();},error:function(ta){fa.error(ta);}});}},Z);}});Ae=Ab.Class.create({init:function(ca,ia){Object.defineProperties(this,{_httpLocation:{value:ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(ca){this._timeout=ca;},openConnection:function(){var ca;ca=new ha(this._httpLocation,this._timeout);return {input:new aa(ca),output:ca};}});})();(function(){var ha,aa;ha=Ed.extend({init:function(){var ca;ca={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},setTimeout:function(){},getResponse:function(ca,ia){ia.result({success:!1,content:null,errorHttpCode:zb,errorSubCode:zb});},abort:function(){},close:function(ca,ia){ia.result(!0);},write:function(ca,ia,fa,V,Z){var ta,qa;try{if(0 > ia)throw new RangeError("Offset cannot be negative.");if(0 > fa)throw new RangeError("Length cannot be negative.");if(ia + fa > ca.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ta=ca.subarray(ia,fa);qa=new Uint8Array(this._buffer.length + ta.length);qa.set(this._buffer);qa.set(ta,this._buffer.length);this._buffer=qa;Z.result(ta.length);}catch(va){Z.error(va);}},flush:function(ca,ia){ia.result(!0);},request:function(){return this._buffer;}});aa=ge.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ca,ia,fa){fa.result(new Uint8Array(16));}});Be=Ab.Class.create({init:function(){var ca;ca={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new aa(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Pd(this.output.request());}});})();Qe=function(ha,aa,ca){(function(ia,fa,V){ia.read(-1,fa,{result:function(Z){Z && Z.length?V(null,Z):V(null,null);},timeout:function(){ca.timeout();},error:function(Z){V(Z,null);}});})(ha,aa,function(ia,fa){var V,Z;if(ia)ca.error(ia);else if(fa){if(ha.getJSON !== zb && "function" === typeof ha.getJSON)ca.result(ha.getJSON());else {ia=ca.result;fa=new Sf(Tb(fa,"utf-8"));V=[];for(Z=fa.nextValue();Z !== zb;){V.push(Z);Z=fa.nextValue();}ia.call(ca,V);}}else ca.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){kd=Ab.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof kd?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Re=function(ha,aa,ca){La(ca,function(){var ia,fa,V;ia=aa.scheme;fa=aa.keydata;if(!ia || !fa || "object" !== typeof fa)throw new xb(W.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(aa));if(!lc[ia])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,ia);V=ha.getKeyExchangeFactory(ia);if(!V)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,ia);V.createRequestData(ha,fa,ca);});};})();(function(){ld=Ab.Class.create({init:function(ha,aa){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:aa,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof ld?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Se=function(ha,aa,ca){La(ca,function(){var ia,fa,V;ia=aa.mastertoken;fa=aa.scheme;V=aa.keydata;if(!fa || !ia || "object" !== typeof ia || !V || "object" !== typeof V)throw new xb(W.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(aa));if(!lc[fa])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,fa);Qc(ha,ia,{result:function(Z){La(ca,function(){var ta;ta=ha.getKeyExchangeFactory(fa);if(!ta)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,fa);return ta.createResponseData(ha,Z,V);});},error:function(Z){ca.error(Z);}});});};})();(function(){var ha;ha=Ab.Class.create({init:function(aa,ca){Object.defineProperties(this,{keyResponseData:{value:aa,writable:!1,configurable:!1},cryptoContext:{value:ca,writable:!1,configurable:!1}});}});pc=Ab.Class.create({init:function(aa){Object.defineProperties(this,{scheme:{value:aa,writable:!1,configurable:!1}});},createRequestData:function(aa,ca,ia){},createResponseData:function(aa,ca,ia){},generateResponse:function(aa,ca,ia,fa){},getCryptoContext:function(aa,ca,ia,fa,V){},generateSessionKeys:function(aa,ca){La(ca,function(){var ia,fa;ia=new Uint8Array(16);fa=new Uint8Array(32);aa.getRandom().nextBytes(ia);aa.getRandom().nextBytes(fa);zc(ia,sc,Hc,{result:function(V){zc(fa,tc,Pc,{result:function(Z){ca.result({encryptionKey:V,hmacKey:Z});},error:function(Z){ca.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,Z));}});},error:function(V){ca.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,V));}});});},importSessionKeys:function(aa,ca,ia){zc(aa,sc,Hc,{result:function(fa){zc(ca,tc,Pc,{result:function(V){ia.result({encryptionKey:fa,hmacKey:V});},error:function(V){ia.error(V);}});},error:function(fa){ia.error(fa);}});}});pc.KeyExchangeData=ha;})();(function(){var aa,ca,ia;function ha(fa,V,Z,ta,qa){La(qa,function(){var va,Da;switch(V){case aa.PSK:(va=new uc(ta),Da=fa.getEntityAuthenticationFactory(Nb.PSK));if(!Da)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Da.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,zb);case aa.MGK:va=new oc(ta);Da=fa.getEntityAuthenticationFactory(Nb.MGK);if(!Da)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Da.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,zb);case aa.WRAP:va=fa.getMslCryptoContext();va.unwrap(Z,yc,Ic,{result:function(wa){La(qa,function(){return new Bc(fa,Cc.A128KW,wc,wa);});},error:qa.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);}});}aa={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ca=he=kd.extend({init:function ta(V,Z){ta.base.call(this,lc.JWE_LADDER);switch(V){case aa.WRAP:if(!Z)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Z=null;}Object.defineProperties(this,{mechanism:{value:V,writable:!1,configurable:!1},wrapdata:{value:Z,writable:!1,configurable:!1}});},getKeydata:function(){var V;V={};V.mechanism=this.mechanism;this.wrapdata && (V.wrapdata=Db(this.wrapdata));return V;},equals:function ta(Z){return Z === this?!0:Z instanceof he?ta.base.call(this,Z) && this.mechanism == Z.mechanism && Wb(this.wrapdata,Z.wrapdata):!1;},uniqueKey:function ta(){var qa;qa=ta.base.call(this) + ":" + this.mechanism;this.wrapdata && (qa+=":" + gc(this.wrapdata));return qa;}});ia=Ue=ld.extend({init:function Y(qa,va,Da,wa,ra){Y.base.call(this,qa,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:va,writable:!1,configurable:!1},wrapdata:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var qa;qa={};qa.wrapkey=Db(this.wrapKey);qa.wrapdata=Db(this.wrapdata);qa.encryptionkey=Db(this.encryptionKey);qa.hmackey=Db(this.hmacKey);return qa;},equals:function Da(va){return this === va?!0:va instanceof Ue?Da.base.call(this,va) && Wb(this.wrapKey,va.wrapKey) && Wb(this.wrapdata,va.wrapdata) && Wb(this.encryptionKey,va.encryptionKey) && Wb(this.hmacKey,va.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Te=pc.extend({init:function ra(wa){ra.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(wa,ra,Y){La(Y,function(){var ba,ea,na;ba=ra.mechanism;ea=ra.wrapdata;if(!ba || ba == aa.WRAP && (!ea || "string" !== typeof ea))throw new xb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ra));if(!aa[ba])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,ba);switch(ba){case aa.WRAP:try{na=Fb(ea);}catch(Ha){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ra.toString());}if(null == na || 0 == na.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ra.toString());break;default:na=null;}return new ca(ba,na);});},createResponseData:function(wa,ra,Y){var ba,ea,na,Ha,Ea,Pa,Ta;wa=Y.wrapkey;ba=Y.wrapdata;ea=Y.encryptionkey;na=Y.hmackey;if(!(wa && "string" === typeof wa && ba && "string" === typeof ba && ea && "string" === typeof ea && na) || "string" !== typeof na)throw new xb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Y));try{Ha=Fb(wa);Ea=Fb(ba);}catch(la){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Y),la);}try{Pa=Fb(ea);}catch(la){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Y),la);}try{Ta=Fb(na);}catch(la){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Y),la);}return new ia(ra,Ha,Ea,Pa,Ta);},generateResponse:function(wa,ra,Y,ba){var Pa,Ta;function ea(la,xa,za){Pa.generateSessionKeys(wa,{result:function(Ia){La(ba,function(){na(la,xa,za,Ia.encryptionKey,Ia.hmacKey);},Pa);},error:function(Ia){La(ba,function(){Ia instanceof cb && Ia.setEntity(Ta);throw Ia;});}});}function na(la,xa,za,Ia,Ca){La(ba,function(){ha(wa,ra.mechanism,ra.wrapdata,la,{result:function(Oa){Oa.wrap(xa,{result:function(Fa){Ha(xa,za,Ia,Ca,Fa);},error:function(Fa){La(ba,function(){Fa instanceof cb && Fa.setEntity(Ta);throw Fa;});}});},error:function(Oa){La(ba,function(){Oa instanceof cb && Oa.setEntity(Ta);throw Oa;});}});},Pa);}function Ha(la,xa,za,Ia,Ca){La(ba,function(){var Oa;Oa=new Bc(wa,Cc.A128KW,wc,la);Oa.wrap(za,{result:function(Fa){Oa.wrap(Ia,{result:function(Va){Ea(xa,Ca,za,Fa,Ia,Va);},error:function(Va){La(ba,function(){Va instanceof cb && Va.setEntity(Ta);throw Va;});}});},error:function(Fa){La(ba,function(){Fa instanceof cb && Fa.setEntity(Ta);throw Fa;});}});},Pa);}function Ea(la,xa,za,Ia,Ca,Oa){La(ba,function(){var Fa;Fa=wa.getTokenFactory();Ta?Fa.renewMasterToken(wa,Ta,za,Ca,{result:function(Va){La(ba,function(){var $a,Xa;$a=new jc(wa,Va);Xa=new ia(Va,xa,la,Ia,Oa);return new pc.KeyExchangeData(Xa,$a,ba);},Pa);},error:function(Va){La(ba,function(){Va instanceof cb && Va.setEntity(Ta);throw Va;});}}):Fa.createMasterToken(wa,Y,za,Ca,{result:function(Va){La(ba,function(){var $a,Xa;$a=new jc(wa,Va);Xa=new ia(Va,xa,la,Ia,Oa);return new pc.KeyExchangeData(Xa,$a,ba);},Pa);},error:ba.error});},Pa);}Pa=this;La(ba,function(){var la,xa;if(!(ra instanceof ca))throw new vb("Key request data " + JSON.stringify(ra) + " was not created by this factory.");la=Y;if(Y instanceof ic){if(!Y.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,Y);Ta=Y;la=Y.identity;}xa=new Uint8Array(16);wa.getRandom().nextBytes(xa);zc(xa,yc,Ic,{result:function(za){La(ba,function(){wa.getMslCryptoContext().wrap(za,{result:function(Ia){ea(la,za,Ia);},error:function(Ia){La(ba,function(){Ia instanceof cb && Ia.setEntity(Ta);throw Ia;},Pa);}});},Pa);},error:function(za){La(ba,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,za).setEntity(Ta);},Pa);}});},Pa);},getCryptoContext:function(wa,ra,Y,ba,ea){var Ha;function na(Ea,Pa,Ta,la,xa){La(ea,function(){var za;za=new Bc(wa,Cc.A128KW,wc,xa);za.unwrap(Pa.encryptionKey,sc,Hc,{result:function(Ia){za.unwrap(Pa.hmacKey,tc,Pc,{result:function(Ca){La(ea,function(){this.repository.addCryptoContext(Pa.wrapdata,za);this.repository.removeCryptoContext(Ta);return new jc(wa,Pa.masterToken,la,Ia,Ca);},Ha);},error:function(Ca){La(ea,function(){Ca instanceof cb && Ca.setEntity(Ea);throw Ca;});}});},error:function(Ia){La(ea,function(){Ia instanceof cb && Ia.setEntity(Ea);throw Ia;});}});},Ha);}Ha=this;La(ea,function(){var Ea,Pa;if(!(ra instanceof ca))throw new vb("Key request data " + JSON.stringify(ra) + " was not created by this factory.");if(!(Y instanceof ia))throw new vb("Key response data " + JSON.stringify(Y) + " was not created by this factory.");Ea=ra.mechanism;Pa=ra.wrapdata;wa.getEntityAuthenticationData(null,{result:function(Ta){La(ea,function(){var la,xa,za;la=Ta.getIdentity();switch(Ea){case aa.PSK:xa=new uc(la);za=wa.getEntityAuthenticationFactory(Nb.PSK);if(!za)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ta);xa=za.getCryptoContext(wa,xa);xa=new Bc(wa,Cc.A128KW,wc,zb);break;case aa.MGK:xa=new oc(la);za=wa.getEntityAuthenticationFactory(Nb.MGK);if(!za)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ta);xa=za.getCryptoContext(wa,xa);xa=new Bc(wa,Cc.A128KW,wc,xa.wrapKey);break;case aa.WRAP:xa=this.repository.getCryptoContext(Pa);if(!xa)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Pa)).setEntity(Ta);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ta);}xa.unwrap(Y.wrapKey,yc,Ic,{result:function(Ia){na(Ta,Y,Pa,la,Ia);},error:function(Ia){La(ea,function(){Ia instanceof cb && Ia.setEntity(Ta);throw Ia;});}});},Ha);},error:ea.error});},Ha);}});})();(function(){var aa,ca,ia,fa;function ha(V,Z,ta,qa,va){La(va,function(){var Da,wa;switch(Z){case aa.PSK:(Da=new uc(qa),wa=V.getEntityAuthenticationFactory(Nb.PSK));if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Z);Da=wa.getCryptoContext(V,Da);return new fa(zb);case aa.MGK:Da=new oc(qa);wa=V.getEntityAuthenticationFactory(Nb.MGK);if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Z);Da=wa.getCryptoContext(V,Da);return new fa(zb);case aa.WRAP:Da=V.getMslCryptoContext();Da.unwrap(ta,yc,Ic,{result:function(ra){La(va,function(){return new fa(ra);});},error:va.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Z);}});}aa={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ca=Fd=kd.extend({init:function qa(Z,ta){qa.base.call(this,lc.JWK_LADDER);switch(Z){case aa.WRAP:if(!ta)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ta=null;}Object.defineProperties(this,{mechanism:{value:Z,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1}});},getKeydata:function(){var Z;Z={};Z.mechanism=this.mechanism;this.wrapdata && (Z.wrapdata=Db(this.wrapdata));return Z;},equals:function qa(ta){return ta === this?!0:ta instanceof Fd?qa.base.call(this,ta) && this.mechanism == ta.mechanism && Wb(this.wrapdata,ta.wrapdata):!1;},uniqueKey:function qa(){var va;va=qa.base.call(this) + ":" + this.mechanism;this.wrapdata && (va+=":" + gc(this.wrapdata));return va;}});ia=Ve=ld.extend({init:function ba(va,Da,wa,ra,Y){ba.base.call(this,va,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Da,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:Y,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.wrapkey=Db(this.wrapKey);va.wrapdata=Db(this.wrapdata);va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Da){return this === Da?!0:Da instanceof Ve?wa.base.call(this,Da) && Wb(this.wrapKey,Da.wrapKey) && Wb(this.wrapdata,Da.wrapdata) && Wb(this.encryptionKey,Da.encryptionKey) && Wb(this.hmacKey,Da.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});fa=bd.extend({init:function(wa){wa && wa.rawKey && (wa=wa.rawKey);Object.defineProperties(this,{_wrapKey:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(wa,ra){ra.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(wa,ra){ra.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(wa,ra){La(ra,function(){Jb.wrapKey("jwk",wa.rawKey,this._wrapKey,yc).then(function(Y){ra.result(Y);},function(Y){ra.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(wa,ra,Y,ba){function ea(na){La(ba,function(){switch(na.type){case "secret":Zc(na,ba);break;case "public":Lc(na,ba);break;case "private":$c(na,ba);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + na.type);}});}La(ba,function(){Jb.unwrapKey("jwk",wa,this._wrapKey,yc,ra,!1,Y).then(function(na){ea(na);},function(na){ba.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(wa,ra){ra.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(wa,ra,Y){Y.error(new ub(W.VERIFY_NOT_SUPPORTED));}});ie=pc.extend({init:function Y(ra){Y.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ra,Y,ba){La(ba,function(){var ea,na,Ha;ea=Y.mechanism;na=Y.wrapdata;if(!ea || ea == aa.WRAP && (!na || "string" !== typeof na))throw new xb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Y));if(!aa[ea])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,ea);switch(ea){case aa.WRAP:try{Ha=Fb(na);}catch(Ea){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + Y.toString());}if(null == Ha || 0 == Ha.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + Y.toString());break;default:Ha=null;}return new ca(ea,Ha);});},createResponseData:function(ra,Y,ba){var ea,na,Ha,Ea,Pa,Ta,la;ra=ba.wrapkey;ea=ba.wrapdata;na=ba.encryptionkey;Ha=ba.hmackey;if(!(ra && "string" === typeof ra && ea && "string" === typeof ea && na && "string" === typeof na && Ha) || "string" !== typeof Ha)throw new xb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Ea=Fb(ra);Pa=Fb(ea);}catch(xa){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ba),xa);}try{Ta=Fb(na);}catch(xa){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),xa);}try{la=Fb(Ha);}catch(xa){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),xa);}return new ia(Y,Ea,Pa,Ta,la);},generateResponse:function(ra,Y,ba,ea){var Ta,la;function na(xa,za,Ia){Ta.generateSessionKeys(ra,{result:function(Ca){La(ea,function(){Ha(xa,za,Ia,Ca.encryptionKey,Ca.hmacKey);},Ta);},error:function(Ca){La(ea,function(){Ca instanceof cb && Ca.setEntity(la);throw Ca;});}});}function Ha(xa,za,Ia,Ca,Oa){La(ea,function(){ha(ra,Y.mechanism,Y.wrapdata,xa,{result:function(Fa){Fa.wrap(za,{result:function(Va){Ea(za,Ia,Ca,Oa,Va);},error:function(Va){La(ea,function(){Va instanceof cb && Va.setEntity(la);throw Va;});}});},error:function(Fa){La(ea,function(){Fa instanceof cb && Fa.setEntity(la);throw Fa;});}});},Ta);}function Ea(xa,za,Ia,Ca,Oa){La(ea,function(){var Fa;Fa=new fa(xa);Fa.wrap(Ia,{result:function(Va){Fa.wrap(Ca,{result:function($a){Pa(za,Oa,Ia,Va,Ca,$a);},error:function($a){La(ea,function(){$a instanceof cb && $a.setEntity(la);throw $a;});}});},error:function(Va){La(ea,function(){Va instanceof cb && Va.setEntity(la);throw Va;});}});},Ta);}function Pa(xa,za,Ia,Ca,Oa,Fa){La(ea,function(){var Va;Va=ra.getTokenFactory();la?Va.renewMasterToken(ra,la,Ia,Oa,{result:function($a){La(ea,function(){var Xa,hb;Xa=new jc(ra,$a);hb=new ia($a,za,xa,Ca,Fa);return new pc.KeyExchangeData(hb,Xa,ea);},Ta);},error:function($a){La(ea,function(){$a instanceof cb && $a.setEntity(la);throw $a;});}}):Va.createMasterToken(ra,ba,Ia,Oa,{result:function($a){La(ea,function(){var Xa,hb;Xa=new jc(ra,$a);hb=new ia($a,za,xa,Ca,Fa);return new pc.KeyExchangeData(hb,Xa,ea);},Ta);},error:ea.error});},Ta);}Ta=this;La(ea,function(){var xa,za;if(!(Y instanceof ca))throw new vb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");xa=ba;if(ba instanceof ic){if(!ba.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,ba);la=ba;xa=ba.identity;}za=new Uint8Array(16);ra.getRandom().nextBytes(za);zc(za,yc,Ic,{result:function(Ia){La(ea,function(){ra.getMslCryptoContext().wrap(Ia,{result:function(Ca){na(xa,Ia,Ca);},error:function(Ca){La(ea,function(){Ca instanceof cb && Ca.setEntity(la);throw Ca;},Ta);}});},Ta);},error:function(Ia){La(ea,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,Ia).setEntity(la);},Ta);}});},Ta);},getCryptoContext:function(ra,Y,ba,ea,na){var Ea;function Ha(Pa,Ta,la,xa,za){La(na,function(){var Ia;Ia=new fa(za);Ia.unwrap(Ta.encryptionKey,sc,Hc,{result:function(Ca){Ia.unwrap(Ta.hmacKey,tc,Pc,{result:function(Oa){La(na,function(){this.repository.addCryptoContext(Ta.wrapdata,Ia);this.repository.removeCryptoContext(la);return new jc(ra,Ta.masterToken,xa,Ca,Oa);},Ea);},error:function(Oa){La(na,function(){Oa instanceof cb && Oa.setEntity(Pa);throw Oa;});}});},error:function(Ca){La(na,function(){Ca instanceof cb && Ca.setEntity(Pa);throw Ca;});}});},Ea);}Ea=this;La(na,function(){var Pa,Ta;if(!(Y instanceof ca))throw new vb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");if(!(ba instanceof ia))throw new vb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Pa=Y.mechanism;Ta=Y.wrapdata;ra.getEntityAuthenticationData(null,{result:function(la){La(na,function(){var xa,za,Ia;xa=la.getIdentity();switch(Pa){case aa.PSK:za=new uc(xa);Ia=ra.getEntityAuthenticationFactory(Nb.PSK);if(!Ia)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(la);za=Ia.getCryptoContext(ra,za);za=new fa(za.wrapKey);break;case aa.MGK:za=new oc(xa);Ia=ra.getEntityAuthenticationFactory(Nb.MGK);if(!Ia)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(la);za=Ia.getCryptoContext(ra,za);za=new fa(za.wrapKey);break;case aa.WRAP:za=this.repository.getCryptoContext(Ta);if(!za)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Ta)).setEntity(la);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(la);}za.unwrap(ba.wrapKey,yc,Ic,{result:function(Ca){Ha(la,ba,Ta,xa,Ca);},error:function(Ca){La(na,function(){Ca instanceof cb && Ca.setEntity(la);throw Ca;});}});},Ea);},error:na.error});},Ea);}});})();Tf=Ab.Class.create({addCryptoContext:function(ha,aa){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var aa,ca,ia,fa;function ha(V,Z,ta,qa,va){switch(ta){case aa.JWE_RSA:case aa.JWEJS_RSA:return new Bc(V,Cc.RSA_OAEP,wc,qa,va);case aa.JWK_RSA:return new zd(V,Z,qa,va,Ad.WRAP_UNWRAP_OAEP);case aa.JWK_RSAES:return new zd(V,Z,qa,va,Ad.WRAP_UNWRAP_PKCS1);default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,ta);}}aa=Gd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};ca=Ud=kd.extend({init:function Da(Z,ta,qa,va){Da.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Z,writable:!1,configurable:!1},mechanism:{value:ta,writable:!1,configurable:!1},publicKey:{value:qa,writable:!1,configurable:!1},privateKey:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var Z;Z={};Z.keypairid=this.keyPairId;Z.mechanism=this.mechanism;Z.publickey=Db(this.publicKey.getEncoded());return Z;},equals:function qa(ta){var va;if(ta === this)return !0;if(!(ta instanceof Ud))return !1;va=this.privateKey === ta.privateKey || this.privateKey && ta.privateKey && Wb(this.privateKey.getEncoded(),ta.privateKey.getEncoded());return qa.base.call(this,ta) && this.keyPairId == ta.keyPairId && this.mechanism == ta.mechanism && Wb(this.publicKey.getEncoded(),ta.publicKey.getEncoded()) && va;},uniqueKey:function qa(){var va,Da;va=this.publicKey.getEncoded();Da=this.privateKey && this.privateKey.getEncoded();va=qa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(va);Da && (va+=":" + gc(Da));return va;}});ia=function(qa,va){La(va,function(){var Da,wa,ra,Y;Da=qa.keypairid;wa=qa.mechanism;ra=qa.publickey;if(!Da || "string" !== typeof Da || !wa || !ra || "string" !== typeof ra)throw new xb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(qa));if(!aa[wa])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,wa);try{Y=Fb(ra);switch(wa){case aa.JWE_RSA:case aa.JWEJS_RSA:case aa.JWK_RSA:Zd(Y,xd,Ic,{result:function(ba){va.result(new ca(Da,wa,ba,null));},error:function(ba){va.error(ba);}});break;case aa.JWK_RSAES:Zd(Y,Xd,Ic,{result:function(ba){va.result(new ca(Da,wa,ba,null));},error:function(ba){va.error(ba);}});break;default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,wa);}}catch(ba){if(!(ba instanceof cb))throw new ub(W.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(qa),ba);throw ba;}});};fa=We=ld.extend({init:function Y(va,Da,wa,ra){Y.base.call(this,va,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.keypairid=this.keyPairId;va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Da){return this === Da?!0:Da instanceof We?wa.base.call(this,Da) && this.keyPairId == Da.keyPairId && Wb(this.encryptionKey,Da.encryptionKey) && Wb(this.hmacKey,Da.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + this.keyPairId + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Ce=pc.extend({init:function ra(){ra.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(ra,Y,ba){ia(Y,ba);},createResponseData:function(ra,Y,ba){var ea,na,Ha,Ea;ra=ba.keypairid;ea=ba.encryptionkey;na=ba.hmackey;if(!ra || "string" !== typeof ra || !ea || "string" !== typeof ea || !na || "string" !== typeof na)throw new xb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Ha=Fb(ea);}catch(Pa){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),Pa);}try{Ea=Fb(na);}catch(Pa){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),Pa);}return new fa(Y,ra,Ha,Ea);},generateResponse:function(ra,Y,ba,ea){var Ea;function na(Pa,Ta){La(ea,function(){var la;la=ha(ra,Y.keyPairId,Y.mechanism,null,Y.publicKey);la.wrap(Pa,{result:function(xa){La(ea,function(){la.wrap(Ta,{result:function(za){Ha(Pa,xa,Ta,za);},error:function(za){La(ea,function(){za instanceof cb && ba instanceof ic && za.setEntity(ba);throw za;},Ea);}});},Ea);},error:function(xa){La(ea,function(){xa instanceof cb && ba instanceof ic && xa.setEntity(ba);throw xa;},Ea);}});},Ea);}function Ha(Pa,Ta,la,xa){La(ea,function(){var za;za=ra.getTokenFactory();ba instanceof ic?za.renewMasterToken(ra,ba,Pa,la,{result:function(Ia){La(ea,function(){var Ca,Oa;Ca=new jc(ra,Ia);Oa=new fa(Ia,Y.keyPairId,Ta,xa);return new pc.KeyExchangeData(Oa,Ca,ea);},Ea);},error:function(Ia){La(ea,function(){Ia instanceof cb && Ia.setEntity(ba);throw Ia;},Ea);}}):za.createMasterToken(ra,ba,Pa,la,{result:function(Ia){La(ea,function(){var Ca,Oa;Ca=new jc(ra,Ia);Oa=new fa(Ia,Y.keyPairId,Ta,xa);return new pc.KeyExchangeData(Oa,Ca,ea);},Ea);},error:ea.error});},Ea);}Ea=this;La(ea,function(){if(!(Y instanceof ca))throw new vb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");this.generateSessionKeys(ra,{result:function(Pa){na(Pa.encryptionKey,Pa.hmacKey);},error:function(Pa){La(ea,function(){Pa instanceof cb && ba instanceof ic && Pa.setEntity(ba);throw Pa;},Ea);}});},Ea);},getCryptoContext:function(ra,Y,ba,ea,na){var Ha;Ha=this;La(na,function(){var Ea,Pa,Ta;if(!(Y instanceof ca))throw new vb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");if(!(ba instanceof fa))throw new vb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Ea=Y.keyPairId;Pa=ba.keyPairId;if(Ea != Pa)throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ea + "; response " + Pa).setEntity(ea);Pa=Y.privateKey;if(!Pa)throw new Pb(W.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ea);Ta=ha(ra,Ea,Y.mechanism,Pa,null);Ta.unwrap(ba.encryptionKey,sc,Hc,{result:function(la){Ta.unwrap(ba.hmacKey,tc,Pc,{result:function(xa){ra.getEntityAuthenticationData(null,{result:function(za){La(na,function(){var Ia;Ia=za.getIdentity();return new jc(ra,ba.masterToken,Ia,la,xa);},Ha);},error:function(za){La(na,function(){za instanceof cb && za.setEntity(ea);throw za;},Ha);}});},error:function(xa){La(na,function(){xa instanceof cb && xa.setEntity(ea);throw xa;},Ha);}});},error:function(la){La(na,function(){la instanceof cb && la.setEntity(ea);throw la;},Ha);}});},Ha);}});})();Sf=Ab.Class.create({init:function(ha){var aa,ca,ia,fa,V,Z,ta,qa;aa=Zb.parser();ca=[];ia=[];ta=0;qa=!1;aa.onerror=function(va){qa || (qa=!0,aa.end());};aa.onopenobject=function(va){var Da;if(fa)(fa[Z]={},ia.push(fa),fa=fa[Z]);else if(V){Da={};ia.push(V);V.push(Da);fa=Da;V=zb;}else fa={};Z=va;};aa.oncloseobject=function(){var va;va=ia.pop();va?"object" === typeof va?fa=va:(fa=zb,V=va):(ca.push(fa),ta=aa.index,fa=zb);};aa.onopenarray=function(){var va;if(fa)(fa[Z]=[],ia.push(fa),V=fa[Z],fa=zb);else if(V){va=[];ia.push(V);V.push(va);V=va;}else V=[];};aa.onclosearray=function(){var va;va=ia.pop();va?"object" === typeof va?(fa=va,V=zb):V=va:(ca.push(V),ta=aa.index,V=zb);};aa.onkey=function(va){Z=va;};aa.onvalue=function(va){fa?fa[Z]=va:V?V.push(va):(ca.push(va),ta=aa.index);};aa.write(ha).close();Object.defineProperties(this,{_values:{value:ca,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:ta,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?zb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,aa,ca,ia,fa;ha=je="entityauthdata";aa=Ye="mastertoken";ca=Ze="headerdata";ia=$e="errordata";fa=ke="signature";Xe=function(V,Z,ta,qa){La(qa,function(){var va,Da,wa,ra,Y,ba;va=Z[ha];Da=Z[aa];wa=Z[fa];if(va && "object" !== typeof va || Da && "object" !== typeof Da || "string" !== typeof wa)throw new xb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Z));try{ra=Fb(wa);}catch(ea){throw new Hb(W.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(Z),ea);}Y=null;va && (Y=Le(V,va));ba=Z[ca];if(ba != zb && null != ba){if("string" !== typeof ba)throw new xb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Z));Da?Qc(V,Da,{result:function(ea){le(V,ba,Y,ea,ra,ta,qa);},error:function(ea){qa.error(ea);}}):le(V,ba,Y,null,ra,ta,qa);}else if((va=Z[ia],va != zb && null != va)){if("string" !== typeof va)throw new xb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Z));af(V,va,Y,ra,qa);}else throw new xb(W.JSON_PARSE_ERROR,JSON.stringify(Z));});};})();(function(){function ha(aa,ca){this.errordata=aa;this.signature=ca;}Kc=Ab.Class.create({init:function(aa,ca,ia,fa,V,Z,ta,qa,va,Da){var wa;wa=this;La(Da,function(){var ra,Y;0 > Z && (Z=-1);if(0 > fa || fa > Mb)throw new vb("Message ID " + fa + " is out of range.");if(!ca)throw new Hb(W.MESSAGE_ENTITY_NOT_FOUND);if(va)return (Object.defineProperties(this,{entityAuthenticationData:{value:ca,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:Z,writable:!1,configurable:!1},errorMessage:{value:ta,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:va.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ra={};ia && (ra.recipient=ia);ra.messageid=fa;ra.errorcode=V;0 < Z && (ra.internalcode=Z);ta && (ra.errormsg=ta);qa && (ra.usermsg=qa);try{Y=aa.getEntityAuthenticationFactory(ca.scheme).getCryptoContext(aa,ca);}catch(ba){throw (ba instanceof cb && (ba.setEntity(ca),ba.setMessageId(fa)),ba);}ra=Rb(JSON.stringify(ra),Lb);Y.encrypt(ra,{result:function(ba){La(Da,function(){Y.sign(ba,{result:function(ea){La(Da,function(){Object.defineProperties(this,{entityAuthenticationData:{value:ca,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:Z,writable:!1,configurable:!1},errorMessage:{value:ta,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;},wa);},error:function(ea){La(Da,function(){ea instanceof cb && (ea.setEntity(ca),ea.setMessageId(fa));throw ea;},wa);}});},wa);},error:function(ba){La(Da,function(){ba instanceof cb && (ba.setEntity(ca),ba.setMessageId(fa));throw ba;},wa);}});},wa);},toJSON:function(){var aa;aa={};aa[je]=this.entityAuthenticationData;aa[$e]=Db(this.errordata);aa[ke]=Db(this.signature);return aa;}});bf=function(aa,ca,ia,fa,V,Z,ta,qa,va){new Kc(aa,ca,ia,fa,V,Z,ta,qa,null,va);};af=function(aa,ca,ia,fa,V){La(V,function(){var Z,ta,qa;if(!ia)throw new Hb(W.MESSAGE_ENTITY_NOT_FOUND);try{Z=ia.scheme;ta=aa.getEntityAuthenticationFactory(Z);if(!ta)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,Z);qa=ta.getCryptoContext(aa,ia);}catch(va){throw (va instanceof cb && va.setEntity(ia),va);}try{ca=Fb(ca);}catch(va){throw new Hb(W.HEADER_DATA_INVALID,ca,va).setEntity(ia);}if(!ca || 0 == ca.length)throw new Hb(W.HEADER_DATA_MISSING,ca).setEntity(ia);qa.verify(ca,fa,{result:function(va){La(V,function(){if(!va)throw new ub(W.MESSAGE_VERIFICATION_FAILED).setEntity(ia);qa.decrypt(ca,{result:function(Da){La(V,function(){var wa,ra,Y,ba,ea,na,Ha,Ea;wa=Tb(Da,Lb);try{ra=JSON.parse(wa);}catch(Ta){if(Ta instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"errordata " + wa,Ta).setEntity(ia);throw Ta;}Y=ra.recipient !== zb?ra.recipient:null;ba=parseInt(ra.messageid);ea=parseInt(ra.errorcode);na=parseInt(ra.internalcode);Ha=ra.errormsg;Ea=ra.usermsg;if(Y && "string" !== typeof Y || !ba || ba != ba || !ea || ea != ea || ra.internalcode && na != na || Ha && "string" !== typeof Ha || Ea && "string" !== typeof Ea)throw new xb(W.JSON_PARSE_ERROR,"errordata " + wa).setEntity(ia);if(0 > ba || ba > Mb)throw new Hb(W.MESSAGE_ID_OUT_OF_RANGE,"errordata " + wa).setEntity(ia);ra=!1;for(var Pa in Ja){if(Ja[Pa] == ea){ra=!0;break;}}ra || (ea=Ja.FAIL);if(na){if(0 > na)throw new Hb(W.INTERNAL_CODE_NEGATIVE,"errordata " + wa).setEntity(ia).setMessageId(ba);}else na=-1;wa=new ha(ca,fa);new Kc(aa,ia,Y,ba,ea,na,Ha,Ea,wa,V);});},error:function(Da){La(V,function(){Da instanceof cb && Da.setEntity(ia);throw Da;});}});});},error:function(va){La(V,function(){va instanceof cb && va.setEntity(ia);throw va;});}});});};})();Uf=Ab.Class.create({getUserMessage:function(ha,aa){}});(function(){me=function(ha,aa){var ca;if(!ha || !aa)return null;ca=ha.compressionAlgorithms.filter(function(ia){for(var fa=0;fa < aa.compressionAlgorithms.length;++fa){if(ia == aa.compressionAlgorithms[fa])return !0;}return !1;});ha=ha.languages.filter(function(ia){for(var fa=0;fa < aa.languages.length;++fa){if(ia == aa.languages[fa])return !0;}return !1;});return new md(ca,ha);};md=Ab.Class.create({init:function(ha,aa){ha || (ha=[]);aa || (aa=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:aa,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof md?ve(this.compressionAlgorithms,ha.compressionAlgorithms) && ve(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});cf=function(ha){var aa,ca,fa;aa=ha.compressionalgos;ca=ha.languages;if(aa && !(aa instanceof Array) || ca && !(ca instanceof Array))throw new xb(W.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var ia=0;aa && ia < aa.length;++ia){fa=aa[ia];Mc[fa] && ha.push(fa);}return new md(ha,ca);};})();(function(){var Da,wa;function ha(ra,Y,ba,ea,na){this.customer=ra;this.sender=Y;this.messageCryptoContext=ba;this.headerdata=ea;this.signature=na;}function aa(ra,Y,ba,ea,na,Ha,Ea,Pa,Ta,la,xa,za,Ia,Ca,Oa,Fa,Va,$a,Xa,hb){return {cryptoContext:{value:Y,writable:!1,configurable:!1},customer:{value:ba,writable:!1,configurable:!1},entityAuthenticationData:{value:ea,writable:!1,configurable:!1},masterToken:{value:na,writable:!1,configurable:!1},sender:{value:Ha,writable:!1,configurable:!1},messageId:{value:Ea,writable:!1,configurable:!1},nonReplayableId:{value:Fa,writable:!1,configurable:!1},keyRequestData:{value:Pa,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:la,writable:!1,configurable:!1},userIdToken:{value:xa,writable:!1,configurable:!1},serviceTokens:{value:za,writable:!1,configurable:!1},peerMasterToken:{value:Ia,writable:!1,configurable:!1},peerUserIdToken:{value:Ca,writable:!1,configurable:!1},peerServiceTokens:{value:Oa,writable:!1,configurable:!1},messageCapabilities:{value:$a,writable:!1,configurable:!1},renewable:{value:Va,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:hb,writable:!1,enumerable:!1,configurable:!1}};}function ca(ra,Y,ba){var ea;if(ba){if(Y=ra.getMslStore().getCryptoContext(ba))return Y;if(!ba.isVerified() || !ba.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,ba);return new jc(ra,ba);}ba=Y.scheme;ea=ra.getEntityAuthenticationFactory(ba);if(!ea)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,ba);return ea.getCryptoContext(ra,Y);}function ia(ra,Y,ba,ea,na){La(na,function(){Y.verify(ba,ea,{result:function(Ha){La(na,function(){if(!Ha)throw new ub(W.MESSAGE_VERIFICATION_FAILED);Y.decrypt(ba,{result:function(Ea){La(na,function(){return Tb(Ea,Lb);});},error:function(Ea){na.error(Ea);}});});},error:function(Ha){na.error(Ha);}});});}function fa(ra,Y,ba){La(ba,function(){if(Y)Se(ra,Y,ba);else return null;});}function V(ra,Y,ba,ea){La(ea,function(){if(Y)Rc(ra,Y,ba,ea);else return null;});}function Z(ra,Y,ba,ea){La(ea,function(){if(ba)gf(ra,Y,ba,ea);else return null;});}function ta(ra,Y,ba,ea,na,Ha,Ea){var Ta;function Pa(la,xa,za){var Ia,Ca;if(xa >= la.length){Ia=[];for(Ca in Ta){Ia.push(Ta[Ca]);}za.result(Ia);}else {Ia=la[xa];if("object" !== typeof Ia)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + Ha);Hd(ra,Ia,ba,ea,na,{result:function(Oa){La(za,function(){Ta[Oa.uniqueKey()]=Oa;Pa(la,xa + 1,za);});},error:function(Oa){za.error(Oa);}});}}Ta={};La(Ea,function(){if(Y){if(!(Y instanceof Array))throw new xb(W.JSON_PARSE_ERROR,"headerdata " + Ha);Pa(Y,0,Ea);}else return [];});}function qa(ra,Y,ba,ea,na,Ha){function Ea(Ta,la,xa){La(xa,function(){var za;za=la.peermastertoken;if(za && "object" !== typeof za)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!za)return null;Qc(Ta,za,xa);});}function Pa(Ta,la,xa,za){La(za,function(){var Ia;Ia=la.peeruseridtoken;if(Ia && "object" !== typeof Ia)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!Ia)return null;Rc(Ta,Ia,xa,za);});}La(Ha,function(){if(!ra.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ea(ra,Y,{result:function(Ta){La(Ha,function(){var la;la=ba?ba.masterToken:Ta;Pa(ra,Y,la,{result:function(xa){La(Ha,function(){ta(ra,Y.peerservicetokens,la,xa,ea,na,{result:function(za){La(Ha,function(){return {peerMasterToken:Ta,peerUserIdToken:xa,peerServiceTokens:za};});},error:function(za){La(Ha,function(){za instanceof cb && (za.setEntity(la),za.setUser(xa));throw za;});}});});},error:function(xa){La(Ha,function(){xa instanceof cb && xa.setEntity(la);throw xa;});}});});},error:Ha.error});});}function va(ra,Y,ba,ea){var Ha;function na(Ea,Pa){La(ea,function(){if(Pa >= Ea.length)return Ha;Re(ra,Ea[Pa],{result:function(Ta){La(ea,function(){Ha.push(Ta);na(Ea,Pa + 1);});},error:function(Ta){ea.error(Ta);}});});}Ha=[];La(ea,function(){var Ea;Ea=Y.keyrequestdata;if(!Ea)return Ha;if(!(Ea instanceof Array))throw new xb(W.JSON_PARSE_ERROR,"headerdata " + ba);na(Ea,0);});}Da=ef=Ab.Class.create({init:function(ra,Y,ba,ea,na,Ha,Ea,Pa,Ta){Object.defineProperties(this,{messageId:{value:ra,writable:!1,configurable:!1},nonReplayableId:{value:Y,writable:!1,configurable:!1},renewable:{value:ba,writable:!1,configurable:!1},capabilities:{value:ea,writable:!1,configurable:!1},keyRequestData:{value:na,writable:!1,configurable:!1},keyResponseData:{value:Ha,writable:!1,configurable:!1},userAuthData:{value:Ea,writable:!1,configurable:!1},userIdToken:{value:Pa,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});wa=ff=Ab.Class.create({init:function(ra,Y,ba){Object.defineProperties(this,{peerMasterToken:{value:ra,writable:!1,configurable:!1},peerUserIdToken:{value:Y,writable:!1,configurable:!1},peerServiceTokens:{value:ba,writable:!1,configurable:!1}});}});nd=Ab.Class.create({init:function(ra,Y,ba,ea,na,Ha,Ea){var Ta;function Pa(la){La(Ea,function(){var xa,za,Ia,Ca,Oa,Fa,Va,$a,Xa,hb,mb,ob,rb,sb,yb,wb,r;Y=ba?null:Y;xa=ea.nonReplayableId;za=ea.renewable;Ia=ea.capabilities;Ca=ea.messageId;Oa=ea.keyRequestData?ea.keyRequestData:[];Fa=ea.keyResponseData;Va=ea.userAuthData;$a=ea.userIdToken;Xa=ea.serviceTokens?ea.serviceTokens:[];if(ra.isPeerToPeer()){hb=na.peerMasterToken;mb=na.peerUserIdToken;ob=na.peerServiceTokens?na.peerServiceTokens:[];}else (mb=hb=null,ob=[]);if(0 > Ca || Ca > Mb)throw new vb("Message ID " + Ca + " is out of range.");if(!Y && !ba)throw new vb("Message entity authentication data or master token must be provided.");if(Fa){if(ra.isPeerToPeer()){rb=ba;sb=Fa.masterToken;}else (rb=Fa.masterToken,sb=hb);}else (rb=ba,sb=hb);if($a && (!rb || !$a.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(mb && (!sb || !mb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Xa.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!$a || !b.isBoundTo($a)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ha){r=Ha.customer;yb=Ha.messageCryptoContext;wb=aa(ra,yb,r,Y,ba,la,Ca,Oa,Fa,Va,$a,Xa,hb,mb,ob,xa,za,Ia,Ha.headerdata,Ha.signature);Object.defineProperties(this,wb);return this;}r=$a?$a.customer:null;wb={};la && (wb.sender=la);wb.messageid=Ca;"number" === typeof xa && (wb.nonreplayableid=xa);wb.renewable=za;Ia && (wb.capabilities=Ia);0 < Oa.length && (wb.keyrequestdata=Oa);Fa && (wb.keyresponsedata=Fa);Va && (wb.userauthdata=Va);$a && (wb.useridtoken=$a);0 < Xa.length && (wb.servicetokens=Xa);hb && (wb.peermastertoken=hb);mb && (wb.peeruseridtoken=mb);0 < ob.length && (wb.peerservicetokens=ob);try{yb=ca(ra,Y,ba);}catch(b){throw (b instanceof cb && (b.setEntity(ba),b.setEntity(Y),b.setUser($a),b.setUser(Va),b.setMessageId(Ca)),b);}wb=Rb(JSON.stringify(wb),Lb);yb.encrypt(wb,{result:function(b){La(Ea,function(){yb.sign(b,{result:function(a){La(Ea,function(){var c;c=aa(ra,yb,r,Y,ba,la,Ca,Oa,Fa,Va,$a,Xa,hb,mb,ob,xa,za,Ia,b,a);Object.defineProperties(this,c);return this;},Ta);},error:function(a){La(Ea,function(){a instanceof cb && (a.setEntity(ba),a.setEntity(Y),a.setUser($a),a.setUser(Va),a.setMessageId(Ca));throw a;},Ta);}});},Ta);},error:function(b){La(Ea,function(){b instanceof cb && (b.setEntity(ba),b.setEntity(Y),b.setUser($a),b.setUser(Va),b.setMessageId(Ca));throw b;},Ta);}});},Ta);}Ta=this;La(Ea,function(){Ha?Pa(Ha.sender):ba?ra.getEntityAuthenticationData(null,{result:function(la){la=la.getIdentity();Pa(la);},error:Ea.error}):Pa(null);},Ta);},isEncrypting:function(){return this.masterToken || Rd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ra;ra={};this.masterToken?ra[Ye]=this.masterToken:ra[je]=this.entityAuthenticationData;ra[Ze]=Db(this.headerdata);ra[ke]=Db(this.signature);return ra;}});df=function(ra,Y,ba,ea,na,Ha){new nd(ra,Y,ba,ea,na,null,Ha);};le=function(ra,Y,ba,ea,na,Ha,Ea){La(Ea,function(){var Pa,Ta;ba=ea?null:ba;if(!ba && !ea)throw new Hb(W.MESSAGE_ENTITY_NOT_FOUND);Pa=Y;try{Y=Fb(Pa);}catch(la){throw new Hb(W.HEADER_DATA_INVALID,Pa,la);}if(!Y || 0 == Y.length)throw new Hb(W.HEADER_DATA_MISSING,Pa);try{Ta=ca(ra,ba,ea);}catch(la){throw (la instanceof cb && (la.setEntity(ea),la.setEntity(ba)),la);}ia(ra,Ta,Y,na,{result:function(la){La(Ea,function(){var xa,za,Ia,Ca,Oa;try{xa=JSON.parse(la);}catch(Fa){if(Fa instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la,Fa).setEntity(ea).setEntity(ba);throw Fa;}za=parseInt(xa.messageid);if(!za || za != za)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la).setEntity(ea).setEntity(ba);if(0 > za || za > Mb)throw new Hb(W.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + la).setEntity(ea).setEntity(ba);Ia=ea?xa.sender:null;if(ea && (!Ia || "string" !== typeof Ia))throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la).setEntity(ea).setEntity(ba).setMessageId(za);Ca=xa.keyresponsedata;if(Ca && "object" !== typeof Ca)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la).setEntity(ea).setEntity(ba).setMessageId(za);Oa=Ea;Ea={result:function(Fa){Oa.result(Fa);},error:function(Fa){Fa instanceof cb && (Fa.setEntity(ea),Fa.setEntity(ba),Fa.setMessageId(za));Oa.error(Fa);}};fa(ra,Ca,{result:function(Fa){La(Ea,function(){var Va,$a;Va=!ra.isPeerToPeer() && Fa?Fa.masterToken:ea;$a=xa.useridtoken;if($a && "object" !== typeof $a)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la);V(ra,$a,Va,{result:function(Xa){La(Ea,function(){var hb;hb=xa.userauthdata;if(hb && "object" !== typeof hb)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la);Z(ra,Va,hb,{result:function(mb){La(Ea,function(){var ob,rb,sb;if(mb){ob=mb.scheme;rb=ra.getUserAuthenticationFactory(ob);if(!rb)throw new Gb(W.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Xa).setUser(mb);ob=ea?ea.identity:ba.getIdentity();sb=rb.authenticate(ra,ob,mb,Xa);}else sb=Xa?Xa.customer:null;ta(ra,xa.servicetokens,Va,Xa,Ha,la,{result:function(yb){La(Ea,function(){var wb,r,b,a;wb=xa.nonreplayableid !== zb?parseInt(xa.nonreplayableid):null;r=xa.renewable;if(wb != wb || "boolean" !== typeof r)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la);if(0 > wb || wb > Mb)throw new Hb(W.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + la);b=null;a=xa.capabilities;if(a){if("object" !== typeof a)throw new xb(W.JSON_PARSE_ERROR,"headerdata " + la);b=cf(a);}va(ra,xa,la,{result:function(c){qa(ra,xa,Fa,Ha,la,{result:function(f){La(Ea,function(){var l,m,d,h;l=f.peerMasterToken;m=f.peerUserIdToken;d=f.peerServiceTokens;h=new Da(za,wb,r,b,c,Fa,mb,Xa,yb);l=new wa(l,m,d);m=new ha(sb,Ia,Ta,Y,na);new nd(ra,ba,ea,h,l,m,Ea);});},error:Ea.error});},error:function(c){La(Ea,function(){c instanceof cb && (c.setUser(Xa),c.setUser(mb));throw c;});}});});},error:function(yb){La(Ea,function(){yb instanceof cb && (yb.setEntity(Va),yb.setUser(Xa),yb.setUser(mb));throw yb;});}});});},error:Ea.error});});},error:Ea.error});});},error:Ea.error});});},error:Ea.error});});};})();(function(){function ha(aa,ca){this.payload=aa;this.signature=ca;}ne=Ab.Class.create({init:function(aa,ca,ia,fa,V,Z,ta,qa){var va;va=this;La(qa,function(){var Da,wa;if(0 > aa || aa > Mb)throw new vb("Sequence number " + aa + " is outside the valid range.");if(0 > ca || ca > Mb)throw new vb("Message ID " + ca + " is outside the valid range.");if(ta)return (Object.defineProperties(this,{sequenceNumber:{value:aa,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:ta.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(fa){Da=oe(fa,V);Da || (fa=null,Da=V);}else (fa=null,Da=V);wa={};wa.sequencenumber=aa;wa.messageid=ca;ia && (wa.endofmsg=ia);fa && (wa.compressionalgo=fa);wa.data=Db(Da);Da=Rb(JSON.stringify(wa),Lb);Z.encrypt(Da,{result:function(ra){La(qa,function(){Z.sign(ra,{result:function(Y){La(qa,function(){Object.defineProperties(this,{sequenceNumber:{value:aa,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Y,writable:!1,enumerable:!1,configurable:!1}});return this;},va);},error:function(Y){qa.error(Y);}});},va);},error:function(ra){qa.error(ra);}});},va);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var aa;aa={};aa.payload=Db(this.payload);aa.signature=Db(this.signature);return aa;}});hf=function(aa,ca,ia,fa,V,Z,ta){new ne(aa,ca,ia,fa,V,Z,null,ta);};jf=function(aa,ca,ia){La(ia,function(){var fa,V,Z,ta;fa=aa.payload;V=aa.signature;if(!fa || "string" !== typeof fa || "string" !== typeof V)throw new xb(W.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(aa));try{Z=Fb(fa);}catch(qa){throw new Hb(W.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(aa),qa);}try{ta=Fb(V);}catch(qa){throw new Hb(W.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(aa),qa);}ca.verify(Z,ta,{result:function(qa){La(ia,function(){if(!qa)throw new ub(W.PAYLOAD_VERIFICATION_FAILED);ca.decrypt(Z,{result:function(va){La(ia,function(){var Da,wa,ra,Y,ba,ea,na;Da=Tb(va,Lb);try{wa=JSON.parse(Da);}catch(Ha){if(Ha instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"payload chunk payload " + Da,Ha);throw Ha;}ra=parseInt(wa.sequencenumber);Y=parseInt(wa.messageid);ba=wa.endofmsg;ea=wa.compressionalgo;wa=wa.data;if(!ra || ra != ra || !Y || Y != Y || ba && "boolean" !== typeof ba || ea && "string" !== typeof ea || "string" !== typeof wa)throw new xb(W.JSON_PARSE_ERROR,"payload chunk payload " + Da);if(0 > ra || ra > Mb)throw new cb(W.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Da);if(0 > Y || Y > Mb)throw new cb(W.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Da);ba || (ba=!1);if(ea && !Mc[ea])throw new Hb(W.UNIDENTIFIED_COMPRESSION,ea);try{na=Fb(wa);}catch(Ha){throw new Hb(W.PAYLOAD_DATA_CORRUPT,wa,Ha);}if(na && 0 != na.length)Da=ea?Id(ea,na):na;else {if(0 < wa.length)throw new Hb(W.PAYLOAD_DATA_CORRUPT,wa);if(ba)Da=new Uint8Array(0);else throw new Hb(W.PAYLOAD_DATA_MISSING,wa);}na=new ha(Z,ta);new ne(ra,Y,ba,ea,Da,ca,na,ia);});},error:function(va){ia.error(va);}});});},error:function(qa){ia.error(qa);}});});};})();(function(){var ia,fa;function ha(V,Z,ta,qa,va){var wa,ra,Y,ba,ea;function Da(){La(va,function(){var na,Ha;ra >= Z.length && (ra=0,++wa);if(wa >= Y.length){if(ba)throw ba;throw new Pb(W.KEYX_FACTORY_NOT_FOUND,JSON.stringify(Z));}na=Y[wa];Ha=Z[ra];na.scheme != Ha.keyExchangeScheme?(++ra,Da()):na.generateResponse(V,Ha,ea,{result:function(Ea){va.result(Ea);},error:function(Ea){La(va,function(){if(!(Ea instanceof cb))throw Ea;ba=Ea;++ra;Da();});}});});}wa=0;ra=0;Y=V.getKeyExchangeFactories();ea=ta?ta:qa;Da();}function aa(V,Z,ta,qa,va){La(va,function(){var Da;Da=Z.keyRequestData;if(Z.isRenewable() && 0 < Da.length)qa?qa.isRenewable() || qa.isExpired()?ha(V,Da,qa,null,va):V.getTokenFactory().isNewestMasterToken(V,qa,{result:function(wa){La(va,function(){if(wa)return null;ha(V,Da,qa,null,va);});},error:va.error}):ha(V,Da,null,ta.getIdentity(),va);else return null;});}function ca(V,Z,ta,qa){La(qa,function(){var va,Da,wa,ra;va=Z.userIdToken;Da=Z.userAuthenticationData;wa=Z.messageId;if(va && va.isVerified()){if(va.isRenewable() && Z.isRenewable() || va.isExpired() || !va.isBoundTo(ta)){Da=V.getTokenFactory();Da.renewUserIdToken(V,va,ta,qa);return;}}else if(Z.isRenewable() && ta && Da){va=Z.customer;if(!va){va=Da.scheme;ra=V.getUserAuthenticationFactory(va);if(!ra)throw new Gb(W.USERAUTH_FACTORY_NOT_FOUND,va).setEntity(ta).setUser(Da).setMessageId(wa);va=ra.authenticate(V,ta.identity,Da,null);}Da=V.getTokenFactory();Da.createUserIdToken(V,va,ta,qa);return;}return va;});}ia=new Uint8Array(0);fa=Sc=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return V == Mb?0:V + 1;};dd=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return 0 == V?Mb:V - 1;};Tc=function(V,Z,ta,qa,va){La(va,function(){var Da;if(qa == zb || null == qa){Da=V.getRandom();do {qa=Da.nextLong();}while(0 > qa || qa > Mb);}else if(0 > qa || qa > Mb)throw new vb("Message ID " + qa + " is outside the valid range.");V.getEntityAuthenticationData(null,{result:function(wa){La(va,function(){var ra;ra=V.getMessageCapabilities();return new Jd(V,qa,ra,wa,Z,ta,null,null,null,null,null);});},error:function(wa){va.error(wa);}});});};kf=function(V,Z,ta){La(ta,function(){var va,Da,wa,ra,Y,ba;function qa(ea){La(ta,function(){ea instanceof cb && (ea.setEntity(va),ea.setEntity(Da),ea.setUser(wa),ea.setUser(ra),ea.setMessageId(Y));throw ea;});}va=Z.masterToken;Da=Z.entityAuthenticationData;wa=Z.userIdToken;ra=Z.userAuthenticationData;Y=Z.messageId;ba=fa(Y);aa(V,Z,Da,va,{result:function(ea){La(ta,function(){var na;na=ea?ea.keyResponseData.masterToken:na=va;V.getEntityAuthenticationData(null,{result:function(Ha){La(ta,function(){ca(V,Z,na,{result:function(Ea){La(ta,function(){var Pa,Ta,la;wa=Ea;Pa=me(Z.messageCapabilities,V.getMessageCapabilities());Ta=Z.keyResponseData;la=Z.serviceTokens;return V.isPeerToPeer()?new Jd(V,ba,Pa,Ha,Ta?Ta.masterToken:Z.peerMasterToken,Z.peerUserIdToken,Z.peerServiceTokens,va,wa,la,ea):new Jd(V,ba,Pa,Ha,Ta?Ta.masterToken:va,wa,la,null,null,null,ea);});},error:qa});});},error:qa});});},error:qa});});};lf=function(V,Z,ta,qa,va){La(va,function(){V.getEntityAuthenticationData(null,{result:function(Da){La(va,function(){var wa,ra;if(Z != zb && null != Z)wa=fa(Z);else {ra=V.getRandom();do {wa=ra.nextInt();}while(0 > wa || wa > Mb);}bf(V,Da,wa,ta.responseCode,ta.internalCode,ta.message,qa,va);});},error:function(Da){va.error(Da);}});});};Jd=Ab.Class.create({init:function(V,Z,ta,qa,va,Da,wa,ra,Y,ba,ea){var na,Ha,Ea,Pa,Ta;if(!V.isPeerToPeer() && (ra || Y))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");na=ea && !V.isPeerToPeer()?ea.keyResponseData.masterToken:va;Ha=[];na=V.getMslStore().getServiceTokens(na,Da);Ha.push.apply(Ha,na);wa && wa.forEach(function(la){Ha.push(la);},this);Ea=[];if(V.isPeerToPeer()){Pa=ra;Ta=Y;wa=ea?ea.keyResponseData.masterToken:ra;Y=V.getMslStore().getServiceTokens(wa,Y);Ea.push.apply(Ea,Y);ba && ba.forEach(function(la){Ea.push(la);},this);}Object.defineProperties(this,{_ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:qa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:va,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:Z,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ta,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ea,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Da,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Pa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Rd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Rd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || we(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || we(this._entityAuthData.scheme);},getHeader:function(V){La(V,function(){var Z,ta,qa;Z=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;ta=[];for(qa in this._keyRequestData){ta.push(this._keyRequestData[qa]);}if(this._nonReplayable){if(!this._masterToken)throw new Hb(W.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);qa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else qa=null;Z=new ef(this._messageId,qa,this._renewable,this._capabilities,ta,Z,this._userAuthData,this._userIdToken,this._serviceTokens);ta=new ff(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);df(this._ctx,this._entityAuthData,this._masterToken,Z,ta,V);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(V){this._nonReplayable=V;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(V){this._renewable=V;return this;},setAuthTokens:function(V,Z){var ta,va;if(Z && !Z.isBoundTo(V))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{ta=this._ctx.getMslStore().getServiceTokens(V,Z);}catch(Da){if(Da instanceof cb)throw new vb("Invalid master token and user ID token combination despite checking above.",Da);throw Da;}for(var qa=this._serviceTokens.length - 1;0 <= qa;--qa){va=this._serviceTokens[qa];(va.isUserIdTokenBound() && !va.isBoundTo(Z) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._serviceTokens.splice(qa,1);}ta.forEach(function(Da){this.excludeServiceToken(Da.name,Da.isMasterTokenBound(),Da.isUserIdTokenBound());this._serviceTokens.push(Da);},this);this._masterToken=V;this._userIdToken=Z;},setUserAuthenticationData:function(V){this._userAuthData=V;return this;},setCustomer:function(V,Z){var ta;ta=this;La(Z,function(){var qa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");qa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!qa)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,V,qa,{result:function(va){La(Z,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=va:(this._userIdToken=va,this._userAuthData=null);return !0;},ta);},error:function(va){Z.error(va);}});},ta);},addKeyRequestData:function(V){this._keyRequestData[V.uniqueKey()]=V;return this;},removeKeyRequestData:function(V){delete this._keyRequestData[V.uniqueKey()];return this;},addServiceToken:function(V){var Z;Z=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(V.isMasterTokenBound() && !V.isBoundTo(Z))throw new Hb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(Z)).setEntity(Z);if(V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken))throw new Hb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(Z).setUser(this._userIdToken);this.excludeServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._serviceTokens.push(V);return this;},addServiceTokenIfAbsent:function(V){var ta;for(var Z=this._serviceTokens.length - 1;0 <= Z;--Z){ta=this._serviceTokens[Z];if(ta.name == V.name && ta.isMasterTokenBound() == V.isMasterTokenBound() && ta.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addServiceToken(V);return this;},excludeServiceToken:function(){var V,Z,ta,va;if(1 == arguments.length){V=arguments[0];Z=V.name;ta=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],ta=arguments[1],V=arguments[2]);for(var qa=this._serviceTokens.length - 1;0 <= qa;--qa){va=this._serviceTokens[qa];va.name == Z && va.isMasterTokenBound() == ta && va.isUserIdTokenBound() == V && this._serviceTokens.splice(qa,1);}return this;},deleteServiceToken:function(){var V,Z,ta,qa;if(2 == arguments.length){V=arguments[0];Z=V.name;V.isMasterTokenBound();V.isUserIdTokenBound();ta=arguments[1];}else (arguments.length=4,Z=arguments[0],ta=arguments[3]);qa=this;La(ta,function(){var va,Da;va=originalToken.isMasterTokenBound()?this._masterToken:null;Da=originalToken.isUserIdTokenBound()?this._userIdToken:null;Dc(this._ctx,Z,ia,va,Da,!1,null,new cd(),{result:function(wa){La(ta,function(){return this.addServiceToken(wa);},qa);},error:function(wa){wa instanceof cb && (wa=new vb("Failed to create and add empty service token to message.",wa));ta.error(wa);}});},qa);},getServiceTokens:function(){var V;V=[];V.push.apply(V,this._serviceTokens);return V;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(V,Z){var ta,va;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(Z && !V)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(Z && !Z.isBoundTo(V))throw new Hb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + Z + "; mt " + V).setEntity(V).setUser(Z);try{ta=this._ctx.getMslStore().getServiceTokens(V,Z);}catch(Da){if(Da instanceof cb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Da);throw Da;}for(var qa=this._peerServiceTokens.length - 1;0 <= qa;--qa){va=this._peerServiceTokens[qa];(va.isUserIdTokenBound() && !va.isBoundTo(Z) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._peerServiceTokens.slice(qa,1);}ta.forEach(function(Da){this.excludePeerServiceToken(Da.name,Da.isMasterTokenBound(),Da.isUserIdTokenBound());this._peerServiceTokens.push(Da);},this);this._peerUserIdToken=Z;this._peerMasterToken=V;return this;},addPeerServiceToken:function(V){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken))throw new Hb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken))throw new Hb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._peerServiceTokens.push(V);return this;},addPeerServiceTokenIfAbsent:function(V){var ta;for(var Z=this._peerServiceTokens.length - 1;0 <= Z;--Z){ta=this._peerServiceTokens[Z];if(ta.name == V.name && ta.isMasterTokenBound() == V.isMasterTokenBound() && ta.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addPeerServiceToken(V);return this;},excludePeerServiceToken:function(){var V,Z,ta,va;if(1 == arguments.length){V=arguments[0];Z=V.name;ta=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],ta=arguments[1],V=arguments[2]);for(var qa=this._peerServiceTokens.length - 1;0 <= qa;--qa){va=this._peerServiceTokens[qa];va.name == Z && va.isMasterTokenBound() == ta && va.isUserIdTokenBound() == V && this._peerServiceTokens.splice(qa,1);}return this;},deletePeerServiceToken:function(){var V,Z,ta,qa,va,Da;if(2 == arguments.length){V=arguments[0];Z=V.name;ta=V.isMasterTokenBound();qa=V.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,Z=arguments[0],ta=arguments[1],qa=arguments[2],va=arguments[3]);Da=this;La(va,function(){Dc(this._ctx,Z,ia,ta?this._peerMasterToken:null,qa?this._peerUserIdToken:null,!1,null,new cd(),{result:function(wa){La(va,function(){return this.addPeerServiceToken(wa);},Da);},error:function(wa){wa instanceof cb && (wa=new vb("Failed to create and add empty peer service token to message.",wa));va.error(wa);}});},Da);},getPeerServiceTokens:function(){var V;V=[];V.push.apply(V,this._peerServiceTokens);return V;}});})();(function(){function ha(ca,ia){return ia[ca]?ia[ca]:ia[""];}function aa(ca){var ia;ia=ca.builder.getKeyExchangeData();return ia && !ca.ctx.isPeerToPeer()?ia.keyResponseData.masterToken:ca.builder.getMasterToken();}mf=Ab.Class.create({init:function(ca,ia,fa){ca={ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ia.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:fa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},isPrimaryMasterTokenAvailable:function(){return aa(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(ca){try{return (this.builder.addServiceToken(ca),!0);}catch(ia){if(ia instanceof Hb)return !1;throw ia;}},addPeerServiceToken:function(ca){try{return (this.builder.addPeerServiceToken(ca),!0);}catch(ia){if(ia instanceof Hb)return !1;throw ia;}},addUnboundPrimaryServiceToken:function(ca,ia,fa,V,Z){var ta;ta=this;La(Z,function(){var qa;qa=ha(ca,this.cryptoContexts);if(!qa)return !1;Dc(this.ctx,ca,ia,null,null,fa,V,qa,{result:function(va){La(Z,function(){try{this.builder.addServiceToken(va);}catch(Da){if(Da instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Da);throw Da;}return !0;},ta);},error:function(va){Z.error(va);}});},ta);},addUnboundPeerServiceToken:function(ca,ia,fa,V,Z){var ta;ta=this;La(Z,function(){var qa;qa=ha(ca,this.cryptoContexts);if(!qa)return !1;Dc(this.ctx,ca,ia,null,null,fa,V,qa,{result:function(va){La(Z,function(){try{this.builder.addPeerServiceToken(va);}catch(Da){if(Da instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Da);throw Da;}return !0;},ta);},error:function(va){Z.error(va);}});},ta);},addMasterBoundPrimaryServiceToken:function(ca,ia,fa,V,Z){var ta;ta=this;La(Z,function(){var qa,va;qa=aa(this);if(!qa)return !1;va=ha(ca,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,ca,ia,qa,null,fa,V,va,{result:function(Da){La(Z,function(){try{this.builder.addServiceToken(Da);}catch(wa){if(wa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},ta);},error:function(Da){Z.error(Da);}});},ta);},addMasterBoundPeerServiceToken:function(ca,ia,fa,V,Z){var ta;ta=this;La(Z,function(){var qa,va;qa=this.builder.getPeerMasterToken();if(!qa)return !1;va=ha(ca,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,ca,ia,qa,null,fa,V,va,{result:function(Da){La(Z,function(){try{this.builder.addPeerServiceToken(Da);}catch(wa){if(wa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},ta);},error:function(Da){Z.error(Da);}});},ta);},addUserBoundPrimaryServiceToken:function(ca,ia,fa,V,Z){var ta;ta=this;La(Z,function(){var qa,va,Da;qa=aa(this);if(!qa)return !1;va=this.builder.getUserIdToken();if(!va)return !1;Da=ha(ca,this.cryptoContexts);if(!Da)return !1;Dc(this.ctx,ca,ia,qa,va,fa,V,Da,{result:function(wa){La(Z,function(){try{this.builder.addServiceToken(wa);}catch(ra){if(ra instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return !0;},ta);},error:function(wa){Z.error(wa);}});},ta);},addUserBoundPeerServiceToken:function(ca,ia,fa,V,Z){var ta;ta=this;La(Z,function(){var qa,va,Da;qa=this.builder.getPeerMasterToken();if(!qa)return !1;va=this.builder.getPeerUserIdToken();if(!va)return !1;Da=ha(ca,this.cryptoContexts);if(!Da)return !1;Dc(this.ctx,ca,ia,qa,va,fa,V,Da,{result:function(wa){La(Z,function(){try{this.builder.addPeerServiceToken(wa);}catch(ra){if(ra instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return !0;},ta);},error:function(wa){Z.error(wa);}});},ta);},excludePrimaryServiceToken:function(){var ca,ia,fa,V;if(1 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();V=ca.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],fa=arguments[1],V=arguments[2]);for(var Z=this.builder.getServiceTokens(),ta=0;ta < Z.length;++ta){if((ca=Z[ta],ca.name == ia && ca.isMasterTokenBound() == fa && ca.isUserIdTokenBound() == V))return (this.builder.excludeServiceToken(ia,fa,V),!0);}return !1;},excludePeerServiceToken:function(){var ca,ia,fa,V;if(1 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();V=ca.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],fa=arguments[1],V=arguments[2]);for(var Z=this.builder.getPeerServiceTokens(),ta=0;ta < Z.length;++ta){if((ca=Z[ta],ca.name == ia && ca.isMasterTokenBound() == fa && ca.isUserIdTokenBound() == V))return (this.builder.excludePeerServiceToken(ia,fa,V),!0);}return !1;},deletePrimaryServiceToken:function(){var ca,ia,fa,V,Z;if(2 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();V=ca.isUserIdTokenBound();Z=arguments[1];}else 4 == arguments.length && (ia=arguments[0],fa=arguments[1],V=arguments[2],Z=arguments[3]);La(Z,function(){var va;for(var ta=this.builder.getServiceTokens(),qa=0;qa < ta.length;++qa){va=ta[qa];if(va.name == ia && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deleteServiceToken(ia,fa,V,{result:function(){Z.result(!0);},error:function(Da){Z.error(Da);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var ca,ia,fa,V,Z;if(2 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();V=ca.isUserIdTokenBound();Z=arguments[1];}else 4 == arguments.length && (ia=arguments[0],fa=arguments[1],V=arguments[2],Z=arguments[3]);La(Z,function(){var va;for(var ta=this.builder.getPeerServiceTokens(),qa=0;qa < ta.length;++qa){va=ta[qa];if(va.name == ia && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deletePeerServiceToken(ia,fa,V,{result:function(){Z.result(!0);},error:function(Da){Z.error(Da);}});return;}}return !1;},this);}});})();(function(){function ha(aa,ca,ia,fa){La(fa,function(){var Z,ta,qa,va,Da,wa;function V(){La(fa,function(){var ra;if(wa >= ia.length){if(Da)throw Da;throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ia));}ra=ia[wa];qa != ra.keyExchangeScheme?(++wa,V()):va.getCryptoContext(aa,ra,ta,Z,{result:fa.result,error:function(Y){La(fa,function(){if(!(Y instanceof cb))throw Y;Da=Y;++wa;V();});}});});}Z=ca.masterToken;ta=ca.keyResponseData;if(!ta)return null;qa=ta.keyExchangeScheme;va=aa.getKeyExchangeFactory(qa);if(!va)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,qa);wa=0;V();});}nf=ge.extend({init:function(aa,ca,ia,fa,V,Z,ta){var qa;qa=this;db(ta,function(){var ba;function va(){qa._ready=!0;qa._readyQueue.add(!0);}function Da(ea,na){var Ha;try{Ha=na.masterToken;ea.getTokenFactory().isMasterTokenRevoked(ea,Ha,{result:function(Ea){Ea?(qa._errored=new Oc(Ea,Ha).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):wa(ea,na);},error:function(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));qa._errored=Ea;va();}});}catch(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));qa._errored=Ea;va();}}function wa(ea,na){var Ha,Ea;try{Ha=na.masterToken;Ea=na.userIdToken;Ea?ea.getTokenFactory().isUserIdTokenRevoked(ea,Ha,Ea,{result:function(Pa){Pa?(qa._errored=new MslUserIdTokenException(Pa,Ea).setEntity(Ha).setUser(Ea).setMessageId(na.messageId),va()):ra(ea,na);},error:function(Pa){Pa instanceof cb && (Pa.setEntity(na.masterToken),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));qa._errored=Pa;va();}}):ra(ea,na);}catch(Pa){Pa instanceof cb && (Pa.setEntity(na.masterToken),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));qa._errored=Pa;va();}}function ra(ea,na){var Ha;try{Ha=na.masterToken;Ha.isExpired()?na.isRenewable() && 0 != na.keyRequestData.length?ea.getTokenFactory().isMasterTokenRenewable(ea,Ha,{result:function(Ea){Ea?(qa._errored=new Hb(Ea,"Master token is expired and not renewable.").setEntity(Ha).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):Y(ea,na);},error:function(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));qa._errored=Ea;va();}}):(qa._errored=new Hb(W.MESSAGE_EXPIRED,JSON.stringify(na)).setEntity(Ha).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):Y(ea,na);}catch(Ea){Ea instanceof cb && (Ea.setEntity(na.masterToken),Ea.setUser(na.userIdToken),Ea.setUser(na.userAuthenticationData),Ea.setMessageId(na.messageId));qa._errored=Ea;va();}}function Y(ea,na){var Ha,Ea;try{Ha=na.masterToken;Ea=na.nonReplayableId;"number" === typeof Ea?Ha?ea.getTokenFactory().acceptNonReplayableId(ea,Ha,Ea,{result:function(Pa){Pa || (qa._errored=new Hb(W.MESSAGE_REPLAYED,JSON.stringify(na)).setEntity(Ha).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId));va();},error:function(Pa){Pa instanceof cb && (Pa.setEntity(Ha),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));qa._errored=Pa;va();}}):(qa._errored=new Hb(W.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(na)).setEntity(na.entityAuthenticationData).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):va();}catch(Pa){Pa instanceof cb && (Pa.setEntity(na.masterToken),Pa.setEntity(na.entityAuthenticationData),Pa.setUser(na.userIdToken),Pa.setUser(na.userAuthenticationData),Pa.setMessageId(na.messageId));qa._errored=Pa;va();}}ba={_source:{value:ca,writable:!1,enumerable:!1,configurable:!1},_parser:{value:zb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ia,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Z,writable:!1,enumerable:!1,configurable:!1},_header:{value:zb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);Qe(qa._source,Z,{result:function(ea){qa._json=ea;qa._jsonIndex=0;null === qa._json?(qa._errored=new xb(W.MESSAGE_DATA_MISSING),va()):Xe(aa,qa._json[qa._jsonIndex++],V,{result:function(na){var Ha;qa._header=na;if(qa._header instanceof Kc)(qa._keyxCryptoContext=null,qa._cryptoContext=null,va());else {Ha=qa._header;ha(aa,Ha,fa,{result:function(Ea){var Pa;try{qa._keyxCryptoContext=Ea;aa.isPeerToPeer() || !qa._keyxCryptoContext?qa._cryptoContext=Ha.cryptoContext:qa._cryptoContext=qa._keyxCryptoContext;try{Pa=Ha.masterToken;Pa && (aa.isPeerToPeer() || Pa.isVerified())?Da(aa,Ha):Y(aa,Ha);}catch(Ta){Ta instanceof cb && (Ta.setEntity(Ha.masterToken),Ta.setUser(Ha.userIdToken),Ta.setUser(Ha.userAuthenticationData),Ta.setMessageId(Ha.messageId));qa._errored=Ta;va();}}catch(Ta){Ta instanceof cb && (Ta.setEntity(Ha.masterToken),Ta.setEntity(Ha.entityAuthenticationData),Ta.setUser(Ha.userIdToken),Ta.setUser(Ha.userAuthenticationData),Ta.setMessageId(Ha.messageId));qa._errored=Ta;va();}},error:function(Ea){Ea instanceof cb && (Ea.setEntity(Ha.masterToken),Ea.setEntity(Ha.entityAuthenticationData),Ea.setUser(Ha.userIdToken),Ea.setUser(Ha.userAuthenticationData),Ea.setMessageId(Ha.messageId));qa._errored=Ea;va();}});}},error:function(na){qa._errored=na;va();}});},timeout:function(){qa._timedout=!0;va();},error:function(ea){qa._errored=ea;va();}});return this;},qa);},nextData:function(aa,ca){var ia;ia=this;db(ca,function(){var V;function fa(Z){db(Z,function(){var ta;if(this._jsonIndex < this._json.length)return ta=this._json[this._jsonIndex++];Qe(this._source,this._timeout,{result:function(qa){qa && qa.length && 0 < qa.length?(qa.forEach(function(va){this._json.push(va);}),fa(Z)):(this._eom=!0,Z.result(null));},timeout:function(){Z.timeout();},error:function(qa){Z.error(qa);}});},ia);}V=this.getMessageHeader();if(!V)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;fa({result:function(Z){db(ca,function(){if(!Z)return null;if("object" !== typeof Z)throw new xb(W.MESSAGE_FORMAT_ERROR);jf(Z,this._cryptoContext,{result:function(ta){db(ca,function(){var qa,va,Da,wa;qa=V.masterToken;va=V.entityAuthenticationData;Da=V.userIdToken;wa=V.getUserAuthenticationData;if(ta.messageId != V.messageId)throw new Hb(W.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + ta.messageId + " header mid " + V.messageId).setEntity(qa).setEntity(va).setUser(Da).setUser(wa);if(ta.sequenceNumber != this._payloadSequenceNumber)throw new Hb(W.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + ta.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(qa).setEntity(va).setUser(Da).setUser(wa);++this._payloadSequenceNumber;ta.isEndOfMessage() && (this._eom=!0);qa=ta.data;this._payloads.push(qa);this._payloadIndex=-1;return qa;},ia);},error:function(ta){ta instanceof SyntaxError && (ta=new xb(W.JSON_PARSE_ERROR,"payloadchunk",ta));ca.error(ta);}});},ia);},timeout:function(){ca.timeout();},error:function(Z){ca.error(Z);}});},ia);},isReady:function(aa,ca){var fa;function ia(){db(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;return !0;}},fa);}fa=this;db(ca,function(){this._ready?ia():this._readyQueue.poll(aa,{result:function(V){db(ca,function(){if(V === zb)return !1;ia();},fa);},timeout:function(){ca.timeout();},error:function(V){ca.error(V);}});},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorHeader:function(){return this._header instanceof Kc?this._header:null;},getIdentity:function(){var aa,ca;aa=this.getMessageHeader();if(aa){ca=aa.masterToken;return ca?ca.identity:aa.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var aa;aa=this.getMessageHeader();return aa?aa.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(aa){this._closeSource=aa;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(aa,ca,ia){var V;function fa(){db(ia,function(){var ta,qa,va,Da;function Z(wa){db(wa,function(){var ra,Y,ba;if(qa && Da >= qa.length)return qa.subarray(0,Da);ra=-1;if(this._currentPayload){Y=this._currentPayload.length - this._payloadOffset;if(!qa){ba=Y;if(-1 != this._payloadIndex)for(var ea=this._payloadIndex;ea < this._payloads.length;++ea){ba+=this._payloads[ea].length;}0 < ba && (qa=new Uint8Array(ba));}Y=Math.min(Y,qa?qa.length - Da:0);0 < Y && (ra=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + Y),qa.set(ra,va),ra=Y,va+=Y,this._payloadOffset+=Y);}-1 != ra?(Da+=ra,Z(wa)):this.nextData(ca,{result:function(na){db(wa,function(){if(this._aborted)return qa?qa.subarray(0,Da):new Uint8Array(0);this._currentPayload=na;this._payloadOffset=0;if(this._currentPayload)Z(wa);else return 0 == Da && 0 != aa?null:qa?qa.subarray(0,Da):new Uint8Array(0);},V);},timeout:function(){wa.timeout(qa?qa.subarray(0,Da):new Uint8Array(0));},error:function(na){db(wa,function(){na instanceof cb && (na=new Vb("Error reading the payload chunk.",na));if(0 < Da)return (V._readException=na,qa.subarray(0,Da));throw na;},V);}});},V);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ia.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){ta=this._readException;this._readException=null;throw ta;}qa=-1 != aa?new Uint8Array(aa):zb;va=0;Da=0;Z(ia);}},V);}V=this;db(ia,function(){if(-1 > aa)throw new RangeError("read requested with illegal length " + aa);this._ready?fa():this._readyQueue.poll(ca,{result:function(Z){Z === zb?ia.result(!1):fa();},timeout:function(){ia.timeout(new Uint8Array(0));},error:function(Z){ia.error(Z);}});},V);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});of=function(aa,ca,ia,fa,V,Z,ta){new nf(aa,ca,ia,fa,V,Z,ta);};})();(function(){pf=Ed.extend({init:function(ha,aa,ca,ia,fa,V,Z){var ta;ta=this;db(Z,function(){var va,Da,wa;function qa(){ta._ready=!0;ta._readyQueue.add(!0);}va=me(ha.getMessageCapabilities(),ia.messageCapabilities);Da=null;va && (Da=Fe(va.compressionAlgorithms));va={_destination:{value:aa,writable:!1,enumerable:!1,configurable:!1},_charset:{value:ca,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_header:{value:ia,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Da,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:fa,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,va);wa=Rb(JSON.stringify(ia),ca);aa.write(wa,0,wa.length,V,{result:function(ra){try{ta._aborted?qa():ra < wa.length?(ta._timedout=!0,qa()):aa.flush(V,{result:function(Y){ta._aborted || (ta._timedout=!Y);qa();},timeout:function(){ta._timedout=!0;qa();},error:function(Y){ta._errored=Y;qa();}});}catch(Y){ta._errored=Y;qa();}},timeout:function(){ta._timedout=!0;qa();},error:function(ra){ta._errored=ra;qa();}});return this;},ta);},setCompressionAlgorithm:function(ha,aa,ca){var fa;function ia(){fa.flush(aa,{result:function(V){db(ca,function(){if(!V)throw new Vb("flush() aborted");this._compressionAlgo=ha;return !0;},fa);},timeout:function(){ca.timeout();},error:function(V){ca.error(V);}});}fa=this;db(ca,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var V=this._capabilities.compressionAlgorithms,Z=0;Z < V.length;++Z){if(V[Z] == ha){ia();return;}}return !1;}ia();},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorMessage:function(){return this._header instanceof Kc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,aa){var ca;ca=this;db(aa,function(){if(this._aborted)return !1;if(this._timedout)aa.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(ia){db(aa,function(){ia && (this._currentPayload=null);return ia;},ca);},timeout:function(){aa.timeout();},error:function(ia){aa.error(ia);}});}},ca);},flush:function(ha,aa){var ia;function ca(){db(aa,function(){var fa,V,va;if(this._aborted)return !1;if(this._timedout)aa.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;fa=this.getMessageHeader();if(!fa)return !0;V=0;this._currentPayload && this._currentPayload.forEach(function(Da){V+=Da.length;});for(var Z=new Uint8Array(V),ta=0,qa=0;this._currentPayload && qa < this._currentPayload.length;++qa){va=this._currentPayload[qa];Z.set(va,ta);ta+=va.length;}hf(this._payloadSequenceNumber,fa.messageId,this._closed,this._compressionAlgo,Z,this._cryptoContext,{result:function(Da){db(aa,function(){var wa;this._payloads.push(Da);wa=Rb(JSON.stringify(Da),this._charset);this._destination.write(wa,0,wa.length,ha,{result:function(ra){db(aa,function(){if(this._aborted)return !1;ra < Da.length?aa.timeout():this._destination.flush(ha,{result:function(Y){db(aa,function(){if(this._aborted)return !1;if(Y)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);aa.timeout();},ia);},timeout:function(){aa.timeout();},error:function(Y){Y instanceof cb && (Y=new Vb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",Y));aa.error(Y);}});},ia);},timeout:function(ra){aa.timeout();},error:function(ra){ra instanceof cb && (ra=new Vb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",ra));aa.error(ra);}});},ia);},error:function(Da){Da instanceof cb && (Da=new Vb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",Da));aa.error(Da);}});}},ia);}ia=this;db(aa,function(){this._ready?ca():this._readyQueue.poll(ha,{result:function(fa){fa === zb?aa.result(!1):ca();},timeout:function(){aa.timeout();},error:function(fa){aa.error(fa);}});},ia);},write:function(ha,aa,ca,ia,fa){db(fa,function(){var V;if(this._aborted)return !1;if(this._timedout)fa.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Vb("Message output stream already closed.");if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > ca)throw new RangeError("Length cannot be negative.");if(aa + ca > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");V=ha.subarray(aa,aa + ca);this._currentPayload.push(V);return V.length;}},this);}});Kd=function(ha,aa,ca,ia,fa,V,Z){new pf(ha,aa,ca,ia,fa,V,Z);};})();Vf=Ab.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:Ja.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ja.SSOTOKEN_REJECTED});qf=Ab.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,aa,ca,ia){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,aa,ca){},write:function(ha,aa,ca){},getDebugContext:function(){}});Ab.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var ta,qa,va,Da,wa,ra,Y,ba,ea,na,Ha,Ea;function ha(Pa){return function(){Pa.abort();};}function aa(Pa,Ta){Object.defineProperties(this,{masterToken:{value:Pa,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function ca(Pa,Ta){Object.defineProperties(this,{builder:{value:Pa,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function ia(Pa,Ta,la){Object.defineProperties(this,{requestHeader:{value:Pa,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:la,writable:!1,configurable:!1}});}function fa(Pa,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Pa,writable:!1,configurable:!1}});}function V(Pa){for(;Pa;){if(Pa instanceof $b)return !0;Pa=Pa instanceof cb?Pa.cause:zb;}return !1;}function Z(Pa,Ta,la,xa,za,Ia,Ca,Oa,Fa){lf(Ta,xa,za,Ia,{result:function(Va){la && la.sentHeader(Va);Kd(Ta,Ca,Lb,Va,null,null,Oa,{result:function($a){Pa.setAbort(function(){$a.abort();});$a.close(Oa,{result:function(Xa){db(Fa,function(){if(!Xa)throw new $b("sendError aborted.");return Xa;});},timeout:function(){Fa.timeout();},error:function(Xa){Fa.error(Xa);}});},timeout:function(){},error:function($a){Fa.error($a);}});},error:function(Va){Fa.error(Va);}});}ta=Ed.extend({close:function(Pa,Ta){Ta.result(!0);},write:function(Pa,Ta,la,xa,za){La(za,function(){return Math.min(Pa.length - Ta,la);});},flush:function(Pa,Ta){Ta.result(!0);}});qa=Uf.extend({getUserMessage:function(Pa,Ta){return null;}});va=qf.extend({init:function(Pa){Object.defineProperties(this,{_appCtx:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Pa,Ta,la,xa){this._appCtx.getUserAuthData(Pa,Ta,la,xa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Pa){this._appCtx.getKeyRequestData(Pa);},updateServiceTokens:function(Pa,Ta,la){this._appCtx.updateServiceTokens(Pa,Ta,la);},write:function(Pa,Ta,la){this._appCtx.write(Pa,Ta,la);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Da=va.extend({init:function xa(Ta,la){xa.base.call(this,la);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,la,xa){var Ia;function za(Ca,Oa){var Fa;if(Ca == Ia._payloads.length)xa.result(!0);else {Fa=Ia._payloads[Ca];Ta.setCompressionAlgorithm(Fa.compressionAlgo,la,{result:function(Va){Ta.write(Fa.data,0,Fa.data.length,la,{result:function($a){db(xa,function(){Fa.isEndOfMessage()?za(Ca + 1,Oa):Ta.flush(la,{result:function(Xa){xa.result(Xa);},timeout:function(){xa.timeout();},error:function(Xa){xa.error(Xa);}});},Ia);},timeout:function($a){xa.timeout($a);},error:function($a){xa.error($a);}});},timeout:function(){},error:function(Va){xa.error(Va);}});}}Ia=this;za(0);}});wa=va.extend({init:function xa(la){xa.base.call(this,la);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(la,xa,za){za.result(!0);}});ra={};Y=Ab.Class.create({init:function(la){la || (la=new qa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:la,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(la){this._filterFactory=la;},getNewestMasterToken:function(la,xa,za,Ia){var Ca;Ca=this;db(Ia,function(){var Oa,Fa,Va,$a,Xa;Oa=xa.getMslStore();Fa=Oa.getMasterToken();if(!Fa)return null;Va=Fa.uniqueKey();$a=this._masterTokenLocks[Va];$a || ($a=new Wd(),this._masterTokenLocks[Va]=$a);Xa=$a.readLock(za,{result:function(hb){db(Ia,function(){var mb;if(hb === zb)throw new $b("getNewestMasterToken aborted.");mb=Oa.getMasterToken();if(Fa.equals(mb))return new aa(Fa,hb);$a.unlock(hb);$a.writeLock(za,{result:function(ob){db(Ia,function(){if(ob === zb)throw new $b("getNewestMasterToken aborted.");delete this._masterTokenLocks[Va];$a.unlock(ob);return this.getNewestMasterToken(la,xa,za,Ia);},Ca);},timeout:function(){Ia.timeout();},error:function(ob){Ia.error(ob);}});},Ca);},timeout:function(){Ia.timeout();},error:function(hb){Ia.error(hb);}});la.setAbort(function(){Xa && ($a.cancel(Xa),Xa=zb);});},Ca);},deleteMasterToken:function(la,xa){var za;if(xa){za=this;setTimeout(function(){var Ia,Ca;Ia=xa.uniqueKey();Ca=za._masterTokenLocks[Ia];Ca || (Ca=new Wd(),za._masterTokenLocks[Ia]=Ca);Ca.writeLock(-1,{result:function(Oa){la.getMslStore().removeCryptoContext(xa);delete za._masterTokenLocks[Ia];Ca.unlock(Oa);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Oa){throw Oa;}});},0);}},releaseMasterToken:function(la){var xa;if(la && la.masterToken){xa=la.masterToken.uniqueKey();xa=this._masterTokenLocks[xa];if(!xa)throw new vb("Master token read/write lock does not exist when it should.");xa.unlock(la.ticket);}},updateOutgoingCryptoContexts:function(la,xa,za){var Ia;Ia=la.getMslStore();!la.isPeerToPeer() && za && (Ia.setCryptoContext(za.keyResponseData.masterToken,za.cryptoContext),this.deleteMasterToken(la,xa.masterToken));},updateIncomingCryptoContexts:function(la,xa,za){var Ia,Ca;Ia=za.getMessageHeader();if(Ia){Ca=la.getMslStore();if(Ia=Ia.keyResponseData)(Ca.setCryptoContext(Ia.masterToken,za.getKeyExchangeCryptoContext()),this.deleteMasterToken(la,xa.masterToken));}},storeServiceTokens:function(la,xa,za,Ia){var Fa,Va;la=la.getMslStore();for(var Ca=[],Oa=0;Oa < Ia.length;++Oa){Fa=Ia[Oa];if(!Fa.isBoundTo(xa) || !xa.isVerified()){Va=Fa.data;Va && 0 == Va.length?la.removeServiceTokens(Fa.name,Fa.isMasterTokenBound()?xa:null,Fa.isUserIdTokenBound()?za:null):Ca.push(Fa);}}0 < Ca.length && la.addServiceTokens(Ca);},buildRequest:function(la,xa,za,Ia,Ca){var Oa;Oa=this;this.getNewestMasterToken(la,xa,Ia,{result:function(Fa){La(Ca,function(){var Va,$a,Xa;Va=Fa && Fa.masterToken;if(Va){$a=za.getUserId();Xa=xa.getMslStore();$a=($a=$a?Xa.getUserIdToken($a):null) && $a.isBoundTo(Va)?$a:null;}else $a=null;Tc(xa,Va,$a,null,{result:function(hb){La(Ca,function(){hb.setNonReplayable(za.isNonReplayable());return {builder:hb,tokenTicket:Fa};});},error:function(hb){La(Ca,function(){this.releaseMasterToken(Fa);hb instanceof cb && (hb=new vb("User ID token not bound to master token despite internal check.",hb));throw hb;},Oa);}});},Oa);},timeout:function(){Ca.timeout();},error:function(Fa){Ca.error(Fa);}});},buildResponse:function(la,xa,za,Ia,Ca,Oa){var Fa;Fa=this;kf(xa,Ia,{result:function(Va){db(Oa,function(){Va.setNonReplayable(za.isNonReplayable());if(!xa.isPeerToPeer() && !Ia.keyResponseData)return {builder:Va,tokenTicket:null};this.getNewestMasterToken(la,xa,Ca,{result:function($a){db(Oa,function(){var Xa,hb,mb;Xa=$a && $a.masterToken;if(Xa){hb=za.getUserId();mb=xa.getMslStore();hb=(hb=hb?mb.getUserIdToken(hb):null) && hb.isBoundTo(Xa)?hb:null;}else hb=null;Va.setAuthTokens(Xa,hb);return {builder:Va,tokenTicket:$a};},Fa);},timeout:function(){Oa.timeout();},error:function($a){Oa.error($a);}});},Fa);},error:function(Va){Oa.error(Va);}});},buildErrorResponse:function(la,xa,za,Ia,Ca,Oa,Fa){var Xa;function Va(hb,mb){db(Fa,function(){var ob,rb;ob=Sc(Ca.messageId);rb=new Da(mb,za);Tc(xa,null,null,ob,{result:function(sb){db(Fa,function(){xa.isPeerToPeer() && sb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ca(sb,rb),tokenTicket:null};},Xa);},error:function(sb){Fa.error(sb);}});},Xa);}function $a(hb,mb){Xa.getNewestMasterToken(la,xa,Oa,{result:function(ob){db(Fa,function(){var rb,sb,yb;rb=ob && ob.masterToken;sb=Sc(Ca.messageId);yb=new Da(mb,za);Tc(xa,rb,null,sb,{result:function(wb){db(Fa,function(){xa.isPeerToPeer() && wb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);wb.setNonReplayable(yb.isNonReplayable());return {errorResult:new ca(wb,yb),tokenTicket:ob};},Xa);},error:function(wb){Fa.error(wb);}});},Xa);},timeout:function(){Fa.timeout();},error:function(ob){Fa.error(ob);}});}Xa=this;db(Fa,function(){var hb,mb,ob,rb;hb=Ia.requestHeader;mb=Ia.payloads;ob=Ca.errorCode;switch(ob){case Ja.ENTITYDATA_REAUTH:case Ja.ENTITY_REAUTH:xa.getEntityAuthenticationData(ob,{result:function(sb){db(Fa,function(){if(!sb)return null;Va(hb,mb);},Xa);},error:function(sb){Fa.error(sb);}});break;case Ja.USERDATA_REAUTH:case Ja.SSOTOKEN_REJECTED:za.getUserAuthData(ob,!1,!0,{result:function(sb){db(Fa,function(){if(!sb)return null;$a(hb,mb);},Xa);},error:function(sb){Fa.error(sb);}});break;case Ja.USER_REAUTH:$a(hb,mb);break;case Ja.KEYX_REQUIRED:ob=Sc(Ca.messageId);rb=new Da(mb,za);Tc(xa,null,null,ob,{result:function(sb){db(Fa,function(){xa.isPeerToPeer() && sb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ca(sb,rb),tokenTicket:null};},Xa);},error:function(sb){Fa.error(sb);}});break;case Ja.EXPIRED:this.getNewestMasterToken(la,xa,Oa,{result:function(sb){db(Fa,function(){var yb,wb,r,b;yb=sb && sb.masterToken;wb=hb.userIdToken;r=Sc(Ca.messageId);b=new Da(mb,za);Tc(xa,yb,wb,r,{result:function(a){db(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(yb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new ca(a,b),tokenTicket:sb};},Xa);},error:function(a){Fa.error(a);}},Xa);},Xa);},timeout:function(){Fa.timeout();},error:function(sb){Fa.error(sb);}});break;case Ja.REPLAYED:this.getNewestMasterToken(la,xa,Oa,{result:function(sb){db(Fa,function(){var yb,wb,r,b;yb=sb && sb.masterToken;wb=hb.userIdToken;r=Sc(Ca.messageId);b=new Da(mb,za);Tc(xa,yb,wb,r,{result:function(a){db(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(yb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new ca(a,b),tokenTicket:sb};},Xa);},error:function(a){Fa.error(a);}});},Xa);},timeout:function(){Fa.timeout();},error:function(sb){Fa.error(sb);}});break;default:return null;}},Xa);},cleanupContext:function(la,xa,za){switch(za.errorCode){case Ja.ENTITY_REAUTH:this.deleteMasterToken(la,xa.masterToken);break;case Ja.USER_REAUTH:(za=xa.userIdToken,xa.masterToken && za && la.getMslStore().removeUserIdToken(za));}},send:function(la,xa,za,Ia,Ca,Oa,Fa){var ob;function Va(rb,sb,yb){db(Fa,function(){var wb;wb=Ca.getPeerUserIdToken();!xa.isPeerToPeer() && !sb || xa.isPeerToPeer() && !wb?(wb=za.getCustomer())?Ca.setCustomer(wb,{result:function(r){db(Fa,function(){sb=Ca.getUserIdToken();$a(rb,sb,yb);},ob);},error:function(r){Fa.error(r);}}):$a(rb,sb,yb):$a(rb,sb,yb);},ob);}function $a(rb,sb,yb){db(Fa,function(){var wb,r;wb=!yb && (!za.isEncrypted() || Ca.willEncryptPayloads()) && (!za.isIntegrityProtected() || Ca.willIntegrityProtectPayloads()) && (!za.isNonReplayable() || Ca.isNonReplayable() && rb);wb || Ca.setNonReplayable(!1);r=[];Ca.isRenewable() && (!rb || rb.isRenewable() || za.isNonReplayable())?za.getKeyRequestData({result:function(b){db(Fa,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Ca.addKeyRequestData(c);}Xa(rb,sb,wb,r);},ob);},error:function(b){Fa.error(b);}}):Xa(rb,sb,wb,r);},ob);}function Xa(rb,sb,yb,wb){db(Fa,function(){var r;r=new mf(xa,za,Ca);za.updateServiceTokens(r,!yb,{result:function(b){Ca.getHeader({result:function(a){db(Fa,function(){var c,f;c=za.getDebugContext();c && c.sentHeader(a);c=Ca.getKeyExchangeData();this.updateOutgoingCryptoContexts(xa,a,c);this.storeServiceTokens(xa,rb,sb,a.serviceTokens);c=!xa.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(la.isAborted())throw new $b("send aborted.");f=null != this._filterFactory?this._filterFactory.getOutputStream(Ia):Ia;Kd(xa,f,Lb,a,c,Oa,{result:function(l){la.setAbort(function(){l.abort();});hb(l,a,yb);},timeout:function(){Fa.timeout();},error:function(l){Fa.error(l);}});},ob);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},error:function(b){Fa.error(b);}});},ob);}function hb(rb,sb,yb){var wb,r;if(yb)za.write(rb,Oa,{result:function(b){db(Fa,function(){if(la.isAborted())throw new $b("MessageOutputStream write aborted.");mb(rb,sb,yb);},ob);},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});else {wb=new ta();r=new cd();Kd(xa,wb,Lb,sb,r,Oa,{result:function(b){za.write(b,Oa,{result:function(a){db(Fa,function(){if(la.isAborted())throw new $b("MessageOutputStream proxy write aborted.");b.close(Oa,{result:function(c){db(Fa,function(){var f;if(!c)throw new $b("MessageOutputStream proxy close aborted.");f=b.getPayloads();mb(rb,sb,yb,f);},ob);},timeout:function(){Fa.timeout();},error:function(c){Fa.error(c);}});},ob);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});}}function mb(rb,sb,yb,wb){rb.close(Oa,{result:function(r){db(Fa,function(){if(!r)throw new $b("MessageOutputStream close aborted.");wb || (wb=rb.getPayloads());return new ia(sb,wb,!yb);},ob);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});}ob=this;db(Fa,function(){var rb,sb,yb,wb;rb=Ca.getMasterToken();sb=Ca.getUserIdToken();yb=!1;if(za.getUserId()){wb=!sb;za.getUserAuthData(null,Ca.isRenewable(),wb,{result:function(r){db(Fa,function(){r && (Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()?Ca.setUserAuthenticationData(r):yb=!0);Va(rb,sb,yb);},ob);},error:function(r){Fa.error(r);}});}else Va(rb,sb,yb);},ob);},receive:function(la,xa,za,Ia,Ca,Oa,Fa){var Va;Va=this;db(Fa,function(){var $a,Xa,hb;if(la.isAborted())throw new $b("receive aborted.");$a=[];Ca && ($a=Ca.keyRequestData.filter(function(){return !0;}));Xa=za.getCryptoContexts();hb=this._filterFactory?this._filterFactory.getInputStream(Ia):Ia;of(xa,hb,Lb,$a,Xa,Oa,{result:function(mb){la.setAbort(function(){mb.abort();});mb.isReady(Oa,{result:function(ob){db(Fa,function(){var rb,sb,yb,wb;if(!ob)throw new $b("MessageInputStream aborted.");rb=mb.getMessageHeader();sb=mb.getErrorHeader();yb=za.getDebugContext();yb && yb.receivedHeader(rb?rb:sb);if(Ca && (yb=sb?sb.errorCode:null,rb || yb != Ja.FAIL && yb != Ja.TRANSIENT_FAILURE && yb != Ja.ENTITY_REAUTH && yb != Ja.ENTITYDATA_REAUTH)){yb=rb?rb.messageId:sb.messageId;wb=Sc(Ca.messageId);if(yb != wb)throw new Hb(W.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + wb + "; received " + yb);}xa.getEntityAuthenticationData(null,{result:function(r){db(Fa,function(){var b,a,c,f;b=r.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Hb(W.UNEXPECTED_MESSAGE_SENDER,a);Ca && this.updateIncomingCryptoContexts(xa,Ca,mb);b=rb.keyResponseData;xa.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);f=za.getUserId();f && c && !c.isVerified() && xa.getMslStore().addUserIdToken(f,c);this.storeServiceTokens(xa,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Hb(W.UNEXPECTED_MESSAGE_SENDER,a);return mb;},Va);},error:Fa.error});},Va);},timeout:function(){Fa.timeout();},error:function(ob){Fa.error(ob);}});},timeout:function(){Fa.timeout();},error:function(mb){Fa.error(mb);}});},Va);},sendReceive:function(la,xa,za,Ia,Ca,Oa,Fa,Va,$a){var hb;function Xa(mb,ob){db($a,function(){Oa.setRenewable(ob);this.send(la,xa,za,Ca,Oa,Fa,{result:function(rb){db($a,function(){var sb;sb=rb.requestHeader.keyRequestData;Va || rb.handshake || !sb.isEmpty()?this.receive(la,xa,za,Ia,rb.requestHeader,Fa,{result:function(yb){db($a,function(){ob && this.releaseRenewalLock(xa,mb,yb);return new fa(yb,rb);},hb);},timeout:function(){db($a,function(){ob && this.releaseRenewalLock(xa,mb,null);$a.timeout();},hb);},error:function(yb){db($a,function(){ob && this.releaseRenewalLock(xa,mb,null);throw yb;},hb);}}):db($a,function(){ob && this.releaseRenewalLock(xa,mb,null);return new fa(null,rb);},hb);},hb);},timeout:function(){db($a,function(){ob && this.releaseRenewalLock(xa,mb,null);$a.timeout();},hb);},error:function(rb){db($a,function(){ob && this.releaseRenewalLock(xa,mb,null);throw rb;},hb);}});},hb);}hb=this;db($a,function(){var mb;mb=new jd();this.acquireRenewalLock(la,xa,za,mb,Oa,Fa,{result:function(ob){Xa(mb,ob);},timeout:function(){$a.timeout();},error:function(ob){ob instanceof $b?$a.result(null):$a.error(ob);}});},hb);},acquireRenewalLock:function(la,xa,za,Ia,Ca,Oa,Fa){var Xa;function Va(hb,mb,ob){db(Fa,function(){var yb,wb;if(la.isAborted())throw new $b("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){yb=this._renewingContexts[sb];if(yb.ctx === xa){rb=yb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:xa,queue:Ia}),!0);wb=rb.poll(Oa,{result:function(r){db(Fa,function(){var b;if(r === zb)throw new $b("acquireRenewalLock aborted.");rb.add(r);if(r === ra || r.isExpired())Va(r,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(r)){b=xa.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(r)?b:null;}Ca.setAuthTokens(r,mb);Ca.isRenewable() && r.equals(hb)?Va(r,mb,ob):za.isRequestingTokens() && !mb?Va(r,mb,ob):$a(r,mb);}},Xa);},timeout:function(){},error:function(r){}});la.setAbort(function(){wb && (rb.cancel(wb),wb=zb);});},Xa);}function $a(hb,mb){db(Fa,function(){var sb;if(la.isAborted())throw new $b("acquireRenewalLock aborted.");if(!hb || hb.isRenewable() || !mb && za.getUserId() || mb && mb.isRenewable()){for(var ob=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === xa){ob=sb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:xa,queue:Ia}),!0);}return !1;},Xa);}Xa=this;db(Fa,function(){var hb,mb,ob;hb=Ca.getMasterToken();mb=Ca.getUserIdToken();ob=za.getUserId();za.isEncrypted() && !Ca.willEncryptPayloads() || za.isIntegrityProtected() && !Ca.willIntegrityProtectPayloads() || Ca.isRenewable() || !hb && za.isNonReplayable() || hb && hb.isExpired() || !(mb || !ob || Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()) || za.isRequestingTokens() && (!hb || ob && !mb)?Va(hb,mb,ob):$a(hb,mb);},Xa);},releaseRenewalLock:function(la,xa,za){var Fa;for(var Ia,Ca,Oa=0;Oa < this._renewingContexts.length;++Oa){Fa=this._renewingContexts[Oa];if(Fa.ctx === la){Ia=Oa;Ca=Fa.queue;break;}}if(Ca !== xa)throw new vb("Attempt to release renewal lock that is not owned by this queue.");za?(za=za.messageHeader)?(Ca=za.keyResponseData)?xa.add(Ca.masterToken):(la=la.isPeerToPeer()?za.peerMasterToken:za.masterToken)?xa.add(la):xa.add(ra):xa.add(ra):xa.add(ra);this._renewingContexts.splice(Ia,1);}});rf=Ab.Class.create({init:function(){var la;la={_impl:{value:new Y(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);},setFilterFactory:function(la){this._impl.setFilterFactory(la);},shutdown:function(){this._shutdown=!0;},receive:function(la,xa,za,Ia,Ca,Oa){var Fa;if(this._shutdown)throw new cb("MslControl is shutdown.");Fa=new ba(this._impl,la,xa,za,Ia,Ca);setTimeout(function(){Fa.call(Oa);},0);return ha(Fa);},respond:function(la,xa,za,Ia,Ca,Oa,Fa){var Va;if(this._shutdown)throw new cb("MslControl is shutdown.");Va=new ea(this._impl,la,xa,za,Ia,Ca,Oa);setTimeout(function(){Va.call(Fa);},0);return ha(Va);},error:function za(la,xa,za,Ia,Ca,Oa,Fa){var Va;if(this._shutdown)throw new cb("MslControl is shutdown.");Va=new na(this._impl,la,xa,za,Ia,Ca,Oa);setTimeout(function(){Va.call(Fa);},0);return ha(Va);},request:function(la,xa){var za,Ia,Ca,Oa,Fa,Va;if(this._shutdown)throw new cb("MslControl is shutdown.");if(5 == arguments.length){Ia=arguments[2];Ca=za=null;Oa=arguments[3];Fa=arguments[4];if(la.isPeerToPeer()){Fa.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ia=null,za=arguments[2],Ca=arguments[3],Oa=arguments[4],Fa=arguments[5],!la.isPeerToPeer())){Fa.error(new vb("This method cannot be used in trusted network mode."));return;}Va=new Ea(this._impl,la,xa,Ia,za,Ca,null,0,Oa);setTimeout(function(){Va.call(Fa);},0);return ha(Va);}});ba=Ab.Class.create({init:function(la,xa,za,Ia,Ca,Oa){Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},call:function(la){var Ca;function xa(Oa){db(la,function(){var Fa;Fa=Oa.messageHeader;if(!Fa)return Oa;this.setAbort(function(){Oa.abort();});Oa.mark(Number.MAX_VALUE);Oa.read(1,Ca._timeout,{result:function(Va){db(la,function(){if(Va && 0 == Va.length)return null;if(Va)return (Oa.reset(),Oa);za(Oa);},Ca);},timeout:function(){la.timeout();},error:function(Va){db(la,function(){var $a,Xa,hb;if(V(Va))return null;$a=Fa?Fa.messageId:null;if(Va instanceof Vb){Xa=W.MSL_COMMS_FAILURE;hb=Va;}else (Xa=W.INTERNAL_EXCEPTION,hb=new vb("Error peeking into the message payloads."));Z(this,this._ctx,this._msgCtx.getDebugContext(),$a,Xa,null,this._output,this._timeout,{result:function(mb){la.error(hb);},timeout:function(){la.timeout();},error:function(mb){db(la,function(){if(V(mb))return null;throw new kc("Error peeking into the message payloads.",mb,Va);},Ca);}});},Ca);}});},Ca);}function za(Oa){db(la,function(){Oa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Oa.messageHeader,this._timeout,{result:function(Fa){db(la,function(){var Va,$a,Xa,hb,mb;Va=Fa.builder;$a=Fa.tokenTicket;Xa=Oa.messageHeader;hb=new wa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Xa.isEncrypting() || Xa.keyResponseData)Ia(Xa,Va,hb,$a);else {mb=new Ea(this._ctrl,this._ctx,hb,null,this._input,this._output,Fa,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(la);}},Ca);},timeout:function(){la.timeout();},error:function(Fa){db(la,function(){var Va,$a,Xa,hb;if(V(Fa))return null;if(Fa instanceof cb){Va=Fa.messageId;$a=Fa.error;Xa=Oa.messageHeader.messageCapabilities;Xa=this._ctrl.messageRegistry.getUserMessage($a,Xa?Xa.languages:null);hb=Fa;}else (Va=requestHeader?requestHeader.messageId:null,$a=W.INTERNAL_EXCEPTION,Xa=null,hb=new vb("Error creating an automatic handshake response.",Fa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Va,$a,Xa,this._output,this._timeout,{result:function(mb){la.error(hb);},timeout:function(){la.timeout();},error:function(mb){db(la,function(){if(V(mb))return null;throw new kc("Error creating an automatic handshake response.",mb,Fa);},Ca);}});},Ca);}});},Ca);}function Ia(Oa,Fa,Va,$a){db(la,function(){Fa.setRenewable(!1);this._ctrl.send(this._ctx,Va,this._output,Fa,this._timeout,{result:function(Xa){db(la,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);return null;},Ca);},timeout:function(){db(la,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);la.timeout();},Ca);},error:function(Xa){db(la,function(){var hb,mb,ob,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);if(V(Xa))return null;if(Xa instanceof cb){hb=Xa.messageId;mb=Xa.error;ob=Oa?Oa.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);rb=Xa;}else Xa instanceof Vb?(hb=Oa?Oa.messageId:null,mb=W.MSL_COMMS_FAILURE,ob=null,rb=Xa):(hb=Oa?Oa.messageId:null,mb=W.INTERNAL_EXCEPTION,ob=null,rb=new vb("Error sending an automatic handshake response.",Xa));Z(this,this._ctx,this._msgCtx.getDebugContext(),hb,mb,ob,this._output,this._timeout,{result:function(sb){la.error(rb);},timeout:function(){la.timeout();},error:function(sb){db(la,function(){if(V(sb))return null;throw new kc("Error sending an automatic handshake response.",sb,Xa);},Ca);}});},Ca);}});},Ca);}Ca=this;db(la,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Oa){xa(Oa);},timeout:function(){la.timeout();},error:function(Oa){db(la,function(){var Fa,Va,$a,Xa;if(V(Oa))return null;if(Oa instanceof cb){Fa=Oa.messageId;Va=Oa.error;$a=this._ctrl.messageRegistry.getUserMessage(Va,null);Xa=Oa;}else (Fa=null,Va=W.INTERNAL_EXCEPTION,$a=null,Xa=new vb("Error receiving the message header.",Oa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Va,$a,this._output,this._timeout,{result:function(hb){la.error(Xa);},timeout:function(){la.timeout();},error:function(hb){db(la,function(){if(V(hb))return null;throw new kc("Error receiving the message header.",hb,Oa);},Ca);}});},Ca);}});},Ca);}});ea=Ab.Class.create({init:function(la,xa,za,Ia,Ca,Oa,Fa){Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},trustedNetworkExecute:function(la,xa,za){var Ia;Ia=this;db(za,function(){var Ca,Oa;if(12 < xa + 1)return !1;if(Ca=this._msgCtx.isIntegrityProtected() && !la.willIntegrityProtectHeader()?W.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !la.willEncryptPayloads()?W.RESPONSE_REQUIRES_ENCRYPTION:null){Oa=dd(la.getMessageId());Z(this,this._ctx,this._msgCtx.getDebugContext(),Oa,Ca,null,this._output,this._timeout,{result:function(Fa){za.result(!1);},timeout:function(){za.timeout();},error:function(Fa){db(za,function(){if(V(Fa))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Ca,Fa,null);},Ia);}});}else !this._msgCtx.getCustomer() || la.getMasterToken() || la.getKeyExchangeData()?(la.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,la,this._timeout,{result:function(Fa){za.result(!0);},timeout:function(){za.timeout();},error:function(Fa){za.error(Fa);}})):(Oa=dd(la.getMessageId()),Z(this,this._ctx,this._msgCtx.getDebugContext(),Oa,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Fa){za.result(!1);},timeout:function(){za.timeout();},error:function(Fa){db(za,function(){if(V(Fa))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Fa,null);},Ia);}}));},Ia);},peerToPeerExecute:function(la,xa,za,Ia){var Oa;function Ca(Fa){db(Ia,function(){var Va;Va=Fa.response;Va.close();Va=Va.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Fa.requestHeader,Va);this._ctrl.buildErrorResponse(this,this._ctx,la,Fa,Va,{result:function($a){db(Ia,function(){var Xa,hb;if(!$a)return !1;Xa=$a.errorResult;hb=$a.tokenTicket;this.peerToPeerExecute(Xa.msgCtx,Xa.builder,za,{result:function(mb){db(Ia,function(){this._ctrl.releaseMasterToken(hb);return mb;},Oa);},timeout:function(){db(Ia,function(){this._ctrl.releaseMasterToken(hb);Ia.timeout();},Oa);},error:function(mb){db(Ia,function(){this._ctrl.releaseMasterToken(hb);throw mb;},Oa);}});},Oa);}});},Oa);}Oa=this;db(Ia,function(){var Fa;if(12 < za + 2)return !1;if(null != la.getCustomer() && null == xa.getPeerMasterToken() && null == xa.getKeyExchangeData()){Fa=dd(xa.getMessageId());Z(this,this._ctx,la.getDebugContext(),Fa,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Va){Ia.result(!1);},timeout:function(){Ia.timeout();},error:function(Va){db(Ia,function(){if(V(Va))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Va,null);},Oa);}});}else this._ctrl.sendReceive(this._ctx,la,this._input,this._output,xa,this._timeout,!1,{result:function(Va){db(Ia,function(){var hb,mb,ob;function $a(){hb.read(32768,Oa._timeout,{result:function(rb){db(Ia,function(){rb?$a():Xa();},Oa);},timeout:function(){Ia.timeout();},error:function(rb){Ia.error(rb);}});}function Xa(){db(Ia,function(){var rb;rb=new Da(Va.payloads,la);this._ctrl.buildResponse(this,this._ctx,rb,mb,this._timeout,{result:function(sb){db(Ia,function(){var yb;yb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,za,{result:function(wb){db(Ia,function(){this._ctrl.releaseMasterToken(yb);return wb;},Oa);},timeout:function(){db(Ia,function(){this._ctrl.releaseMasterToken(yb);Ia.timeout();},Oa);},error:function(wb){db(Ia,function(){this._ctrl.releaseMasterToken(yb);throw wb;},Oa);}});},Oa);},timeout:function(){Ia.timeout();},error:function(sb){Ia.error(sb);}});},Oa);}hb=Va.response;za+=2;if(!hb)return !0;mb=hb.getMessageHeader();if(mb){ob=Va.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Va.handshake && ob)$a();else return !0;}else Ca(Va);},Oa);},timeout:function(){Ia.timeout();},error:function(Va){Ia.error(Va);}});},Oa);},call:function(la){var xa;xa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(za){db(la,function(){var Ia,Ca;Ia=za.builder;Ca=za.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ia,3,{result:function(Oa){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Oa;},xa);},timeout:function(){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);la.timeout();},xa);},error:function(Oa){db(la,function(){var Fa,Va,$a,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(V(Oa))return !1;Fa=dd(Ia.getMessageId());if(Oa instanceof cb){Va=Oa.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Va,$a?$a.languages:null);Xa=Oa;}else Oa instanceof Vb?(Va=W.MSL_COMMS_FAILURE,$a=null,Xa=Oa):(Va=W.INTERNAL_EXCEPTION,$a=null,Xa=new vb("Error sending the response.",Oa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Va,$a,this._output,this._timeout,{result:function(hb){la.error(Xa);},timeout:function(){la.timeout();},error:function(hb){db(la,function(){if(V(hb))return !1;throw new kc("Error sending the response.",hb,null);},xa);}});},xa);}}):this.trustedNetworkExecute(Ia,3,{result:function(Oa){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Oa;},xa);},timeout:function(){db(la,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);la.timeout();},xa);},error:function(Oa){db(la,function(){var Fa,Va,$a,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(V(Oa))return !1;Fa=dd(Ia.getMessageId());if(Oa instanceof cb){Va=Oa.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Va,$a?$a.languages:null);Xa=Oa;}else Oa instanceof Vb?(Va=W.MSL_COMMS_FAILURE,$a=null,Xa=Oa):(Va=W.INTERNAL_EXCEPTION,$a=null,Xa=new vb("Error sending the response.",Oa));Z(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Va,$a,this._output,this._timeout,{result:function(hb){la.error(Xa);},timeout:function(){la.timeout();},error:function(hb){db(la,function(){if(V(hb))return !1;throw new kc("Error sending the response.",hb,null);},xa);}});},xa);}});},xa);},timeout:function(){la.timeout();},error:function(za){db(la,function(){var Ia,Ca,Oa,Fa;if(V(za))return !1;if(za instanceof cb){Ia=za.messageId;Ca=za.error;Oa=this._request.messageCapabilities;Oa=this._ctrl.messageRegistry.getUserMessage(Ca,Oa?Oa.languages:null);Fa=za;}else (Ia=null,Ca=W.INTERNAL_EXCEPTION,Oa=null,Fa=new vb("Error building the response.",za));Z(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Ca,Oa,this._output,this._timeout,{result:function(Va){la.error(Fa);},timeout:function(){la.timeout();},error:function(Va){db(la,function(){if(V(Va))return null;throw new kc("Error building the response.",Va,za);},xa);}});},xa);}});}});na=Ab.Class.create({init:function(la,xa,za,Ia,Ca,Oa,Fa){Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},call:function(la){var xa;xa=this;db(la,function(){var za,Ia;if(this._appError == ENTITY_REJECTED)za=this._request.masterToken?W.MASTERTOKEN_REJECTED_BY_APP:W.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)za=this._request.userIdToken?W.USERIDTOKEN_REJECTED_BY_APP:W.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ia=this._request.messageCapabilities;Ia=this._ctrl.messageRegistry.getUserMessage(za,Ia?Ia.languages:null);Z(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,za,Ia,this._output,this._timeout,{result:function(Ca){la.result(Ca);},timeout:la.timeout,error:function(Ca){db(la,function(){if(V(Ca))return !1;if(Ca instanceof cb)throw Ca;throw new vb("Error building the error response.",Ca);},xa);}});},xa);}});Ha={result:function(){},timeout:function(){},error:function(){}};Ea=Ab.Class.create({init:function(la,xa,za,Ia,Ca,Oa,Fa,Va,$a){var Xa;if(Fa){Xa=Fa.builder;Fa=Fa.tokenTicket;}else Fa=Xa=null;Object.defineProperties(this,{_ctrl:{value:la,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_output:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Fa,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:$a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Va,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(la){this._abortFunc=la;},execute:function(la,xa,za,Ia,Ca){var Va;function Oa($a){function Xa(hb){db(Ca,function(){var mb;mb=$a.response;return hb?hb:mb;},Va);}db(Ca,function(){var hb,mb;hb=$a.response;hb.close();mb=hb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,$a.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,la,$a,mb,za,{result:function(ob){db(Ca,function(){var rb,sb,yb,wb;if(!ob)return hb;rb=ob.errorResult;sb=ob.tokenTicket;yb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,yb,this._timeout,Ia,{result:function(r){db(Ca,function(){this._ctrl.releaseMasterToken(sb);Xa(r);},Va);},timeout:function(){db(Ca,function(){this._ctrl.releaseMasterToken(sb);Ca.timeout();},Va);},error:function(r){db(Ca,function(){this._ctrl.releaseMasterToken(sb);Ca.error(r);},Va);}});else {this._openedStreams && (this._input.close(),this._output.close(za,Ha));wb=new Ea(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:yb,tokenTicket:sb},Ia,this._timeout);this.setAbort(function(){wb.abort();});wb.call({result:function(r){Xa(r);},timeout:function(){Ca.timeout();},error:function(r){Ca.error(r);}});}},Va);},timeout:function(){Ca.timeout();},error:function(ob){Ca.error(ob);}});},Va);}function Fa($a){db(Ca,function(){var mb,ob,rb,sb,yb;function Xa(){mb.read(32768,Va._timeout,{result:function(wb){wb?Xa():hb();},timeout:function(){Ca.timeout();},error:function(wb){Ca.error(wb);}});}function hb(){db(Ca,function(){var wb;wb=new Da($a.payloads,la);this._ctrl.buildResponse(this,this._ctx,la,ob,za,{result:function(r){db(Ca,function(){var b;b=r.tokenTicket;this.execute(wb,r.builder,this._timeout,Ia,{result:function(a){db(Ca,function(){this._ctrl.releaseMasterToken(b);return a;},Va);},timeout:function(){db(Ca,function(){this._ctrl.releaseMasterToken(b);Ca.timeout();},Va);},error:function(a){db(Ca,function(){this._ctrl.releaseMasterToken(b);throw a;},Va);}});},Va);},timeout:function(){Ca.timeout();},error:function(r){Ca.error(r);}});},Va);}mb=$a.response;ob=mb.getMessageHeader();rb=$a.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!$a.handshake || !rb)return mb;this._openedStreams && (this._input.close(),this._output.close(za,Ha));sb=new Da($a.payloads,la);this._ctrl.buildResponse(this,this._ctx,la,ob,za,{result:function(wb){db(Ca,function(){var r;r=new Ea(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,wb,Ia,this._timeout);this.setAbort(function(){r.abort();});r.call(Ca);},Va);},timeout:function(){Ca.timeout();},error:function(wb){Ca.error(wb);}});}else if($a.handshake && rb)Xa();else if(0 < ob.keyRequestData.length){yb=new wa(la);this._ctrl.buildResponse(this,this._ctx,yb,ob,za,{result:function(wb){db(Ca,function(){var r,b;r=wb.builder;b=wb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){db(Ca,function(){function c(){mb.read(32768,Va._timeout,{result:function(l){l?c():f();},timeout:function(){Ca.timeout();},error:function(l){Ca.error(l);}});}function f(){Va.execute(yb,r,Va._timeout,Ia,{result:function(l){db(Ca,function(){this._ctrl.releaseMasterToken(b);return l;},Va);},timeout:function(){db(Ca,function(){this._ctrl.releaseMasterToken(b);Ca.timeout();},Va);},error:function(l){db(Ca,function(){this._ctrl.releaseMasterToken(b);throw l;},Va);}});}if(a){if((mb.reset(),12 >= Ia + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,yb,this._output,r,this._timeout,{result:function(l){db(Ca,function(){this.releaseMasterToken(b);return mb;},Va);},timeout:function(){Ca.timeout();},error:function(l){Ca.error(l);}}));else return (this.releaseMasterToken(b),mb);}else c();},Va);},timeout:function(){db(Ca,function(){this.releaseMasterToken(b);Ca.timeout();},Va);},error:function(a){db(Ca,function(){this.releaseMasterToken(b);throw a;},Va);}});},Va);},timeout:function(){Ca.timeout();},error:function(wb){Ca.error(wb);}});}},Va);}Va=this;db(Ca,function(){if(12 < Ia + 2)return null;this._ctrl.sendReceive(this,this._ctx,la,this._input,this._output,xa,za,!0,{result:function($a){db(Ca,function(){var Xa;if(!$a)return null;Xa=$a.response;Ia+=2;Xa.getMessageHeader()?Fa($a):Oa($a);},Va);},timeout:function(){Ca.timeout();},error:function($a){Ca.error($a);}});},Va);},call:function(la){var za;function xa(Ia,Ca,Oa){db(la,function(){this.execute(this._msgCtx,Ia,Oa,this._msgCount,{result:function(Fa){db(la,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && this._output.close(Oa,Ha);Fa && Fa.closeSource(this._openedStreams);return Fa;},za);},timeout:function(){db(la,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Oa,Ha),this._input.close());la.timeout();},za);},error:function(Fa){db(la,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Oa,Ha),this._input.close());if(V(Fa))return null;throw Fa;},za);}});},za);}za=this;db(la,function(){var Ia,Ca,Oa;Ia=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ca=Date.now();Oa=this._remoteEntity.openConnection();this._output=Oa.output;this._input=Oa.input;-1 != Ia && (Ia=this._timeout - (Date.now() - Ca));this._openedStreams=!0;}catch(Fa){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ha);this._input && this._input.close();if(V(Fa))return null;throw Fa;}this._builder?xa(this._builder,this._tokenTicket,Ia):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Fa){db(la,function(){xa(Fa.builder,Fa.tokenTicket,Ia);},za);},timeout:function(){db(la,function(){this._openedStreams && (this._output.close(this._timeout,Ha),this._input.close());la.timeout();},za);},error:function(Fa){db(la,function(){this._openedStreams && (this._output.close(this._timeout,Ha),this._input.close());if(V(Fa))return null;throw Fa;},za);}});},za);}});})();(function(){pe=Ab.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof pe?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});sf=function(ha){var aa;aa=ha.id;if(!aa)throw new xb(W.JSON_PARSE_ERROR,JSON.stringify(ha));return new pe(aa);};})();Ab.Class.create({isNewestMasterToken:function(ha,aa,ca){},isMasterTokenRevoked:function(ha,aa){},acceptNonReplayableId:function(ha,aa,ca,ia){},createMasterToken:function(ha,aa,ca,ia,fa){},isMasterTokenRenewable:function(ha,aa,ca){},renewMasterToken:function(ha,aa,ca,ia,fa){},isUserIdTokenRevoked:function(ha,aa,ca,ia){},createUserIdToken:function(ha,aa,ca,ia){},renewUserIdToken:function(ha,aa,ca,ia){}});(function(){function ha(aa,ca,ia,fa){this.sessiondata=aa;this.tokendata=ca;this.signature=ia;this.verified=fa;}ic=Ab.Class.create({init:function(aa,ca,ia,fa,V,Z,ta,qa,va,Da,wa){var ra;ra=this;La(wa,function(){var Y,ba,ea,na,Ha;if(ia.getTime() < ca.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > fa || fa > Mb)throw new vb("Sequence number " + fa + " is outside the valid range.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");Y=Math.floor(ca.getTime() / 1E3);ba=Math.floor(ia.getTime() / 1E3);if(Da)ea=Da.sessiondata;else {na={};Z && (na.issuerdata=Z);na.identity=ta;na.encryptionkey=Db(qa.toByteArray());na.hmackey=Db(va.toByteArray());ea=Rb(JSON.stringify(na),Lb);}if(Da)return (Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},identity:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:qa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:Da.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Da.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ha=aa.getMslCryptoContext();Ha.encrypt(ea,{result:function(Ea){La(wa,function(){var Pa,Ta;Pa={};Pa.renewalwindow=Y;Pa.expiration=ba;Pa.sequencenumber=fa;Pa.serialnumber=V;Pa.sessiondata=Db(Ea);Ta=Rb(JSON.stringify(Pa),Lb);Ha.sign(Ta,{result:function(la){La(wa,function(){Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:V,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},identity:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:qa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(la){wa.error(la);}});},ra);},error:function(Ea){wa.error(Ea);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(aa){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(aa){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(aa){var ca;if(this.sequenceNumber == aa.sequenceNumber)return this.expiration > aa.expiration;if(this.sequenceNumber > aa.sequenceNumber){ca=this.sequenceNumber - Mb + 127;return aa.sequenceNumber >= ca;}ca=aa.sequenceNumber - Mb + 127;return this.sequenceNumber < ca;},toJSON:function(){var aa;aa={};aa.tokendata=Db(this.tokendata);aa.signature=Db(this.signature);return aa;},equals:function(aa){return this === aa?!0:aa instanceof ic?this.serialNumber == aa.serialNumber && this.sequenceNumber == aa.sequenceNumber && this.expiration.getTime() == aa.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Qc=function(aa,ca,ia){La(ia,function(){var fa,V,Z,ta,qa;fa=aa.getMslCryptoContext();V=ca.tokendata;Z=ca.signature;if("string" !== typeof V || "string" !== typeof Z)throw new xb(W.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(ca));try{ta=Fb(V);}catch(va){throw new cb(W.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(ca),va);}if(!ta || 0 == ta.length)throw new xb(W.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(ca));try{qa=Fb(Z);}catch(va){throw new cb(W.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(ca),va);}fa.verify(ta,qa,{result:function(va){La(ia,function(){var Da,wa,ra,Y,ba,ea,na,Ha,Ea,Pa;Da=Tb(ta,Lb);try{wa=JSON.parse(Da);ra=parseInt(wa.renewalwindow);Y=parseInt(wa.expiration);ba=parseInt(wa.sequencenumber);ea=parseInt(wa.serialnumber);na=wa.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new xb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Da,Ta);throw Ta;}if(!ra || ra != ra || !Y || Y != Y || "number" !== typeof ba || ba != ba || "number" !== typeof ea || ea != ea || "string" !== typeof na)throw new xb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Da);if(Y < ra)throw new cb(W.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Da);if(0 > ba || ba > Mb)throw new cb(W.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Da);if(0 > ea || ea > Mb)throw new cb(W.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Da);Ha=new Date(1E3 * ra);Ea=new Date(1E3 * Y);try{Pa=Fb(na);}catch(Ta){throw new cb(W.MASTERTOKEN_SESSIONDATA_INVALID,na,Ta);}if(!Pa || 0 == Pa.length)throw new cb(W.MASTERTOKEN_SESSIONDATA_MISSING,na);va?fa.decrypt(Pa,{result:function(Ta){La(ia,function(){var la,xa,za,Ia,Ca,Oa;la=Tb(Ta,Lb);try{xa=JSON.parse(la);za=xa.issuerdata;Ia=xa.identity;Ca=xa.encryptionkey;Oa=xa.hmackey;}catch(Fa){if(Fa instanceof SyntaxError)throw new xb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + la,Fa);throw Fa;}if(za && "object" !== typeof za || !Ia || "string" !== typeof Ca || "string" !== typeof Oa)throw new xb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + la);zc(Ca,sc,Hc,{result:function(Fa){zc(Oa,tc,Pc,{result:function(Va){La(ia,function(){var $a;$a=new ha(Ta,ta,qa,va);new ic(aa,Ha,Ea,ba,ea,za,Ia,Fa,Va,$a,ia);});},error:function(Va){ia.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Va));}});},error:function(Fa){ia.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Fa));}});});},error:function(Ta){ia.error(Ta);}}):(ra=new ha(null,ta,qa,va),new ic(aa,Ha,Ea,ba,ea,null,null,null,null,ra,ia));});},error:function(va){ia.error(va);}});});};})();(function(){function ha(aa,ca,ia){this.tokendata=aa;this.signature=ca;this.verified=ia;}ad=Ab.Class.create({init:function(aa,ca,ia,fa,V,Z,ta,qa,va){var Da;Da=this;La(va,function(){var wa,ra,Y,ba,ea,na,Ha;if(ia.getTime() < ca.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!fa)throw new vb("Cannot construct a user ID token without a master token.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");wa=Math.floor(ca.getTime() / 1E3);ra=Math.floor(ia.getTime() / 1E3);Y=fa.serialNumber;if(qa){ba=qa.tokendata;ea=qa.signature;na=qa.verified;Y=fa.serialNumber;Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ra,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},customer:{value:ta,writable:!1,configurable:!1},verified:{value:na,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;}ba={};Z && (ba.issuerdata=Z);ba.identity=ta;ba=Rb(JSON.stringify(ba),Lb);Ha=aa.getMslCryptoContext();Ha.encrypt(ba,{result:function(Ea){La(va,function(){var Pa,Ta;Pa={};Pa.renewalwindow=wa;Pa.expiration=ra;Pa.mtserialnumber=Y;Pa.serialnumber=V;Pa.userdata=Db(Ea);Ta=Rb(JSON.stringify(Pa),Lb);Ha.sign(Ta,{result:function(la){La(va,function(){Object.defineProperties(this,{ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ra,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:fa.serialNumber,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:Z,writable:!1,configurable:!1},customer:{value:ta,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;},Da);},error:function(la){La(va,function(){la instanceof cb && la.setEntity(fa);throw la;},Da);}});},Da);},error:function(Ea){La(va,function(){Ea instanceof cb && Ea.setEntity(fa);throw Ea;},Da);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(aa){return aa && aa.serialNumber == this.mtSerialNumber;},toJSON:function(){var aa;aa={};aa.tokendata=Db(this.tokendata);aa.signature=Db(this.signature);return aa;},equals:function(aa){return this === aa?!0:aa instanceof ad?this.serialNumber == aa.serialNumber && this.mtSerialNumber == aa.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Rc=function(aa,ca,ia,fa){La(fa,function(){var V,Z,ta,qa,va;V=aa.getMslCryptoContext();Z=ca.tokendata;ta=ca.signature;if("string" !== typeof Z || "string" !== typeof ta)throw new xb(W.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(ca)).setEntity(ia);try{qa=Fb(Z);}catch(Da){throw new cb(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ca),Da).setEntity(ia);}if(!qa || 0 == qa.length)throw new xb(W.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(ca)).setEntity(ia);try{va=Fb(ta);}catch(Da){throw new cb(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ca),Da).setEntity(ia);}V.verify(qa,va,{result:function(Da){La(fa,function(){var wa,ra,Y,ba,ea,na,Ha,Ea,Pa,Ta;wa=Tb(qa,Lb);try{ra=JSON.parse(wa);Y=parseInt(ra.renewalwindow);ba=parseInt(ra.expiration);ea=parseInt(ra.mtserialnumber);na=parseInt(ra.serialnumber);Ha=ra.userdata;}catch(la){if(la instanceof SyntaxError)throw new xb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa,la).setEntity(ia);throw la;}if(!Y || Y != Y || !ba || ba != ba || "number" !== typeof ea || ea != ea || "number" !== typeof na || na != na || "string" !== typeof Ha)throw new xb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa).setEntity(ia);if(ba < Y)throw new cb(W.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + wa).setEntity(ia);if(0 > ea || ea > Mb)throw new cb(W.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ia);if(0 > na || na > Mb)throw new cb(W.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ia);Ea=new Date(1E3 * Y);Pa=new Date(1E3 * ba);if(!ia || ea != ia.serialNumber)throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea + "; mt " + JSON.stringify(ia)).setEntity(ia);try{Ta=Fb(Ha);}catch(la){throw new cb(W.USERIDTOKEN_USERDATA_INVALID,Ha,la).setEntity(ia);}if(!Ta || 0 == Ta.length)throw new cb(W.USERIDTOKEN_USERDATA_MISSING,Ha).setEntity(ia);Da?V.decrypt(Ta,{result:function(la){La(fa,function(){var xa,za,Ia,Ca,Oa;xa=Tb(la,Lb);try{za=JSON.parse(xa);Ia=za.issuerdata;Ca=za.identity;}catch(Fa){if(Fa instanceof SyntaxError)throw new xb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(ia);throw Fa;}if(Ia && "object" !== typeof Ia || "object" !== typeof Ca)throw new xb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(ia);try{Oa=sf(Ca);}catch(Fa){throw new cb(W.USERIDTOKEN_IDENTITY_INVALID,"userdata " + xa,Fa).setEntity(ia);}Ca=new ha(qa,va,Da);new ad(aa,Ea,Pa,ia,na,Ia,Oa,Ca,fa);});},error:function(la){La(fa,function(){la instanceof cb && la.setEntity(ia);throw la;});}}):(Y=new ha(qa,va,Da),new ad(aa,Ea,Pa,ia,na,null,null,Y,fa));});},error:function(Da){La(fa,function(){Da instanceof cb && Da.setEntity(ia);throw Da;});}});});};})();(function(){function ha(ca,ia){var fa,V,Z;fa=ca.tokendata;if("string" !== typeof fa)throw new xb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ca));try{V=Fb(fa);}catch(ta){throw new cb(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ca),ta);}if(!V || 0 == V.length)throw new xb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ca));try{Z=JSON.parse(Tb(V,Lb)).name;}catch(ta){if(ta instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ca),ta);throw ta;}if(!Z)throw new xb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ca));return ia[Z]?ia[Z]:ia[""];}function aa(ca,ia,fa){this.tokendata=ca;this.signature=ia;this.verified=fa;}Jc=Ab.Class.create({init:function(ca,ia,fa,V,Z,ta,qa,va,Da,wa){var ra;ra=this;La(wa,function(){var Y,ba,ea,na,Ha;if(V && Z && !Z.isBoundTo(V))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");Y=V?V.serialNumber:-1;ba=Z?Z.serialNumber:-1;if(Da)return (Ha=Da.tokendata,Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ta,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:Da.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ha,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(qa){ea=oe(qa,fa);ea.length < fa.length || (qa=null,ea=fa);}else (qa=null,ea=fa);na={};na.name=ia;-1 != Y && (na.mtserialnumber=Y);-1 != ba && (na.uitserialnumber=ba);na.encrypted=ta;qa && (na.compressionalgo=qa);if(ta && 0 < ea.length)va.encrypt(ea,{result:function(Ea){La(wa,function(){var Pa;na.servicedata=Db(Ea);Pa=Rb(JSON.stringify(na),Lb);va.sign(Pa,{result:function(Ta){La(wa,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ta,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Pa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(Ta){La(wa,function(){Ta instanceof cb && (Ta.setEntity(V),Ta.setUser(Z));throw Ta;});}});},ra);},error:function(Ea){La(wa,function(){Ea instanceof cb && (Ea.setEntity(V),Ea.setUser(Z));throw Ea;});}});else {na.servicedata=Db(ea);Ha=Rb(JSON.stringify(na),Lb);va.sign(Ha,{result:function(Ea){La(wa,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ta,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ha,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(Ea){La(wa,function(){Ea instanceof cb && (Ea.setEntity(V),Ea.setUser(Z));throw Ea;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(ca){return ca?ca instanceof ic?ca.serialNumber == this.mtSerialNumber:ca instanceof ad?ca.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Db(this.tokendata);ca.signature=Db(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof Jc?this.name == ca.name && this.mtSerialNumber == ca.mtSerialNumber && this.uitSerialNumber == ca.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Dc=function(ca,ia,fa,V,Z,ta,qa,va,Da){new Jc(ca,ia,fa,V,Z,ta,qa,va,null,Da);};Hd=function(ca,ia,fa,V,Z,ta){La(ta,function(){var qa,va,Da,wa,ra,Y,ba,ea,na,Ha,Ea,Pa,Ta;!Z || Z instanceof bd || (Z=ha(ia,Z));qa=ia.tokendata;va=ia.signature;if("string" !== typeof qa || "string" !== typeof va)throw new xb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ia)).setEntity(fa).setEntity(V);try{Da=Fb(qa);}catch(la){throw new cb(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ia),la).setEntity(fa).setEntity(V);}if(!Da || 0 == Da.length)throw new xb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ia)).setEntity(fa).setEntity(V);try{wa=Fb(va);}catch(la){throw new cb(W.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ia),la).setEntity(fa).setEntity(V);}ra=Tb(Da,Lb);try{Y=JSON.parse(ra);ba=Y.name;ea=Y.mtserialnumber?parseInt(Y.mtserialnumber):-1;na=Y.uitserialnumber?parseInt(Y.uitserialnumber):-1;Ha=Y.encrypted;Ea=Y.compressionalgo;Pa=Y.servicedata;}catch(la){if(la instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"servicetokendata " + ra,la).setEntity(fa).setEntity(V);throw la;}if(!ba || "number" !== typeof ea || ea != ea || "number" !== typeof na || na != na || "boolean" !== typeof Ha || Ea && "string" !== typeof Ea || "string" !== typeof Pa)throw new xb(W.JSON_PARSE_ERROR,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(Y.mtserialnumber && 0 > ea || ea > Mb)throw new cb(W.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(Y.uitserialnumber && 0 > na || na > Mb)throw new cb(W.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(-1 != ea && (!fa || ea != fa.serialNumber))throw new cb(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ea + "; mt " + fa).setEntity(fa).setEntity(V);if(-1 != na && (!V || na != V.serialNumber))throw new cb(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + na + "; uit " + V).setEntity(fa).setEntity(V);Ha=!0 === Ha;if(Ea){if(!Mc[Ea])throw new cb(W.UNIDENTIFIED_COMPRESSION,Ea);Ta=Ea;}else Ta=null;Z?Z.verify(Da,wa,{result:function(la){La(ta,function(){var xa,za;if(la){try{xa=Fb(Pa);}catch(Ia){throw new cb(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ra,Ia).setEntity(fa).setEntity(V);}if(!xa || 0 != Pa.length && 0 == xa.length)throw new cb(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ra).setEntity(fa).setEntity(V);if(Ha && 0 < xa.length)Z.decrypt(xa,{result:function(Ia){La(ta,function(){var Ca,Oa;Ca=Ta?Id(Ta,Ia):Ia;Oa=new aa(Da,wa,la);new Jc(ca,ba,Ca,-1 != ea?fa:null,-1 != na?V:null,Ha,Ta,Z,Oa,ta);});},error:function(Ia){La(ta,function(){Ia instanceof cb && (Ia.setEntity(fa),Ia.setUser(V));throw Ia;});}});else {xa=Ta?Id(Ta,xa):xa;za=new aa(Da,wa,la);new Jc(ca,ba,xa,-1 != ea?fa:null,-1 != na?V:null,Ha,Ta,Z,za,ta);}}else (xa="" == Pa?new Uint8Array(0):null,za=new aa(Da,wa,la),new Jc(ca,ba,xa,-1 != ea?fa:null,-1 != na?V:null,Ha,Ta,Z,za,ta));});},error:function(la){La(ta,function(){la instanceof cb && (la.setEntity(fa),la.setUser(V));throw la;});}}):(qa="" == Pa?new Uint8Array(0):null,va=new aa(Da,wa,!1),new Jc(ca,ba,qa,-1 != ea?fa:null,-1 != na?V:null,Ha,Ta,Z,va,ta));});};})();ac={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(ac);(function(){Gc=Ab.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof Gc?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});gf=function(ha,aa,ca,ia){La(ia,function(){var fa,V,Z;fa=ca.scheme;V=ca.authdata;if(!fa || !V)throw new xb(W.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(ca));if(!ac[fa])throw new Gb(W.UNIDENTIFIED_USERAUTH_SCHEME,fa);Z=ha.getUserAuthenticationFactory(fa);if(!Z)throw new Gb(W.USERAUTH_FACTORY_NOT_FOUND,fa);Z.createData(ha,aa,V,ia);});};})();od=Ab.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,aa,ca,ia){},authenticate:function(ha,aa,ca,ia){}});(function(){Uc=Gc.extend({init:function ia(aa,ca){ia.base.call(this,ac.NETFLIXID);Object.defineProperties(this,{netflixId:{value:aa,writable:!1,configurable:!1},secureNetflixId:{value:ca,writable:!1,configurable:!1}});},getAuthData:function(){var aa;aa={};aa.netflixid=this.netflixId;this.secureNetflixId && (aa.securenetflixid=this.secureNetflixId);return aa;},equals:function ia(ca){return this === ca?!0:ca instanceof Uc?ia.base.call(this,ca) && this.netflixId == ca.netflixId && this.secureNetflixId == ca.secureNetflixId:!1;}});tf=function(ca){var ia,fa;ia=ca.netflixid;fa=ca.securenetflixid;if(!ia)throw new xb(W.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(ca));return new Uc(ia,fa);};})();Wf=od.extend({init:function aa(){aa.base.call(this,ac.NETFLIXID);},createData:function(aa,ca,ia,fa){La(fa,function(){return tf(ia);});},authenticate:function(aa,ca,ia,fa){if(!(ia instanceof Uc))throw new vb("Incorrect authentication data type " + ia + ".");aa=ia.secureNetflixId;if(!ia.netflixId || !aa)throw new Gb(W.NETFLIXID_COOKIES_BLANK).setUser(ia);throw new Gb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ia);}});(function(){pd=Gc.extend({init:function fa(ca,ia){fa.base.call(this,ac.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:ca,writable:!1,configurable:!1},password:{value:ia,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.email=this.email;ca.password=this.password;return ca;},equals:function fa(ia){return this === ia?!0:ia instanceof pd?fa.base.call(this,this,ia) && this.email == ia.email && this.password == ia.password:!1;}});uf=function(ia){var fa,V;fa=ia.email;V=ia.password;if(!fa || !V)throw new xb(W.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ia));return new pd(fa,V);};})();Xf=od.extend({init:function ca(){ca.base.call(this,ac.EMAIL_PASSWORD);},createData:function(ca,ia,fa,V){La(V,function(){return uf(fa);});},authenticate:function(ca,ia,fa,V){if(!(fa instanceof pd))throw new vb("Incorrect authentication data type " + fa + ".");ca=fa.password;if(!fa.email || !ca)throw new Gb(W.EMAILPASSWORD_BLANK).setUser(fa);throw new Gb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(fa);}});(function(){var V,Z,ta,qa,va,Da,wa,ra;function ca(Y,ba){return "<" + Y + ">" + ba + "</" + Y + ">";}function ia(Y){return Y.replace(/[<>&"']/g,function(ba){return va[ba];});}function fa(Y){return encodeURIComponent(Y).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}V=Ld={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};Z=Ab.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});ta=qe=Z.extend({init:function(Y,ba,ea,na,Ha,Ea,Pa){var xa;function Ta(za){La(Pa,function(){var Ia,Ca;try{Ia={};Ia.useridtoken=Y;Ia.action=ba;Ia.nonce=ea;Ia.pin=Db(za);Ca=Rb(JSON.stringify(Ia),Lb);}catch(Oa){throw new xb(W.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Oa);}Ha.sign(Ca,{result:function(Oa){la(Ca,Oa);},error:Pa.error});},xa);}function la(za,Ia){La(Pa,function(){Object.defineProperties(this,{_userIdToken:{value:Y,writable:!1,enumerable:!1,configurable:!1},_action:{value:ba,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ea,writable:!1,enumerable:!1,configurable:!1},_pin:{value:na,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:za,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ia,writable:!1,enumerable:!1,configurable:!1}});return this;},xa);}xa=this;La(Pa,function(){Ea?la(Ea.encoding,Ea.signature):Ha.encrypt(Rb(na,Lb),{result:function(za){Ta(za);},error:Pa.error});},xa);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(Y){return this === Y?!0:Y instanceof ta?this._action == Y._action && this._nonce == Y._nonce && this._pin == Y._pin && this._userIdToken.equals(Y._userIdToken):!1;}});qe.ACTION="userauth";qa=function(Y,ba,ea,na,Ha){function Ea(Ta){La(Ha,function(){var la,xa,za,Ia,Ca,Oa;la=Tb(ea,Lb);try{xa=JSON.parse(la);za=xa.useridtoken;Ia=xa.action;Ca=xa.nonce;Oa=xa.pin;}catch(Fa){if(Fa instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"MDX authdata " + la,Fa);throw Fa;}if(!(za && "object" === typeof za && Ia && "string" === typeof Ia && Ca && "number" === typeof Ca && Oa) || "string" !== typeof Oa)throw new xb(W.JSON_PARSE_ERROR,"MDX authdata " + la);Rc(Y,za,ba,{result:function(Fa){La(Ha,function(){if(!Fa.isDecrypted())throw new Gb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + la);Pa(Ta,Fa,Ia,Ca,Oa);});},error:function(Fa){La(Ha,function(){if(Fa instanceof cb)throw new Gb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + la,Fa);throw Fa;});}});});}function Pa(Ta,la,xa,za,Ia){La(Ha,function(){var Ca;Ca=Fb(Ia);Ta.decrypt(Ca,{result:function(Oa){La(Ha,function(){var Fa;Fa=Tb(Oa,Lb);new ta(la,xa,za,Fa,null,{encoding:ea,signature:na},Ha);});},error:Ha.error});});}La(Ha,function(){var Ta,la;try{Ta=Y.getMslStore().getCryptoContext(ba);la=Ta?Ta:new jc(Y,ba);}catch(xa){if(xa instanceof Oc)throw new Gb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(ea));throw xa;}la.verify(ea,na,{result:function(xa){La(Ha,function(){if(!xa)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ea));Ea(la);});},error:Ha.error});});};va={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Da=qd=Z.extend({init:function(Y,ba,ea,na){var Ha,Ea;Ha=ca("action",ia(Y));Ea=ca("nonce",ba.toString());ea=ca("pin",ea);Ha=ca("registerdata",Ha + Ea + ea);Ha=Rb(Ha,"utf-8");Object.defineProperties(this,{_action:{value:Y,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ba,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(Y){return this === Y?!0:Y instanceof Da?this._action == Y._action && this._nonce == Y._nonce && this._pin == Y._pin:!1;}});qd.ACTION="regpairrequest";wa=re=Z.extend({init:function(Y,ba,ea,na,Ha,Ea){var la;function Pa(xa){La(Ea,function(){var za,Ia,Ca,Oa,Fa;za=Db(xa);Ia=ca("action",ia(Y));Ca=ca("nonce",ba.toString());Oa=ca("pin",za);Ia=ca("registerdata",Ia + Ca + Oa);Fa=Rb(Ia,"utf-8");za="action=" + fa(Y) + "&nonce=" + fa(ba.toString()) + "&pin=" + fa(za);na.sign(Rb(za,"utf-8"),{result:function(Va){Ta(Fa,Va);},error:Ea.error});},la);}function Ta(xa,za){La(Ea,function(){Object.defineProperties(this,{_action:{value:Y,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ba,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ea,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:xa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:za,writable:!1,enumerable:!1,configurable:!1}});return this;},la);}la=this;La(Ea,function(){Ha?Ta(Ha.encoding,Ha.signature):na.encrypt(Rb(ea,"utf-8"),{result:function(xa){Pa(xa);},error:Ea.error});},la);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(Y){return this === Y?!0:Y instanceof wa?this._action == Y._action && this._nonce == Y._nonce && this._pin == Y._pin:!1;}});re.ACTION=qd.ACTION;ra=function(Y,ba,ea,na,Ha){La(Ha,function(){var Ea,Pa,Ta,la,xa,za,Ia;Ea=Y.getMslStore().getCryptoContext(ba);Pa=Ea?Ea:new jc(Y,ba);Ea=Tb(ea,"utf-8");Ta=new DOMParser().parseFromString(Ea,"application/xml");Ea=Ta.getElementsByTagName("action");la=Ta.getElementsByTagName("nonce");Ta=Ta.getElementsByTagName("pin");xa=Ea && 1 == Ea.length && Ea[0].firstChild?Ea[0].firstChild.nodeValue:null;za=la && 1 == la.length && la[0].firstChild?parseInt(la[0].firstChild.nodeValue):null;Ia=Ta && 1 == Ta.length && Ta[0].firstChild?Ta[0].firstChild.nodeValue:null;if(!xa || !za || !Ia)throw new xb(W.XML_PARSE_ERROR,"MDX authdata " + Db(ea));Ea="action=" + fa(xa) + "&nonce=" + fa(za.toString()) + "&pin=" + fa(Ia);Pa.verify(Rb(Ea,"utf-8"),na,{result:function(Ca){La(Ha,function(){var Oa;if(!Ca)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ea));Oa=Fb(Ia);Pa.decrypt(Oa,{result:function(Fa){La(Ha,function(){var Va;Va=Tb(Fa,"utf-8");new wa(xa,za,Va,null,{encoding:ea,signature:na},Ha);});},error:Ha.error});});},error:Ha.error});});};ed=Gc.extend({init:function Ta(ba,ea,na,Ha,Ea,Pa){var la,xa,za,Ia,Ca,Oa;Ta.base.call(this,ac.MDX);la=null;xa=null;za=null;if("string" === typeof na)(ba=V.MSL_LEGACY,za=na);else if(na instanceof Uint8Array)(ba=V.NTBA,xa=na);else if(na instanceof ic)(ba=V.MSL,la=na);else throw new TypeError("Controller token " + na + " is not a master token, encrypted CTicket, or MSL token construct.");Ia=na=null;Ca=null;if(Pa){Oa=Pa.controllerAuthData;na=Oa.getAction();Ia=Oa.getPin();Pa=Pa.userIdToken;Oa instanceof ta?Ca=Oa.getUserIdToken().customer:Pa && (Ca=Pa.customer);}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},action:{value:na,writable:!1,configurable:!1},targetPin:{value:ea,writable:!1,configurable:!1},controllerPin:{value:Ia,writable:!1,configurable:!1},customer:{value:Ca,writable:!1,configurable:!1},_masterToken:{value:la,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:xa,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:za,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var ba,ea;ba={};switch(this.mechanism){case V.MSL:ea=JSON.parse(JSON.stringify(this._masterToken));ba.mastertoken=ea;break;case V.NTBA:ea=Tb(this._encryptedCTicket,"utf-8");ba.cticket=ea;break;case V.MSL_LEGACY:ba.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}ba.pin=this.targetPin;ba.mdxauthdata=Db(this._controllerEncoding);ba.signature=Db(this._signature);return ba;},equals:function na(ea){return this === ea?!0:ea instanceof ed?na.base.call(this,ea) && (this._masterToken == ea._masterToken || this._masterToken && this._masterToken.equals(ea._masterToken)) && (this._encryptedCTicket == ea._encryptedCTicket || this._encryptedCTicket && Wb(this._encryptedCTicket,ea._encryptedCTicket)) && this._mslTokens == ea._mslTokens && Wb(this._controllerEncoding,ea._controllerEncoding) && Wb(this._signature,ea._signature):!1;}});vf=function(ea,na,Ha){function Ea(la,xa,za,Ia){Qc(ea,xa,{result:function(Ca){La(Ha,function(){if(!Ca.isDecrypted())throw new Gb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());qa(ea,Ca,za,Ia,{result:function(Oa){La(Ha,function(){var Fa,Va;Fa=Oa.getEncoding();Va=Oa.getSignature();return new ed(ea,la,Ca,Fa,Va,{controllerAuthData:Oa,userIdToken:null});});},error:Ha.error});});},error:function(Ca){La(Ha,function(){if(Ca instanceof cb)throw new Gb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),Ca);throw Ca;});}});}function Pa(la,xa,za,Ia){La(Ha,function(){throw new Gb(W.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ta(la,xa,za,Ia){function Ca(Fa,Va){La(Va,function(){var $a,Xa;try{$a=Fb(Fa);}catch(hb){throw new Gb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),hb);}if(!$a || 0 == $a.length)throw new Gb(W.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{Xa=JSON.parse(Tb($a,"utf-8"));Qc(ea,Xa,{result:function(hb){La(Va,function(){if(!hb.isDecrypted())throw new Gb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());return hb;});},error:function(hb){La(Va,function(){if(hb instanceof cb)throw new Gb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),hb);throw hb;});}});}catch(hb){if(hb instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),hb);throw hb;}});}function Oa(Fa,Va,$a){La($a,function(){var Xa,hb;try{Xa=Fb(Fa);}catch(mb){throw new Gb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);}if(!Xa || 0 == Xa.length)throw new Gb(W.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{hb=JSON.parse(Tb(Xa,"utf-8"));Rc(ea,hb,Va,{result:function(mb){La($a,function(){if(!mb.isDecrypted())throw new Gb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na));return mb;});},error:function(mb){La($a,function(){if(mb instanceof cb)throw new Gb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);throw mb;});}});}catch(mb){if(mb instanceof SyntaxError)throw new xb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),mb);throw mb;}});}La(Ha,function(){var Fa;Fa=xa.split(",");if(3 != Fa.length || "1" != Fa[0])throw new Gb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));Ca(Fa[1],{result:function(Va){Oa(Fa[2],Va,{result:function($a){ra(ea,Va,za,Ia,{result:function(Xa){La(Ha,function(){return new ed(ea,la,xa,za,Ia,{controllerAuthData:Xa,userIdToken:$a});});},error:function(Xa){La(Ha,function(){if(Xa instanceof Oc)throw new Gb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na),Xa);throw Xa;});}});},error:Ha.error});},error:Ha.error});});}La(Ha,function(){var la,xa,za,Ia,Ca;la=na.pin;xa=na.mdxauthdata;za=na.signature;if(!la || "string" !== typeof la || !xa || "string" !== typeof xa || !za || "string" !== typeof za)throw new xb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));try{Ia=Fb(xa);Ca=Fb(za);}catch(Oa){throw new Gb(W.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(na),Oa);}if(na.mastertoken){xa=na.mastertoken;if(!xa || "object" !== typeof xa)throw new xb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));Ea(la,xa,Ia,Ca);}else if(na.cticket){xa=na.cticket;if(!xa || "string" !== typeof xa)throw new xb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));-1 == xa.indexOf(",")?Pa(la,xa,Ia,Ca):Ta(la,xa,Ia,Ca);}else throw new Gb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));});};})();(function(){var ca,ia,fa;ca=qe.ACTION;ia=qd.ACTION;fa=re.ACTION;wf=od.extend({init:function Z(){Z.base.call(this,ac.MDX);},createData:function(Z,ta,qa,va){vf(Z,qa,va);},authenticate:function(Z,ta,qa,va){if(!(qa instanceof ed))throw new vb("Incorrect authentication data type " + qa.getClass().getName() + ".");Z=qa.action;switch(qa.mechanism){case Ld.MSL:if(ca != Z)throw new Gb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);break;case Ld.NTBA:if(ia != Z)throw new Gb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);break;case Ld.MSL_LEGACY:if(fa != Z)throw new Gb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);}Z=qa.controllerPin;ta=qa.targetPin;if(!Z || !ta)throw new Gb(W.MDX_PIN_BLANK).setUser(qa);if(Z != ta)throw new Gb(W.MDX_PIN_MISMATCH).setUser(qa);Z=qa.customer;if(!Z)throw new Gb(W.MDX_USER_UNKNOWN).setUser(qa);if(va && (va=va.customer,!Z.equals(va)))throw new Gb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + Z + "; uit customer " + va).setUser(qa);return Z;}});})();(function(){var ca,ia,fa;ca={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ia=yf=Ab.Class.create({init:function(V,Z){Object.defineProperties(this,{email:{value:V,writable:!1,enumerable:!0,configurable:!1},password:{value:Z,writable:!1,enumerable:!0,configurable:!1}});}});fa=zf=Ab.Class.create({init:function(V,Z){Object.defineProperties(this,{netflixId:{value:V,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:Z,writable:!1,enumerable:!0,configurable:!1}});}});rd=Gc.extend({init:function Da(Z,ta,qa,va){var wa,ra,Y,ba;Da.base.call(this,ac.SSO);wa=null;ra=null;Y=null;ba=null;qa instanceof ia?(wa=qa.email,ra=qa.password):qa instanceof fa && (Y=qa.netflixId,ba=qa.secureNetflixId);Object.defineProperties(this,{mechanism:{value:Z,writable:!1,configurable:!1},token:{value:ta,writable:!1,configurable:!1},email:{value:wa,writable:!1,configurable:!1},password:{value:ra,writable:!1,configurable:!1},netflixId:{value:Y,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof va?null:va,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.mechanism=this.mechanism;Z.token=Db(this.token);this.email && this.password?(Z.email=this.email,Z.password=this.password):this.netflixId && this.secureNetflixId && (Z.netflixid=this.netflixId,Z.securenetflixid=this.secureNetflixId);this.profileGuid && (Z.profileguid=this.profileGuid);return Z;},equals:function qa(ta){return this === ta?!0:ta instanceof rd?qa.base.call(this,ta) && this.mechanism == ta.mechanism && Wb(this.token,ta.token) && this.email == ta.email && this.password == ta.password && this.netflixId == ta.netflixId && this.secureNetflixId == ta.secureNetflixId && this.profileGuid == ta.profileGuid:!1;}});xf=function(ta){var qa,va,Da,wa,ra,Y,ba,ea,na;qa=ta.mechanism;va=ta.token;if(!qa || !va || "string" !== typeof va)throw new xb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(ta));if(!ca[qa])throw new Gb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(ta));Da=ta.email;wa=ta.password;ra=ta.netflixid;Y=ta.securenetflixid;ba=ta.profileguid;if(Da && !wa || !Da && wa || ra && !Y || !ra && Y || Da && ra)throw new xb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(ta));try{ea=Fb(va);}catch(Ha){throw new Gb(W.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(ta),Ha);}Da && wa?na=new ia(Da,wa):ra && Y && (na=new fa(ra,Y));return new rd(qa,ea,na,ba);};})();Yf=od.extend({init:function ia(){ia.base.call(this,ac.SSO);},createData:function(ia,fa,V,Z){La(Z,function(){return xf(V);});},authenticate:function(ia,fa,V,Z){var ta,qa;if(!(V instanceof rd))throw new vb("Incorrect authentication data type " + V + ".");ia=V.token;fa=V.email;Z=V.password;ta=V.netflixId;qa=V.secureNetflixId;if(!ia || 0 == ia.length)throw new Gb(W.SSOTOKEN_BLANK);if(!(null === fa && null === Z || fa && Z))throw new Gb(W.EMAILPASSWORD_BLANK);if(!(null === ta && null === qa || ta && qa))throw new Gb(W.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Gb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){sd=Gc.extend({init:function Z(fa,V){Z.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:fa,writable:!1,configurable:!1},profileGuid:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var fa;fa={};fa.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));fa.profileguid=this.profileGuid;return fa;},equals:function Z(V){return this == V?!0:V instanceof sd?Z.base.call(this,V) && this.userIdToken.equals(V.userIdToken) && this.profileGuid == V.profileGuid:!1;}});Af=function(V,Z,ta,qa){La(qa,function(){var va,Da;if(!Z)throw new Gb(W.USERAUTH_MASTERTOKEN_MISSING);va=ta.useridtoken;Da=ta.profileguid;if("object" !== typeof va || "string" !== typeof Da)throw new xb(W.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(ta));Rc(V,va,Z,{result:function(wa){La(qa,function(){if(!wa.isDecrypted())throw new Gb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(ta));return new sd(wa,Da);});},error:function(wa){qa.error(new Gb(W.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(ta),wa));}});});};})();Zf=od.extend({init:function V(fa){V.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(fa,V,Z,ta){Af(fa,V,Z,ta);},authenticate:function(fa,V,Z,ta){if(!(Z instanceof sd))throw new vb("Incorrect authentication data type " + Z + ".");V=Z.userIdToken;fa=Z.profileGuid;if(!fa)throw new Gb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(Z);V=V.user;if(!V)throw new Gb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(Z);fa=this._store.switchUsers(V,fa);if(!fa)throw new Gb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(Z);if(ta && (ta=ta.user,!fa.equals(ta)))throw new Gb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + fa + "; uit user " + ta).setUserAuthenticationData(Z);return fa;}});Object.freeze({ENTITY_REAUTH:Ja.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ja.ENTITYDATA_REAUTH});$f=Ab.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(fa,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(fa){},getUserAuthenticationFactory:function(fa){},getTokenFactory:function(){},getKeyExchangeFactory:function(fa){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Bf=Ab.Class.create({setCryptoContext:function(fa,V){},getMasterToken:function(){},getNonReplayableId:function(fa){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){},removeServiceTokens:function(fa,V,Z){},clearServiceTokens:function(){}});(function(){var fa;fa=Mc;oe=function(V,Z){var ta;ta={};switch(V){case fa.LZW:return De(Z,ta);case fa.GZIP:return gzip$compress(Z);default:throw new cb(W.UNSUPPORTED_COMPRESSION,V);}};Id=function(V,Z,ta){switch(V){case fa.LZW:return Ee(Z);case fa.GZIP:return gzip$uncompress(Z);default:throw new cb(W.UNSUPPORTED_COMPRESSION,V.name());}};})();Bf.extend({setCryptoContext:function(fa,V){},getMasterToken:function(){return null;},getNonReplayableId:function(fa){return 1;},getCryptoContext:function(fa){return null;},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){return null;},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){if(V){if(!fa)throw new cb(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(fa))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + fa.serialNumber);}return [];},removeServiceTokens:function(fa,V,Z){if(Z && V && !Z.isBoundTo(V))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Z.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){Cf=Bf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,Z){var ta;if(Z){ta=V.uniqueKey();this.masterTokens[ta]=V;this.cryptoContexts[ta]=Z;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,Z,ta;V=null;for(Z in this.masterTokens){ta=this.masterTokens[Z];if(!V || ta.isNewerThan(V))V=ta;}return V;},getNonReplayableId:function(V){var Z;V=V.serialNumber;Z=this.nonReplayableIds[V] !== zb?this.nonReplayableIds[V]:0;if(0 > Z || Z > Mb)throw new vb("Non-replayable ID " + Z + " is outside the valid range.");Z=Z == Mb?0:Z + 1;return this.nonReplayableIds[V]=Z;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var Z,ta,qa,va;Z=V.uniqueKey();if(this.masterTokens[Z]){ta=V.serialNumber;for(qa in this.masterTokens){va=this.masterTokens[qa];if(!va.equals(V) && va.serialNumber == ta){delete this.masterTokens[Z];delete this.cryptoContexts[Z];return;}}Object.keys(this.userIdTokens).forEach(function(Da){Da=this.userIdTokens[Da];Da.isBoundTo(V) && this.removeUserIdToken(Da);},this);try{this.removeServiceTokens(null,V,null);}catch(Da){if(Da instanceof cb)throw new vb("Unexpected exception while removing master token bound service tokens.",Da);throw Da;}delete this.nonReplayableIds[ta];delete this.masterTokens[Z];delete this.cryptoContexts[Z];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var Z in V){delete V[Z];}},this);},addUserIdToken:function(V,Z){var ta,qa;ta=!1;for(qa in this.masterTokens){if(Z.isBoundTo(this.masterTokens[qa])){ta=!0;break;}}if(!ta)throw new cb(W.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + Z.mtSerialNumber);this.userIdTokens[V]=Z;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var Z,ta,qa;Z=null;for(ta in this.masterTokens){qa=this.masterTokens[ta];if(V.isBoundTo(qa)){Z=qa;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(V)){try{this.removeServiceTokens(null,Z,V);}catch(Da){if(Da instanceof cb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Da);throw Da;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(Z){var ta,qa;if(Z.isMasterTokenBound()){ta=!1;for(qa in this.masterTokens){if(Z.isBoundTo(this.masterTokens[qa])){ta=!0;break;}}if(!ta)throw new cb(W.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + Z.mtSerialNumber);}if(Z.isUserIdTokenBound()){ta=!1;for(var va in this.userIdTokens){if(Z.isBoundTo(this.userIdTokens[va])){ta=!0;break;}}if(!ta)throw new cb(W.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + Z.uitSerialNumber);}},this);V.forEach(function(Z){var ta;if(Z.isUnbound())this.unboundServiceTokens[Z.uniqueKey()]=Z;else {if(Z.isMasterTokenBound()){ta=this.mtServiceTokens[Z.mtSerialNumber];ta || (ta={});ta[Z.uniqueKey()]=Z;this.mtServiceTokens[Z.mtSerialNumber]=ta;}Z.isUserIdTokenBound() && ((ta=this.uitServiceTokens[Z.uitSerialNumber]) || (ta={}),ta[Z.uniqueKey()]=Z,this.uitServiceTokens[Z.uitSerialNumber]=ta);}},this);},getServiceTokens:function(V,Z){var ta,qa,va;if(Z){if(!V)throw new cb(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!Z.isBoundTo(V))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Z.mtSerialNumber + "; mt " + V.serialNumber);}ta={};for(qa in this.unboundServiceTokens){va=this.unboundServiceTokens[qa];ta[va.uniqueKey()]=va;}if(V && (qa=this.mtServiceTokens[V.serialNumber]))for(var Da in qa){va=qa[Da];va.isUserIdTokenBound() || (ta[Da]=va);}if(Z && (Z=this.uitServiceTokens[Z.serialNumber]))for(var wa in Z){Da=Z[wa];Da.isBoundTo(V) && (ta[wa]=Da);}V=[];for(var ra in ta){V.push(ta[ra]);}return V;},removeServiceTokens:function(V,Z,ta){var qa,va,Da;if(ta && Z && !ta.isBoundTo(Z))throw new cb(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ta.mtSerialNumber + "; mt " + Z.serialNumber);!V || Z || ta || Object.keys(this.unboundServiceTokens).forEach(function(wa){this.unboundServiceTokens[wa].name == V && delete this.unboundServiceTokens[wa];},this);if(Z && !ta && (qa=this.mtServiceTokens[Z.serialNumber])){Da=Object.keys(qa);Da.forEach(function(wa){var ra;ra=qa[wa];V && ra.name != V || delete qa[wa];},this);this.mtServiceTokens[Z.serialNumber]=qa;}ta && (va=this.uitServiceTokens[ta.serialNumber]) && (Z=Object.keys(va),Z.forEach(function(wa){var ra;ra=va[wa];V && ra.name != V || delete va[wa];},this),this.uitServiceTokens[ta.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var Z in V){delete V[Z];}},this);}});})();If=Tf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,Z){Z && V && V.length && (V=Db(V),this._contextMap[V]=Z);},getCryptoContext:function(V){return V && V.length?(V=Db(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Db(V),delete this._contextMap[V]);}});Df=Lf.extend({init:function Da(Z,ta,qa,va){Da.base.call(this,Z);Object.defineProperties(this,{_kde:{value:ta,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Z,ta){if(!(ta instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(ta) + ".");if(ta.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + ta.identity);return new Bd(Z,this.localIdentity,this._kde,this._kdh,this._kdw);}});ag=Mf.extend({init:function wa(ta,qa,va,Da){wa.base.call(this,ta);Object.defineProperties(this,{_kpe:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ta,qa){if(!(qa instanceof uc))throw new vb("Incorrect authentication data type " + JSON.stringify(qa) + ".");if(qa.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + qa.identity);return new Bd(ta,this.localIdentity,this._kpe,this._kph,this._kpw);}});cg=Cf.extend({init:function ba(qa,va,Da,wa,ra,Y){ba.base.call(this);this._log=qa;this._esn=va;this._keyRequestData=Da;this._createKeyRequestData=wa;this._systemKeyName=ra;this._systemKeyWrapFormat=Y;},setCryptoContext:function ra(va,Da,wa){var Y;Y=this;Y._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});ra.base.call(this,va,Da);!wa && (va=Y._createKeyRequestData) && (Y._log.trace("Generating new keyx request data"),va().then(function(ba){Y._keyRequestData=ba;},function(ba){Y._log.error("Unable to generate new keyx request data","" + ba);}));},addUserIdToken:function ra(Da,wa){this._log.trace("Adding UserIdToken",{UserId:Da,SerialNumber:wa.serialNumber,MTSerialNumber:wa.mtSerialNumber,Expiration:wa.expiration.getTime()});ra.base.call(this,Da,wa);},addServiceTokens:function ra(wa){ra.base.call(this,wa.filter(function(Y){return !bg[Y.name];}));},getUserIdTokenKeys:function(){var wa,ra;wa=[];for(ra in this.userIdTokens){wa.push(ra);}return wa;},rekeyUserIdToken:function(wa,ra){this.userIdTokens[wa] && (this.userIdTokens[ra]=this.userIdTokens[wa],delete this.userIdTokens[wa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(wa){var ra;ra=this;La(wa,function(){var Y;Y=ra.getMasterToken();Y?ra.getKeysForStore(Y,{result:function(ba){La(wa,function(){var ea,na,Ha;ea=ra.userIdTokens;na=Object.keys(ea).map(function(Ea){var Pa;Pa=ea[Ea];return {userId:Ea,userIdTokenJSON:ea[Ea].toJSON(),serviceTokenJSONList:ra.getServiceTokens(Y,Pa).map(Ff)};});ba.esn=ra._esn;ba.masterTokenJSON=Y.toJSON();ba.userList=na;Ha=ra._keyRequestData.storeData;Ha && Object.keys(Ha).forEach(function(Ea){ba[Ea]=Ha[Ea];});return ba;});},timeout:wa.timeout,error:wa.error}):wa.result(null);});},getKeysForStore:function(wa,ra){var Y;Y=this;La(ra,function(){var ba;ba=Y.getCryptoContext(wa);ba={encryptionKey:ba.encryptionKey,hmacKey:ba.hmacKey};if(ba.encryptionKey && ba.hmacKey){if(Y._systemKeyWrapFormat)Y.wrapKeysWithSystemKey(ba,ra);else return ba;}else throw new cb(W.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(wa,ra){var Y;Y=this;xe(this._systemKeyName,{result:function(ba){La(ra,function(){var ea,na,Ha,Ea;ea=wa.encryptionKey;na=wa.hmacKey;Ha=ea[fd];Ea=na[fd];if(Ha && Ea)return {wrappedEncryptionKey:Ha,wrappedHmacKey:Ea};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(Y._systemKeyWrapFormat,ea,ba,ba.algorithm),Jb.wrapKey(Y._systemKeyWrapFormat,na,ba,ba.algorithm)]);}).then(function(Pa){Ha=Db(Pa[0]);ea[fd]=Ha;Ea=Db(Pa[1]);na[fd]=Ea;ra.result({wrappedEncryptionKey:Ha,wrappedHmacKey:Ea});}).catch(function(Pa){ra.error(new cb(W.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Pa));});});},timeout:ra.timeout,error:ra.error});},unwrapKeysWithSystemKey:function(wa,ra){var Y;Y=this;xe(this._systemKeyName,{result:function(ba){La(ra,function(){var ea,na;ea=Fb(wa.wrappedEncryptionKey);na=Fb(wa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(Y._systemKeyWrapFormat,ea,ba,ba.algorithm,sc,!1,Hc),Jb.unwrapKey(Y._systemKeyWrapFormat,na,ba,ba.algorithm,tc,!1,Pc)]);}).then(function(Ha){var Ea;Ea=Ha[0];Ha=Ha[1];Ea[fd]=wa.wrappedEncryptionKey;Ha[fd]=wa.wrappedHmacKey;ra.result({encryptionKey:Ea,hmacKey:Ha});}).catch(function(Ha){ra.error(new cb(W.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ha));});});},timeout:ra.timeout,error:ra.error});},loadStoreState:function(wa,ra,Y,ba){var Ha,Ea;function ea(Pa,Ta){var la;try{la=Y.userList.slice();}catch(xa){}la?(function za(){var Ia;Ia=la.shift();Ia?Rc(ra,Ia.userIdTokenJSON,Pa,{result:function(Ca){try{Ha.addUserIdToken(Ia.userId,Ca);na(Pa,Ca,Ia.serviceTokenJSONList,{result:za,timeout:za,error:za});}catch(Oa){za();}},timeout:za,error:za}):Ta.result();})():Ta.result();}function na(Pa,Ta,la,xa){var za,Ia;try{za=la.slice();}catch(Ca){}if(za){Ia=Ha.getCryptoContext(Pa);(function Oa(){var Fa;Fa=za.shift();Fa?Hd(ra,Fa,Pa,Ta,Ia,{result:function(Va){Ha.addServiceTokens([Va]);Oa();},timeout:function(){Oa();},error:function(){Oa();}}):xa.result();})();}else xa.result();}Ha=this;Ea=Ha._log;Y.esn != Ha._esn?(Ea.error("Esn mismatch, starting fresh"),ba.error()):(function(Pa){var xa,za,Ia,Ca;function Ta(){var Oa;if(!xa && za && Ia && Ca){xa=!0;Oa=new jc(ra,za,wa.esn,{rawKey:Ia},{rawKey:Ca});Ha.setCryptoContext(za,Oa,!0);Pa.result(za);}}function la(Oa,Fa){Ea.error(Oa,Fa && "" + Fa);xa || (xa=!0,Pa.error());}Y.masterTokenJSON?(Qc(ra,Y.masterTokenJSON,{result:function(Oa){za=Oa;Ta();},timeout:function(){la("Timeout parsing MasterToken");},error:function(Oa){la("Error parsing MasterToken",Oa);}}),Ha._systemKeyWrapFormat?Ha.unwrapKeysWithSystemKey(Y,{result:function(Oa){Ia=Oa.encryptionKey;Ca=Oa.hmacKey;Ta();},timeout:function(){la("Timeout unwrapping keys");},error:function(Oa){la("Error unwrapping keys",Oa);}}):Promise.resolve().then(function(){return Jb.encrypt({name:sc.name,iv:new Uint8Array(16)},Y.encryptionKey,new Uint8Array(1));}).then(function(Oa){Ia=Y.encryptionKey;}).catch(function(Oa){la("Error loading encryptionKey");}).then(function(){return Jb.sign(tc,Y.hmacKey,new Uint8Array(1));}).then(function(Oa){Ca=Y.hmacKey;Ta();}).catch(function(Oa){la("Error loading hmacKey");})):la("Persisted store is corrupt");})({result:function(Pa){ea(Pa,ba);},timeout:ba.timeout,error:ba.error});}});bg={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fd="$netflix$msl$wrapsys";dg=$f.extend({init:function(wa,ra,Y,ba,ea,na){var Ha,Ea;Ha=new md([Mc.LZW]);Ea=new Of();Ea.addPublicKey(ra,Y);ba[Nb.RSA]=new Nf(Ea);ra={};ra[ac.EMAIL_PASSWORD]=new Xf();ra[ac.NETFLIXID]=new Wf();ra[ac.MDX]=new wf();ra[ac.SSO]=new Yf();ra[ac.SWITCH_PROFILE]=new Zf();wa={_mslCryptoContext:{value:new Kf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ea,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ba,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ra,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:na,writable:!1,enumerable:!1,configurable:!1},_store:{value:wa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,wa);},getTime:function(){return Date.now();},getRandom:function(){return new Ie();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(wa,ra){ra.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(wa){return this._entityAuthFactories[wa];},getUserAuthenticationFactory:function(wa){return this._userAuthFactories[wa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(wa){return this._keyExchangeFactories.filter(function(ra){return ra.scheme == wa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ze=qf.extend({init:function(wa,ra,Y,ba){this._log=wa;this._mslContext=ra;this._mslRequest=Y;this._keyRequestData=ba;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(wa,ra,Y,ba){var ea,na;ea=this._mslRequest;na=this._mslContext;La(ba,function(){var Ha,Ea;if(wa || !ea.shouldSendUserAuthData)return null;if(ea.token){ea.email?Ha=new yf(ea.email,ea.password):ea.netflixId && (Ha=new zf(ea.netflixId,ea.secureNetflixId));Ea="undefined" === typeof ea.profileGuid?null:ea.profileGuid;return new rd(ea.mechanism,Rb(ea.token),Ha,Ea);}return ea.email?new pd(ea.email,ea.password):ea.netflixId?new Uc(ea.netflixId,ea.secureNetflixId):ea.mdxControllerToken?(Ha=new qd("regpairrequest",ea.mdxNonce,ea.mdxEncryptedPinB64,ea.mdxSignature).getEncoding(),new ed(na,ea.mdxPin,ea.mdxControllerToken,Ha,ea.mdxSignature)):ea.useNetflixUserAuthData?new Uc():ea.profileGuid?(Ha=ea.userId,Ha=na.getMslStore().userIdTokens[Ha],new sd(Ha,ea.profileGuid)):Y && ea.sendUserAuthIfRequired?new Uc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(wa){wa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(wa,ra,Y){var ba,ea,na,Ha,Ea,Pa;ba=this._log;ea=(this._mslRequest.serviceTokens || []).slice();na=this._mslContext;ra=na.getMslStore();Ha=wa.builder.getMasterToken();Ea=this.getUserId();Pa=ra.getUserIdToken(Ea);(function la(){var xa;xa=ea.shift();if(xa)try{xa instanceof Jc?(wa.addPrimaryServiceToken(xa),la()):Hd(na,xa,Ha,Pa,null,{result:function(za){try{wa.addPrimaryServiceToken(za);}catch(Ia){ba.warn("Exception adding service token","" + Ia);}la();},timeout:function(){ba.warn("Timeout parsing service token");la();},error:function(za){ba.warn("Error parsing service token","" + za);la();}});}catch(za){ba.warn("Exception processing service token","" + za);la();}else Y.result(!0);})();},write:function(wa,ra,Y){var ba;ba=Rb(this._mslRequest.body);wa.write(ba,0,ba.length,ra,{result:function(ea){ea != ba.length?Y.error(new Vb("Not all data was written to output.")):wa.flush(ra,{result:function(){Y.result(!0);},timeout:function(){Y.timeout();},error:function(na){Y.error(na);}});},timeout:function(){Y.timeout();},error:function(ea){Y.error(ea);}});},getDebugContext:function(){this._dc || (this._dc=new eg(this._log,this._mslRequest));return this._dc;}});eg=Vf.extend({init:function(wa,ra){this._log=wa;this._mslRequest=ra;},sentHeader:function(wa){this._log.trace("Sent MSL header",ye(this._mslRequest,wa),wa.serviceTokens && wa.serviceTokens.map(Gf).join("\n"));},receivedHeader:function(wa){var ra,Y;ra=ye(this._mslRequest,wa);Y=wa.errorCode;Y?this._log.warn("Received MSL error header",ra,{errorCode:Y,errorMessage:wa.errorMessage,internalCode:wa.internalCode}):this._log.trace("Received MSL header",ra);}});Ef={PSK:function(wa){return Sd(wa,Nb.PSK,ag,uc,ie,Fd);},MGK:function(wa){return Sd(wa,Nb.MGK,Df,oc,ie,Fd);},MGK_WITH_FALLBACK:function(wa){var ra,Y;switch(wa.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":ra="PSK";break;default:ra="MGK";}Y=Ef[ra];if(!Y)throw new cb(W.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + ra);return Y(wa);},MGK_JWE:function(wa){return Sd(wa,Nb.MGK,Df,oc,Te,he);},JWK_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gd.JWK_RSA);},JWK_RSAES:function(wa){return Td(wa,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWK_RSAES);},JWEJS_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWEJS_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(wa,ra){var Y,ba,ea,na,Ha;Y=wa.log;Ha=wa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey))throw new cb(W.INTERNAL_EXCEPTION,"No WebCrypto");cc=Qb.generateKey({name:"AES-CBC",length:128},!0,Hc).then?wd.V2014_02:wd.LEGACY;Ha("mslisik");return Jb.importKey("spki",wa.serverIdentityKeyData,Je,!1,["verify"]);}).then(function(Ea){return new Promise(function(Pa,Ta){Lc(Ea,{result:Pa,error:function(){Ta(new cb(W.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ea){ba=Ea;if(Ea=Ef[wa.authenticationType])return (Ha("mslcc"),Ea(wa));throw new cb(W.INTERNAL_EXCEPTION,"Invalid authenticationType: " + wa.authenticationType);}).then(function(Ea){var Pa;ea=new cg(Y,wa.esn,Ea.keyRequestData,Ea.createKeyRequestData,wa.authenticationKeyNames.s,wa.systemKeyWrapFormat);na=new dg(ea,wa.serverIdentityId,ba,Ea.entityAuthFactories,Ea.entityAuthData,Ea.keyExchangeFactories);Pa=wa.storeState;if(Pa)return (Ha("mslss"),Y.info("Loading store state"),new Promise(function(Ta,la){ea.loadStoreState(wa,na,Pa,{result:Ta,timeout:Ta,error:Ta});}));Y.info("No store state, starting fresh");}).then(function(){var Ea;Ea=new rf();Ha("msldone");ra.result(new Hf(Y,Ea,na,ea,wa.ErrorSubCodes));}).catch(function(Ea){ra.error(Ea);});},IHttpLocation:Rf,MslIoException:Vb};(function(){var $a,Xa,hb,mb,ob,rb,sb,yb,wb;function wa(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function ra(r,b){var a,f;if(b)a:{a=Xa;r=r.split(".");for(var c=0;c < r.length - 1;c++){f=r[c];if(!((f in a)))break a;a=a[f];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && $a(a,r,{configurable:!0,writable:!0,value:b});}}function Y(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function ba(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:wa(r)};}function ea(r){if(!(r instanceof Array)){r=ba(r);for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}r=a;}return r;}function na(r,b){var c;r.prototype=hb(b.prototype);r.prototype.constructor=r;if(yb)yb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.Ubc=b.prototype;}function Ha(){this.kW=!1;this.sE=null;this.qya=void 0;this.OH=1;this.VVa=this.Ltb=0;this.qT=null;}function Ea(r){if(r.kW)throw new TypeError("Generator is already running");r.kW=!0;}function Pa(r){this.Ef=new Ha();this.ATb=r;}function Ta(r,b){var a;Ea(r.Ef);a=r.Ef.sE;if(a)return la(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.Ef.return);r.Ef.return(b);return xa(r);}function la(r,b,a,c){var f,l;try{f=b.call(r.Ef.sE,a);if(!(f instanceof Object))throw new TypeError("Iterator result " + f + " is not an object");if(!f.done)return (r.Ef.kW=!1,f);l=f.value;}catch(m){return (r.Ef.sE=null,r.Ef.qZ(m),xa(r));}r.Ef.sE=null;c.call(r.Ef,l);return xa(r);}function xa(r){var b;for(;r.Ef.OH;){try{b=r.ATb(r.Ef);if(b)return (r.Ef.kW=!1,{value:b.value,done:!1});}catch(a){r.Ef.qya=void 0;r.Ef.qZ(a);}}r.Ef.kW=!1;if(r.Ef.qT){b=r.Ef.qT;r.Ef.qT=null;if(b.jKb)throw b.BM;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function za(r){this.next=function(b){return r.dX(b);};this.throw=function(b){return r.qZ(b);};this.return=function(b){return Ta(r,b);};this[Symbol.iterator]=function(){return this;};}function Ia(r,b){b=new za(new Pa(b));yb && r.prototype && yb(b,r.prototype);return b;}function Ca(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Oa(r,b){var a,c,f;r instanceof String && (r+="");a=0;c=!1;f={next:function(){var l;if(!c && a < r.length){l=a++;return {value:b(l,r[l]),done:!1};}c=!0;return {done:!0,value:void 0};}};f[Symbol.iterator]=function(){return f;};return f;}function Fa(r,b,a){var l;r instanceof String && (r=String(r));for(var c=r.length,f=0;f < c;f++){l=r[f];if(b.call(a,l,f,r))return {Qoa:f,nE:l};}return {Qoa:-1,nE:void 0};}function Va(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}$a="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Xa=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ra("Symbol",function(r){var c;function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (f || "") + "_" + c++,f);}function a(f,l){this.Vbb=f;$a(this,"description",{configurable:!0,writable:!0,value:l});}if(r)return r;a.prototype.toString=function(){return this.Vbb;};c=0;return b;});ra("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Xa[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && $a(c.prototype,r,{configurable:!0,writable:!0,value:function(){return Y(wa(this));}});}return r;});hb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};mb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,f){a=b(a,c);f && Reflect.setPrototypeOf(a,f.prototype);return a;};}return function(a,c,f){void 0 === f && (f=a);f=hb(f.prototype || Object.prototype);return Function.prototype.apply.call(a,f,c) || f;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;ob=sb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}yb=ob;Ha.prototype.dX=function(r){this.qya=r;};Ha.prototype.qZ=function(r){this.qT={BM:r,jKb:!0};this.OH=this.Ltb || this.VVa;};Ha.prototype.return=function(r){this.qT={return:r};this.OH=this.VVa;};Pa.prototype.dX=function(r){Ea(this.Ef);if(this.Ef.sE)return la(this,this.Ef.sE.next,r,this.Ef.dX);this.Ef.dX(r);return xa(this);};Pa.prototype.qZ=function(r){Ea(this.Ef);if(this.Ef.sE)return la(this,this.Ef.sE["throw"],r,this.Ef.dX);this.Ef.qZ(r);return xa(this);};ra("Reflect",function(r){return r?r:{};});ra("Reflect.construct",function(){return mb;});ra("Reflect.setPrototypeOf",function(r){return r?r:yb?function(b,a){try{return (yb(b,a),!0);}catch(c){return !1;}}:null;});ra("Object.setPrototypeOf",function(r){return r || yb;});wb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var f in c){Ca(c,f) && (r[f]=c[f]);}}return r;};ra("Object.assign",function(r){return r || wb;});ra("Promise",function(r){var f,l;function b(m){var d;this.wP=0;this.wY=void 0;this.jO=[];this.j0a=!1;d=this.nka();try{m(d.resolve,d.reject);}catch(h){d.reject(h);}}function a(){this.mC=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.BQa=function(m){var d;if(null == this.mC){this.mC=[];d=this;this.CQa(function(){d.UBb();});}this.mC.push(m);};f=Xa.setTimeout;a.prototype.CQa=function(m){f(m,0);};a.prototype.UBb=function(){var m,h;for(;this.mC && this.mC.length;){m=this.mC;this.mC=[];for(var d=0;d < m.length;++d){h=m[d];m[d]=null;try{h();}catch(g){this.Brb(g);}}}this.mC=null;};a.prototype.Brb=function(m){this.CQa(function(){throw m;});};b.prototype.nka=function(){var d,h;function m(g){return function(k){h || (h=!0,g.call(d,k));};}d=this;h=!1;return {resolve:m(this.HVb),reject:m(this.Bua)};};b.prototype.HVb=function(m){var d;if(m === this)this.Bua(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.FXb(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.GVb(m):this.DWa(m);}};b.prototype.GVb=function(m){var d;d=void 0;try{d=m.then;}catch(h){this.Bua(h);return;}"function" == typeof d?this.GXb(d,m):this.DWa(m);};b.prototype.Bua=function(m){this.W8a(2,m);};b.prototype.DWa=function(m){this.W8a(1,m);};b.prototype.W8a=function(m,d){if(0 != this.wP)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.wP);this.wP=m;this.wY=d;2 === this.wP && this.jWb();this.VBb();};b.prototype.jWb=function(){var m;m=this;f(function(){var d;if(m.wPb()){d=Xa.console;"undefined" !== typeof d && d.error(m.wY);}},1);};b.prototype.wPb=function(){var m,d,h;if(this.j0a)return !1;m=Xa.CustomEvent;d=Xa.Event;h=Xa.dispatchEvent;if("undefined" === typeof h)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Xa.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.wY;return h(m);};b.prototype.VBb=function(){if(null != this.jO){for(var m=0;m < this.jO.length;++m){l.BQa(this.jO[m]);}this.jO=null;}};l=new a();b.prototype.FXb=function(m){var d;d=this.nka();m.N3(d.resolve,d.reject);};b.prototype.GXb=function(m,d){var h;h=this.nka();try{m.call(d,h.resolve,h.reject);}catch(g){h.reject(g);}};b.prototype.then=function(m,d){var g,k,n;function h(q,p){return "function" == typeof q?function(v){try{g(q(v));}catch(t){k(t);}}:p;}n=new b(function(q,p){g=q;k=p;});this.N3(h(m,g),h(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.N3=function(m,d){var g;function h(){switch(g.wP){case 1:m(g.wY);break;case 2:d(g.wY);break;default:throw Error("Unexpected state: " + g.wP);}}g=this;null == this.jO?l.BQa(h):this.jO.push(h);this.j0a=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,h){h(m);});};b.race=function(m){return new b(function(d,h){for(var g=ba(m),k=g.next();!k.done;k=g.next()){c(k.value).N3(d,h);}});};b.all=function(m){var d,h;d=ba(m);h=d.next();return h.done?c([]):new b(function(g,k){var q,p;function n(v){return function(t){q[v]=t;p--;0 == p && g(q);};}q=[];p=0;do {q.push(void 0);p++;c(h.value).N3(n(q.length - 1),k);h=d.next();}while(!h.done);});};return b;});ra("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ca(b,c) && a.push([c,b[c]]);}return a;};});ra("Array.prototype.keys",function(r){return r?r:function(){return Oa(this,function(b){return b;});};});ra("Array.prototype.find",function(r){return r?r:function(b,a){return Fa(this,b,a).nE;};});ra("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ra("Array.prototype.includes",function(r){return r?r:function(b,a){var c,f,l;c=this;c instanceof String && (c=String(c));f=c.length;a=a || 0;for(0 > a && (a=Math.max(a + f,0));a < f;a++){l=c[a];if(l === b || Object.is(l,b))return !0;}return !1;};});ra("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Va(this,b,"includes").indexOf(b,a || 0);};});ra("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});ra("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ra("Array.prototype.entries",function(r){return r?r:function(){return Oa(this,function(b,a){return [b,a];});};});ra("WeakMap",function(r){var m,d;function b(h){this.XV=(d+=Math.random() + 1).toString();if(h){h=ba(h);for(var g;!(g=h.next()).done;){g=g.value;this.set(g[0],g[1]);}}}function a(){}function c(h){var g;g=typeof h;return "object" === g && null !== h || "function" === g;}function f(h){var g;if(!Ca(h,m)){g=new a();$a(h,m,{value:g});}}function l(h){var g;g=Object[h];g && (Object[h]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && f(k);return g(k);});}if((function(){var h,g,k;if(!r || !Object.seal)return !1;try{h=Object.seal({});g=Object.seal({});k=new r([[h,2],[g,3]]);if(2 != k.get(h) || 3 != k.get(g))return !1;k.delete(h);k.set(g,4);return !k.has(h) && 4 == k.get(g);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();l("freeze");l("preventExtensions");l("seal");d=0;b.prototype.set=function(h,g){if(!c(h))throw Error("Invalid WeakMap key");f(h);if(!Ca(h,m))throw Error("WeakMap key fail: " + h);h[m][this.XV]=g;return this;};b.prototype.get=function(h){return c(h) && Ca(h,m)?h[m][this.XV]:void 0;};b.prototype.has=function(h){return c(h) && Ca(h,m) && Ca(h[m],this.XV);};b.prototype.delete=function(h){return c(h) && Ca(h,m) && Ca(h[m],this.XV)?delete h[m][this.XV]:!1;};return b;});ra("Map",function(r){var l,m;function b(){var d;d={};return d.vA=d.next=d.head=d;}function a(d,h){var g;g=d.Dz;return Y(function(){if(g){for(;g.head != d.Dz;){g=g.vA;}for(;g.next != g.head;){return (g=g.next,{done:!1,value:h(g)});}g=null;}return {done:!0,value:void 0};});}function c(d,h){var g,k,n;g=h && typeof h;"object" == g || "function" == g?l.has(h)?g=l.get(h):(g="" + ++m,l.set(h,g)):g="p_" + h;k=d.Wy[g];if(k && Ca(d.Wy,g))for(d=0;d < k.length;d++){n=k[d];if(h !== h && n.key !== n.key || h === n.key)return {id:g,list:k,index:d,entry:n};}return {id:g,list:k,index:-1,entry:void 0};}function f(d){this.Wy={};this.Dz=b();this.size=0;if(d){d=ba(d);for(var h;!(h=d.next()).done;){h=h.value;this.set(h[0],h[1]);}}}if((function(){var d,h,g,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});h=new r(ba([[d,"s"]]));if("s" != h.get(d) || 1 != h.size || h.get({x:4}) || h.set({x:4},"t") != h || 2 != h.size)return !1;g=h.entries();k=g.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=g.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !g.next().done?!1:!0;}catch(n){return !1;}})())return r;l=new WeakMap();f.prototype.set=function(d,h){var g;d=0 === d?0:d;g=c(this,d);g.list || (g.list=this.Wy[g.id]=[]);g.entry?g.entry.value=h:(g.entry={next:this.Dz,vA:this.Dz.vA,head:this.Dz,key:d,value:h},g.list.push(g.entry),this.Dz.vA.next=g.entry,this.Dz.vA=g.entry,this.size++);return this;};f.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Wy[d.id],d.entry.vA.next=d.entry.next,d.entry.next.vA=d.entry.vA,d.entry.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.Wy={};this.Dz=this.Dz.vA=b();this.size=0;};f.prototype.has=function(d){return ! !c(this,d).entry;};f.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};f.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};f.prototype.keys=function(){return a(this,function(d){return d.key;});};f.prototype.values=function(){return a(this,function(d){return d.value;});};f.prototype.forEach=function(d,h){for(var g=this.entries(),k;!(k=g.next()).done;){k=k.value;d.call(h,k[1],k[0],this);}};f.prototype[Symbol.iterator]=f.prototype.entries;m=0;return f;});ra("Set",function(r){function b(a){this.Bw=new Map();if(a){a=ba(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Bw.size;}if((function(){var a,c,f,l;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(ba([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;f=c.entries();l=f.next();if(l.done || l.value[0] != a || l.value[1] != a)return !1;l=f.next();return l.done || l.value[0] == a || 4 != l.value[0].x || l.value[1] != l.value[0]?!1:f.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Bw.set(a,a);this.size=this.Bw.size;return this;};b.prototype.delete=function(a){a=this.Bw.delete(a);this.size=this.Bw.size;return a;};b.prototype.clear=function(){this.Bw.clear();this.size=0;};b.prototype.has=function(a){return this.Bw.has(a);};b.prototype.entries=function(){return this.Bw.entries();};b.prototype.values=function(){return this.Bw.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var f;f=this;this.Bw.forEach(function(l){return a.call(c,l,l,f);});};return b;});ra("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Va(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var f=b.length;0 < f && 0 < a;){if(c[--a] != b[--f])return !1;}return 0 >= f;};});ra("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Va(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ra("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ra("Array.prototype.values",function(r){return r?r:function(){return Oa(this,function(b,a){return a;});};});ra("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ca(b,c) && a.push(b[c]);}return a;};});ra("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,f,l;c=Va(this,b,"startsWith");b+="";f=c.length;l=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < l && a < f;){if(c[a++] != b[m++])return !1;}return m >= l;};});ra("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Fa(this,b,a).Qoa;};});ra("Array.from",function(r){return r?r:function(b,a,c){var f,l;a=null != a?a:function(d){return d;};f=[];l="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof l){b=l.call(b);for(var m=0;!(l=b.next()).done;){f.push(a.call(c,l.value,m++));}}else for((l=b.length,m=0);m < l;m++){f.push(a.call(c,b[m],m));}return f;};});ra("String.fromCodePoint",function(r){return r?r:function(b){var f;for(var a="",c=0;c < arguments.length;c++){f=Number(arguments[c]);if(0 > f || 1114111 < f || f !== Math.floor(f))throw new RangeError("invalid_code_point " + f);65535 >= f?a+=String.fromCharCode(f):(f-=65536,a+=String.fromCharCode(f >>> 10 & 1023 | 55296),a+=String.fromCharCode(f & 1023 | 56320));}return a;};});ra("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(r){var a;function b(c){var f;if(a[c])return a[c].exports;f=a[c]={Qoa:c,pLb:!1,exports:{}};r[c].call(f.exports,f,f.exports,b);f.pLb=!0;return f.exports;}a={};b.M$b=r;b.c=a;b.d=function(c,f,l){b.GPb(c,f) || Object.defineProperty(c,f,{enumerable:!0,get:l});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,f){var l;f & 1 && (c=b(c));if(f & 8 || f & 4 && "object" === typeof c && c && c.__esModule)return c;l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:c});if(f & 2 && "string" != typeof c)for(var m in c){b.d(l,m,(function(d){return c[d];}).bind(null,m));}return l;};b.n=function(c){var f;f=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(f,"a",f);return f;};b.GPb=function(c,f){return Object.prototype.hasOwnProperty.call(c,f);};b.p="";return b(b.ZVb=552);})([function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(43);b.m5b=r;r=a(555);b.F_=r.F_;r=a(76);b.Os=r.Os;b.Jj=r.Jj;b.Tx=r.Tx;r=a(571);b.bza=r.bza;b.pd=r.pd;r=a(572);b.R=r.R;r=a(573);b.l$a=r.l$a;r=a(574);b.o3a=r.o3a;r=a(308);b.l=r.l;b.Pca=r.Pca;r=a(575);b.optional=r.optional;r=a(576);b.ll=r.ll;r=a(577);b.KH=r.KH;r=a(578);b.nZ=r.nZ;r=a(579);b.I5a=r.I5a;r=a(306);b.mda=r.mda;r=a(107);b.id=r.id;r=a(93);b.Fr=r.Fr;r=a(311);b.eab=r.eab;b.m$a=r.m$a;b.p3a=r.p3a;b.lab=r.lab;r=a(134);b.dN=r.dN;a=a(580);b.k3a=a.k3a;},function(r,b,a){var G,J;function c(){c=Object.assign || (function(K){for(var I,M=1,R=arguments.length;M < R;M++){I=arguments[M];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (K[H]=I[H]);}}return K;});return c.apply(this,arguments);}function f(K,I){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(M,R){M.__proto__=R;}) || (function(M,R){for(var H in R){Object.prototype.hasOwnProperty.call(R,H) && (M[H]=R[H]);}});return f(K,I);}function l(K,I){function M(){this.constructor=K;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");f(K,I);K.prototype=null === I?Object.create(I):(M.prototype=I.prototype,new M());}function m(K,I){var M,R,H;M={};for(R in K){Object.prototype.hasOwnProperty.call(K,R) && 0 > I.indexOf(R) && (M[R]=K[R]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){H=0;for(R=Object.getOwnPropertySymbols(K);H < R.length;H++){0 > I.indexOf(R[H]) && Object.prototype.propertyIsEnumerable.call(K,R[H]) && (M[R[H]]=K[R[H]]);}}return M;}function d(K,I,M,R){var H,Q,N;H=arguments.length;Q=3 > H?I:null === R?R=Object.getOwnPropertyDescriptor(I,M):R;if("object" === typeof Reflect && "function" === typeof Reflect.Fr)Q=Reflect.Fr(K,I,M,R);else for(var L=K.length - 1;0 <= L;L--){if(N=K[L])Q=(3 > H?N(Q):3 < H?N(I,M,Q):N(I,M)) || Q;}return (3 < H && Q && Object.defineProperty(I,M,Q),Q);}function h(K,I){return function(M,R){I(M,R,K);};}function g(K,I){if("object" === typeof Reflect && "function" === typeof Reflect.Dc)return Reflect.Dc(K,I);}function k(K,I,M,R){function H(Q){return Q instanceof M?Q:new M(function(N){N(Q);});}return new (M || (M=Promise))(function(Q,N){function L(U){try{S(R.next(U));}catch(da){N(da);}}function P(U){try{S(R["throw"](U));}catch(da){N(da);}}function S(U){U.done?Q(U.value):H(U.value).then(L,P);}S((R=R.apply(K,I || [])).next());});}function n(K,I){var H,Q,N,L,P;function M(S){return function(U){return R([S,U]);};}function R(S){if(Q)throw new TypeError("Generator is already executing.");for(;H;){try{if((Q=1,N && (L=S[0] & 2?N["return"]:S[0]?N["throw"] || ((L=N["return"]) && L.call(N),0):N.next) && !(L=L.call(N,S[1])).done))return L;if((N=0,L))S=[S[0] & 2,L.value];switch(S[0]){case 0:case 1:L=S;break;case 4:return (H.label++,{value:S[1],done:!1});case 5:H.label++;N=S[1];S=[0];continue;case 7:S=H.Ln.pop();H.Vn.pop();continue;default:if(!(L=H.Vn,L=0 < L.length && L[L.length - 1]) && (6 === S[0] || 2 === S[0])){H=0;continue;}if(3 === S[0] && (!L || S[1] > L[0] && S[1] < L[3]))H.label=S[1];else if(6 === S[0] && H.label < L[1])(H.label=L[1],L=S);else if(L && H.label < L[2])(H.label=L[2],H.Ln.push(S));else {L[2] && H.Ln.pop();H.Vn.pop();continue;}}S=I.call(K,H);}catch(U){S=[6,U];N=0;}finally{Q=L=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}H={label:0,$c:function(){if(L[0] & 1)throw L[1];return L[1];},Vn:[],Ln:[]};return (P={next:M(0),"throw":M(1),"return":M(2)},"function" === typeof Symbol && (P[Symbol.iterator]=function(){return this;}),P);}function q(K,I){for(var M in K){"default" === M || Object.prototype.hasOwnProperty.call(I,M) || G(I,K,M);}}function p(K){var I,M,R;I="function" === typeof Symbol && Symbol.iterator;M=I && K[I];R=0;if(M)return M.call(K);if(K && "number" === typeof K.length)return {next:function(){K && R >= K.length && (K=void 0);return {value:K && K[R++],done:!K};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(K,I){var M,R,H;M="function" === typeof Symbol && K[Symbol.iterator];if(!M)return K;K=M.call(K);H=[];try{for(;(void 0 === I || 0 < I--) && !(R=K.next()).done;){H.push(R.value);}}catch(N){var Q;Q={error:N};}finally{try{R && !R.done && (M=K["return"]) && M.call(K);}finally{if(Q)throw Q.error;}}return H;}function t(){for(var K=[],I=0;I < arguments.length;I++){K=K.concat(v(arguments[I]));}return K;}function u(){var R;for(var K=0,I=0,M=arguments.length;I < M;I++){K+=arguments[I].length;}K=Array(K);R=0;for(I=0;I < M;I++){for(var H=arguments[I],Q=0,N=H.length;Q < N;(Q++,R++)){K[R]=H[Q];}}return K;}function w(K,I,M){if(M || 2 === arguments.length)for(var R=0,H=I.length,Q;R < H;R++){!Q && (R in I) || (Q || (Q=Array.prototype.slice.call(I,0,R)),Q[R]=I[R]);}return K.concat(Q || I);}function x(K){return this instanceof x?(this.nE=K,this):new x(K);}function y(K,I,M){var P,S,U;function R(da){P[da] && (S[da]=function(ka){return new Promise(function(ma,X){1 < U.push([da,ka,ma,X]) || H(da,ka);});});}function H(da,ka){var ma;try{ma=P[da](ka);ma.value instanceof x?Promise.resolve(ma.value.nE).then(Q,N):L(U[0][2],ma);}catch(X){L(U[0][3],X);}}function Q(da){H("next",da);}function N(da){H("throw",da);}function L(da,ka){(da(ka),U.shift(),U.length) && H(U[0][0],U[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");P=M.apply(K,I || []);U=[];return (S={},R("next"),R("throw"),R("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(K){var M,R;function I(H,Q){M[H]=K[H]?function(N){return (R=!R)?{value:x(K[H](N)),done:"return" === H}:Q?Q(N):N;}:Q;}return (M={},I("next"),I("throw",function(H){throw H;}),I("return"),M[Symbol.iterator]=function(){return this;},M);}function A(K){var R,H;function I(Q){H[Q]=K[Q] && (function(N){return new Promise(function(L,P){N=K[Q](N);M(L,P,N.done,N.value);});});}function M(Q,N,L,P){Promise.resolve(P).then(function(S){Q({value:S,done:L});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=K[Symbol.asyncIterator];return R?R.call(K):(K="function" === typeof p?p(K):K[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(K,I){Object.defineProperty?Object.defineProperty(K,"raw",{value:I}):K.raw=I;return K;}function D(K){var I;if(K && K.__esModule)return K;I={};if(null != K)for(var M in K){"default" !== M && Object.prototype.hasOwnProperty.call(K,M) && G(I,K,M);}J(I,K);return I;}function E(K){return K && K.__esModule?K:{default:K};}function F(K,I,M,R){if("a" === M && !R)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?K !== I || !R:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === M?R:"a" === M?R.call(K):R?R.value:I.get(K);}function C(K,I,M,R,H){if("m" === R)throw new TypeError("Private method is not writable");if("a" === R && !H)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?K !== I || !H:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === R?H.call(K,M):H?H.value=M:I.set(K,M),M);}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return g;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return G;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return p;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__spreadArray",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});G=Object.create?function(K,I,M,R){void 0 === R && (R=M);Object.defineProperty(K,R,{enumerable:!0,get:function(){return I[M];}});}:function(K,I,M,R){void 0 === R && (R=M);K[R]=I[M];};J=Object.create?function(K,I){Object.defineProperty(K,"default",{enumerable:!0,value:I});}:function(K,I){K["default"]=I;};},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,I=arguments.length;K < I;K++){J=arguments[K];for(var M in J){Object.prototype.hasOwnProperty.call(J,M) && (G[M]=J[M]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,I){K.__proto__=I;}) || (function(K,I){for(var M in I){I.hasOwnProperty(M) && (K[M]=I[M]);}});return f(G,J);}function l(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function m(G,J){var K,I,M;K={};for(I in G){Object.prototype.hasOwnProperty.call(G,I) && 0 > J.indexOf(I) && (K[I]=G[I]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){M=0;for(I=Object.getOwnPropertySymbols(G);M < I.length;M++){0 > J.indexOf(I[M]) && Object.prototype.propertyIsEnumerable.call(G,I[M]) && (K[I[M]]=G[I[M]]);}}return K;}function d(G,J,K,I){var M,R,H;M=arguments.length;R=3 > M?J:null === I?I=Object.getOwnPropertyDescriptor(J,K):I;if("object" === typeof Reflect && "function" === typeof Reflect.Fr)R=Reflect.Fr(G,J,K,I);else for(var Q=G.length - 1;0 <= Q;Q--){if(H=G[Q])R=(3 > M?H(R):3 < M?H(J,K,R):H(J,K)) || R;}return (3 < M && R && Object.defineProperty(J,K,R),R);}function h(G,J){return function(K,I){J(K,I,G);};}function g(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.Dc)return Reflect.Dc(G,J);}function k(G,J,K,I){function M(R){return R instanceof K?R:new K(function(H){H(R);});}return new (K || (K=Promise))(function(R,H){function Q(P){try{L(I.next(P));}catch(S){H(S);}}function N(P){try{L(I["throw"](P));}catch(S){H(S);}}function L(P){P.done?R(P.value):M(P.value).then(Q,N);}L((I=I.apply(G,J || [])).next());});}function n(G,J){var M,R,H,Q,N;function K(L){return function(P){return I([L,P]);};}function I(L){if(R)throw new TypeError("Generator is already executing.");for(;M;){try{if((R=1,H && (Q=L[0] & 2?H["return"]:L[0]?H["throw"] || ((Q=H["return"]) && Q.call(H),0):H.next) && !(Q=Q.call(H,L[1])).done))return Q;if((H=0,Q))L=[L[0] & 2,Q.value];switch(L[0]){case 0:case 1:Q=L;break;case 4:return (M.label++,{value:L[1],done:!1});case 5:M.label++;H=L[1];L=[0];continue;case 7:L=M.Ln.pop();M.Vn.pop();continue;default:if(!(Q=M.Vn,Q=0 < Q.length && Q[Q.length - 1]) && (6 === L[0] || 2 === L[0])){M=0;continue;}if(3 === L[0] && (!Q || L[1] > Q[0] && L[1] < Q[3]))M.label=L[1];else if(6 === L[0] && M.label < Q[1])(M.label=Q[1],Q=L);else if(Q && M.label < Q[2])(M.label=Q[2],M.Ln.push(L));else {Q[2] && M.Ln.pop();M.Vn.pop();continue;}}L=J.call(G,M);}catch(P){L=[6,P];H=0;}finally{R=Q=0;}}if(L[0] & 5)throw L[1];return {value:L[0]?L[1]:void 0,done:!0};}M={label:0,$c:function(){if(Q[0] & 1)throw Q[1];return Q[1];},Vn:[],Ln:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(G,J,K,I){void 0 === I && (I=K);G[I]=J[K];}function p(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function v(G){var J,K,I;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];I=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && I >= G.length && (G=void 0);return {value:G && G[I++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(G,J){var K,I,M;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);M=[];try{for(;(void 0 === J || 0 < J--) && !(I=G.next()).done;){M.push(I.value);}}catch(H){var R;R={error:H};}finally{try{I && !I.done && (K=G["return"]) && K.call(G);}finally{if(R)throw R.error;}}return M;}function u(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(t(arguments[J]));}return G;}function w(){var I;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);I=0;for(J=0;J < K;J++){for(var M=arguments[J],R=0,H=M.length;R < H;(R++,I++)){G[I]=M[R];}}return G;}function x(G){return this instanceof x?(this.nE=G,this):new x(G);}function y(G,J,K){var N,L,P;function I(S){N[S] && (L[S]=function(U){return new Promise(function(da,ka){1 < P.push([S,U,da,ka]) || M(S,U);});});}function M(S,U){var da;try{da=N[S](U);da.value instanceof x?Promise.resolve(da.value.nE).then(R,H):Q(P[0][2],da);}catch(ka){Q(P[0][3],ka);}}function R(S){M("next",S);}function H(S){M("throw",S);}function Q(S,U){(S(U),P.shift(),P.length) && M(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);P=[];return (L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function z(G){var K,I;function J(M,R){K[M]=G[M]?function(H){return (I=!I)?{value:x(G[M](H)),done:"return" === M}:R?R(H):H;}:R;}return (K={},J("next"),J("throw",function(M){throw M;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function A(G){var I,M;function J(R){M[R]=G[R] && (function(H){return new Promise(function(Q,N){H=G[R](H);K(Q,N,H.done,H.value);});});}function K(R,H,Q,N){Promise.resolve(N).then(function(L){R({value:L,done:Q});},H);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");I=G[Symbol.asyncIterator];return I?I.call(G):(G="function" === typeof v?v(G):G[Symbol.iterator](),M={},J("next"),J("throw"),J("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return g;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return v;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ss=b.lCa=b.kCa=b.ica=b.mfb=b.nfb=b.jCa=b.hca=b.lfb=b.JFa=b.B0=b.s0=b.iCa=b.L=b.M=void 0;(function(f){f[f.Sl=7001]="UNKNOWN";f[f.ELa=7002]="UNHANDLED_EXCEPTION";f[f.ggb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";f[f.Dca=7010]="INIT_ASYNCCOMPONENT";f[f.UDa=7011]="INIT_HTTP";f[f.cgb=7014]="INIT_BADMOVIEID";f[f.ugb=7016]="INIT_NETFLIXID_MISSING";f[f.tgb=7017]="INIT_NETFLIXID_INVALID";f[f.wgb=7018]="INIT_SECURENETFLIXID_MISSING";f[f.VDa=7020]="INIT_PLAYBACK_LOCK";f[f.WDa=7022]="INIT_SESSION_LOCK";f[f.vgb=7029]="INIT_POSTAUTHORIZE";f[f.TDa=7031]="INIT_HEADER_MEDIA";f[f.N4b=7032]="HEADER_MISSING";f[f.M4b=7033]="HEADER_FRAGMENTS_MISSING";f[f.xgb=7034]="INIT_TIMEDTEXT_TRACK";f[f.a5b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";f[f.b5b=7036]="INIT_STREAMS_NOT_AVAILABLE";f[f.ccb=7037]="ASE_SESSION_ERROR";f[f.bcb=7038]="ASE_SEEK_THREW";f[f.dcb=7039]="ASE_SKIPPED_THREW";f[f.qgb=7041]="INIT_CORE_OBJECTS1";f[f.rgb=7042]="INIT_CORE_OBJECTS2";f[f.sgb=7043]="INIT_CORE_OBJECTS3";f[f.Y4b=7051]="INIT_COMPONENT_REQUESTQUOTA";f[f.S4b=7052]="INIT_COMPONENT_FILESYSTEM";f[f.MDa=7053]="INIT_COMPONENT_STORAGE";f[f.NDa=7054]="INIT_COMPONENT_STORAGELOCK";f[f.T4b=7055]="INIT_COMPONENT_LOGPERSIST";f[f.U4b=7056]="INIT_COMPONENT_NRDDPI";f[f.W4b=7057]="INIT_COMPONENT_PEPPERCRYPTO";f[f.JDa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";f[f.Eca=7059]="INIT_COMPONENT_DEVICE";f[f.V4b=7062]="INIT_COMPONENT_NTBA";f[f.KDa=7063]="INIT_COMPONENT_MSL";f[f.egb=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";f[f.IDa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";f[f.pB=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";f[f.X4b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";f[f.dgb=7069]="INIT_COMPONENT_ACCOUNT";f[f.igb=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";f[f.kgb=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";f[f.lgb=7072]="INIT_COMPONENT_NRDP_MEDIA";f[f.mgb=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";f[f.ngb=7074]="INIT_COMPONENT_NRDP_REGISTRATION";f[f.hgb=7081]="INIT_COMPONENT_NRDP";f[f.jgb=7082]="INIT_COMPONENT_NRDP_DEVICE";f[f.SDa=7083]="INIT_COMPONENT_WEBCRYPTO";f[f.pgb=7084]="INIT_COMPONENT_VIDEO_PREPARER";f[f.$4b=7085]="INIT_CONGESTION_SERVICE";f[f.HDa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";f[f.ODa=7087]="INIT_COMPONENT_TRACKING_LOG";f[f.FDa=7088]="INIT_COMPONENT_BATTERY_MANAGER";f[f.EDa=7089]="INIT_COMPONENT_ASE";f[f.Z4b=7090]="INIT_COMPONENT_VIDEO_CACHE";f[f.PJ=7091]="INIT_COMPONENT_DRM_CACHE";f[f.fgb=7092]="INIT_COMPONENT_DRM";f[f.ogb=7093]="INIT_COMPONENT_PREFETCH_EVENTS";f[f.GDa=7094]="INIT_COMPONENT_FTL";f[f.LDa=7095]="INIT_COMPONENT_PREPARE_MODEL";f[f.PDa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";f[f.QDa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";f[f.RDa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";f[f.pR=7111]="MANIFEST";f[f.ncb=7112]="AUTHORIZE_UNKNOWN";f[f.Xgb=7117]="MANIFEST_VERIFY";f[f.Ejb=7120]="START";f[f.SJ=7121]="LICENSE";f[f.qea=7122]="RELEASE";f[f.WJa=7123]="STOP";f[f.D4b=7124]="FPSAPPDATA";f[f.Mca=7125]="KEEPALIVE";f[f.A3b=7126]="DEACTIVATE";f[f.o7b=7127]="SYNC_DEACTIVATE_LINKS";f[f.z2b=7130]="ACTIVATE";f[f.tib=7131]="PING";f[f.K5b=7133]="NETFLIXID";f[f.ifb=7134]="ENGAGE";f[f.Vgb=7135]="LOGIN";f[f.Ljb=7136]="SWITCH_PROFILES";f[f.Ugb=7137]="LOGBLOB";f[f.cib=7138]="PAUSE";f[f.mjb=7139]="RESUME";f[f.UJa=7140]="SPLICE";f[f.M3b=7141]="DOWNLOAD_EVENT";f[f.Acb=7142]="BIND";f[f.aib=7143]="PAIR";f[f.Bcb=7144]="BIND_DEVICE";f[f.yfb=7145]="GENERATE_SCREENSHOTS";f[f.xib=7202]="PLAY_INIT_EXCEPTION";f[f.l5b=7301]="MEDIA_DOWNLOAD";f[f.s6b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";f[f.t6b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";f[f.ZGa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";f[f.Dib=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";f[f.$Ga=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";f[f.Eib=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";f[f.Dda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";f[f.u6b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";f[f.Cib=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";f[f.dHa=7351]="PLAY_MSE_NOTSUPPORTED";f[f.YGa=7353]="PLAY_MSE_DECODER_TIMEOUT";f[f.Eda=7355]="PLAY_MSE_SOURCEADD";f[f.XGa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";f[f.DR=7357]="PLAY_MSE_GENERATEKEYREQUEST";f[f.x6b=7358]="PLAY_MSE_PARSECHALLENGE";f[f.r6b=7359]="PLAY_MSE_ADDKEY";f[f.A6b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";f[f.cHa=7361]="PLAY_MSE_EVENT_ERROR";f[f.aK=7362]="PLAY_MSE_SETMEDIAKEYS";f[f.fr=7363]="PLAY_MSE_EVENT_KEYERROR";f[f.Gib=7364]="PLAY_MSE_EME_SESSION_CLOSE";f[f.Hib=7365]="PLAY_MSE_GETCURRENTTIME";f[f.Iib=7367]="PLAY_MSE_SETCURRENTTIME";f[f.Jib=7371]="PLAY_MSE_SOURCEAPPEND";f[f.y6b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";f[f.Nib=7375]="PLAY_MSE_UNEXPECTED_SEEKING";f[f.Mib=7376]="PLAY_MSE_UNEXPECTED_SEEKED";f[f.Lib=7377]="PLAY_MSE_UNEXPECTED_REWIND";f[f.z6b=7379]="PLAY_MSE_SOURCE_EOS";f[f.Kib=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";f[f.eHa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";f[f.w6b=7385]="PLAY_MSE_KEYSESSION_UPDATE";f[f.yib=7391]="PLAY_MSE_CREATE_MEDIASOURCE";f[f.zib=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";f[f.Aib=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";f[f.aHa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";f[f.Fib=7395]="PLAY_MSE_EME_MISSING_PSSH";f[f.v6b=7396]="PLAY_MSE_EME_MISSING_CERT";f[f.bHa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";f[f.Bib=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";f[f.P0=7399]="PLAY_MSE_SET_LICENSE_ERROR";f[f.UBa=7400]="EXTERNAL";f[f.O0=7500]="PAUSE_TIMEOUT";f[f.t0=7502]="INACTIVITY_TIMEOUT";f[f.mcb=7510]="AUTHORIZATION_EXPIRED";f[f.C3b=7520]="DECRYPT_AUDIO";f[f.cfb=7700]="EME_INVALID_KEYSYSTEM";f[f.HBa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";f[f.DQ=7702]="EME_CREATE_MEDIAKEYS_FAILED";f[f.Y_=7703]="EME_GENERATEREQUEST_FAILED";f[f.OBa=7704]="EME_UPDATE_FAILED";f[f.MBa=7705]="EME_KEYSESSION_ERROR";f[f.LBa=7706]="EME_KEYMESSAGE_EMPTY";f[f.ffb=7707]="EME_REMOVE_FAILED";f[f.efb=7708]="EME_LOAD_FAILED";f[f.$eb=7709]="EME_CREATE_SESSION_FAILED";f[f.fca=7710]="EME_LDL_RENEWAL_ERROR";f[f.JBa=7711]="EME_INVALID_INITDATA_DATA";f[f.KBa=7712]="EME_INVALID_LICENSE_DATA";f[f.dfb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";f[f.W3b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";f[f.GBa=7716]="EME_CLOSE_FAILED";f[f.gfb=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";f[f.uib=7800]="PLAYDATA_STORE_FAILURE";f[f.q6b=7801]="PLAYDATA_SEND_FAILURE";f[f.iQ=7900]="BRANCH_PLAY_FAILURE";f[f.wJ=7901]="BRANCH_QUEUE_FAILURE";f[f.iza=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";f[f.P5b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";f[f.Q5b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";f[f.iib=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.M || (b.M={}));(function(f){f[f.Sl=1001]="UNKNOWN";f[f.Kj=1003]="EXCEPTION";f[f.Agb=1004]="INVALID_DI";f[f.gcb=1011]="ASYNCLOAD_EXCEPTION";f[f.hcb=1013]="ASYNCLOAD_TIMEOUT";f[f.A2b=1015]="ASYNCLOAD_BADCONFIG";f[f.ecb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";f[f.fcb=1017]="ASYNCLOAD_COMPONENT_MISSING";f[f.dR=1101]="HTTP_UNKNOWN";f[f.yca=1102]="HTTP_XHR";f[f.aR=1103]="HTTP_PROTOCOL";f[f.$Q=1104]="HTTP_OFFLINE";f[f.cR=1105]="HTTP_TIMEOUT";f[f.FE=1106]="HTTP_READTIMEOUT";f[f.oB=1107]="HTTP_ABORT";f[f.hDa=1108]="HTTP_PARSE";f[f.dDa=1110]="HTTP_BAD_URL";f[f.bR=1111]="HTTP_PROXY";f[f.eda=1203]="MSE_AUDIO";f[f.fda=1204]="MSE_VIDEO";f[f.ihb=1250]="MSE_MEDIA_ERR_BASE";f[f.o5b=1251]="MSE_MEDIA_ERR_ABORTED";f[f.r5b=1252]="MSE_MEDIA_ERR_NETWORK";f[f.p5b=1253]="MSE_MEDIA_ERR_DECODE";f[f.s5b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";f[f.q5b=1255]="MSE_MEDIA_ERR_ENCRYPTED";f[f.Rs=1260]="EME_MEDIA_KEYERR_BASE";f[f.b4b=1261]="EME_MEDIA_KEYERR_UNKNOWN";f[f.X3b=1262]="EME_MEDIA_KEYERR_CLIENT";f[f.a4b=1263]="EME_MEDIA_KEYERR_SERVICE";f[f.$3b=1264]="EME_MEDIA_KEYERR_OUTPUT";f[f.Z3b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";f[f.Y3b=1266]="EME_MEDIA_KEYERR_DOMAIN";f[f.c4b=1269]="EME_MEDIA_UNAVAILABLE_CDM";f[f.bfb=1280]="EME_ERROR_NODRMSESSSION";f[f.afb=1281]="EME_ERROR_NODRMREQUESTS";f[f.T3b=1282]="EME_ERROR_INDIV_FAILED";f[f.U3b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";f[f.hfb=1284]="EME_TIMEOUT_MESSAGE";f[f.d4b=1285]="EME_TIMEOUT_KEYCHANGE";f[f.NBa=1286]="EME_UNDEFINED_DATA";f[f.HJ=1287]="EME_INVALID_STATE";f[f.V3b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";f[f.IBa=1289]="EME_EMPTY_DATA";f[f.EQ=1290]="EME_TIMEOUT";f[f.E5b=1303]="NCCP_METHOD_NOT_SUPPORTED";f[f.H5b=1305]="NCCP_PARSEXML";f[f.Qib=1309]="PROCESS_EXCEPTION";f[f.G5b=1311]="NCCP_NETFLIXID_MISSING";f[f.I5b=1312]="NCCP_SECURENETFLIXID_MISSING";f[f.B5b=1313]="NCCP_HMAC_MISSING";f[f.A5b=1315]="NCCP_HMAC_MISMATCH";f[f.z5b=1317]="NCCP_HMAC_FAILED";f[f.y5b=1321]="NCCP_CLIENTTIME_MISSING";f[f.x5b=1323]="NCCP_CLIENTTIME_MISMATCH";f[f.GCa=1331]="GENERIC";f[f.Chb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";f[f.Dhb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";f[f.J5b=1341]="NCCP_TRANSACTION";f[f.C5b=1343]="NCCP_INVALID_DRMTYPE";f[f.D5b=1344]="NCCP_INVALID_LICENCE_RESPONSE";f[f.F5b=1345]="NCCP_MISSING_PAYLOAD";f[f.G6b=1346]="PROTOCOL_NOT_INITIALIZED";f[f.F6b=1347]="PROTOCOL_MISSING_FIELD";f[f.E6b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";f[f.BB=1402]="STORAGE_NODATA";f[f.Z6b=1403]="STORAGE_EXCEPTION";f[f.g7b=1405]="STORAGE_QUOTA_NOT_GRANTED";f[f.h7b=1407]="STORAGE_QUOTA_TO_SMALL";f[f.YJa=1411]="STORAGE_LOAD_ERROR";f[f.Gjb=1412]="STORAGE_LOAD_TIMEOUT";f[f.ZJa=1414]="STORAGE_SAVE_ERROR";f[f.Jjb=1415]="STORAGE_SAVE_TIMEOUT";f[f.yea=1417]="STORAGE_DELETE_ERROR";f[f.XJa=1418]="STORAGE_DELETE_TIMEOUT";f[f.f7b=1421]="STORAGE_FS_REQUESTFILESYSTEM";f[f.c7b=1423]="STORAGE_FS_GETDIRECTORY";f[f.e7b=1425]="STORAGE_FS_READENTRIES";f[f.$6b=1427]="STORAGE_FS_FILEREAD";f[f.b7b=1429]="STORAGE_FS_FILEWRITE";f[f.a7b=1431]="STORAGE_FS_FILEREMOVE";f[f.d7b=1432]="STORAGE_FS_PARSEJSON";f[f.Ijb=1451]="STORAGE_NO_LOCALSTORAGE";f[f.Hjb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";f[f.W5b=1501]="NTBA_UNKNOWN";f[f.V5b=1502]="NTBA_EXCEPTION";f[f.R5b=1504]="NTBA_CRYPTO_KEY";f[f.T5b=1506]="NTBA_CRYPTO_OPERATION";f[f.S5b=1508]="NTBA_CRYPTO_KEYEXCHANGE";f[f.U5b=1515]="NTBA_DECRYPT_UNSUPPORTED";f[f.MAa=1553]="DEVICE_NO_ESN";f[f.LAa=1555]="DEVICE_ERROR_GETTING_ESN";f[f.qfb=1701]="FORMAT_UNKNOWN";f[f.tCa=1713]="FORMAT_XML";f[f.rfb=1715]="FORMAT_XML_CONTENT";f[f.pfb=1721]="FORMAT_BASE64";f[f.c0=1723]="FORMAT_DFXP";f[f.Pfb=1801]="INDEXDB_OPEN_EXCEPTION";f[f.CDa=1802]="INDEXDB_NOT_SUPPORTED";f[f.Ofb=1803]="INDEXDB_OPEN_ERROR";f[f.DDa=1804]="INDEXDB_OPEN_NULL";f[f.Nfb=1805]="INDEXDB_OPEN_BLOCKED";f[f.Qfb=1807]="INDEXDB_OPEN_TIMEOUT";f[f.Mfb=1808]="INDEXDB_INVALID_STORE_STATE";f[f.u0=1809]="INDEXDB_ACCESS_EXCEPTION";f[f.shb=1901]="MSL_UNKNOWN";f[f.lhb=1911]="MSL_INIT_NO_MSL";f[f.tFa=1913]="MSL_INIT_ERROR";f[f.mhb=1915]="MSL_INIT_NO_WEBCRYPTO";f[f.jhb=1931]="MSL_ERROR";f[f.rhb=1933]="MSL_REQUEST_TIMEOUT";f[f.qhb=1934]="MSL_READ_TIMEOUT";f[f.khb=1935]="MSL_ERROR_HEADER";f[f.t5b=1936]="MSL_ERROR_ENVELOPE";f[f.u5b=1937]="MSL_ERROR_MISSING_PAYLOAD";f[f.sFa=1957]="MSL_ERROR_REAUTH";f[f.Zea=2103]="WEBCRYPTO_MISSING";f[f.kkb=2105]="WEBCRYPTOKEYS_MISSING";f[f.lkb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";f[f.i3b=2200]="CACHEDDATA_PARSEJSON";f[f.Fza=2201]="CACHEDDATA_UNSUPPORTED_VERSION";f[f.j3b=2202]="CACHEDDATA_UPGRADE_FAILED";f[f.lB=2203]="CACHEDDATA_INVALID_FORMAT";f[f.x2b=3E3]="ACCOUNT_CHANGE_INFLIGHT";f[f.y2b=3001]="ACCOUNT_INVALID";f[f.L3b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";f[f.K3b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";f[f.I3b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";f[f.J3b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";f[f.H3b=3202]="DOWNLOADED_LICENSE_EXCEPTION";f[f.i7b=3300]="STORAGE_VA_LOAD_ERROR";f[f.j7b=3301]="STORAGE_VA_LOAD_TIMEOUT";f[f.m7b=3302]="STORAGE_VA_SAVE_ERROR";f[f.n7b=3303]="STORAGE_VA_SAVE_TIMEOUT";f[f.k7b=3304]="STORAGE_VA_REMOVE_ERROR";f[f.l7b=3305]="STORAGE_VA_REMOVE_TIMEOUT";f[f.zda=3077]="PBO_DEVICE_EOL_WARNING";f[f.SGa=3078]="PBO_DEVICE_EOL_FINAL";f[f.VGa=3100]="PBO_DEVICE_RESET";f[f.UGa=3101]="PBO_DEVICE_RELOAD";f[f.TGa=3102]="PBO_DEVICE_EXIT";f[f.rib=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.dib=5005]="PBO_ACCOUNT_ON_HOLD";f[f.hib=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.WGa=5007]="PBO_INCORRECT_PIN";f[f.oib=5008]="PBO_MOBILE_ONLY";f[f.sib=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";f[f.kib=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";f[f.fib=5059]="PBO_BLACKLISTED_IP";f[f.eib=5070]="PBO_AGE_VERIFICATION_REQUIRED";f[f.gib=5080]="PBO_CHOICE_MAP_ERROR";f[f.pib=5090]="PBO_RESTRICTED_TO_TESTERS";f[f.mib=5091]="PBO_MALFORMED_REQUEST";f[f.lib=5092]="PBO_INVALID_SERVICE_VERSION";f[f.nib=5093]="PBO_MDX_INVALID_CTICKET";f[f.jib=5094]="PBO_FREE_PREVIEW_ENDED";f[f.qib=5095]="PBO_STREAMING_LOCATION_DISALLOWED";f[f.Udb=5100]="DECODER_TIMEOUT_BUFFERING";f[f.Wdb=5101]="DECODER_TIMEOUT_PRESENTING";f[f.Vdb=5102]="DECODER_TIMEOUT_PLAYING";f[f.Leb=5200]="DOWNLOADER_IO_ERROR";f[f.hza=5300]="BRANCHING_SEGMENT_NOTFOUND";f[f.Fcb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";f[f.N2b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";f[f.Bba=5303]="BRANCHING_ASE_UNINITIALIZED";f[f.Ccb=5304]="BRANCHING_ASE_FAILURE";f[f.K2b=5305]="BRANCHING_MOMENT_FAILURE";f[f.Dcb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";f[f.M2b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";f[f.Gcb=5308]="BRANCHING_SEEK_THREW";f[f.L2b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";f[f.Ecb=5310]="BRANCHING_PLAY_TIMEDOUT";f[f.Hcb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";f[f.Icb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";f[f.Kjb=5500]="STUDIO_MUXED_MANIFEST";f[f.$ca=5600]="MANIFEST_HYDRATION_FAILURE";})(c=b.L || (b.L={}));(function(f){f[f.Y2b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.O2b=5005]="BR_ACCOUNT_ON_HOLD";f[f.S2b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.V2b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";f[f.R2b=5059]="BR_BLACKLISTED_IP";f[f.P2b=5070]="BR_AGE_VERIFICATION_REQUIRED";f[f.W2b=2204]="BR_PLAYBACK_CONTEXT_CREATION";f[f.T2b=2205]="BR_DRM_LICENSE_AQUISITION";f[f.X2b=2206]="BR_PLAYBACK_SERVICE_ERROR";f[f.U2b=2207]="BR_ENDPOINT_ERROR";f[f.Q2b=2208]="BR_AUTHORIZATION_ERROR";})(b.iCa || (b.iCa={}));b.s0={Pcb:"400",I7b:"401",jHa:"413"};b.B0={B4b:1,B7b:2,g4b:3,H7b:4,e5b:5,f4b:6,Tea:7,i4b:8,O6b:9,W6b:10};(function(f){f[f.o6b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";f[f.p6b=98]="PAIRING_UNKNOWN_ERROR";})(b.JFa || (b.JFa={}));b.lfb=function(f){return 7100 <= f && 7200 > f;};b.hca=function(f){return f == a.O0 || f == a.t0;};b.jCa=function(f){return 1100 <= f && 1199 >= f;};b.nfb=function(f){return 1300 <= f && 1399 >= f;};b.mfb=function(f){return 1900 <= f && 1999 >= f;};b.ica=function(f,l){return 1 <= f && 9 >= f?l + f:l;};b.kCa=function(f){return b.ica(f,c.ihb);};b.lCa=function(f){return b.ica(f,c.Rs);};b.Ss=function(f){var l,m,d;l={};m=f.errorExternalCode || f.nf;d=f.errorDetails || f.ub;l.ErrorSubCode=f.errorSubCode || f.na || c.Sl;m && (l.ErrorExternalCode=m);d && (l.ErrorDetails=d);return l;};},function(r,b,a){var l;function c(){return l.YR.apply(this,arguments) || this;}function f(m){return new l.Ts(m,b.ja);}Object.defineProperty(b,"__esModule",{value:!0});b.Gb=b.tDa=b.oda=b.eo=b.ja=b.SE=b.timestamp=b.FIb=b.E8=b.uh=b.Kc=b.L5a=b.$Nb=b.Zjb=void 0;l=a(312);na(c,l.YR);b.Zjb=c;b.$Nb=function(m){return new l.Ts(m,b.SE);};b.L5a=function(m){return new l.Ts(m * b.eo.vg,b.SE);};b.Kc=f;b.uh=function(m){return new l.Ts(m,b.eo);};b.E8=function(m){return new l.Ts(m,b.oda);};b.FIb=function(m){return new l.Ts(m,b.tDa);};b.timestamp=function(m){return f(m);};b.SE=new c(1,"\u03bcs");b.ja=new c(1E3,"ms",b.SE);b.eo=new c(1E3 * b.ja.vg,"s",b.SE);b.oda=new c(60 * b.eo.vg,"min",b.SE);b.tDa=new c(60 * b.oda.vg,"hr",b.SE);b.Gb=f(0);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);f=a(142);l=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(Error);b.assert=function(m,d){if(!m)try{throw new l(d || "Assertion failed");}catch(h){throw (f.Nm.H.error("Assertion failed",{value:m,message:d,stack:h.stack}),h);}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={$V:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CQ=b.qb=b.Uca=b.Mj=void 0;r=b.Mj || (b.Mj={});r[r.ofb=0]="FATAL";r[r.Lf=1]="ERROR";r[r.Yea=2]="WARN";r[r.Cca=3]="INFO";r[r.VKa=4]="TRACE";r[r.ga=5]="DEBUG";b.Uca="LogFieldBuilderFactorySymbol";b.qb="LoggerFactorySymbol";b.CQ={};},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.ka=b.FIa=b.mV=b.Ih=b.Mi=b.log=b.Vf=b.UM=b.UQa=b.Ar=b.lC=b.Rc=b.psb=b.Eia=b.nsb=b.osb=b.jj=b.NP=b.OZ=b.Rh=b.Lc=b.ya=void 0;c=a(195);r=a(7);f=a(26);l=a(78);m=a(77);d=a(36);h=a(30);g=a(141);k=a(38);a=a(48);b.ya=c.$b.get(k.Sh);b.Lc=c.$b.get(a.Pj);b.Rh=c.$b.get(l.zv);b.OZ=b.Rh.encode.bind(b.Rh);b.NP=b.Rh.decode.bind(b.Rh);b.jj=c.$b.get(m.rx);b.osb=b.jj.encode.bind(b.jj);b.nsb=b.jj.decode.bind(b.jj);b.Eia=b.jj.PG.bind(b.jj);b.psb=b.jj.R$a.bind(b.jj);b.Rc=c.$b.get(d.zi);b.lC=function(n){n=h.Re(n)?b.NP(n):n;return b.Rc.encode(n);};b.Ar=b.Rc.decode.bind(b.Rc);b.UQa=function(n){return b.OZ(b.Ar(n));};b.UM=function(){return c.$b.get(f.wx);};b.Vf=c.$b.get(r.qb);b.log=b.Vf.hb("General");b.Mi=function(n,q){return b.Vf.hb(n,void 0,q);};b.Ih=function(n,q,p){return b.Vf.hb(q,n,p);};b.mV=function(n,q,p,v){return b.Vf.hb(n,void 0,v,q,p);};b.FIa=function(n,q,p){return c.$b.get(g.JR)(n,q,p).xZ();};b.ka=c.$b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GR=b.HCa=b.gMa=void 0;r=a(2);r.__exportStar(a(350),b);r.__exportStar(a(114),b);r.__exportStar(a(22),b);r.__exportStar(a(739),b);r.__exportStar(a(740),b);r.__exportStar(a(741),b);r.__exportStar(a(742),b);r.__exportStar(a(743),b);r.__exportStar(a(744),b);r.__exportStar(a(745),b);c=r.__importDefault(a(746));b.gMa=c.default;c=r.__importDefault(a(747));b.HCa=c.default;a=r.__importDefault(a(356));b.GR=a.default;},function(r){var b;b={Ba:function(a){return "number" === typeof a;},Jh:function(a){return "object" === typeof a;},Re:function(a){return "string" === typeof a;},ia:function(a){return "undefined" === typeof a;},u$b:function(a){return "boolean" === typeof a;},ed:function(a){return "function" === typeof a;},Bb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},gRb:function(a){var c,f;f=[];if(!b.Jh(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && f.push([c,a[c]]);}return f;}};b.lf=b.forEach=function(a,c,f){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var l=0,m=a.length;l < m;l++){c.call(f,a[l],l,a);}else for(l in a){b.has(a,l) && c.call(f,a[l],l,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uqa=b.localStorage=b.tJb=b.indexedDB=b.D0=b.Up=b.uB=b.XE=b.URL=b.G0=b.E0=b.IFa=b.z0=b.PE=b.QE=b.np=b.bo=b.aj=b.ida=b.Ix=b.OKa=b.CJ=b.aF=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.By=b.Fhb=b.Ae=b.vv=b.vGa=b.wv=b.F0=b.vB=void 0;r=nb;b.jf=r.navigator;b.vB=null === b.jf || void 0 === b.jf?void 0:b.jf.userAgent;b.F0=r.location;b.wv=r.screen;b.vGa=r.devicePixelRatio;b.vv=r.performance;b.Ae=r.document;b.Fhb=b.Ae.documentElement;b.By=Array.prototype;b.sort=b.By.sort;b.map=b.By.map;b.slice=b.By.slice;b.every=b.By.every;b.reduce=b.By.reduce;b.filter=b.By.filter;b.forEach=b.By.forEach;b.pop=b.By.pop;b.aF=Object.create;b.CJ=Date.now;b.OKa=String.fromCharCode;b.Ix=Math.floor;b.ida=Math.ceil;b.aj=Math.round;b.bo=Math.max;b.np=Math.min;b.QE=Math.random;b.PE=Math.abs;b.z0=Math.pow;b.IFa=Math.sqrt;b.E0=r.escape;b.G0=r.unescape;b.URL=r.URL || r.webkitURL;b.XE=r.MediaSource || r.WebKitMediaSource;b.uB=r.webkitCrypto || r.msCrypto || r.crypto;b.Up=b.uB && (b.uB.webkitSubtle || b.uB.subtle);b.D0=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.tJb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.uqa=a || "noex";}},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WJ=b.y0=b.$cb=b.Vcb=b.Xcb=b.Ycb=b.vza=b.Ucb=b.Wcb=b.uza=b.Zcb=b.fdb=b.ddb=b.edb=b.cdb=b.Web=b.Veb=b.Ueb=b.$gb=b.ahb=b.Hx=b.oFa=b.pFa=b.VJ=b.zBa=b.Yeb=b.dca=b.X_=b.Thb=b.Ajb=b.kFa=b.Ocb=b.JAa=b.N0=b.$E=b.M0=b.jFa=b.rB=b.Ncb=b.gza=b.Pgb=b.hkb=b.Zgb=b.Ygb=b.ujb=b.tjb=b.nl=b.Xe=b.vJa=b.ol=void 0;b.rea=void 0;b.ol=function(){};b.vJa=function(){return !0;};b.Xe={$:!0};b.nl=1E3;b.tjb=86400;b.ujb=604800;b.Ygb=1E4;b.Zgb=1E7;b.hkb=1.5;b.Pgb=.128;b.gza=7.8125;b.Ncb=128;b.rB=145152E5;b.jFa=1E5;b.M0="$netflix$player$order";b.$E=-1;b.N0=1;b.JAa=["en-US"];b.Ocb=8;b.kFa=65535;b.Ajb=65536;b.Thb=Number.MAX_VALUE;b.X_="playready";b.dca="widevine";b.Yeb="fps";b.zBa="clearkey";b.VJ='audio/mp4; codecs="mp4a.40.5"';b.pFa='audio/mp4; codecs="mp4a.40.42"';b.oFa='audio/mp4; codecs="mp4a.a6"';b.Hx='video/mp4; codecs="avc1.640028"';b.ahb='video/mp4; codecs="hev1.2.6.L153.B0"';b.$gb='video/mp4; codecs="dvhe.01000000"';b.Ueb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Veb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Web="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.cdb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.edb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.ddb="4E657466-6C69-7846-7261-6D6552617465";b.fdb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Zcb="mp4a";b.uza="enca";b.Wcb="ec-3";b.Ucb="avc1";b.vza="encv";b.Ycb="hvcC";b.Xcb="hev1";b.Vcb="dvhe";b.$cb="vp09";b.y0=0;b.WJ=1;b.rea="position:relative;width:100%;height:100%;overflow:hidden";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pm={J8b:"casttv",zja:"chrome",N8b:"chromecast",Ir:"edge",NUa:"edgeoss",hWa:"firefox",n$b:"ie",opera:"opera",P7a:"safari",p$a:"tesla"};b.er={g3:"android",TJb:"ios",WRa:"chromeos",NLb:"linux",F1a:"mac",lya:"windows"};b.r0={hvb:"computer",phone:"phone",JZb:"tablet"};b.Xc="ConfigSymbol";},function(r,b,a){var l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B;function c(D){return (D=b.config.xxa[f(D)])?D:{};}function f(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":D;}Object.defineProperty(b,"__esModule",{value:!0});b.lvb=b.mvb=b.CSa=b.Uja=b.kvb=b.DSa=b.jvb=b.ESa=b.Tja=b.config=void 0;l=a(12);m=a(50);d=a(8);h=a(40);g=a(21);a(30);k=a(26);n=a(44);q=a(24);a(7);p=a(11);v=a(19);t=a(184);u=a(49);w=a(89);x=a(135);y=a(52);z=a(4);A=a(34);B=a(18);b.ESa=function(D,E){var ka,ma,X,ua,ya,O,T,ja,pa;function F(sa,Qa){q.se(sa,function(Ua,Za){v.ed(Za)?Qa[Ua]=Za.call(void 0,Qa[Ua]):v.Jh(Za) && (Qa[Ua]=Qa[Ua] || ({}),F(Za,Qa[Ua]));});}function C(sa,Qa,Ua,Za){for(var ab=[],kb=3;kb < arguments.length;++kb){ab[kb - 3]=arguments[kb];}return function(Ya){v.Uc(Ya) && (Ua=Ya);g.kb(v.ed(sa));return sa.apply(void 0,[Qa,Ua].concat(ea(ab)));};}function G(sa){sa=sa.toLowerCase();ua.hasOwnProperty(sa) && (X[sa]=ua[sa],ya[sa]=ua[sa]);return sa;}function J(sa,Qa,Ua){var Za;sa=sa.toLowerCase();if(X.hasOwnProperty(sa)){Za=X[sa];try{Za=Ua?Ua(Za):Za;}catch(ab){Za=void 0;}if(void 0 !== Za)return Za;g.kb(!1);d.log.error("Invalid configuration value. Name: " + sa);}return Qa;}function K(sa,Qa,Ua,Za){return J(sa,Qa,function(ab){v.Re(ab) && (ab=q.Ge(ab));if(v.Y_a(ab,Ua,Za))return ab;});}function I(sa,Qa,Ua,Za){return J(sa,Qa,function(ab){v.Re(ab) && (ab=q.Ge(ab));if(v.Pz(ab,Ua,Za))return ab;});}function M(sa,Qa,Ua,Za){return J(sa,Qa,function(ab){v.Re(ab) && (ab=parseFloat(ab));if(v.Ba(ab,Ua,Za))return ab;});}function R(sa,Qa,Ua){return J(sa,Qa,function(Za){if(Ua?Ua.test(Za):v.Re(Za))return Za;});}function H(sa,Qa){return J(sa,Qa,function(Ua){if("true" == Ua || !0 === Ua)return !0;if("false" == Ua || !1 === Ua)return !1;});}function Q(sa,Qa){return J(sa,Qa,function(Ua){if(v.Re(Ua))return JSON.parse(p.G0(Ua));if(v.Jh(Ua))return Ua;});}function N(sa,Qa,Ua,Za,ab,kb){var Ya;sa=sa.toLowerCase();X.hasOwnProperty(sa) && (Ya=X[sa]);if(!v.Uc(Ya))return Qa;if(v.Re(Ya))if(Ya[0] !== Ua)Ya=Za(Ya);else try{Ya=JSON.parse(p.G0(Ya));}catch(Sa){Ya=void 0;}if(void 0 === Ya)return Qa;for(sa=0;sa < ab.length;sa++){if(!ab[sa](Ya))return Qa;}return kb?kb(Ya):Ya;}function L(sa,Qa,Ua,Za,ab){return N(sa,Qa,"[",function(kb){kb=kb.split("|");for(var Ya=kb.length;Ya--;){kb[Ya]=q.Ge(kb[Ya]);}return kb;},[function(kb){return v.isArray(kb) && 0 < kb.length;},function(kb){for(var Ya=kb.length;Ya--;){if(!v.Pz(kb[Ya],Ua,Za))return !1;}return !0;},function(kb){return void 0 === ab || kb.length >= ab;}]);}function P(sa,Qa){return N(sa,Qa,"[",function(Ua){Ua=v.isArray(Ua)?Ua:Ua.split("|");for(var Za=Ua.length;Za--;){try{Ua[Za]=JSON.parse(p.G0(Ua[Za]));}catch(ab){Ua=void 0;break;}}return Ua;},[function(Ua){return v.isArray(Ua) && 0 < Ua.length;},function(Ua){for(var Za=Ua.length;Za--;){if(!v.Uc(Ua[Za]) || !v.Jh(Ua[Za]))return !1;}return !0;}]);}function S(sa,Qa,Ua,Za){return N(sa,Qa,"[",function(ab){return v.isArray(ab)?ab:ab.split("|");},[function(ab){return v.isArray(ab) && 0 < ab.length;},function(ab){for(var kb=ab.length;kb--;){if(Ua?!Ua.test(ab[kb]):!v.Qz(ab[kb]))return !1;}return !0;},function(ab){return void 0 === Za || ab.length >= Za;}]);}function U(sa,Qa,Ua){return N(sa,Qa,"{",function(Za){var ab,Ya,Sa;ab={};Za=Za.split(";");for(var kb=Za.length;kb--;){Ya=Za[kb];Sa=Ya.indexOf(":");if(0 >= Sa)return;ab[Ya.substring(0,Sa)]=Ya.substring(Sa + 1);}return ab;},[function(Za){return v.Jh(Za) && 0 < Object.keys(Za).length;},function(Za){if(Ua)for(var ab in Za){if(!Ua.test(Za[ab]))return !1;}return !0;}],function(Za){var ab;ab={};q.Xb(ab,Qa);q.Xb(ab,Za);return ab;});}function da(sa){var Qa;Qa=[];q.se(sa,function(Ua,Za){var ab;try{ab="videoapp" === Ua.toLowerCase()?"[object object]":JSON.stringify(Za);}catch(kb){ab="cantparse";}Qa.push(Ua + "=" + ab);});return Qa.join("\n");}ka=/^[0-9]+[%]?$/;ma=/^[0-9]*$/;ya={};O=d.ka.get(h.Qm);T=d.ka.get(x.HR);(function(sa){function Qa(Ua){Ua.split(",").forEach(function(Za){var ab;ab=Za.indexOf("=");0 < ab && (X[Za.substring(0,ab).toLowerCase()]=Za.substring(ab + 1));});}X={};q.Xb(X,sa);D && D.length && p.forEach.call(D,function(Ua){v.Re(Ua)?Qa(Ua):v.Jh(Ua) && q.Xb(X,Ua,{LN:!0});});ua=q.Xb({},m.i6(),{LN:!0});if(sa=m.s6a().cadmiumconfig)(d.log.info("Config cookie loaded",sa),Qa(sa));if(d.ka.get(A.Gk).e3 || X.istestaccount)(q.Xb(X,ua),ya=ua);})(E);b.config={};ja={yBb:C(H,G("enableXHEAAC"),!1),XUa:C(H,G("enableDDPlus20"),!0),WUa:C(H,G("enableDDPlus"),!0),NU:C(H,G("enableDDPlusAtmos"),!1),fBb:C(H,G("enableLSSDH"),!0),$Ab:C(H,G("enableHEVC"),!1),C4a:C(H,G("overrideEnableHEVC"),!1),vla:C(H,G("enableHDR"),!1),B4a:C(H,G("overrideEnableHDR"),!1),A4a:C(H,G("overrideEnableDV"),!1),tM:C(H,G("enableAVCHigh"),T.tM),XH:C(H,G("overrideEnableAVCHigh"),T.XH),wBb:C(H,G("enableVP9"),!1),D4a:C(H,G("overrideEnableVP9"),!1),UAb:C(H,G("enableAV1"),!1),z4a:C(H,G("overrideEnableAV1"),!1),dRb:C(H,G("overrideEnableXHEAAC"),!1),mBb:C(H,G("enablePRK"),!1),YAb:C(H,G("enableDV"),!1),aBb:C(H,G("enableHWDRM"),!1),dBb:C(H,G("enableImageSubs"),!0),i1b:C(H,G("useLegacySubs"),!1),kC:C(S,G("audioProfiles"),T.kC),d9b:C(H,G("disableHD"),!1),uBb:C(H,G("enableUHD"),!0),Maa:C(I,"videoCapabilityDetectorType",k.fj.ov),nia:C(I,"audioCapabilityDetectorType",k.kv.ov),ev:C(S,G("videoProfiles"),T.ev),rpb:C(S,G("timedTextProfiles"),T.cv),cv:function(){return ja.rpb().filter(function(sa){return sa === n.Wm.Rba?ja.fBb():sa === n.Wm.YJ?ja.dBb():!0;});},endpoint:C(H,G("endpoint"),!1),version:C(R,"version","unknown"),E8a:C(H,G("setMediaKeysEarly"),!1),Gac:C(H,G("nrdpPersistCookiesToIndexDB"),!1),$ab:C(H,G("useHdcpLevelOnCast"),!1),bBb:C(H,G("enableHdcp"),!1),Pw:C(H,G("prepareCadmium"),!1),Qpb:C(H,G("acceptManifestOnPrepareItemParams"),!0),BSb:C(Q,"ppmconfig",{maxNumberTitlesScheduled:1}),iSb:C(H,G("playerPredictionModelV2"),!0),PU:C(H,G("enableLdlPrefetch"),!1),cVa:C(H,G("enableMediaPrefetch"),!1),hBb:C(H,G("enableManifestCache"),!0),rzb:C(H,G("deleteCachedManifestOnPlayback"),!1),qzb:C(H,G("deleteCachedManifestOnCreate"),!1),vzb:C(H,G("deleteOtherManifestCacheOnCreate"),!1),uzb:C(H,G("deleteOtherLdlCacheOnCreate"),!1),Yac:C(I,G("periodicPrepareLogsIntervalMilliseconds"),36E5),XSb:C(I,G("prepareManifestCacheMaxCount"),50),VSb:C(I,G("prepareLdlCacheMaxCount"),30),P5a:C(I,G("prepareManifestExpiryMilliseconds"),12E5),WSb:C(I,G("prepareLdlExpiryMilliseconds"),78E4),PSb:C(I,G("prefetcherMaxWishlistSize"),1),OSb:C(I,G("prefetcherBudgetInBytes"),Infinity),QSb:C(H,G("prefetcherOverrideItemPriority"),!0),USb:C(R,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),rcc:C(Q,"videoApp"),fE:C(Q,"storageRules"),DDb:C(H,"ftlEnabled",!0),Soa:C(I,G("imageSubsResolution"),0),cJb:C(I,G("imageSubsMaxBuffer"),T.nNb.da(y.mv),0),YT:C(H,G("captureBatteryStatus"),!1),jEb:C(I,G("getBatteryApiTimeoutMilliseconds"),5E3),um:C(R,G("keySystemId"),T.um),J0a:C(S,G("keySystemList"),void 0,void 0),dOb:C(I,G("hdcpGlobalTimeout1"),1E4),eOb:C(I,G("hdcpGlobalTimeout2"),1E4),kac:C(I,G("hdcpQueryTimeout1"),1E3),lac:C(I,G("hdcpQueryTimeout2"),1E3),N2a:C(I,G("hdcpQueryTimeout2"),100),fOb:C(H,G("microsoftHwdrmRequiresHevc"),!1),Bra:C(H,G("microsoftClearLeadRequiresSwdrm"),!1),aOb:C(H,G("microsoftEnableDeviceInfo"),!1),bOb:C(H,G("microsoftEnableHardwareInfo"),!1),cOb:C(H,G("microsoftEnableHardwareReset"),!1),f1b:C(H,G("useHevcCodecForDolbyVision"),!1),jBb:C(H,G("enableMediaCapabilities"),!1),ASb:C(H,G("powerEfficientForVideo"),!1),vMb:C(H,"logMediaPipelineStatus",!1),mY:C(H,G("renderDomDiagnostics"),!0),s1a:function(){return -1;},JN:C(K,G("logDisplayMaxEntryCount"),T.JN,-1),BMb:C(K,G("logToConsoleLevel"),-1),A8b:C(K,G("bladerunnerCmdHistorySize"),10),kw:function(){return O.kw;},W0b:C(H,"upgradeNetflixId",!0),zqa:C(H,"logErrorIfEsnNotProvided",!0),Dla:C(H,"enforceSinglePlayback",T.Dla),T4:C(H,"enforceSingleSession",T.T4),Ija:C(H,"closeOtherPlaybacks",!0),Arb:C(I,"asyncLoadTimeout",15E3,1),JMb:C(I,"mainThreadMonitorPollRate",0),Fac:C(H,"nrdpAlwaysShowUIOverlay",!1),Hac:C(H,"nrdpValidateSSOTokens",!0),Dbc:C(H,"showNrdpDebugBadging",!1),Qaa:function(){return O.Qaa;},Az:function(){return O.Az;},OL:function(){return O.OL;},hJ:function(){return O.hJ;},nbb:C(I,G("verbosePlaybackInfoDenominator"),0),c$:C(H,"renderTimedText",!0),CSb:C(H,"preBufferTimedText",!0),pCb:C(H,"fatalOnTimedTextLoadError",!0),exa:C(U,"timedTextStyleDefaults",{}),haa:C(U,"timedTextStyleOverrides",{}),dxa:C(U,"timedTextFontFamilyMapping",T.dxa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),FP:C(I,"timedTextSimpleFallbackThreshold",T.FP.da(y.mv)),zka:C(R,G("customDfxpUrl")),tBb:C(H,G("enableSubtitleTrackerLogging"),!1),IWb:C(H,G("sendSubtitleQoeLogblobOnMidplay"),!1),kja:C(L,"cdnIdWhiteList",[]),jja:C(L,"cdnIdBlackList",[]),vma:C(R,G("forceAudioTrack")),NOb:C(H,"muteVolumeOnPlaybackClose",!0),Iac:C(R,"nrdpVolumeControlType","VOLUME_STREAM"),zma:C(R,G("forceTimedTextTrack")),vNb:C(I,G("maxRetriesTimedTextDownload"),0),g_b:C(I,G("timedTextRetryInterval"),8E3),PYb:C(R,"storageType","idb",/^(none|fs|idb|ls)$/),o1a:C(I,"lockExpiration",1E4),tMb:C(I,"lockRefresh",3E3),Ktb:C(H,"captureUnhandledExceptions",!0),bJb:C(H,"ignoreUnhandledExceptionDuringPlayback",!0),h0b:C(H,"unhandledExceptionsArePlaybackErrors",!1),qab:C(R,"unhandledExceptionSource",""),fTb:C(H,"preserveLastFrame",!1),mOb:C(I,"minBufferingTimeInMilliseconds",4E3),BTb:C(I,"progressBackwardsGraceTimeMilliseconds",4E3),CTb:C(I,"progressBackwardsMinPercent",10),Bsb:C(R,G("bookmarkIgnoreBeginning"),"0",ka),Csb:C(R,G("bookmarkIgnoreEnd"),"5%",ka),Dsb:C(R,G("bookmarkIgnoreEndForBranching"),"60000",ka),NN:C(I,"maxParallelConnections",3),Pua:C(H,"reportThroughputInLogblobs",!0),Hw:C(I,"minAudioMediaRequestDuration",16E3),kOb:C(I,"minAudioMediaRequestDurationBranching",0),jA:C(I,"minVideoMediaRequestDuration",4E3),pOb:C(I,"minVideoMediaRequestDurationAL1",0),qOb:C(I,"minVideoMediaRequestDurationBranching",0),u8:C(I,"minAudioMediaRequestSizeBytes",0),C8:C(I,"minVideoMediaRequestSizeBytes",0),BAb:C(H,"droppedFrameRateFilterEnabled",!1),CAb:C(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),EAb:C(function(sa,Qa,Ua,Za,ab,kb){return N(sa,Qa,"[",function(Ya){Ya=Ya.split(";");for(var Sa=Ya.length;Sa--;){Ya[Sa]=Ya[Sa].split("|");for(var Ba=Ya[Sa].length;Ba--;){Ya[Sa][Ba]=q.Ge(Ya[Sa][Ba]);}}return Ya;},[function(Ya){return v.isArray(Ya) && 0 < Ya.length;},function(Ya){for(var Sa=Ya.length;Sa-- && void 0 !== Ya;){if(!v.isArray(Ya[Sa]))return !1;for(var Ba=Ya[Sa].length;Ba--;){if(!v.Pz(Ya[Sa][Ba],Ua,Za))return !1;}}return !0;},function(Ya){if(void 0 !== ab)for(var Sa=Ya.length;Sa--;){if(ab !== Ya[Sa].length)return !1;}return !0;},function(Ya){return void 0 === kb || Ya.length >= kb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),o9b:C(H,"droppedFrameRateFilterWithoutRebufferEnabled",!0),DAb:C(I,"droppedFrameRateFilterMinHeight",384),FAb:C(L,"droppedFramesPercentilesList",[]),gOb:C(H,"microsoftScreenSizeFilterEnabled",!1),iLb:C(H,"keyStatusFilterEnabled",!1),FZa:C(I,"hdcpEngagementWaitTime",0),e0b:C(H,"uiLabelFilterEnabled",!0),d0b:C(Q,"uiLabelFilter",{}),mzb:C(I,G("defaultVolume"),100,0,100),ira:C(I,G("maxPlaybackRate"),2,0,16),jUa:C(H,"disableVideoRightClickMenu",!1),x8:C(I,"minDecoderBufferMilliseconds",1E3,0,l.rB),WH:C(I,"optimalDecoderBufferMilliseconds",5E3,0,l.rB),p4a:C(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,l.rB),yD:C(I,"minimumTimeBeforeBranchDecision",3E3,0,l.rB),bA:C(I,"maxDecoderBufferMilliseconds",T.bA.da(z.ja),0,l.rB),MTa:C(I,"decoderTimeoutMilliseconds",1E4,1),B3a:C(I,"noRenderTimeoutMilliseconds",0),Zzb:C(H,"disgardMediaOnAppend",!1),frb:C(H,"appendMediaBeforeInit",!1),xRb:C(I,"pauseTimeoutLimitMilliseconds",18E5),Uoa:C(I,"inactivityMonitorInterval",3E4,0),Ppb:C(L,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),vM:C(H,"enableTrickPlay",!1),Gqb:C(L,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),Q_b:C(I,"trickPlayHighResolutionBitrateThreshold",1E3),R_b:C(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),U_b:C(M,"trickplayBufferFactor",.5),P_b:C(I,"trickPlayDownloadRetryCount",1),$qa:C(R,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Wra:C(R,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),rDa:C(Q,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),k2a:C(K,"maxIQRSamples",Infinity),W2a:C(K,"minIQRSamples",5),gbb:C(H,"useResourceTimingAPI",!1),YIb:C(H,"ignoreFirstByte",!0),ONb:C(H,"mediaRequestAsyncLoadStart",!0),q1b:C(H,"useXHROnLoadStart",!1),Ula:C(L,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),b4:C(I,"connectTimeoutMilliseconds",8E3,500),bsa:C(I,"noProgressTimeoutMilliseconds",8E3,500),j1b:C(H,"useOnLineApi",!1),I$a:C(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),xac:C(I,"netflixRequestExpiryTimeout",0),f2b:C(H,"webkitDecodedFrameCountIncorrectlyReported",!1),oWb:C(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),vRb:C(H,"pausePlaybackOnAudioSwitch",!0),Z$:C(S,G("supportedAudioTrackTypes"),[],void 0,1),Y6:C(I,"initialLogFlushTimeout",5E3),y5a:C(R,"playdataPersistKey",O.kw?"unsentplaydatatest":"unsentplaydata"),Fva:C(H,"sendPersistedPlaydata",!0),eSb:C(I,"playdataPersistIntervalMilliseconds",4E3),Zac:C(I,"playdataSendDelayMilliseconds",1E4),A$:C(H,"sendPlaydataBackupOnInit",!0),yMb:C(S,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),O2a:C(H,"midplayEnabled",!0),s8:C(I,"midplayIntervalMilliseconds",3E5),P2a:C(L,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),K4:C(I,"downloadReportDenominator",0),qAb:C(I,"downloadReportInterval",3E5),r1a:C(I,"logConfigApplyDenominator",0),cRa:C(U,G("bookmarkByMovieId"),{}),gV:C(H,G("forceLimitedDurationLicense"),!1),nD:C(I,G("licenseRenewalRequestDelay"),0),gta:C(I,G("persistedReleaseDelay"),1E4),F$b:C(H,G("limitedDurationFlagOverride"),void 0),Q7a:C(I,"safariPlayPauseWorkaroundDelay",100),q2b:C(I,"workaroundValueForSeekIssue",1200),fja:C(H,G("callEndOfStream"),T.fja),IRb:C(H,"performRewindCheck",!0),rCb:C(H,"fatalOnUnexpectedSeeking",!0),qCb:C(H,"fatalOnUnexpectedSeeked",!0),CXb:C(H,G("setVideoElementSize")),Jub:C(H,G("clearVideoSrc"),!0),XTa:C(I,G("delayPlayPause"),0),hp:C(H,G("useTypescriptEme"),!1),Yab:C(H,G("useEncryptedEvent"),!0),HU:C(R,G("drmPersistKey"),"unsentDrmData"),b6a:C(H,G("promiseBasedEme"),!1),Jtb:C(H,"captureKeyStatusData",!1),Q6:C(H,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),zPb:C(H,G("nudgeSourceBuffer"),!1),vva:C(K,G("seekDelta"),1),LX:C(H,G("preciseSeeking"),!1),FSb:C(H,G("preciseSeekingOnTwoCoreDevice"),!1),WTa:C(U,G("delayErrorHandling")),X$a:C(H,"trackingLogEnabled",!1),Y$a:C(function(sa,Qa){var Ua;Ua=U(sa,Qa,void 0);Ua && Object.entries(Ua).forEach(function(Za){var ab;ab=ba(Za);Za=ab.next().value;ab=ab.next().value;"true" === ab?Ua[Za]=!0:"false" === ab && (Ua[Za]=!1);});return Ua;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),jxa:C(R,"trackingLogPath","/customerevents/track/debug"),G_b:C(L,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Tk:C(R,"esn",""),PVa:C(R,"fesn",""),oBb:C(H,G("enablePerformanceLogging"),!1),ZUa:C(H,G("enableEmeVerboseLogging"),!1),gBb:C(H,"enableLastChunkLogging",!1),appId:C(R,"appId","",ma),sessionId:C(R,"sessionId","",ma),mja:C(R,"cdnProxyUrl"),n1b:C(H,"usePlayReadyHeaderObject",!1),rWa:C(I,"forceXhrErrorResponseCode",void 0),Ir:{uac:C(R,"mslApiPath","/msl/"),dbc:C(R,"proxyPath",""),WA:C(R,"uiVersion"),xaa:C(R,"uiPlatform"),K8b:function(){return "0";},Fta:C(S,"preferredLanguages",l.JAa,/^[a-zA-Z-]{2,5}$/,1),jDb:C(R,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),vZb:C(H,"supportPreviewContentPin",!0),wZb:C(H,"supportWatermarking",!0),eYb:C(H,"showAllSubDubTracks",!1),B9b:C(H,G("failOnGuidMismatch"),!1)},T9:{enabled:C(H,"qcEnabled",!1),Uo:C(R,"qcPackageId","")},Js:C(H,"useRangeHeader",!1),QU:C(H,"enableMilestoneEventList",!0),FL:C(R,"authenticationType",O.kw?T.NQa:T.FL),MQa:C(U,"authenticationKeyNames",q.Xb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),GZb:C(R,"systemKeyWrapFormat"),jJb:C(H,"includeNetflixIdUserAuthData",!0),YXb:C(H,"shouldSendUserAuthData",!0),Iva:C(H,"sendUserAuthIfRequired",T.Iva),UXb:C(H,"shouldClearUserData",!1),mJ:C(H,"usesMsl",!0),IOb:C(H,"mslDeleteStore",!1),KOb:C(H,"mslPersistStore",!0),Kvb:C(H,"correctNetworkForShortTitles",!0),zSb:C(H,"postplayHighInitBitrate",!1),eDb:C(H,"flushHeaderCacheOnAudioTrackChange",!0),AZb:C(H,"supportsUnequalizedDownloadables",!0),HTa:C(I,G("debugAseDenominator"),100),yT:C(I,"aseAudioBufferSizeBytes",T.yT.da(y.mv)),zT:C(I,"aseVideoBufferSizeBytes",T.zT.da(y.mv)),Iw:C(I,"minInitVideoBitrate",560),Gra:C(I,"minHCInitVideoBitrate",560),dA:C(I,"maxInitVideoBitrate",Infinity),UW:C(I,"minInitAudioBitrate",0),TW:C(I,"minHCInitAudioBitrate",0),FW:C(I,"maxInitAudioBitrate",65535),t8:C(I,"minAcceptableVideoBitrate",235),VW:C(I,"minRequiredBuffer",3E4),rj:C(I,"minPrebufSize",7800),w8:C(I,"minCheckBufferingCompleteInterval",999999),qua:C(M,"rebufferingFactor",1),$r:C(I,"maxBufferingTime",2600),Txa:C(H,"useMaxPrebufSize",!0),tD:C(I,"maxPrebufSize",45E3),kra:C(I,"maxRebufSize",Infinity),V6:C(P,"initialBitrateSelectionCurve",null),v_a:C(I,"initSelectionLowerBound",560),w_a:C(I,"initSelectionUpperBound",1050),eaa:C(I,"throughputPercentForAudio",15),Bia:C(I,"bandwidthMargin",10),Cia:C(H,"bandwidthMarginContinuous",!1),Dia:C(P,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Wja:C(I,"conservBandwidthMargin",20),Uwa:C(H,"switchConfigBasedOnInSessionTput",!1),fU:C(I,"conservBandwidthMarginTputThreshold",0),Xja:C(P,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),j$a:C(H,"switchAlgoBasedOnHistIQR",!1),hE:C(R,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),jra:C(K,"maxPlayerStateToSwitchConfig",-1),Jqa:C(R,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Fca:C(M,"IQRThreshold",.5),Joa:C(R,"histIQRCalcToUse","simple"),qu:C(I,"maxTotalBufferLevelPerSession",0),sla:C(H,"enableCombinedPlaygraphs",!1),P4:C(H,"enableDiscontiguousBuffering",!1),xma:C(L,"forceImmediateTransitionTypeForTitles",[]),wma:C(I,"forceImmediateTransitionExitZone",0),Qxa:C(H,"useBufferSizeLimiter",!1),NZa:C(I,"highWatermarkLevel",3E4),Q$a:C(I,"toStableThreshold",3E4),kaa:C(I,"toUnstableThreshold",T.kaa.da(z.ja)),mwa:C(H,"skipBitrateInUpswitch",!0),kya:C(I,"watermarkLevelForSkipStart",8E3),Doa:C(I,"highStreamRetentionWindow",9E4),Kqa:C(I,"lowStreamTransitionWindow",51E4),Foa:C(I,"highStreamRetentionWindowUp",3E5),Mqa:C(I,"lowStreamTransitionWindowUp",3E5),Eoa:C(I,"highStreamRetentionWindowDown",6E5),Lqa:C(I,"lowStreamTransitionWindowDown",0),Coa:C(M,"highStreamInfeasibleBitrateFactor",.5),Xz:C(I,"lowestBufForUpswitch",15E3),S7:C(I,"lockPeriodAfterDownswitch",15E3),Oqa:C(I,"lowWatermarkLevel",25E3),Yz:C(I,"lowestWaterMarkLevel",2E4),Pqa:C(H,"lowestWaterMarkLevelBufferRelaxed",!1),ura:C(M,"mediaRate",1),f8:C(I,"maxTrailingBufferLen",1E4),CT:C(I,"audioBufferTargetAvailableSize",262144),RZ:C(I,"videoBufferTargetAvailableSize",1048576),x2a:C(I,"maxVideoTrailingBufferSize",8388608),e2a:C(I,"maxAudioTrailingBufferSize",393216),j5:C(M,"fastUpswitchFactor",3),Vla:C(M,"fastDownswitchFactor",1),eA:C(I,"maxMediaBufferAllowed",24E4),kwa:C(H,"simulatePartialBlocks",!0),h9a:C(H,"simulateBufferFull",!0),Yja:C(H,"considerConnectTime",!1),Vja:C(M,"connectTimeMultiplier",1),z1a:C(I,"lowGradeModeEnterThreshold",12E4),A1a:C(I,"lowGradeModeExitThreshold",9E4),h2a:C(I,"maxDomainFailureWaitDuration",3E4),d2a:C(I,"maxAttemptsOnFailure",18),DVa:C(H,"exhaustAllLocationsForFailure",!0),n2a:C(I,"maxNetworkErrorsDuringBuffering",20),Z7:C(I,"maxBufferingTimeAllowedWithNetworkError",12E4),LVa:C(I,"fastDomainSelectionBwThreshold",2E3),v$a:C(I,"throughputProbingEnterThreshold",4E4),w$a:C(I,"throughputProbingExitThreshold",34E3),m1a:C(I,"locationProbingTimeout",1E4),TVa:C(I,"finalLocationSelectionBwThreshold",1E4),t$a:C(M,"throughputHighConfidenceLevel",.75),u$a:C(M,"throughputLowConfidenceLevel",.4),eVa:C(H,"enablePerfBasedLocationSwitch",!1),Iu:C(H,"probeServerWhenError",!0),Nta:C(I,"probeRequestTimeoutMilliseconds",8E3),yy:C(H,"allowSwitchback",!0),iI:C(I,"probeDetailDenominator",100),a8:C(I,"maxDelayToReportFailure",300),wqa:C(I,"locationStatisticsUpdateInterval",6E4),VSa:C(H,"countGapInBuffer",!1),TPa:C(H,"allowCallToStreamSelector",!0),kRa:C(I,"bufferThresholdForAbort",1E4),lra:C(I,"maxResponsesInitialTput",6),Q4:C(H,"enableInitialTputLogging",!1),jta:C(I,"pipelineScheduleTimeoutMs",2),fA:C(I,"maxPartialBuffersAtBufferingStart",2),Hra:C(I,"minPendingBufferLen",6E3),sD:C(I,"maxPendingBufferLen",12E3),sNb:C(I,"maxPendingBufferLenAL1",3E4),mra:C(I,"maxStreamingSkew",4E3),hra:C(I,"maxPendingBufferPercentage",10),PN:C(I,"maxRequestsInBuffer",60),r2a:C(I,"maxRequestsInBufferAL1",240),s2a:C(I,"maxRequestsInBufferBranching",120),D6:C(I,"headerRequestSize",4096),Lla:C(H,"estimateHeaderSize",!0),RW:C(I,"minBufferLenForHeaderDownloading",1E4),TO:C(I,"reserveForSkipbackBufferMs",1E4),msa:C(I,"numExtraFragmentsAllowed",2),yq:C(H,"pipelineEnabled",!1),q9a:C(I,"socketReceiveBufferSize",0),q3:C(I,"audioSocketReceiveBufferSize",32768),QP:C(I,"videoSocketReceiveBufferSize",65536),Aoa:C(I,"headersSocketReceiveBufferSize",32768),Caa:C(I,"updatePtsIntervalMs",1E3),Oia:C(I,"bufferTraceDenominator",100),IL:C(I,"bufferLevelNotifyIntervalMs",2E3),CL:C(I,"aseReportDenominator",0),l3:C(I,"aseReportIntervalMs",3E5),VAb:C(H,"enableAbortTesting",!1),Npb:C(I,"abortRequestFrequency",8),Lwa:C(I,"streamingStatusIntervalMs",2E3),tA:C(I,"prebufferTimeLimit",24E4),v8:C(I,"minBufferLevelForTrackSwitch",2E3),ata:C(I,"penaltyFactorForLongConnectTime",2),Hqa:C(I,"longConnectTimeThreshold",200),Nha:C(I,"additionalBufferingLongConnectTime",2E3),Oha:C(I,"additionalBufferingPerFailure",8E3),dY:C(I,"rebufferCheckDuration",6E4),bVa:C(H,"enableLookaheadHints",!1),w1a:C(I,"lookaheadFragments",2),hz:C(H,"enableOCSideChannel",!0),K0:C(Q,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Bab:C(H,"updateDrmRequestOnNetworkFailure",!1),VTa:C(H,"deferAseScheduling",!1),g2a:C(I,"maxDiffAudioVideoEndPtsMs",16E3),w4:C(I,"defaultHeaderCacheSize",4),v4:C(I,"defaultHeaderCacheDataPrefetchMs",8E3),NH:C(H,"neverWipeHeaderCache",!0),Vra:C(I,"networkFailureResetWaitMs",2E3),Ura:C(I,"networkFailureAbandonMs",6E4),e8:C(I,"maxThrottledNetworkFailures",3),daa:C(I,"throttledNetworkFailureThresholdMs",200),Nqa:C(K,"lowThroughputThreshold",400),Pla:C(H,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),h3a:C(H,"mp4ParsingInNative",!1),s9a:C(H,"sourceBufferInOrderAppend",!0),TD:C(H,"requireAudioStreamToEncompassVideo",!0),SPa:C(H,"allowAudioToStreamPastVideo",!0),ei:C(H,"enableManagerDebugTraces",!1),O1a:C(I,"managerDebugMessageInterval",1E3),N1a:C(I,"managerDebugMessageCount",20),M3a:C(H,"notifyManifestCacheEom",!1),Nia:C(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Mia:C(I,"bufferThresholdToSwitchToParallelConnMs",12E4),y9:C(I,"periodicHistoryPersistMs",3E5),q$:C(I,"saveVideoBitrateMs",18E4),iQa:C(H,"appendMediaRequestOnComplete",!0),Saa:C(H,"waitForDrmToAppendMedia",!1),s5:C(H,G("forceAppendHeadersAfterDrm"),!1),$Tb:C(H,G("reappendRequestsOnSkip"),!1),POb:C(I,"netIntrStoreWindow",36E3),nOb:C(I,"minNetIntrDuration",8E3),mCb:C(I,"fastHistoricBandwidthExpirationTime",10368E3),gsb:C(I,"bandwidthExpirationTime",5184E3),jCb:C(I,"failureExpirationTime",86400),zIb:C(I,"historyTimeOfDayGranularity",4),XBb:C(H,"expandDownloadTime",!1),yOb:C(I,"minimumMeasurementTime",500),xOb:C(I,"minimumMeasurementBytes",131072),YZb:C(I,"throughputMeasurementTimeout",2E3),xJb:C(I,"initThroughputMeasureDataSize",262144),ZZb:C(R,"throughputPredictor","ewma"),XZb:C(I,"throughputMeasureWindow",5E3),b_b:C(I,"throughputWarmupTime",5E3),WZb:C(I,"throughputIQRMeasureWindow",5E3),Mgb:C(I,"IQRBucketizerWindow",15E3),ovb:C(I,"connectTimeHalflife",10),IVb:C(I,"responseTimeHalflife",10),yIb:C(I,"historicBandwidthUpdateInterval",2E3),wOb:C(I,"minimumBufferToStopProbing",1E4),uva:C(R,"secondThroughputEstimator","none"),X7a:C(K,"secondThroughputMeasureWindowInMs",Infinity),ZAb:C(S,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),DCb:C(Q,"filterDefinitionOverrides",{}),dzb:C(R,"defaultFilter","throughput-ewma"),mWb:C(R,"secondaryFilter","none"),ezb:C(Q,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),$W:C(H,"needMinimumNetworkConfidence",!0),Gia:C(H,"biasTowardHistoricalThroughput",!0),Gha:C(H,"addHeaderDataToNetworkMonitor",!1),vwa:C(H,"startMonitorOnLoadStart",!1),Oua:C(H,"reportFailedRequestsToNetworkMonitor",!1),fra:C(K,"maxFastPlayBufferInMs",Infinity),dra:C(K,"maxFastPlayBitThreshold",Infinity),Xha:C(H,"appendFirstHeaderOnComplete",!0),orb:C(R,"ase_stream_selector","optimized"),dpa:C(R,"initBitrateSelectorAlgorithm","default"),Tia:C(R,"bufferingSelectorAlgorithm","default"),ITa:C(R,"ase_ls_failure_simulation",""),Cka:C(H,"ase_dump_fragments",!1),Eka:C(I,"ase_location_history",0),Fka:C(I,"ase_throughput",0),KTa:C(H,"ase_simulate_verbose",!1),vSb:C(I,"pollingPeriod",150),nMb:C(I,"loadTimeMs",18E4),YMb:C(I,"marginTimeMs",1E4),bna:C(H,"getDeviceIdFromBindDevice",!1),Fha:C(H,"addFailedLogBlobsToQueue",!0),xxa:{"content-sampling":{$r:C(I,"contentSamplingMaxBufferingTime",3E3),ZO:C(R,"contentSamplingSelectStartingVMAFMethod","fallback"),sT:C(H,"contentSamplingActivateSelectStartingVMAF",!0),tu:C(I,"contentSamplingMinStartingVideoVMAF",80),QW:C(I,"contentSamplingMinAcceptableVMAF",70),GH:C(I,"contentSamplingMinAllowedVmaf",60)},billboard:{Iw:C(I,"billboardMinInitVideoBitrate",1050),dA:C(I,"billboardMaxInitVideoBitrate",null),rj:C(I,"billboardMinPrebufSize",null),tD:C(I,"billboardMaxPrebufSize",null),$r:C(I,"billboardMaxBufferingTime",null),fA:C(I,"billboardMaxPartialBuffersAtBufferingStart",null),Yz:C(I,"billboardLowestWaterMarkLevel",6E3),Xz:C(I,"billboardLowestBufForUpswitch",25E3),hE:C(R,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Iw:C(I,"preplayMinInitVideoBitrate",1050),dA:C(I,"preplayMaxInitVideoBitrate",null),rj:C(I,"preplayMinPrebufSize",null),tD:C(I,"preplayMaxPrebufSize",null),$r:C(I,"preplayMaxBufferingTime",null),fA:C(I,"preplayMaxPartialBuffersAtBufferingStart",null),Yz:C(I,"preplayLowestWaterMarkLevel",6E3),Xz:C(I,"preplayLowestBufForUpswitch",25E3)},embedded:{Iw:C(I,"embeddedMinInitVideoBitrate",1050),dA:C(I,"embeddedMaxInitVideoBitrate",null),rj:C(I,"embeddedMinPrebufSize",null),tD:C(I,"embeddedMaxPrebufSize",null),$r:C(I,"embeddedMaxBufferingTime",null),fA:C(I,"embeddedMaxPartialBuffersAtBufferingStart",null),Yz:C(I,"embeddedLowestWaterMarkLevel",6E3),Xz:C(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Iw:C(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),dA:C(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),rj:C(I,"videoMerchBobHorizontalMinPrebufSize",null),tD:C(I,"videoMerchBobHorizontalMaxPrebufSize",null),$r:C(I,"videoMerchBobHorizontalMaxBufferingTime",null),fA:C(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Yz:C(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Xz:C(I,"videoMerchBobHorizontalLowestBufForUpswitch",null),ev:C(S,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Iw:C(I,"miniModalHorizontalMinInitVideoBitrate",null),dA:C(I,"miniModalHorizontalMaxInitVideoBitrate",null),rj:C(I,"miniModalHorizontalMinPrebufSize",null),tD:C(I,"miniModalHorizontalMaxPrebufSize",null),$r:C(I,"miniModalHorizontalMaxBufferingTime",500),fA:C(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Yz:C(I,"miniModalHorizontalLowestWaterMarkLevel",null),Xz:C(I,"miniModalHorizontalLowestBufForUpswitch",null),ev:C(S,"miniModalHorizontalVideoProfiles",void 0)}},xBb:C(H,"enableVerbosePlaydelayLogging",!1),rBb:C(H,"enableSeamless",!1),Ioa:C(I,"hindsightDenominator",0),Hoa:C(I,"hindsightDebugDenominator",0),H6:C(Q,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),SU:C(H,"enableSessionHistoryReport",!1),qla:C(I,"earlyStageEstimatePeriod",1E4),W0a:C(I,"lateStageEstimatePeriod",3E4),c8:C(I,"maxNumSessionHistoryStored",30),B8:C(I,"minSessionHistoryDuration",3E4),Cw:C(I,"maxActiveRequestsPerSession",3),X7:C(I,"maxActiveRequestsSABCell100",2),d8:C(I,"maxPendingBufferLenSABCell100",500),rqa:C(H,"limitAudioDiscountByMaxAudioBitrate",!0),ee:C(Q,"browserInfo",{}),Xsb:C(I,G("busyGracePeriod"),199),JWb:C(H,G("sendTransitionLogblob"),!0),LAb:C(H,G("editVideoFragments"),!0),N4:C(H,G("earlyAppendSingleChildBranch"),!0),kJb:C(H,G("includeSegmentInfoOnLogblobs"),!0),bCb:C(H,"exposeTestData",!1),Gka:C(H,"declareBufferingCompleteAtSegmentEnd",!0),cG:C(H,"applyProfileTimestampOffset",!1),cm:C(H,"applyProfileStreamingOffset",!1),Xqb:C(H,G("allowSmallSeekDelta"),!1),rYb:C(I,G("smallSeekDeltaThresholdMilliseconds"),t.c1),XAb:C(H,"enableCDMAttestedDescriptors",!1),g$:C(H,"requireDownloadDataAtBuffering",!1),h$:C(H,"requireSetupConnectionDuringBuffering",!1),tua:C(H,"recordFirstFragmentOnSubBranchCreate",!1),Jsb:C(H,"branchingAudioTrackFrameDropSmallSeekFix",!0),pWa:C(H,"forceL3WidevineCdm",!1),bbb:C(H,"useMobileVMAF",!1),cUa:C(R,"desiredVMAFTypeMobile","phone_plus_lts"),dUa:C(R,"desiredVMAFTypeNonMobile","plus_lts"),sT:C(H,"activateSelectStartingVMAF",!1),tu:C(I,"minStartingVideoVMAF",1),QW:C(I,"minAcceptableVMAF",1),GH:C(I,"minAllowedVmaf",1),arb:C(H,"alwaysNotifyEOSForPlaygraph",!0),RU:C(H,"enableNewAse",!0),Faa:C(H,"useNewApi",!0),cBb:C(H,"enableHudsonFieldTest",!1),OIb:C(S,"hudsonTitles",["81127954","70125931","80158148"]),rNb:C(I,"maxPartialBuffersAtHudson",1),EPb:C(I,"numberOfChunksPerSegment",4),KZb:C(I,"targetContentLatency",1E4),LZb:C(I,"targetLongContentLatency",3E4),zOb:C(I,"minimumTimeDelay",1),yla:C(H,"enableWsslEstimate",!1),Y7:C(I,"maxAllowedOutstandingRequests",4),xL:C(H,"alwaysRunUnderflowTimer",!0),Ira:C(I,"minStreamableConcurrencyWindow",3E3),Hwa:C(M,"streamableConcurrencyFactor",.3),TT:C(I,"bufferingConcurrencyWindow",7800),mYb:C(H,"singleStreamablePerBranch",!0),S4:C(H,"enableResolutionVMAFStreamFilter",!1),l$:C(Q,"resolutionVMAFCappingRuleList",{}),cta:C(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),Vzb:C(H,"disableSkipping",!1),Eaa:C(H,"useHLSPlayer",T.Eaa),Rxa:C(H,G("useExitZones"),!0),tVb:C(H,"requestSegmentVmaf",!1),rA:C(Q,"perFragmentVMAFConfig",{enabled:!1})};pa=!0;b.Tja=function(sa){var Qa,Ua,Za;Qa=d.ka.get(B.fd).id;if(0 < b.config.r1a && 0 === Qa % b.config.r1a)try{Ua=d.ka.get(u.Rm);Za=d.ka.get(w.Gx).Ft("config","info",{params:sa});Ua.Ec(Za);}catch(ab){d.log.error("Failed to log config$apply",ab);}nb._cad_global.config=b.config;g.kb(sa);sa && (X=q.Xb({},sa,{LN:!0}),q.Xb(X,ya,{LN:!0}),F(ja,b.config),X.istestaccount && d.log.trace("Config applied for",da(pa?X:sa)),pa=!1);};b.Tja(X);};b.jvb=function(D,E){return v.Re(D) && "%" == D[D.length - 1]?p.aj(parseFloat(D) * E / 100):D | 0;};b.DSa=function(D){return D?(D=q.Xb({},b.config),q.Xb(D,{WH:b.config.p4a},{nA:!0})):b.config;};b.kvb=function(D){var E;E=q.Xb({},b.config);D=c(D);return q.Xb(E,D,{nA:!0});};b.Uja=function(D){D=c(D);return q.Xb({},a(185)(D),{nA:!0});};b.CSa=function(D,E,F){F=! !F && (0 <= F.indexOf("h264hpl") || 0 <= F.indexOf("vp9"));D={Hw:D?b.config.kOb:b.config.Hw,jA:D?b.config.qOb:F?b.config.pOb:b.config.jA,PN:D && F?Math.max(b.config.s2a,b.config.r2a):D?b.config.s2a:F?b.config.r2a:b.config.PN,sD:F?b.config.sNb:b.config.sD,N4:!E};return q.Xb({},a(185)(D),{nA:!0});};b.mvb=c;b.lvb=f;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Be=b.cb=b.xf=b.Pb=b.ca=b.Ica=b.fF=b.Da=void 0;(function(c){c.k1a="loadedtracks";c.j1a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Vp="currenttimechanged";c.tab="unthrottledcurrenttimechanged";c.Ria="bufferedtimechanged";c.KUa="durationchanged";c.tbb="videosizechanged";c.a5a="pausedchanged";c.wta="playingchanged";c.oVa="endedchanged";c.KL="busychanged";c.s3="audiotracklistchanged";c.dm="audiotrackchanged";c.dv="timedtexttracklistchanged";c.Ol="timedtexttrackchanged";c.DZ="trickplayframeschanged";c.m3a="mutedchanged";c.ybb="volumechanged";c.fwa="showsubtitle";c.Gua="removesubtitle";c.e2b="watermark";c.Lpa="isReadyToTransition";c.oN="inactivated";c.L_a="internalPlaybackError";c.uWb="segmentmaploaded";c.vWb="segmentpresenting";c.PQa="autoplaywasallowed";c.v3="autoplaywasblocked";})(b.Da || (b.Da={}));(b.fF || (b.fF={})).BY="playgraphsegmenttransition";b.Ica=a;a.l8a="serverTimeChanged";(function(c){c.BL="aseReport";c.wia="autoplayWasAllowed";c.ci="autoplayWasBlocked";c.Hy="bufferUnderrun";c.closed="closed";c.jg="closing";c.Vp="currentTimeChanged";c.DG="downloadComplete";c.oN="inactivated";c.Y0a="licenseAdded";c.HN="licensed";c.Vz="locationSelected";c.Vqa="manifestClosing";c.yH="manifestPresenting";c.k8="mediaBufferChanged";c.S8="nextBranchingSegmentChosen";c.Bq="playbackStart";c.Aq="playbackReady";c.wk="repositioned";c.pI="repositioning";c.R7a="safePlayRequested";c.AI="segmentPresenting";c.FY="serverSwitch";c.d9a="shouldUpdateVideoDiagInfo";c.zP="subtitleError";c.$wa="throttledMediaTimeChanged";c.uab="unthrottledMediaTimeChanged";c.EP="timedTextRebuffer";c.dv="timedTextTrackListChanged";c.DZ="trickPlayFramesChanged";c.Jxa="updateNextBranchingSegmentWeights";c.u1b="userInitiatedPause";c.kbb="userInitiatedResume";c.Z$a="tracksHydrated";})(b.ca || (b.ca={}));(function(c){c[c.ZJ=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.pe=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Pb || (b.Pb={}));(function(c){c[c.pe=1]="NORMAL";c[c.ud=2]="BUFFERING";c[c.VJa=3]="STALLED";})(b.xf || (b.xf={}));(function(c){c[c.Of=1]="WAITING";c[c.Hc=2]="PLAYING";c[c.eh=3]="PAUSED";c[c.Vq=4]="ENDED";})(b.cb || (b.cb={}));(function(c){c[c.Dx=0]="INITIAL";c[c.zB=1]="SEEK";c[c.SR=2]="TRACK_CHANGED";c[c.gK=3]="SEGMENT_CHANGED";c[c.b0=4]="FORCE_REBUFFER";})(b.Be || (b.Be={}));},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(346),b);},function(r,b,a){b=a(113);b.fzb=0;r.exports={EventEmitter:b,Uh:a(735)};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fd="ApplicationSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ed=b.opa=b.Qz=b.Re=b.Spa=b.nKb=b.bKb=b.Ipa=b.Pz=b.Y_a=b.Ba=b.Qpa=b.isArray=b.v0a=b.Jh=b.Uc=b.is=void 0;r=a(194);b.is=r.HE;b.Uc=function(c){return b.is.Fg(c);};b.Jh=function(c){return b.is.yL(c);};b.v0a=function(c){return b.is.uha(c);};b.isArray=function(c){return b.is.zy(c);};b.Qpa=function(c){return b.is.ZPa(c);};b.Ba=function(c,f,l){return b.is.Fi(c,f,l);};b.Y_a=function(c,f,l){return b.is.Vha(c,f,l);};b.Pz=function(c,f,l){return b.is.wT(c,f,l);};b.Ipa=function(c){return b.is.oT(c);};b.bKb=function(c){return b.is.Lpb(c);};b.nKb=function(c){return b.is.Mpb(c);};b.Spa=function(c){return b.is.$Pa(c);};b.Re=function(c){return b.is.Hp(c);};b.Qz=function(c){return b.is.gn(c);};b.opa=function(c){return b.is.nT(c);};b.ed=function(c){return b.is.W2(c);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=!1;},function(r,b,a){function c(f,l){return b.xo.assert(f,l);}Object.defineProperty(b,"__esModule",{value:!0});b.Oyb=b.Bka=b.Hyb=b.Lyb=b.gM=b.rU=b.Kyb=b.Myb=b.hM=b.GTa=b.Jyb=b.Iyb=b.kb=b.xo=b.Nyb=b.xcb=void 0;r=a(8);a=a(96);b.xcb=function(){c(!1);};b.Nyb=!0;b.xo=r.ka.get(a.nv);b.kb=c;b.Iyb=function(f,l){return b.xo.rrb(f,l);};b.Jyb=function(f,l){return b.xo.srb(f,l);};b.GTa=function(f,l){return b.xo.n3(f,l);};b.hM=function(f,l){return b.xo.yrb(f,l);};b.Myb=function(f,l){return b.xo.wrb(f,l);};b.Kyb=function(f,l){return b.xo.hia(f,l);};b.rU=function(f,l){return b.xo.urb(f,l);};b.gM=function(f,l){return b.xo.xrb(f,l);};b.Lyb=function(f,l){return b.xo.vrb(f,l);};b.Hyb=function(f,l){return b.xo.qrb(f,l);};b.Bka=function(f,l){return b.xo.trb(f,l);};b.Oyb=function(){return b.xo.RJb();};},function(r,b){function a(c,f){var l,m,d,h,g;if(c && f){l=Math;m=l.abs;h=Math.abs(c);for(d=Math.abs(f);d;){g=d;d=h % d;h=g;}c=m.call(l,c * f / h);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.T=void 0;r=(function(){function c(f,l){"object" === typeof f?(this.qc=f.oc,this.nb=f.S):(this.qc=f,this.nb=l);}c.compare=function(f,l){return f.yl(l);};c.abs=function(f){return new c(Math.abs(f.qc),f.nb);};c.Fb=function(f){return 0 === f?c.Gb:new c(f,1E3);};c.vZ=function(f,l){return Math.floor(1E3 * f / l);};c.Qra=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{oc:{get:function(){return this.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return c.vZ(this.qc,this.nb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{dI:{get:function(){return 1E3 * this.qc / this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{uI:{get:function(){var f;f=this.dI;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{uh:{get:function(){return this.qc / this.nb;},enumerable:!1,configurable:!0}});c.prototype.Yf=function(f){f/=this.nb;return new c(Math.floor(this.qc * f),Math.floor(this.nb * f));};c.prototype.add=function(f){var l;if(this.nb === f.nb)return new c(this.qc + f.qc,this.nb);l=a(this.nb,f.nb);return new c(this.qc * l / this.nb + f.qc * l / f.nb,l);};c.prototype.Qa=function(f){var l;if(this.nb === f.nb)return new c(this.qc - f.qc,this.nb);l=a(this.nb,f.nb);return new c(this.qc * l / this.nb - f.qc * l / f.nb,l);};c.prototype.LH=function(f){return new c(this.qc * f,this.nb);};c.prototype.om=function(f){var l;if("number" === typeof f){l=a(this.qc,f);return l !== this.qc?this.Yf(l / this.qc * this.nb).om(f):new c(this.qc / f,this.nb);}if(this.nb === f.nb)return this.qc / f.qc;l=a(this.nb,f.nb);return this.qc * l / this.nb / (f.qc * l / f.nb);};c.prototype.iUa=function(f){var l;if(this.nb === f.nb)return new c(Math.abs(this.qc - f.qc),this.nb);l=a(this.nb,f.nb);return new c(Math.abs(this.qc * l / this.nb - f.qc * l / f.nb),l);};c.prototype.sua=function(){return new c(this.nb,this.qc);};c.prototype.compare=function(f,l){var m;if(this.nb === l.nb)return f(this.qc,l.qc);m=a(this.nb,l.nb);return f(this.qc * m / this.nb,l.qc * m / l.nb);};c.prototype.yl=function(f){var l;if(this.nb === f.nb)return this.qc - f.qc;l=a(this.nb,f.nb);return this.qc * l / this.nb - f.qc * l / f.nb;};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.X8=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.EN=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Or=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.isFinite=function(){return ! !this.nb && isFinite(this.qc);};c.prototype.m6=function(f){return a(this.S,f);};c.prototype.toJSON=function(){return {ticks:this.qc,timescale:this.nb};};c.prototype.toString=function(){return this.qc + "/" + this.nb;};c.prototype.Xd=function(){return this.qc + "/" + this.nb + " (" + this.W + "ms)";};c.Gb=new c(0,1E3);c.Lw=new c(1,1E3);c.bD=new c(Infinity,1);return c;})();b.T=r;},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,I=arguments.length;K < I;K++){J=arguments[K];for(var M in J){Object.prototype.hasOwnProperty.call(J,M) && (G[M]=J[M]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,I){K.__proto__=I;}) || (function(K,I){for(var M in I){I.hasOwnProperty(M) && (K[M]=I[M]);}});return f(G,J);}function l(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function m(G,J){var K,I,M;K={};for(I in G){Object.prototype.hasOwnProperty.call(G,I) && 0 > J.indexOf(I) && (K[I]=G[I]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){M=0;for(I=Object.getOwnPropertySymbols(G);M < I.length;M++){0 > J.indexOf(I[M]) && Object.prototype.propertyIsEnumerable.call(G,I[M]) && (K[I[M]]=G[I[M]]);}}return K;}function d(G,J,K,I){var M,R,H;M=arguments.length;R=3 > M?J:null === I?I=Object.getOwnPropertyDescriptor(J,K):I;if("object" === typeof Reflect && "function" === typeof Reflect.Fr)R=Reflect.Fr(G,J,K,I);else for(var Q=G.length - 1;0 <= Q;Q--){if(H=G[Q])R=(3 > M?H(R):3 < M?H(J,K,R):H(J,K)) || R;}return (3 < M && R && Object.defineProperty(J,K,R),R);}function h(G,J){return function(K,I){J(K,I,G);};}function g(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.Dc)return Reflect.Dc(G,J);}function k(G,J,K,I){function M(R){return R instanceof K?R:new K(function(H){H(R);});}return new (K || (K=Promise))(function(R,H){function Q(P){try{L(I.next(P));}catch(S){H(S);}}function N(P){try{L(I["throw"](P));}catch(S){H(S);}}function L(P){P.done?R(P.value):M(P.value).then(Q,N);}L((I=I.apply(G,J || [])).next());});}function n(G,J){var M,R,H,Q,N;function K(L){return function(P){return I([L,P]);};}function I(L){if(R)throw new TypeError("Generator is already executing.");for(;M;){try{if((R=1,H && (Q=L[0] & 2?H["return"]:L[0]?H["throw"] || ((Q=H["return"]) && Q.call(H),0):H.next) && !(Q=Q.call(H,L[1])).done))return Q;if((H=0,Q))L=[L[0] & 2,Q.value];switch(L[0]){case 0:case 1:Q=L;break;case 4:return (M.label++,{value:L[1],done:!1});case 5:M.label++;H=L[1];L=[0];continue;case 7:L=M.Ln.pop();M.Vn.pop();continue;default:if(!(Q=M.Vn,Q=0 < Q.length && Q[Q.length - 1]) && (6 === L[0] || 2 === L[0])){M=0;continue;}if(3 === L[0] && (!Q || L[1] > Q[0] && L[1] < Q[3]))M.label=L[1];else if(6 === L[0] && M.label < Q[1])(M.label=Q[1],Q=L);else if(Q && M.label < Q[2])(M.label=Q[2],M.Ln.push(L));else {Q[2] && M.Ln.pop();M.Vn.pop();continue;}}L=J.call(G,M);}catch(P){L=[6,P];H=0;}finally{R=Q=0;}}if(L[0] & 5)throw L[1];return {value:L[0]?L[1]:void 0,done:!0};}M={label:0,$c:function(){if(Q[0] & 1)throw Q[1];return Q[1];},Vn:[],Ln:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(G,J,K,I){void 0 === I && (I=K);G[I]=J[K];}function p(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function v(G){var J,K,I;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];I=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && I >= G.length && (G=void 0);return {value:G && G[I++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(G,J){var K,I,M;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);M=[];try{for(;(void 0 === J || 0 < J--) && !(I=G.next()).done;){M.push(I.value);}}catch(H){var R;R={error:H};}finally{try{I && !I.done && (K=G["return"]) && K.call(G);}finally{if(R)throw R.error;}}return M;}function u(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(t(arguments[J]));}return G;}function w(){var I;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);I=0;for(J=0;J < K;J++){for(var M=arguments[J],R=0,H=M.length;R < H;(R++,I++)){G[I]=M[R];}}return G;}function x(G){return this instanceof x?(this.nE=G,this):new x(G);}function y(G,J,K){var N,L,P;function I(S){N[S] && (L[S]=function(U){return new Promise(function(da,ka){1 < P.push([S,U,da,ka]) || M(S,U);});});}function M(S,U){var da;try{da=N[S](U);da.value instanceof x?Promise.resolve(da.value.nE).then(R,H):Q(P[0][2],da);}catch(ka){Q(P[0][3],ka);}}function R(S){M("next",S);}function H(S){M("throw",S);}function Q(S,U){(S(U),P.shift(),P.length) && M(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);P=[];return (L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function z(G){var K,I;function J(M,R){K[M]=G[M]?function(H){return (I=!I)?{value:x(G[M](H)),done:"return" === M}:R?R(H):H;}:R;}return (K={},J("next"),J("throw",function(M){throw M;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function A(G){var I,M;function J(R){M[R]=G[R] && (function(H){return new Promise(function(Q,N){H=G[R](H);K(Q,N,H.done,H.value);});});}function K(R,H,Q,N){Promise.resolve(N).then(function(L){R({value:L,done:Q});},H);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");I=G[Symbol.asyncIterator];return I?I.call(G):(G="function" === typeof v?v(G):G[Symbol.iterator](),M={},J("next"),J("throw"),J("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return g;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return v;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.USa=b.sWa=b.Eo=b.Rf=b.vd=b.yw=b.trim=b.VV=b.X9a=b.dua=b.iRb=b.Ge=b.uQa=b.GRa=b.Xb=b.se=void 0;c=a(21);f=a(30);l=a(11);m=a(19);b.se=function(d,h){for(var g in d){d.hasOwnProperty(g) && h(g,d[g]);}};b.Xb=b.Xb || (function(d,h,g){var k,n,q;if(h)if(g){k=g.LN;n=g.prefix;q=g.nA;b.se(h,function(p,v){if(!q || f.Uc(v))d[(n || "") + (k?p.toLowerCase():p)]=v;});}else b.se(h,function(p,v){d[p]=v;});return d;});b.GRa=function(d,h,g,k){var n;if(d){n=d[h];m.ed(n) && (g=n.apply(d,l.slice.call(arguments,3)));}return g;};b.uQa=function(d){for(var h={},g=d.length;g--;){h[d[g]]=!0;}return h;};b.Ge=b.Ge || (function(d){return parseInt(d,10);});b.iRb=function(d){return (/^true$/i).test(d);};b.dua=function(d,h){return l.aj(d + l.QE() * (h - d));};b.X9a=function(d){return JSON.stringify(d,null,"  ");};b.VV=(function(){var h,g;function d(k){c.kb(void 0 !== h[k]);return h[k];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(k){return k.replace(g,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(h){return h.replace(d,"");};})();b.yw=function(d){return Array.isArray(d)?d:[d];};b.vd=b.vd || (function(d){var h,g,k;if(d){h=d.stack;g=d.number;k=d.message;k || (k="" + d);h?(d="" + h,0 != d.indexOf(k) && (d=k + "\n" + d)):d=k;g && (d+="\nnumber:" + g);return d;}});b.Rf=function(d){return m.Ba(d)?d.toFixed(0):"";};b.Eo=function(d){return m.Ba(d)?(d / 1E3).toFixed(0):"";};b.sWa=function(d){return m.Ba(d)?d.toFixed():"";};b.USa=function(d){for(var h=[],g=0;g < d.length;g++){h[g]=d[g];}return h;};},function(r,b,a){var f;function c(l){return l.filter(function(m,d){return l.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.W8=b.DHb=b.Lvb=b.flatten=b.U2a=b.Xub=b.k3=b.ut=b.sQa=b.pQa=b.qQa=b.Lp=b.rQa=b.hg=void 0;f=a(2);b.hg=function(l,m){for(var d=0;d < l.length;d++){if(m(l[d],d,l))return l[d];}};b.rQa=function(l,m){for(var d=l.length - 1;0 <= d;--d){if(m(l[d],d,l))return l[d];}};b.Lp=function(l,m){var d;d=-1;return l.some(function(h,g,k){d=g;return m(h,g,k);})?d:-1;};b.qQa=function(l,m){for(var d=l.length - 1;0 <= d;d--){if(m(l[d],d,l))return d;}return -1;};b.pQa=c;b.sQa=function(l,m){m=l.indexOf(m);if(-1 === m)return !1;l.splice(m,1);return !0;};b.ut=function(l,m,d){return d?l.filter(function(h){return !m.some(function(g){return d(h,g);});}):l.filter(function(h){return -1 === m.indexOf(h);});};b.k3=function(l,m){return c(l.concat(m));};b.Xub=function(l){return function(m,d){return l(m) - l(d);};};b.U2a=function(l){return function(m,d){return l(m) < l(d)?m:d;};};b.flatten=function(l){var m;return (m=[]).concat.apply(m,f.__spread(l));};b.Lvb=function(l,m){void 0 === m && (m=function(d){return d;});return l.reduce(function(d,h){h=m(h);return (void 0 === d[h]?d[h]=1:++d[h],d);},{});};b.DHb=function(l,m){return l.reduce(function(d,h){var g;g=m(h);return (void 0 === d[g]?d[g]=[h]:d[g].push(h),d);},{});};b.W8=function(l){return null !== l && void 0 !== l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wx=b.WLa=b.ikb=b.Lj=b.re=b.fj=b.kv=b.Oj=void 0;(function(a){a[a.Audio=0]="Audio";a[a.PLa=1]="Video";})(b.Oj || (b.Oj={}));(function(a){a[a.ov=0]="Default";a[a.Jx=1]="Microsoft";})(b.kv || (b.kv={}));(function(a){a[a.ov=0]="Default";a[a.Lba=1]="Cast";a[a.AJ=2]="Chrome";a[a.Jx=3]="Microsoft";})(b.fj || (b.fj={}));(function(a){a[a.PR=0]="SD";a[a.f0=1]="HD";a[a.kK=2]="UHD";a[a.Ps=3]="DV";a[a.Cx=4]="HDR10";a[a.gB=5]="AVCHigh";a[a.Vx=6]="VP9";a[a.Gj=7]="AV1";})(b.re || (b.re={}));(function(a){a[a.KE=0]="Level_1_4";a[a.sv=1]="Level_2_2";})(b.Lj || (b.Lj={}));b.ikb=function(){};(function(a){a[a.L6b=0]="Platform";a[a.z3b=1]="CurrentTitle";})(b.WLa || (b.WLa={}));b.wx="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ag="IsTypeSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={Z2b:{Sx:0,Y6b:1,name:["STARTUP","STEADY"]},g0:{yh:0,X6b:1,ekb:2,name:["STARTING","STABLE","UNSTABLE"]},Ta:{Ub:0,Lb:1,name:["AUDIO","VIDEO"]},ml:{Ub:0,Lb:1,name:["AUDIO","VIDEO"]},xh:{URL:0,iF:1,LOCATION:2,Mx:3,name:["URL","SERVER","LOCATION","NETWORK"]},Mf:{HAVE_NOTHING:0,nB:1,Bx:2,MJ:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},hF:{G2b:0,C4b:1,C6b:2,L5b:3,k6b:4,z7b:5,E4b:6,k5b:7,Sx:8,Lf:9,Fda:10,Pib:11,Aba:12,Tgb:13,Sgb:14,xjb:15,wjb:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},e4b:{Mx:0,B3b:1,name:["NETWORK","DECODE"]},V6b:{D3b:"delayedSeamless",O4b:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bg="UtilitiesSymbol";},function(r,b,a){var m,d;function c(h){return null !== h && void 0 !== h;}function f(h){return typeof h == b.XKa;}function l(h,g,k){var n,q,p;if(g)if(k){n=k.LN;q=k.prefix;p=k.nA;d.se(g,function(v,t){if(!p || c(t))h[(q || "") + (n?v.toLowerCase():v)]=t;});}else d.se(g,function(v,t){h[v]=t;});return h;}Object.defineProperty(b,"__esModule",{value:!0});b.L=b.vd=b.VV=b.HM=b.vG=b.createElement=b.At=b.tQa=b.U3=b.lP=b.Xb=b.op=b.Ge=b.Qz=b.Re=b.Jh=b.Uc=b.WKa=b.Wjb=b.Xjb=b.XKa=b.rE=b.Waa=b.Ls=b.ZP=b.YP=b.Ek=b.z0=b.PE=b.QE=b.np=b.bo=b.aj=b.ida=b.Ix=b.CJ=b.Yhb=b.aF=b.nl=b.ol=void 0;m=a(11);d=a(24);b.ol=function(){};b.nl=1E3;b.aF=Object.create;b.Yhb=Object.keys;b.CJ=Date.now;b.Ix=Math.floor;b.ida=Math.ceil;b.aj=Math.round;b.bo=Math.max;b.np=Math.min;b.QE=Math.random;b.PE=Math.abs;b.z0=Math.pow;b.Ek="$attributes";b.YP="$children";b.ZP="$name";b.Ls="$text";b.Waa="$parent";b.rE="$sibling";b.XKa="string";b.Xjb="number";b.Wjb="function";b.WKa="object";b.Uc=c;b.Jh=function(h){return typeof h == b.WKa;};b.Re=f;b.Qz=function(h){return f(h) && h;};b.Ge=function(h){return parseInt(h,10);};b.op=function(h,g,k){return h >= g?h <= k?h:k:g;};b.Xb=l;b.lP=function(h){return l({},h);};b.U3=function(h){var n;for(var g=0;g < arguments.length;++g){;}g=0;for(var k=arguments.length;g < k;){n=arguments[g++];if(c(n))return n;}};b.tQa=function(h,g){for(var k,n=!0,q;n;){for((n=!1,k=h.length);--k;){q=h[k];q[g] < h[k - 1][g] && (h[k]=h[k - 1],h[k - 1]=q,n=!0);}}};b.At=function(h,g){if(h.length == g.length){for(var k=h.length;k--;){if(h[k] != g[k])return !1;}return !0;}return !1;};b.createElement=function(h,g,k,n){var q;q=m.Ae.createElement(h);g && (q.style.cssText=g);k && (q.innerHTML=k);n && d.se(n,function(p,v){q.setAttribute(p,v);});return q;};b.vG=function(h){var g;g="";d.se(h,function(k,n){g+=(g?";":"") + k + ":" + n;});return g;};b.HM=function(h,g,k){var n;if(h / g > k){n=b.aj(g * k);h=g;}else (n=h,h=b.aj(h / k));return {width:n,height:h};};b.VV=(function(){var g,k;function h(n){return g[n];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};k=/[&'"<>]/g;return function(n){return n.replace(k,h);};})();b.vd=function(h){var g,k;if(h){g=h.stack;k=h.number;h="" + h;g?(g="" + g,0 != g.indexOf(h) && (g=h + "\n" + g)):g=h;k && (g+="\nnumber:" + k);return g;}};b.L={Sl:1001,Kj:1003,qfb:1701,tCa:1713,rfb:1715,pfb:1721,c0:1723};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dh="AsyncComponentLoaderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(145);b.ga=!1;r=(function(){function f(l,m,d,h,g){this.la=l;this.type=m;this.byteOffset=d;this.byteLength=h;this.parent=g;this.Ua={};this.Nn=h;}f.un=function(l,m){var h,k;function d(n){n && n.un && (n=n.un(m),n.length && (h=h.concat(n)));}h=[];l.type === m && h.push(l);if(l.Ua)for(var g in l.Ua){k=l.Ua[g];Array.isArray(k) && k.forEach(d);}return h;};f.st=function(l,m){void 0 === l.Ua[m.type] && (l.Ua[m.type]=[]);l.Ua[m.type].push(m);};f.Al=function(l,m){return f.un(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.la;},enumerable:!0,configurable:!0}});f.prototype.wc=function(){var l;l=this.la.xa();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.st=function(l){f.st(this,l);};f.prototype.un=function(l){return f.un(this,l);};f.prototype.Al=function(l){return f.Al(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Pt=function(){return !0;};f.prototype.Qh=function(l){if((l=this.Ua[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.He=function(l,m){m=void 0 === m?this.la.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Nn,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Nn).toString(16) + ")");this.la.He(l,m,this);};f.prototype.Qu=function(l,m,d){d=void 0 === d?this.la.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Nn,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Nn).toString(16) + ")");this.la.Qu(l,m,d,this);};f.prototype.cY=function(l,m,d){if(1 < d){for(var h=[];0 < d--;){h.push(this.$S(l,m));}return h;}return this.$S(l,m);};f.prototype.Ui=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(h){var g,k;if("offset" === h.type){g=h.offset;if(0 < g % 8)throw Error("Requested offset " + h.offset + "is not an even byte multiple");d.la.offset+=g / 8;}else for(g in h){k=h[g];m[g]="string" === typeof k?d.cY(k):d.cY(k.type,k.length,k.dia);}});return m;};f.prototype.$S=function(l,m){var d;d=this.byteLength - this.la.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.la.mb();break;case "int64":l=this.la.Sd();break;case "int32":l=this.la.xa();break;case "int16":l=this.la.Wc();break;case "string":l=this.la.hua(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.Na=!1;return f;})();b.Ac=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);b.ga=!1;r=(function(){function f(l,m,d,h,g){this.la=l;this.type=m;this.byteOffset=d;this.byteLength=h;this.parent=g;this.Ua={};this.Nn=h;}f.un=function(l,m){var h,k;function d(n){n && n.un && (n=n.un(m),n.length && (h=h.concat(n)));}h=[];l.type === m && h.push(l);if(l.Ua)for(var g in l.Ua){k=l.Ua[g];Array.isArray(k) && k.forEach(d);}return h;};f.st=function(l,m){void 0 === l.Ua[m.type] && (l.Ua[m.type]=[]);l.Ua[m.type].push(m);};f.Al=function(l,m){return f.un(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.la;},enumerable:!0,configurable:!0}});f.prototype.wc=function(){var l;l=this.la.xa();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.st=function(l){f.st(this,l);};f.prototype.un=function(l){return f.un(this,l);};f.prototype.Al=function(l){return f.Al(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Pt=function(){return !0;};f.prototype.Qh=function(l){if((l=this.Ua[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.He=function(l,m){m=void 0 === m?this.la.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Nn,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Nn).toString(16) + ")");this.la.He(l,m,this);};f.prototype.Qu=function(l,m,d){d=void 0 === d?this.la.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Nn,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Nn).toString(16) + ")");this.la.Qu(l,m,d,this);};f.prototype.cY=function(l,m,d){if(1 < d){for(var h=[];0 < d--;){h.push(this.$S(l,m));}return h;}return this.$S(l,m);};f.prototype.Ui=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(h){var g,k;if("offset" === h.type){g=h.offset;if(0 < g % 8)throw Error("Requested offset " + h.offset + "is not an even byte multiple");d.la.offset+=g / 8;}else for(g in h){k=h[g];m[g]="string" === typeof k?d.cY(k):d.cY(k.type,k.length,k.dia);}});return m;};f.prototype.$S=function(l,m){var d;d=this.byteLength - this.la.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.la.mb();break;case "int64":l=this.la.Sd();break;case "int32":l=this.la.xa();break;case "int16":l=this.la.Wc();break;case "string":l=this.la.hua(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.Na=!1;return f;})();b.Ac=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gk="PlatformSymbol";b.wB="PlatformMutableSymbol";},function(r,b,a){var m,d;function c(h,g){return h && h.ku && (g || !1 !== h.Rt);}function f(h,g,k){return !m.Ba(h) || h < g?g:h > k?k:h;}function l(h){if(!(this instanceof l))return new l(h);this.Ie=m.Ba(h)?h:void 0;}m=a(10);d=new (a(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(h,g){if(!h)throw (h=g?" : " + g:"",d.error("Assertion failed" + h),Error("ASEJS_STREAM_SELECTOR assertion failed" + h));},pH:c,jma:function(h,g,k){var q,p,v,t;function n(u){var w;w=h[u];if(!w.ku || k && !k(w,u))return !1;t=u;return !0;}q=h.length;p=0;v=q;m.isArray(g) && (p=f(g[0],0,q),v=f(g[1],0,q),g=g[2]);g=f(g,p - 1,v);for(q=g - 1;q >= p;--q){if(n(q))return t;}for(q=g + 1;q < v;++q){if(n(q))return t;}return -1;},GOb:function(h,g){return Math.floor(h / (125 * g) * 1E3);},Zsb:function(h,g){return Math.ceil(h / 1E3 * g * 125);},v$b:function(h,g){return !h.slice(g + 1).some(c);},rp:l,hg:function(h,g){var k;return h.some(function(n,q,p){k=n;return g(n,q,p);})?k:void 0;},Lp:function(h,g){var k;return h.some(function(n,q,p){k=q;return g(n,q,p);})?k:-1;},Q3:f};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zi="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nba="ConfigurableInputsSymbol";b.Tl="ValidatingConfigurableInputsSymbol";b.tQ="ConfigNameSymbol";b.fR="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sh="ClockSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cMa="WindowTimersSymbol";b.IE="JSONSymbol";b.HLa="UserAgentSymbol";b.$J="NavigatorSymbol";b.whb="MediaSourceSymbol";b.OEa="LocationSymbol";b.TAa="DateSymbol";b.Oda="PerformanceSymbol";b.IR="PlatformExtraInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qm=b.uv=b.Ax=void 0;(function(a){a[a.$Ka=0]="Test";a[a.jEa=1]="Int";a[a.Mjb=2]="Staging";a[a.ejb=3]="Prod";})(b.Ax || (b.Ax={}));(function(a){a[a.KR=0]="PreferMsl";a[a.eJa=1]="PreferNoMsl";a[a.Shb=2]="NoMsl";})(b.uv || (b.uv={}));b.Qm="GeneralConfigSymbol";},function(r,b,a){var f;function c(l,m,d,h,g,k,n,q,p,v,t,u){this.code=void 0 === l?f.M.Sl:l;this.zc=m;this.Jd=d;this.rn=h;this.kA=g;this.message=k;this.details=n;this.data=q;this.hk=p;this.cSb=v;this.alert=t;this.Rha=u;this.$=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.od=void 0;f=a(3);c.vd=function(l){var m,d,h;if(l){m=l.stack;d=l.number;h=l.message;h || (h="" + l);m?(l="" + m,0 !== l.indexOf(h) && (l=h + "\n" + l)):l=h;d && (l+="\nnumber:" + d);return l;}return "";};c.prototype.yU=function(l){this.details=c.vd(l);this.data=l;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.zc,extCode:this.Jd,edgeCode:this.rn,mslCode:this.kA,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.hk,playbackServiceError:this.cSb};};c.Ema=function(l,m){return new c(l,f.L.Kj,void 0,void 0,void 0,void 0,m.message,m.stack);};c.Ibb=function(l,m){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.n2b=function(l,m,d){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.od=c;},function(r,b,a){var m,d,h;function c(g){var k,n,q,t;q=Object.getOwnPropertyNames(g);for(g=Object.getPrototypeOf(g);g !== Object.prototype;){try{for(var p=(k=void 0,m.__values(Object.getOwnPropertyNames(g))),v=p.next();!v.done;v=p.next()){t=v.value;-1 === q.indexOf(t) && q.push(t);}}catch(u){k={error:u};}finally{try{v && !v.done && (n=p.return) && n.call(p);}finally{if(k)throw k.error;}}g=Object.getPrototypeOf(g);}return q;}function f(g,k,n,q,p){var v;Object.getOwnPropertyNames(g).filter(function(t){return p(t) && (n || !Object.prototype.hasOwnProperty.call(k,t)) && (q || !((t in k)));}).forEach(function(t){v=Object.getOwnPropertyDescriptor(g,t);void 0 !== v && Object.defineProperty(k,t,v);});}function l(g,k,n,q){var p,v;p=[];n || (p=Object.getOwnPropertyNames(k));q || (p=c(k));v=Object.getPrototypeOf(g);null !== v && v !== Object.prototype && l(v,k,n,q);f(g,k,!0,!0,function(t){return "constructor" !== t && -1 === p.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.wf=b.Jvb=void 0;m=a(2);d=a(5);b.Jvb=l;h=Object.getOwnPropertyNames(Function);b.wf=function(g,k,n,q){void 0 === n && (n=!0);void 0 === q && (q=!0);q || d.assert(!n);g.prototype?(l(g.prototype,k.prototype,n,q),f(g,k,n,q,function(p){return -1 === h.indexOf(p);})):f(g,k.prototype,n,q,function(p){return -1 === h.indexOf(p);});return k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tB="named";b.C0="name";b.XR="unmanaged";b.LGa="optional";b.eR="inject";b.NE="multi_inject";b.SKa="inversify:tagged";b.TKa="inversify:tagged_props";b.yda="inversify:paramtypes";b.keb="design:paramtypes";b.ER="post_construct";},function(r,b){function a(){}function c(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wm=b.ye=b.N=void 0;b.N=f;f.LJ="playready-h264mpl30-dash";f.CE="playready-h264mpl31-dash";f.qca="playready-h264mpl40-dash";f.NCa="playready-h264hpl22-dash";f.IQ="playready-h264hpl30-dash";f.JQ="playready-h264hpl31-dash";f.pca="playready-h264hpl40-dash";f.q1="vp9-profile0-L21-dash-cenc";f.lK="vp9-profile0-L30-dash-cenc";f.mK="vp9-profile0-L31-dash-cenc";f.$R="vp9-profile0-L40-dash-cenc";f.Dfb="hevc-main10-L30-dash-cenc";f.Efb="hevc-main10-L31-dash-cenc";f.Ffb="hevc-main10-L40-dash-cenc";f.Gfb="hevc-main10-L41-dash-cenc";f.WQ="hevc-main10-L50-dash-cenc";f.YQ="hevc-main10-L51-dash-cenc";f.h0="hevc-main10-L30-dash-cenc-prk";f.j0="hevc-main10-L31-dash-cenc-prk";f.l0="hevc-main10-L40-dash-cenc-prk";f.n0="hevc-main10-L41-dash-cenc-prk";f.i0="hevc-main10-L30-dash-cenc-prk-do";f.k0="hevc-main10-L31-dash-cenc-prk-do";f.m0="hevc-main10-L40-dash-cenc-prk-do";f.o0="hevc-main10-L41-dash-cenc-prk-do";f.XQ="hevc-main10-L50-dash-cenc-prk-do";f.ZQ="hevc-main10-L51-dash-cenc-prk-do";f.I_="hevc-dv5-main10-L30-dash-cenc-prk";f.K_="hevc-dv5-main10-L31-dash-cenc-prk";f.xQ="hevc-dv5-main10-L40-dash-cenc-prk";f.N_="hevc-dv5-main10-L41-dash-cenc-prk";f.P_="hevc-dv5-main10-L50-dash-cenc-prk";f.R_="hevc-dv5-main10-L51-dash-cenc-prk";f.J_="hevc-dv5-main10-L30-dash-cenc-prk-do";f.L_="hevc-dv5-main10-L31-dash-cenc-prk-do";f.M_="hevc-dv5-main10-L40-dash-cenc-prk-do";f.O_="hevc-dv5-main10-L41-dash-cenc-prk-do";f.Q_="hevc-dv5-main10-L50-dash-cenc-prk-do";f.S_="hevc-dv5-main10-L51-dash-cenc-prk-do";f.PCa="hevc-hdr-main10-L30-dash-cenc";f.QCa="hevc-hdr-main10-L31-dash-cenc";f.RCa="hevc-hdr-main10-L40-dash-cenc";f.SCa="hevc-hdr-main10-L41-dash-cenc";f.TCa="hevc-hdr-main10-L50-dash-cenc";f.UCa="hevc-hdr-main10-L51-dash-cenc";f.LQ="hevc-hdr-main10-L30-dash-cenc-prk";f.NQ="hevc-hdr-main10-L31-dash-cenc-prk";f.NJ="hevc-hdr-main10-L40-dash-cenc-prk";f.QQ="hevc-hdr-main10-L41-dash-cenc-prk";f.SQ="hevc-hdr-main10-L50-dash-cenc-prk";f.UQ="hevc-hdr-main10-L51-dash-cenc-prk";f.MQ="hevc-hdr-main10-L30-dash-cenc-prk-do";f.OQ="hevc-hdr-main10-L31-dash-cenc-prk-do";f.PQ="hevc-hdr-main10-L40-dash-cenc-prk-do";f.RQ="hevc-hdr-main10-L41-dash-cenc-prk-do";f.TQ="hevc-hdr-main10-L50-dash-cenc-prk-do";f.VQ="hevc-hdr-main10-L51-dash-cenc-prk-do";f.uya="av1-main-L20-dash-cbcs-prk";f.vya="av1-main-L21-dash-cbcs-prk";f.l_="av1-main-L30-dash-cbcs-prk";f.m_="av1-main-L31-dash-cbcs-prk";f.n_="av1-main-L40-dash-cbcs-prk";f.o_="av1-main-L41-dash-cbcs-prk";f.p_="av1-main-L50-dash-cbcs-prk";f.q_="av1-main-L51-dash-cbcs-prk";f.sjb=[f.LJ];f.Afb=[f.CE,f.qca];f.Qea=[f.h0,f.j0,f.l0,f.n0,f.WQ,f.YQ];f.Rea=[f.i0,f.k0,f.m0,f.o0,f.XQ,f.ZQ];f.sca=[f.LQ,f.NQ,f.NJ,f.QQ,f.SQ,f.UQ];f.rca=[f.MQ,f.OQ,f.PQ,f.RQ,f.TQ,f.VQ];f.SAa=[f.I_,f.xQ,f.P_,f.K_,f.N_,f.R_];f.RAa=[f.J_,f.M_,f.Q_,f.L_,f.O_,f.S_];f.mba=[f.IQ,f.JQ,f.pca];f.MLa=[f.lK,f.mK,f.$R];f.Vx=[f.q1,f.lK,f.mK,f.$R];f.Gj=[f.l_,f.m_,f.n_,f.o_,f.p_,f.q_];f.oca=f.sjb.concat(f.Afb);b.ye=c;c.DE="heaac-2-dash";c.VCa="heaac-5.1-dash";c.EE="heaac-2hq-dash";c.qF="xheaac-dash";c.uQ="ddplus-2.0-dash";c.Oba="ddplus-5.1-dash";c.vQ="ddplus-atmos-dash";b.Wm=a;a.zjb="simplesdh";a.Rba="dfxp-ls-sdh";a.s1="webvtt-lssdh-ios8";a.YJ="nflx-cmisc";},function(r,b,a){var m,d,h;function c(g){return function(k,n){return k.nua(n,g);};}function f(g,k){return g.U9.MTb[k] || l(g,k);}function l(g,k){g=g.Gz.data[k];switch(typeof g){case "undefined":break;case "string":case "number":case "boolean":return g.toString();default:return JSON.stringify(g);}}Object.defineProperty(b,"__esModule",{value:!0});b.Ay=b.wua=b.object=b.NBb=b.url=b.fa=b.Yk=b.yxa=b.QJb=b.cZ=b.string=b.XA=b.bd=b.dD=b.config=void 0;m=a(52);d=a(4);h=a(139);b.config=function(g,k,n){n=void 0 === n?!1:n;return function(q,p,v){var t,u;t=void 0 !== k?k:p;u=v.get;void 0 !== u && (v.get=function(){var w;if(!this.FKb(p))return this.IGb(p);a:{w=(this.Vqb || n?f:l)(this,t.toString());if(void 0 !== w)if((w=g(this.hX,w),w instanceof h.pp))this.vWa(t,w);else break a;w=u.bind(this)();}this.F7a(p,w);return w;});return v;};};b.dD=function(g,k){return g.v6a(k);};b.bd=function(g,k){return g.gua(k);};b.XA=function(g,k){return g.Fq(k);};b.string=function(g,k){return g.nua(k);};b.cZ=function(g,k){return g.Lh(k,b.string);};b.QJb=function(g,k){return g.Lh(k,b.dD);};b.yxa=function(g,k){return g.Lh(k,b.XA);};b.Yk=function(g,k){g=g.Fq(k);return g instanceof h.pp?g:d.Kc(g);};b.fa=function(g,k){g=g.Fq(k);return g instanceof h.pp?g:m.fa(g);};b.url=c(/^\S+$/);b.NBb=function(g){return function(k,n){return k.u6a(n,g);};};b.object=function(){return function(g,k){return g.w6a(k);};};b.wua=c;b.Ay=function(g,k){return function(n,q){return n.Lh(q,g,k);};};},function(r,b,a){var l,m,d,h;function c(g,k){var n;n=h.call(this,g,k) || this;n.FSa=k;n.debug=g.debug;n.sa=g.Vf.hb(n.FSa);return n;}function f(g,k){this.FSa=k;this.Vta={};this.Gz=g.Gz;this.hX=g.hX;this.U9=g.U9;}Object.defineProperty(b,"__esModule",{value:!0});b.Ye=b.jQ=b.UKa=void 0;r=a(1);l=a(600);m=a(0);d=a(139);b.UKa="isTestAccount";f.prototype.vWa=function(){};f.prototype.F7a=function(g,k){this.Vta[g]=[k,this.Gz.n$];};f.prototype.FKb=function(g){return l.xda.of(this.Vta[g]).map(function(k){return k[1];}).or(-1) < this.Gz.n$;};f.prototype.IGb=function(g){return l.xda.of(this.Vta[g]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Xa.Object.defineProperties(f.prototype,{Vqb:{configurable:!0,enumerable:!0,get:function(){var g,k;if(this && this.Gz && this.Gz.data){g=this.Gz.data[b.UKa];"undefined" !== typeof g && (k=g.toString());g=this.hX.gua(k);g=g instanceof d.pp?!1:g;}else g=!1;return g;}}});h=f;h=r.__decorate([m.R(),r.__param(0,m.ll()),r.__param(1,m.ll())],h);b.jQ=h;na(c,h);c.prototype.vWa=function(g,k){this.sa.error("Invalid configuration value.",{name:g},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,m.ll()),r.__param(1,m.ll())],a);b.Ye=a;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.FOb=b.platform=b.mm=b.Rb=b.JFb=b.CV=b.YG=b.I1a=b.mF=b.ae=b.Ij=b.oF=void 0;c=a(2);c.__exportStar(a(168),b);c.__exportStar(a(346),b);c.__exportStar(a(709),b);c.__exportStar(a(710),b);c.__exportStar(a(711),b);f=a(99);Object.defineProperties(b,{oF:{enumerable:!0,get:function(){return f.oF;}}});c.__exportStar(a(722),b);c.__exportStar(a(350),b);c.__exportStar(a(214),b);c.__exportStar(a(22),b);l=a(351);Object.defineProperties(b,{Ij:{enumerable:!0,get:function(){return l.Ij;}}});m=a(54);Object.defineProperties(b,{ae:{enumerable:!0,get:function(){return m.ae;}}});d=a(216);Object.defineProperties(b,{mF:{enumerable:!0,get:function(){return d.mF;}}});c.__exportStar(a(354),b);b.I1a=function(g){b.platform.$V(g);return a(734).vFa;};b.YG=function(g){b.platform.$V(g);return Promise.resolve().then(function(){return c.__importStar(a(251));}).then(function(k){return k.YG();});};b.CV=function(g,k){b.platform.$V(g);return Promise.resolve().then(function(){return c.__importStar(a(409));}).then(function(n){return n.CV(k);});};b.JFb=function(){return a(220);};r=c.__importDefault(a(28));b.Rb=r.default;r=a(950);b.mm=r.mm;r=c.__importDefault(a(6));b.platform=r.default;h=a(951);b.FOb=function(){return {cr:h.cr};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pj="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sca="LogBatcherConfigSymbol";b.Rm="LogBatcherSymbol";b.REa="LogBatcherProviderSymbol";},function(r,b,a){var g,k,n,q,p,v,t,u;function c(){var w,x;if(w=b.i6.vOa)return w;w=v.F0.search.substr(1);x=w.indexOf("#");0 <= x && (w=w.substr(0,x));w=f(w);return b.i6.vOa=w;}function f(w){for(var x=/[+]/g,y=(w || "").split("&"),z={},A,B=0;B < y.length;B++){w=q.trim(y[B]);A=w.indexOf("=");0 <= A?z[decodeURIComponent(w.substr(0,A).replace(x,"%20")).toLowerCase()]=decodeURIComponent(w.substr(A + 1).replace(x,"%20")):z[w.toLowerCase()]=null;}return z;}function l(w){return (w=(/function (.{1,})\(/).exec(w.toString())) && 1 < w.length?w[1]:"";}function m(w){return l(w.constructor);}function d(w){return v.sort.call(w,function(x,y){return x - y;});}function h(w){for(var x=0,y=w.length;y--;){x+=w[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.xSb=b.$G=b.DXa=b.w7=b.uSb=b.h0a=b.adb=b.bdb=b.dDb=b.zt=b.gvb=b.HM=b.ACb=b.VH=b.qcb=b.eQ=b.rcb=b.r_=b.pcb=b.MJb=b.vG=b.$Sb=b.qsa=b.Xma=b.getFunctionName=b.hO=b.xX=b.i6=b.AGb=b.s6a=b.HPa=b.KSa=b.TTb=b.At=b.sSa=void 0;g=a(12);k=a(21);n=a(8);q=a(24);p=a(30);v=a(11);t=a(19);u=a(63);b.sSa=function(w,x){if(w === x)return !0;if(!w || !x)return !1;for(var y in w){if(w.hasOwnProperty(y) && (!x.hasOwnProperty(y) || w[y] !== x[y]))return !1;}return !0;};b.At=b.At || (function(w,x){if(w.length == x.length){for(var y=w.length;y--;){if(w[y] != x[y])return !1;}return !0;}return !1;});b.TTb=function(w){var x;if(w){x=w.length;if(x)return (x=q.dua(0,x - 1),w[x]);}};b.KSa=function(w,x){if(w.length != x.length)return !1;w.sort();x.sort();for(var y=w.length;y--;){if(w[y] !== x[y])return !1;}return !0;};b.HPa=function(w,x,y){function z(){w.removeEventListener(x,z);y.apply(this,arguments);}w.addEventListener(x,z);};b.s6a=function(){var w,x,y,z,A,B;w=v.Ae.cookie.split("; ");x=w.length;A={};for(y=0;y < x;y++){if(z=q.trim(w[y])){B=z.indexOf("=");0 < B && (A[z.substr(0,B)]=z.substr(B + 1));}}return A;};b.AGb=c;b.i6=Object.assign(c,{vOa:void 0});b.xX=f;b.hO=function(w){var x;x="";q.se(w,function(y,z){x && (x+="&");k.kb(p.Re(z) || t.Ba(z) || t.opa(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=l;b.Xma=m;b.qsa=function(w){var x;x="";t.isArray(w) || t.Qpa(w)?x=v.reduce.call(w,function(y,z){return y + (32 <= z && 128 > z?v.OKa(z):".");},""):p.Re(w)?x=w:q.se(w,function(y,z){x+=(x?", ":"") + "{" + y + ": " + (t.ed(z)?l(z) || "function":z) + "}";});return "[" + m(w) + " " + x + "]";};b.$Sb=function(w,x){w.firstChild?w.insertBefore(x,w.firstChild):w.appendChild(x);};b.vG=b.vG || (function(w){var x;x="";q.se(w,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.MJb=function(w,x){var y;y=w[0];if(x <= y[0])return y.slice(1);for(var z=1,A;A=w[z++];){if(x <= A[0]){w=(x - y[0]) / (A[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + w * ((A[z] || 0) - (y[z] || 0)));}return x;}y=A;}return y.slice(1);};b.pcb=function(w,x){var A;for(var y={},z=0;z < x.length;z++){A=x[z];if("string" != typeof A && "number" != typeof A)return !1;y[x[z]]=1;}for(z=0;z < w.length;z++){if((A=w[z],!y[A]))return !1;}return !0;};b.r_=d;b.rcb=h;b.eQ=function(w,x){var y,z,A,B;y=-1;z=w.length;if(1 === arguments.length){for(;++y < z && !(null != (A=w[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=w[y]) && B > A && (A=B);}}else {for(;++y < z && !(null != (A=x.call(w,w[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(w,w[y],y)) && B > A && (A=B);}}return A;};b.qcb=function(w,x){var y,z,A,B;y=-1;z=w.length;if(1 === arguments.length){for(;++y < z && !(null != (A=w[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=w[y]) && A > B && (A=B);}}else {for(;++y < z && !(null != (A=x.call(w,w[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(w,w[y],y)) && A > B && (A=B);}}return A;};b.VH=function(w){return t.ed(w.then)?w:new Promise(function(x,y){w.oncomplete=function(){x(w.result);};w.onerror=function(){y(w.error);};});};b.ACb=function(w,x){var z,A,B,D,E,F;function y(C){0 > z.indexOf(C) && t.Ba(C) && z.push(C);}w=w.slice();d(w);z=[];if(!x || !x.length)return w;if(!w.length)return [];A=x.length;try{for(;A--;){D="" + x[A];E=p.Ge(D);switch(D[D.length - 1]){case "-":for(B=w.length;B--;){F=w[B];if(F < E){y(F);break;}}break;case "+":for(B=0;B < w.length;B++){if((F=w[B],F > E)){y(F);break;}}break;default:0 <= w.indexOf(E) && y(E);}}}catch(C){}z.length || z.push(w[0]);d(z);return z;};b.HM=b.HM || (function(w,x,y){var z;if(w / x > y){z=v.aj(x * y);w=x;}else (z=w,w=v.aj(w / y));return {width:z,height:w};});b.gvb=function(w,x,y){for(var z=[],A=0;A < x;A++){z.push(v.z0(w[A] - y,2));}return v.IFa(h(z) / z.length);};b.zt=function(w,x){var y;y=w.length;x=(y - 1) * x + 1;if(1 === x)return w[0];if(x == y)return w[y - 1];y=v.Ix(x);return w[y - 1] + (x - y) * (w[y] - w[y - 1]);};b.dDb=function(w,x){if(!t.isArray(w))throw Error("boxes is not an array");if(0 >= w.length)throw Error("There are no boxes in boxes");x=t.isArray(x)?x:[x];for(var y=w.length,z=0;z < y;z++){for(var A=0;A < x.length;A++){if(w[z].type == x[A])return w[z];}}throw Error("Box not found " + x);};b.bdb=function(w){return w.LEb("trak/mdia/minf/stbl/stsd/" + g.uza + "|" + g.vza).children.filter(function(x){return "sinf" == x.type && x.C9b.schm.sbc == u.ux;})[0].LEb("schi/tenc").nj;};b.adb=function(w){var y;function x(z,A){var B;B=y[z];y[z]=y[A];y[A]=B;}y=new Uint8Array(w);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.h0a=function(){return t.ed(v.jf.requestMediaKeySystemAccess);};b.uSb=function(w){return function(x){return x && x[w];};};t.ed(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(w,x){var y,z;void 0 === w && (w=0);void 0 === x && (x=this.byteLength);w=Math.floor(w);x=Math.floor(x);0 > w && (w+=this.byteLength);0 > x && (x+=this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - w)return new ArrayBuffer(0);y=new ArrayBuffer(x - w);z=new Uint8Array(y);w=new Uint8Array(this,w,x - w);z.set(w);return y;});b.w7=function(w){return w && 0 == w.toLowerCase().indexOf("https");};b.DXa=function(){var w,x;w=new ArrayBuffer(4);x=new Uint8Array(w);w=new Uint32Array(w);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == w[0]?"LE":2712847316 == w[0]?"BE":"undefined";};b.$G=function(){var w,x,y;try{w=/playercore.*js/;x=v.vv.getEntries("resource").filter(function(z){return null !== w.exec(z.name);});if(x && 0 < x.length){y=v.aj(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.xSb=function(w,x,y){if(w && w.length){if(y && y.rub)try{w.forEach(function(z,A){var B;B=(A=y.rub[A]) && A.media;B && p.Re(B)?(!1,B=n.Ar(B).buffer,z.media={arrayBuffer:B,length:B.byteLength,stream:x,kc:A.cdn}):n.log.warn("chunk not in cache",z.Oi);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(r,b,a){var f,l,m,d,h;function c(){return f.$b.get(m.fd).Tz.da(h.ja);}Object.defineProperty(b,"__esModule",{value:!0});b.Oub=b.T3=b.hSa=b.Mub=b.Nub=b.S3=b.kj=void 0;f=a(195);l=a(38);m=a(18);d=a(81);h=a(4);b.kj=function(){return f.$b.get(m.fd).Wb().da(h.ja);};b.S3=function(){return f.$b.get(l.Sh).ef.da(h.eo);};b.Nub=function(){return f.$b.get(m.fd).Tz.da(h.eo);};b.Mub=function(){return f.$b.get(d.Ex).Uy();};b.hSa=c;b.T3=function(){return f.$b.get(l.Sh).ef.da(h.ja);};b.Oub=function(){return c();};},function(r,b,a){var l;function c(){return l.YR.apply(this,arguments) || this;}function f(m){return new l.Ts(m,b.vE);}Object.defineProperty(b,"__esModule",{value:!0});b.Gb=b.fGa=b.Nca=b.mv=b.vE=b.RNb=b.oLb=b.fa=b.Fy=b.odb=void 0;l=a(312);na(c,l.YR);b.odb=c;b.Fy=f;b.fa=function(m){return new l.Ts(m,b.mv);};b.oLb=function(m){return new l.Ts(m,b.Nca);};b.RNb=function(m){return new l.Ts(m,b.fGa);};b.vE=new c(1,"b");b.mv=new c(8 * b.vE.vg,"B",b.vE);b.Nca=new c(1024 * b.mv.vg,"KB",b.vE);b.fGa=new c(1024 * b.Nca.vg,"MB",b.vE);b.Gb=f(0);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tm="PboCommandContextSymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tea=b.ae=void 0;c=a(2);f=a(729);(function(l){l[l.ap=0]="startPlayback";l[l.Zp=1]="endPlayback";l[l.Wn=2]="underflow";})(b.ae || (b.ae={}));r=(function(){function l(m){this.config=m;this.KO=[];}l.prototype.Gi=function(m){var d,h;h=c.__read(this.config.C4.filter(function(g){return g.lj === m.lj;}),1)[0];(null !== (d=null === h || void 0 === h?void 0:h.enabled) && void 0 !== d?d:m.enabled)?this.KO.push(m):m.Mb && m.Mb();};l.prototype.Fo=function(m){var d,h,g,q,p;h={};g=[];try{for(var k=c.__values(this.KO),n=k.next();!n.done;n=k.next()){q=n.value;try{p=q.Fo({Ni:m});p && (q.BD?h[q.BD]=p:h=c.__assign(c.__assign({},h),p));}catch(t){g.push(t);}}}catch(t){var v;v={error:t};}finally{try{n && !n.done && (d=k.return) && d.call(k);}finally{if(v)throw v.error;}}g.length && (h["rpt-error"]=new f.zya("Reporting error",g));return h;};return l;})();b.tea=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Meb="Cannot apply @injectable decorator multiple times.";b.Neb="Metadata key was used more than once in a parameter:";b.yR="NULL argument";b.pEa="Key Not Found";b.Xbb="Ambiguous match found for serviceIdentifier:";b.pdb="Could not unbind serviceIdentifier:";b.Ihb="No matching bindings found for serviceIdentifier:";b.fhb="Missing required @injectable annotation in:";b.ghb="Missing required @inject or @multiInject annotation in:";b.dkb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.rdb="Circular dependency found:";b.N5b="Sorry, this feature is not fully implemented yet.";b.ygb="Invalid binding type:";b.Khb="No snapshot available to restore.";b.Cgb="Invalid return type in middleware. Middleware must return!";b.Bgb="Value provided to function binding must be a function!";b.Egb="The toSelf function can only be applied when a constructor is used as service identifier";b.zgb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Zbb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Gdb="Invalid Container constructor argument. Container options must be an object.";b.Edb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Ddb="Invalid Container option. Auto bind injectable must be a boolean";b.Fdb="Invalid Container option. Skip base check must be a boolean";b.thb="Cannot apply @postConstruct decorator multiple times in the same class";b.Oib=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.sdb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Djb="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Po=b.aZb=b.X3a=void 0;b.X3a=function(a,c){return a - c;};b.aZb=function(a,c){return a.localeCompare(c);};b.Po=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f && Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qqa=b.Vh=void 0;(function(a){a[a.qp=0]="STANDARD";a[a.ao=1]="LIMITED";})(b.Vh || (b.Vh={}));b.qqa=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var f,l;function c(m,d){var h;h=b.co[0];h == d && (h=b.co[1]);h?h.close(function(){c(m,d);}):m && m(f.Xe);}Object.defineProperty(b,"__esModule",{value:!0});b.pIa=b.oIa=b.Uda=b.Vda=b.xB=b.Xda=b.Wda=b.$da=b.Zda=b.co=b.aea=b.Yda=void 0;f=a(12);l=a(21);b.Yda=c;b.aea=function(m,d){switch(m){case b.Wda:b.Zda.push(d);return;case b.Xda:b.$da.push(d);return;}l.kb(!1);};b.co=[];b.Zda=[];b.$da=[];b.Wda=1;b.Xda=3;b.xB={index:0,g3a:void 0,oma:void 0};b.Vda="network";b.Uda="media";b.oIa="timedtext";b.pIa="playback";},function(r,b,a){var c,f;c=a(129);f=a(177);r.exports=function(l){return function g(d,h){switch(arguments.length){case 0:return g;case 1:return f(d)?g:c(function(k){return l(d,k);});default:return f(d) && f(h)?g:f(d)?c(function(k){return l(k,h);}):f(h)?c(function(k){return l(d,k);}):l(d,h);}};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.t6=b.Nr=b.u6=b.UC=b.Cl=b.ue=void 0;r=a(73);c=a(61);f=a(11);b.ue=new r.Fk();b.Cl=1;b.UC=2;b.u6=3;b.Nr=4;b.t6=5;c.Qf(function(){var m,d,h;function l(g,k){if(d)d.on(g,k);else nb.addEventListener(g,k);}m=nb.jQuery;d=m && m(nb);m=(m=nb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;h=f.Ae.hidden;m?m(function(g){b.ue.Cc(b.Cl,g);}):l("beforeunload",function(g){b.ue.Cc(b.Cl,g);});l("keydown",function(g){b.ue.Cc(b.UC,g);});l("resize",function(){b.ue.Cc(b.u6);});f.Ae.addEventListener("visibilitychange",function(){h !== f.Ae.hidden && (h=f.Ae.hidden,b.ue.Cc(b.Nr));});});(function(){nb.addEventListener("error",function(l){b.ue.Cc(b.t6,l);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qf=void 0;b.Qf=function(a){return setTimeout(a,0);};},function(r,b){var c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.$n=b.Ia=b.Qj=void 0;(function(l){l[l.qp=0]="STANDARD";l[l.ao=1]="LIMITED";l[l.B6b=2]="PREVIEW";})(c || (c={}));(function(l){l[l.HAVE_NOTHING=0]="HAVE_NOTHING";l[l.HAVE_METADATA=1]="HAVE_METADATA";l[l.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";l[l.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";l[l.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(f || (f={}));(function(l){l.kcb="asl_start";l.icb="asl_comp";l.B2b="asl_exc";l.jcb="asl_fail";l.Fjb="stf_creat";l.Ufb="idb_open";l.Rfb="idb_block";l.agb="idb_upgr";l.$fb="idb_succ";l.Sfb="idb_error";l.Tfb="idb_invalid_state";l.Wfb="idb_open_timeout";l.Yfb="idb_open_wrkarnd";l.Zfb="idb_storelen_exc";l.Vfb="idb_open_exc";l.Xfb="idb_timeout_invalid_storelen";l.nhb="msl_load_data";l.phb="msl_load_no_data";l.ohb="msl_load_failed";})(r=b.Qj || (b.Qj={}));(function(l){l.Bda="PlaybackRequestStart";l.Ada="PlaybackRequestEnd";l.Z0="RequestPrefetchManifestStart";l.Y0="RequestPrefetchManifestEnd";l.X0="RequestManifestStart";l.W0="RequestManifestEnd";l.V0="RequestLicenseStart";l.U0="RequestLicenseEnd";l.oQ="RequestTimedTextUrlStart";l.nQ="RequestTimedTextUrlEnd";l.mQ="RequestAudioUrlStart";l.lQ="RequestAudioUrlEnd";l.qQ="RequestVideoUrlStart";l.pQ="RequestVideoUrlEnd";l.bba="AppendBufferStart";l.aba="AppendBufferEnd";l.vea="SetMediaKeysStart";l.uea="SetMediaKeysEnd";l.e0="GenerateChallengeStart";l.d0="GenerateChallengeEnd";l.j_="ApplyLicenseStart";l.i_="ApplyLicenseEnd";})(b.Ia || (b.Ia={}));b.$n=a;a.Oca=c;a.SSa=function(l){return ["STANDARD","LIMITED","PREVIEW"][l];};a.Qj=r;a.p0=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a6=b.OJ=b.zea=b.f1=b.ZLa=b.$La=b.Cda=b.a0=b.ux=void 0;b.ux="cenc";b.a0="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.Cda="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.$La="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.ZLa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.f1="SW_SECURE_CRYPTO";b.zea="SW_SECURE_DECODE";b.OJ="HW_SECURE_DECODE";b.a6=function(a){var c;c=a.getConfiguration();return [b.OJ,b.zea,b.f1].find(function(f){var l;return null === (l=c.videoCapabilities) || void 0 === l?void 0:l.some(function(m){return m.robustness === f;});});};},function(r,b){function a(c){var f;f=Error.call(this,"TimeoutError");this.message=f.message;("stack" in f) && (this.stack=f.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Px=b.hr=void 0;na(a,Error);b.hr=a;b.Px="PromiseTimerSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);r=(function(){function f(l,m){this.key=l;this.value=m;}f.prototype.toString=function(){return this.key === c.tB?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return f;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ws="PboConfigSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(1);r.__exportStar(a(730),b);r.__exportStar(a(217),b);r.__exportStar(a(731),b);r.__exportStar(a(732),b);r.__exportStar(a(733),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ej={t1a:"logblob",oa:"manifest",Gg:"license",events:"events",bind:"bind",G4a:"pair",ping:"ping",config:"config"};b.yB={ojb:"reqAttempt",pjb:"reqName",gdb:"browsername",mdb:"browserversion",Whb:"osname",Xhb:"osversion",Mdb:"clienttype",ckb:"uiversion"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qv="EmeConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Us="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lF="TimingApiSymbol";b.uR="MilestoneTimingApiSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(148),b);r.__exportStar(a(807),b);r.__exportStar(a(173),b);},function(r,b,a){var f,l;function c(){var m,d;m=this;this.dt={};this.on=function(h,g,k){m.addListener(h,g,k);};this.addListener=function(h,g,k){m.dt && (m.dt[h]=m.dt[h] || new l.kea(!0)).add(g,k);};this.removeListener=function(h,g){m.dt && m.dt[h] && m.dt[h].removeAll(g);};this.hna=function(h){return m.dt && m.dt[h]?m.dt[h].flatten():[];};d=this;this.Cc=function(h,g,k){var n;if(d.dt){n=d.hna(h);for(h={rJ:0};h.rJ < n.length;(h={rJ:h.rJ},h.rJ++)){k?(function(q){return function(){var p;p=n[q.rJ];f.Qf(function(){p(g);});};})(h)():n[h.rJ].call(this,g);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Fk=void 0;f=a(61);l=a(331);c.prototype.Fh=function(){this.dt=void 0;};b.Fk=c;},function(r,b,a){var k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F;function c(C){var G,J,K,I;G=C.url.split("?");J=G[0];K="sc=" + C.kWb;I=C.uRa?"random=" + (1E17 * z.QE()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=I?"&" + I:"";C.kc && !p.w7(J) && (C=n.config && n.config.mja) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function f(C){var G,J,K,I;G=C.url.split("?");J=G[0];K="bb_reason=" + C.reason;I=C.uRa?"random=" + (1E17 * z.QE()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=I?"&" + I:"";C.kc && !p.w7(J) && (C=n.config && n.config.mja) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function l(C,G){var J,K,I;J=C.url.split("?");K=J[0];I=m(C);I && (G.ls=I,(void 0 === C.Js?n.config.Js:C.Js)?(C.headers=C.headers || ({}),C.headers.Range="bytes=" + I):(G.ls=I,K="/" == K[K.length - 1]?K + "range/":K + "/range/",K+=I));I=C.uRa?"random=" + (1E17 * z.QE()).toFixed(0):"";n.config.hz && C.N$ && (I="sc=" + C.N$ + (I?"&" + I:""));K=J[1]?K + ("?" + J[1] + (I?"&" + I:"")):K + (I?"?" + I:"");C.kc && !p.w7(K) && (C=n.config && n.config.mja) && (K=C.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));G.url=K;}function m(C){var G;G=C.offset;if(void 0 !== G)return (x.rU(G),void 0 !== C.length?(C=C.offset + C.length - 1,x.rU(C),G + "-" + C):G + "-");}function d(){return !1 !== z.jf.onLine;}function h(C,G,J,K){var I,M;I=K.zta;M=K.headers;C.open(I?"POST":"GET",G,!J);switch(K.responseType){case b.WV:C.responseType="arraybuffer";break;case b.Moa:y.GRa(C,"overrideMimeType",void 0,"text/xml");}I && (G={"Content-Type":t.Re(I)?"text/plain":"application/x-octet-stream"},M=M?t.Xb(G,M):G);M && y.se(M,function(R,H){C.setRequestHeader(R,H);});K.withCredentials && (C.withCredentials=!0);void 0 !== C.msCaching && (C.msCaching="disabled");I?C.send(I):C.send();}function g(C,G){switch(G.type){case b.WV:return C.response || new ArrayBuffer(0);case b.Moa:return C.responseXML;default:return C.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.WV=b.Moa=b.Loa=b.Noa=b.K6=b.TZa=b.SZa=b.I6=b.okb=b.pkb=b.KIb=b.J6=b.HIb=b.IIb=b.GIb=b.JIb=b.gf=void 0;k=a(73);n=a(14);q=a(12);p=a(50);v=a(51);t=a(30);u=a(3);w=a(8);x=a(21);y=a(24);z=a(11);A=a(61);B=a(19);D=a(31);E={Um:1,O7b:2,zcb:3};b.gf=(function(){var K,I,M,R;function C(H){var Q;try{Q=H.url;B.Spa(Q)?0 === Q.indexOf("https")?R.ssl++:0 === Q.indexOf("http")?R["non-ssl"]++:R.invalid++:R.invalid++;}catch(N){}}function G(){I.Cc(b.TZa);I.Cc(b.Noa);}function J(){I.Cc(b.K6);I.Cc(b.Noa);}K=w.Mi("Http");I=new k.Fk();M=0;R={ssl:0,"non-ssl":0,invalid:0};w.ka.get(D.dh).register(u.M.UDa,function(H){n.config.j1b && (nb.addEventListener("online",G),nb.addEventListener("offline",J),b.J6=d);H(q.Xe);});return {addEventListener:I.addListener,removeEventListener:I.removeListener,download:function(H,Q){var X,ua,ya,O,T,ja,pa,sa,Qa,Ua,Za;function N(){var ab;N=t.ol;Za && (clearTimeout(Za),Za=null);I.removeListener(b.K6,U);Qa && (Qa.onloadstart=null,Qa.onreadystatechange=null,Qa.onprogress=null,Qa.onerror=null,Qa.onload=null,Qa=Qa.onabort=null);sa.$?!1:sa.na != u.L.oB?X.warn("Download failed",ua,u.Ss(sa)):X.trace("Download aborted",ua);ab=ya;ya=void 0;for(var kb=ab.length;kb--;){(function(){var Ya;Ya=ab[kb];A.Qf(function(){Ya(sa);});})();}I.Cc(b.SZa,sa,!0);}function L(){Za && (clearTimeout(Za),Za=null);Za=setTimeout(da,Ua?pa:ja);}function P(ab,kb,Ya,Sa){var Ba,Ka;sa.$=!1;sa.na=ab;Ba=v.kj();Ka=sa.wm;Ka.ri=Ka.ri || Ba;Ka.Yo=Ka.Yo || Ba;0 < kb && (sa.ik=sa.nf=kb);Ya && (sa.ub=Ya);Sa && (sa.UD=Sa);ab !== u.L.$Q && ab !== u.L.FE && ab !== u.L.cR || !Qa || (Qa.onabort=null,ka());N();}function S(ab){var kb,Ya;try{Ya=ab.getResponseHeader("X-Netflix.Retry.Server.Policy");Ya && (kb=JSON.parse(Ya));}catch(Sa){!1;}return kb;}function U(){b.J6() || P(u.L.$Q);}function da(){P(Ua?u.L.FE:u.L.cR);}function ka(){try{Qa && Qa.abort();}catch(ab){}}function ma(){P(u.L.oB);}x.kb(Q);X=H.j && H.j.log && w.Ih(H.j,"Http") || K;ua={Num:M++};ya=[Q];O={};ja=H.b4 || n.config.b4;pa=H.bsa || n.config.bsa;C(H);!1;sa=(function(){var ab,kb,Ya;ab=t.ol;kb=t.ol;Ya=t.ol;return {request:H,type:H.responseType,wm:O,abort:ka,timeout:da,Bha:function(Sa){N !== t.ol && (x.kb(ya,"Callback should be added before download starts."),ya && ya.unshift(Sa));},h9:function(Sa){Ya(Sa);},j9:function(Sa){ab(Sa);},Jn:function(Sa){kb(Sa);},iXb:function(Sa){Ya=Sa;},oXb:function(Sa){ab=Sa;},$Wb:function(Sa){kb=Sa;}};})();A.Qf(function(){var ab,kb;if(B.Spa(H.url))try{if((l(H,sa),T=sa.url,x.hM(T),ua.Url=T,b.J6())){!1;Qa=new XMLHttpRequest();ab=n.config.q1b && "undefined" != typeof Qa.onloadstart;ab && (Qa.onloadstart=function(){var Ya;Ya=v.kj();O.Hq=Ya;sa.h9({mediaRequest:H,timestamp:Ya});});Qa.onreadystatechange=function(){if(2 == Qa.readyState){Ua=!0;O.ri=v.kj();Qa.onreadystatechange=null;L();!1;for(var Ya=sa,Sa=Qa.getAllResponseHeaders().split("\n"),Ba=Sa.length,Ka,Na,Wa={};Ba--;){if(Ka=Sa[Ba])(Na=Ka.indexOf(": "),1 <= Na && Na < Ka.length - 1 && (Wa[Ka.substr(0,Na)]=Ka.substr(Na + 2)));}Ya.headers=Wa;sa.j9({timestamp:O.ri,connect:!0,mediaRequest:H,start:O.Hq,rt:[O.ri - O.Hq]});}};Qa.onprogress=function(Ya){Ua=!0;O.aka=Ya.loaded;L();Ya={mediaRequest:H,bytes:Ya.loaded,timestamp:v.kj(),bytesLoaded:Ya.loaded};sa.j9(Ya);};Qa.onload=function(){var Ya;if(N !== t.ol){x.kb(void 0 === O.Yo);O.Yo=v.kj();O.ri=O.ri || O.Yo;if(200 <= Qa.status && 299 >= Qa.status){Ya=g(Qa,sa);sa.parsed=!1;sa.content=Ya;sa.$=!0;}else Qa.status == F?P(u.L.bR,Qa.status):P(u.L.aR,Qa.status,Qa.response,S(Qa));N();}};Qa.onabort=ma;Qa.onerror=function(){var Ya,Sa;Ya=Qa.status;"undefined" !== typeof n.config.rWa && (Ya=n.config.rWa);if(0 < Ya){if(Ya == F)P(u.L.bR,Ya);else {try{Sa=Qa.responseText;}catch(Ba){}P(u.L.aR,Ya,Sa,S(Qa));}}else P(u.L.dR);};kb=v.kj();h(Qa,T,!1,H);I.Cc(b.I6,sa,!0);ab || (O.Hq=kb,sa.h9({mediaRequest:H,timestamp:kb}));L();I.addListener(b.K6,U);}else A.Qf(P.bind(void 0,u.L.$Q));}catch(Ya){X.error("Exception starting download",Ya,ua);P(u.L.yca,void 0,t.vd(Ya));}else P(u.L.dDa);});return sa;},Md:R,Eac:function(H){var Q;Q=new XMLHttpRequest();H=f(H);Q.open("HEAD",H);Q.onreadystatechange=function(){2 == Q.readyState && !1;};Q.send();},gYb:function(H){var Q;Q=new XMLHttpRequest();H=c(H);Q.open("HEAD",H);Q.onreadystatechange=function(){2 == Q.readyState && !1;};Q.send();},oTb:function(H){var Q,N,L;Q=new XMLHttpRequest();N=H.url;L=H.lTb;Q.open("HEAD",N);Q.timeout=Math.max(2 * L.rMb,n.config.Nta);Q.onreadystatechange=function(){2 == Q.readyState && (!1,L && L.dO({url:N}));};Q.ontimeout=Q.onerror=function(){!1;L && L.jsa({url:N});};Q.send();},ljb:E};})();b.JIb=c;b.GIb=f;b.IIb=l;b.HIb=m;b.J6=q.vJa;b.KIb=d;b.pkb=h;b.okb=g;b.I6=1;b.SZa=2;b.TZa=3;b.K6=4;b.Noa=5;b.Loa=1;b.Moa=2;b.WV=3;F=420;nb._cad_global.http=b.gf;},function(r,b,a){var f,l,m,d,h;function c(g,k,n,q,p){this.context=g;this.errorCode=k;this.OVb=n;this.v2=p;this.name=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Ai=void 0;r=a(1);f=a(0);l=a(511);m=a(4);d=a(41);h=a(40);c.prototype.send=function(g,k,n,q,p,v){var t;t=this;v=void 0 === v?h.uv.KR:v;return this.QEb(g,k,n,v,q,p).then(function(u){return t.context.bAb.send(u.context,u.request);});};c.prototype.QEb=function(g,k,n,q,p,v){var t,u;try{t=this.context.oVb.create(this.context.Ez.Uy(),k,n,p,q);u=this.Ssb(g,q,v);return Promise.resolve({context:u,request:t});}catch(w){return Promise.reject(w);}};c.prototype.Ssb=function(g,k,n){return {gf:this.context.gf,log:g,xl:this.name,url:this.context.b1b(l.tRa(this.context.Bh,this.context.sh,this.name,k)),eva:this.OVb,timeout:m.uh(59),headers:l.sRa(this.context.sh,this.context.CG),Qua:this.Qua,wsb:n};};c.prototype.yn=function(g){return g instanceof d.od?g:l.yn(this.errorCode,g);};Xa.Object.defineProperties(c.prototype,{Qua:{configurable:!0,enumerable:!0,get:function(){return this.v2;}}});a=c;a=r.__decorate([f.R(),r.__param(0,f.ll()),r.__param(1,f.ll()),r.__param(2,f.ll()),r.__param(3,f.ll()),r.__param(4,f.ll())],a);b.Ai=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Os={Request:"Request",Dea:"Singleton",o1:"Transient"};b.Jj={uAa:"ConstantValue",vAa:"Constructor",FBa:"DynamicValue",mca:"Factory",Function:"Function",Instance:"Instance",Ogb:"Invalid",sJa:"Provider"};b.Tx={nAa:"ClassProperty",wAa:"ConstructorArgument",Uea:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rx="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zv="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IKa="StorageValidatorSymbol";b.hB="AppStorageFactorySymbol";},function(r,b,a){var f,l,m;function c(d,h){this.Hv=h?[h]:[];this.cga="$op$" + m++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ac=void 0;f=a(12);l=a(21);m=0;c.prototype.addListener=function(d,h){var g;g=this;l.Bka(d);l.kb(0 > this.Hv.indexOf(d));d[f.M0 + this.cga]=h;this.Hv=this.Hv.slice();this.Hv.push(d);this.Hv.sort(function(k,n){return g.tYb(k,n);});};c.prototype.removeListener=function(d){var h;l.Bka(d);this.Hv=this.Hv.slice();0 <= (h=this.Hv.indexOf(d)) && this.Hv.splice(h,1);};c.prototype.set=function(d,h){if(this.G !== d){h={oldValue:this.G,newValue:d,km:h};this.G=d;d=this.Hv;for(var g=d.length,k=0;k < g;k++){d[k](h);}}};c.prototype.when=function(d){var h;h=this;return new Promise(function(g){function k(n){if(d(n.newValue))return (h.removeListener(k),g(n.newValue));}if(d(h.G))return g(h.G);h.addListener(k);});};c.prototype.tYb=function(d,h){return (d[f.M0 + this.cga] || 0) - (h[f.M0 + this.cga] || 0);};Xa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.ac=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ex="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mp={start:"start",stop:"stop",nW:"keepAlive",wM:"engage",splice:"splice"};b.jca="EventPboCommandFactorySymbol";b.DKa="StartEventPboCommandSymbol";b.HKa="StopEventPboCommandSymbol";b.rEa="KeepAliveEventPboCommandSymbol";b.yKa="SpliceEventPboCommandSymbol";b.dCa="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hv=void 0;r=(function(){function a(c){this.$e=c;}a.prototype.Vva=function(c){this.$e=c;};a.prototype.bSa=function(){this.$e=void 0;};a.prototype.hV=function(c){return this.$e && this.$e.m9 && this.$e.m9(c);};a.prototype.JM=function(c){this.$e && this.$e.oA && this.$e.oA(c);};a.prototype.IC=function(c){this.$e && this.$e.TH && this.$e.TH(c);};a.prototype.OG=function(c){this.$e && this.$e.UH && this.$e.UH(c);};a.prototype.tWa=function(c){this.$e && this.$e.Nsa && this.$e.Nsa(c);};a.prototype.Tt=function(c){this.$e && this.$e.tk && this.$e.tk(c);};a.prototype.w5=function(c){this.$e && this.$e.sX && this.$e.sX(c);};a.prototype.IM=function(c,f,l){this.$e && this.$e.rX && this.$e.rX(c,f,l);};return a;})();b.hv=r;r.prototype.m9=r.prototype.hV;r.prototype.oA=r.prototype.JM;r.prototype.TH=r.prototype.IC;r.prototype.UH=r.prototype.OG;r.prototype.tk=r.prototype.Tt;r.prototype.sX=r.prototype.w5;r.prototype.rX=r.prototype.IM;r.prototype.Nsa=r.prototype.tWa;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(145);b.ho=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.nS=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.jlb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.bc=this.Ui([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{DIb:"int32"},{J1b:"int32"},{offset:32,type:"offset"},{tDb:"int16"},{evb:{type:"int8",dia:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Na=!0;return l;})(a(225).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc1";return l;})(r);b.iba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc2";return l;})(r);b.jba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc3";return l;})(r);b.kba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc4";return l;})(r);b.lba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hvc1";return l;})(r);b.zca=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hev1";return l;})(r);b.tca=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="av01";return l;})(r);b.ocb=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fx=b.ResponseType=void 0;b.ResponseType={Text:1,P7b:2,Qcb:3};b.Fx="LegacyHttpSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);b.ho=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.nS=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.jlb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gx="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bi={audio:"audio",video:"video",iaa:"timedtext",pxa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xx="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.bj=b.Uhb=b.op=void 0;c=a(19);b.op=b.op || (function(f,l,m){return f >= l?f <= m?f:m:l;});b.Uhb=function(f,l,m,d,h){return (f - l) * (h - d) / (m - l) + d;};b.bj=function(f){if(c.Ba(f))return (f / 1E3).toFixed(3);};},function(r,b,a){var l,m;function c(d,h,g,k,n){var q,p,t;q={};p="number" === typeof n;n=void 0 !== n && p?n.toString():g;if(p && void 0 !== g)throw Error(l.zgb);Reflect.woa(d,h) && (q=Reflect.getMetadata(d,h));g=q[n];if(Array.isArray(g)){p=0;for(var v=g;p < v.length;p++){t=v[p];if(t.key === k.key)throw Error(l.Neb + " " + t.key.toString());}}else g=[];g.push(k);q[n]=g;Reflect.z4(d,q,h);}function f(d,h){return function(g,k){h(g,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(43);b.UI=function(d,h,g,k){c(m.SKa,d,h,k,g);};b.mZ=function(d,h,g){c(m.TKa,d.constructor,h,g);};b.Fr=function(d,h,g){"number" === typeof g?(d=[f(g,d)],Reflect.Fr(d,h)):"string" === typeof g?Reflect.Fr([d],h,g):Reflect.Fr([d],h);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hEa="Injector";b.rB=145152E5;b.MR="ProfileSymbol";},function(r,b,a){var f,l;function c(m,d,h,g,k){m=void 0 === m?f.M.Sl:m;return l.od.call(this,m,d,h,void 0,void 0,g,l.od.vd(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Mg=void 0;f=a(3);l=a(41);na(c,l.od);b.Mg=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XAa="DebugConfigSymbol";b.nv="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kca="EventSourceSymbol";b.nca="GlobalEventSourceSymbol";b.T_="DebugEventSourceSymbol";b.iBa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fQ=b.tcb=b.qba=b.rba=void 0;(function(a){a[a.FUa=0]="downloading";a[a.wAb=1]="downloaded";a[a.df=2]="appended";a[a.buffered=3]="buffered";a[a.IO=4]="removed";a[a.jcc=5]="unused";})(b.rba || (b.rba={}));(function(a){a[a.waiting=1]="waiting";a[a.Mac=2]="ondeck";a[a.FUa=4]="downloading";a[a.wAb=8]="downloaded";a[a.dW=6]="inprogress";})(b.qba || (b.qba={}));b.tcb="AseBufferViewSymbol";b.fQ="AseBufferAccountingSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(712),b);r.__exportStar(a(713),b);r.__exportStar(a(714),b);r.__exportStar(a(715),b);r.__exportStar(a(716),b);r.__exportStar(a(717),b);r.__exportStar(a(718),b);r.__exportStar(a(719),b);r.__exportStar(a(348),b);r.__exportStar(a(349),b);r.__exportStar(a(720),b);r.__exportStar(a(721),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VE="6674654e-696c-5078-6966-665374726d21";b.WE="6674654e-696c-4878-6165-6465722e7632";b.wR="6674654e-696c-5078-6966-66496e646578";b.Lx="6674654e-696c-4d78-6f6f-6653697a6573";b.Kx="6674654e-696c-5378-6565-6b506f696e74";b.BR="cedb7489-e77b-514c-84f9-7148f9882554";b.AR="524f39a2-9b5a-144f-a244-6c427c648df4";b.UE="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Om=void 0;c=a(2);f=a(5);l=c.__importDefault(a(28));m=c.__importDefault(a(123));d=a(373);h=a(22);r=a(42);g=a(172);k=a(232);a=a(102);n=(function(q){function p(v,t){var u;u=q.call(this,v,t) || this;p.xb(u,v,t);return u;}c.__extends(p,q);p.xb=function(v,t,u,w){var x;g.jv.xb(v,t,u);v.Le=u.index;v.EK=u.Wa;v.Cv=u.ob;v.Hpb=u.sb?u.sb:t.sb;v.CI=u.CI;v.Ana=w;v.DNa=! !u.tq;v.zOa=null !== (x=u.region) && void 0 !== x?x:0;v.aNa=! !u.pma;v.CNa=! !u.ww;v.Kd=void 0 === u.x5 || void 0 === u.Ama || u.x5 === u.Wa && u.Ama === u.ob?v:new k.jB(v,{Wa:u.x5,ob:u.Ama});v.dnb=u.Pra;v.Akb=u.bi;v.qmb=t.hIb;v.zp=u.ta?v.F3a(u.ta):void 0;v.WOa=u.$u;v.df=!1;};p.oTa=function(v){for(var t=new Uint32Array(v.length),u=new Uint32Array(v.length),w=new Uint8Array(v.length),x=new Uint8Array(v.length),y=0,z,A,B=0;B < v.length;++B){z=v[B];A=z.Mc;t[B]=z.Cv - z.EK;u[B]=A;w[B]=z.stream.Kf;void 0 !== z.sb && null !== z.sb && (x[B]=z.sb);y+=A;}return new d.Cea(t,u,w,x,v.length?v[0].S:1E3,y);};Object.defineProperties(p.prototype,{gD:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sb:{get:function(){return this.Hpb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$Qa:{get:function(){return 8 * this.fa / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wa:{get:function(){return this.EK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ob:{get:function(){return this.Cv;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xj:{get:function(){var v,t;return null !== (t=null === (v=this.Ana) || void 0 === v?void 0:v.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tq:{get:function(){return this.DNa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.zOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{pma:{get:function(){return this.aNa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ww:{get:function(){return this.CNa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Pra:{get:function(){return this.dnb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bi:{get:function(){return this.Akb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ta:{get:function(){return this.zp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$u:{get:function(){return this.WOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{x5:{get:function(){return this.Kd.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ama:{get:function(){return this.Kd.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sDb:{get:function(){return this.Kd.Kt;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{KM:{get:function(){return this.Kd.xd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{z5:{get:function(){return this.Kd.je;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{y5:{get:function(){return this.Kd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bma:{get:function(){return this.Kd.dd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rDb:{get:function(){return this.Kd.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JC:{get:function(){var v;v=this.sDb;f.assert(v);return v / this.stream.qa.oc;},enumerable:!1,configurable:!0}});p.prototype.Z1a=function(){this.DNa=!0;};p.prototype.sXb=function(v){this.CI={Zd:v.nXa(),u7:v.av};};p.prototype.jP=function(v){this.WOa=v;};p.prototype.qXb=function(v,t,u){this.zOa=v;this.aNa=t;this.CNa=u;};p.prototype.Aj=function(v){var t,u;void 0 === v && (v={});t=this.stream.qa.oc;u=this.zp || ({start:0,end:this.JC});v=this.F3a(v);this.Kd && this.Kd !== this || (this.Kd=new k.jB(this,this));v.start > u.start && (this.EK=this.Kd.Wa + v.start * t);v.end < u.end && (this.Cv=this.Kd.Wa + v.end * t);this.zp=v;};p.prototype.mla=function(v){void 0 === v && (v=1);this.zp?this.Aj({start:this.zp.start + v,end:this.zp.end}):this.Aj({start:v});};p.prototype.nla=function(v){this.zp?this.Aj({start:this.zp.start,end:(this.zp.end || 0) - v}):this.Aj({start:0,end:-v});};p.prototype.lla=function(){this.Aj({start:0,end:0});};p.prototype.tXb=function(v){this.zp || this.Aj();this.zp.hwa=v;};p.prototype.bWa=function(v){var u;if(!(v < this.Y || v >= this.Ha) && this.bi && this.bi.length){v=new h.T(v + 1 - this.Y,1E3).om(this.stream.qa);for(var t=this.bi.length - 1;0 <= t;--t){u=this.bi[t];if(u.fl <= v)return u;}return {fl:0,Dd:this.Bma};}};p.prototype.SCb=function(v){var u;if(!(v < this.Y || v >= this.Ha) && this.bi && this.bi.length){v=new h.T(v + 1 - this.Y,1E3).om(this.stream.qa);for(var t=this.bi.length - 1;0 <= t;--t){u=this.bi[t];if(u.fl <= v)return u;}return {fl:0,Dd:this.Bma};}};p.prototype.WVa=function(v,t){var u,w,x;if(!(v < this.Y || v >= this.Ha)){if(!t && this.qmb)return {fl:0,Dd:this.Y};u=this.qa.oc;w=this.qa.S;x=Math.floor(this.Kt / u);v=Math.min((t?Math.ceil:Math.floor)((h.T.Qra(v,w) - this.Wa + (t?-1:1) * (w / 1E3 - 1)) / u),x);u=h.T.vZ(this.Wa + v * u,w);return v === x?void 0:{fl:v,Dd:u};}};p.prototype.gma=function(v){return this.mediaType === l.default.Ta.Lb?this.bWa(v):this.WVa(v,!1);};p.prototype.fma=function(v){return this.mediaType === l.default.Ta.Lb?this.SCb(v):this.WVa(v,!0);};p.prototype.d3=function(v){this.Mc+=v.fa;this.Cv=v.ob;this.zp && (this.Kd=new k.jB(this,{Wa:this.x5,ob:this.Cv}),this.zp.end=this.JC);};p.prototype.toString=function(){return "[" + this.Oa + ", " + this.bitrate + "kbit/s, c:" + (this.dd + "-" + this.Ic + ",p:") + (this.xd + "-" + this.je + ",d:" + this.duration + "]");};p.prototype.toJSON=function(){var v;v=g.jv.prototype.toJSON.call(this);m.default({index:this.index,startPts:this.Y,endPts:this.Ha,"contentStartTicks:":this.Wa,contentEndTicks:this.ob,contentStartPts:this.dd,contentEndPts:this.Ic,fragmentStartPts:this.KM !== this.Y?this.KM:void 0,fragmentEndPts:this.z5 !== this.Ha?this.z5:void 0,edit:this.ta},v);return v;};p.prototype.aWa=function(v){var u;if(this.bi)for(var t=0;t < this.bi.length;++t){if(this.bi[t].fl === v)u=this.bi[t].offset;}return u;};p.prototype.F3a=function(v){var t;t=v.start || 0;return {start:t,end:void 0 === v.end?this.JC:Math.min(this.JC,Math.max(t,0 > v.end?this.JC + v.end:v.end)),hwa:v.hwa,iYb:v.iYb};};return p;})(g.jv);b.Om=n;r.wf(a.px,n);r.wf(a.iB,n);},function(r,b,a){var d;function c(h,g){return void 0 === h?void 0:0 === h?d.T.Gb:new d.T(h,g);}function f(h,g){return h && Math.floor(d.T.vZ(h,g));}function l(h,g){return void 0 === h || void 0 === g?void 0:h + g;}function m(h,g){return void 0 === h || void 0 === g?void 0:h - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.iB=b.px=void 0;d=a(22);r=(function(){function h(){}Object.defineProperties(h.prototype,{Kt:{get:function(){return m(this.ob,this.Wa) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kSb:{get:function(){return l(this.Wa,this.xj);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hSb:{get:function(){return l(this.ob,this.xj);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{JU:{get:function(){return c(this.Kt,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sc:{get:function(){return c(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Od:{get:function(){return c(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vj:{get:function(){return c(this.kSb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{we:{get:function(){return c(this.hSb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xta:{get:function(){return c(this.xj,this.S);},enumerable:!1,configurable:!0}});return h;})();b.px=r;r=(function(){function h(){}Object.defineProperties(h.prototype,{duration:{get:function(){return m(this.Ha,this.Y) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Y:{get:function(){return f(l(this.Wa,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ha:{get:function(){return f(l(this.ob,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Lu:{get:function(){return f(this.xj,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ek:{get:function(){return f(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dd:{get:function(){return f(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ic:{get:function(){return f(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xd:{get:function(){return f(l(this.Wa,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{je:{get:function(){return f(l(this.ob,this.xj),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hr:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yA:{get:function(){return this.Y;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sw:{get:function(){return this.Ha;},enumerable:!1,configurable:!0}});return h;})();b.iB=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mda=b.Sm=void 0;r=b.Sm || (b.Sm={});r.bF="PRE_FETCH";r.fjb="QC";r.qp="STANDARD";r.e1="SUPPLEMENTAL";r.G3b="DOWNLOAD";b.Mda="PboManifestCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VE="6674654e-696c-5078-6966-665374726d21";b.WE="6674654e-696c-4878-6165-6465722e7632";b.wR="6674654e-696c-5078-6966-66496e646578";b.Lx="6674654e-696c-4d78-6f6f-6653697a6573";b.Kx="6674654e-696c-5378-6565-6b506f696e74";b.BR="cedb7489-e77b-514c-84f9-7148f9882554";b.AR="524f39a2-9b5a-144f-a244-6c427c648df4";b.UE="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.bc=this.Ui([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{DIb:"int32"},{J1b:"int32"},{offset:32,type:"offset"},{tDb:"int16"},{evb:{type:"int8",dia:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Na=!0;return l;})(a(264).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc1";return l;})(r);b.iba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc2";return l;})(r);b.jba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc3";return l;})(r);b.kba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc4";return l;})(r);b.lba=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hvc1";return l;})(r);b.zca=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hev1";return l;})(r);b.tca=r;},function(r,b){var c;function a(f,l){var m;m=this;this.Sfa=[];c.forEach(function(d){(d=d(f,l)) && m.Sfa.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.RE=b.eGa=void 0;c=[];a.prototype.Xu=function(f){var d;for(var l=[],m=this.Sfa.length;m--;){d=this.Sfa[m];d.Xu(f) && l.push(d.EM);}if(l.length)return l;};b.eGa=a;b.RE=function(f){c.push(f);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FJ=b.Hb=void 0;f=a(137);l=a(41);m=a(3);c.fna=function(d){if(d){if(d.includes(b.FJ.OD))return f.Zn.OD;if(d.includes("fps"))return f.Zn.LG;if(d.includes(b.FJ.Uaa))return f.Zn.Uaa;}throw new l.od(m.M.cfb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.tXa=function(d){switch(d){case f.Zn.OD:return b.FJ.OD;case f.Zn.LG:return b.FJ.LG;default:return b.FJ.Uaa;}};b.Hb=c;c.Ox="com.microsoft.playready";c.Td="com.microsoft.playready.hardware";c.cF="com.microsoft.playready.software";c.ufb="com.apple.fps.2_0";c.bMa="com.widevine.alpha";c.Zib="com.microsoft.playready.recommendation.3000";c.lIa="com.microsoft.playready.recommendation.2000";b.FJ={LG:"fairplay",Uaa:"widevine",OD:"playready"};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fd=void 0;f=a(26);c.uTa=function(l){var m;m={};m[f.re.PR]=c.HQ;m[f.re.f0]=c.HQ;m[f.re.kK]=c.KQ;m[f.re.Cx]=c.Cx;m[f.re.Ps]=l || c.Ps;m[f.re.gB]=c.HQ;m[f.re.Vx]=c.ZR;m[f.re.Gj]=c.Gj;return m;};b.Fd=c;c.Era='video/mp4; codecs="avc1.4d0028"';c.HQ="avc1.4d0028";c.KQ="hev1.1.6.L93.B0";c.H_="dvhe.05.01";c.Tba="dvhe.05.04";c.Uba="dvhe.05.05";c.Vba="dvhe.05.06";c.Wba="dvhe.05.07";c.Xba="dvhe.05.09";c.Ps=c.H_;c.Cx=c.KQ;c.g_="mp4a.40.2";c.qF="mp4a.40.42";c.Qdb="ec-3";c.ZR="vp09.00.11.08.02";c.Gj="av01.0.04M.08";c.Jdb=[c.Xba,c.Wba,c.Vba,c.Uba,c.Tba,c.H_];},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CB=void 0;r=a(1);a=a(0);c.prototype.format=function(f,l){var d;for(var m=1;m < arguments.length;++m){;}d=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(h,g){return "undefined" != typeof d[g]?d[g]:h;});};c.prototype.U9a=function(f){for(var l=f.length,m=new Uint16Array(l),d=0;d < l;d++){m[d]=f.charCodeAt(d);}return m.buffer;};c.prototype.X9a=function(f){return JSON.stringify(f,null,"  ");};a=r.__decorate([a.R()],c);b.CB=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iK="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UJ="LoggerSinksSymbol";},function(r){var g,k,n,q;function b(){b.xb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function c(p,v,t,u){var w,x;a(t);w=p.Xh;if(void 0 === w)(w=p.Xh=Object.create(null),p.xF=0);else {void 0 !== w.Bac && (p.emit("newListener",v,t.listener?t.listener:t),w=p.Xh);x=w[v];}void 0 === x?(w[v]=t,++p.xF):("function" === typeof x?x=w[v]=u?[t,x]:[x,t]:u?x.unshift(t):x.push(t),t=void 0 === p.OS?b.fzb:p.OS,0 < t && x.length > t && !x.b2b && (x.b2b=!0,t=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.Lt=p,t.type=v,t.count=x.length,console && console.warn && console.warn(t)));return p;}function f(){if(!this.fWa)return (this.target.removeListener(this.type,this.Kbb),this.fWa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function l(p,v,t){p={fWa:!1,Kbb:void 0,target:p,type:v,listener:t};v=f.bind(p);v.listener=t;return p.Kbb=v;}function m(p){var v;v=this.Xh;if(void 0 !== v){p=v[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function d(p,v,t){"function" === typeof p.on && h(p,"error",v,t);}function h(p,v,t,u){if("function" === typeof p.on){if(u.once)p.once(v,t);else p.on(v,t);}else if("function" === typeof p.addEventListener)p.addEventListener(v,function y(x){u.once && p.removeEventListener(v,y);t(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}g="object" === typeof Reflect?Reflect:null;k=g && "function" === typeof g.apply?g.apply:function(p,v,t){return Function.prototype.apply.call(p,v,t);};n=Number.isNaN || (function(p){return p !== p;});r.exports=b;r.exports.once=function(p,v){return new Promise(function(t,u){function w(y){p.removeListener(v,x);u(y);}function x(){"function" === typeof p.removeListener && p.removeListener("error",w);t([].slice.call(arguments));}h(p,v,x,{once:!0});"error" !== v && d(p,w,{once:!0});});};b.EventEmitter=b;b.prototype.Xh=void 0;b.prototype.xF=0;b.prototype.OS=void 0;q=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return q;},set:function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");q=p;}});b.xb=function(){if(void 0 === this.Xh || this.Xh === Object.getPrototypeOf(this).Xh)(this.Xh=Object.create(null),this.xF=0);this.OS=this.OS || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.OS=p;return this;};b.prototype.emit=function(p){var u,w;for(var v=[],t=1;t < arguments.length;t++){v.push(arguments[t]);}u="error" === p;t=this.Xh;if(void 0 !== t)u=u && void 0 === t.error;else if(!u)return !1;if(u){0 < v.length && (w=v[0]);if(w instanceof Error)throw w;v=Error("Unhandled error." + (w?" (" + w.message + ")":""));v.context=w;throw v;}t=t[p];if(void 0 === t)return !1;if("function" === typeof t)k(t,this,v);else {w=t.length;u=Array(w);for(var x=0;x < w;++x){u[x]=t[x];}for(t=0;t < w;++t){k(u[t],this,v);}}return !0;};b.prototype.addListener=function(p,v){return c(this,p,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.MX=function(p,v){return c(this,p,v,!0);};b.prototype.once=function(p,v){a(v);this.on(p,l(this,p,v));return this;};b.prototype.R5a=function(p,v){a(v);this.MX(p,l(this,p,v));return this;};b.prototype.removeListener=function(p,v){var t,u,w,x,y;a(v);u=this.Xh;if(void 0 === u)return this;w=u[p];if(void 0 === w)return this;if(w === v || w.listener === v)0 === --this.xF?this.Xh=Object.create(null):(delete u[p],u.removeListener && this.emit("removeListener",p,w.listener || v));else if("function" !== typeof w){x=-1;for(t=w.length - 1;0 <= t;t--){if(w[t] === v || w[t].listener === v){y=w[t].listener;x=t;break;}}if(0 > x)return this;if(0 === x)w.shift();else {for(;x + 1 < w.length;x++){w[x]=w[x + 1];}w.pop();}1 === w.length && (u[p]=w[0]);void 0 !== u.removeListener && this.emit("removeListener",p,y || v);}return this;};b.prototype.ED=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var v,t,u;v=this.Xh;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.Xh=Object.create(null),this.xF=0):void 0 !== v[p] && (0 === --this.xF?this.Xh=Object.create(null):delete v[p]),this);if(0 === arguments.length){t=Object.keys(v);for(v=0;v < t.length;++v){u=t[v];"removeListener" !== u && this.removeAllListeners(u);}this.removeAllListeners("removeListener");this.Xh=Object.create(null);this.xF=0;return this;}t=v[p];if("function" === typeof t)this.removeListener(p,t);else if(void 0 !== t)for(v=t.length - 1;0 <= v;v--){this.removeListener(p,t[v]);}return this;};b.prototype.listeners=function(p){var v;v=this.Xh;if(void 0 === v)p=[];else if((p=v[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {v=Array(p.length);for(var t=0;t < v.length;++t){v[t]=p[t].listener || p[t];}p=v;}return p;};b.listenerCount=function(p,v){return "function" === typeof p.listenerCount?p.listenerCount(v):m.call(p,v);};b.prototype.listenerCount=m;},function(r,b,a){var n;function c(q,p){if(q.length == p.length && 1 < q.length){for(var v=q.length,t=0,u=d(q),w=d(p),x=0;x < v;x++){t+=q[x] * p[x];}return (t - u * w / v) / v;}return !1;}function f(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=l(q);return Math.sqrt(q);}function l(q){var p;if(!Array.isArray(q) || 2 > q.length)return !1;p=m(q);return d(q.map(function(v){return (v - p) * (v - p);})) / (q.length - 1);}function m(q){return Array.isArray(q) && q.length?d(q) / q.length:!1;}function d(q){return Array.isArray(q)?q.reduce(function(p,v){return p + v;},0):!1;}function h(q,p,v){return Math.max(Math.min(q,v),p);}function g(q,p){return "number" === typeof q?q:p;}function k(q){return 1 / (1 + Math.exp(-q));}n=a(10);r.exports={Va:function(q,p,v){try{q.emit(p,v);}catch(t){q.Jk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",t,"Event:",v);}},wC:function(){var q,p,v;q=Array.prototype.concat.apply([],arguments);p=q.reduce(function(t,u){return t + u.byteLength;},0);v=new Uint8Array(p);q.reduce(function(t,u){v.set(new Uint8Array(u),t);return t + u.byteLength;},0);return v.buffer;},Q3:h,yub:function(q,p,v,t){return {min:h(g(q.min,p),v,t),max:h(g(q.max,p),v,t),Ny:h(q.Ny || 6E4,0,6E5),KRa:h(q.KRa || 0,-3E5,3E5),scale:h(q.scale || 6E4,0,3E5),U7a:h(q.U7a || 0,-3E5,3E5),gamma:h(q.gamma || 1,.1,10)};},se:function(q,p){void 0 !== q && n.gRb(q).forEach(function(v){p(v[0],v[1]);});},zVa:function(q,p,v){return q.min + (q.max - q.min) * (1 - Math.pow(k(6 * (p - (q.Ny + (q.KRa || 0) * (1 - v))) / (q.scale + (q.U7a || 0) * (1 - v))),q.gamma));},QBb:function(q,p){return q.min + (q.max - q.min) * Math.pow(k(6 * (p - q.Ny) / q.scale),q.gamma);},X9b:d,eEb:m,sHb:l,V9b:f,P9b:c,O9b:function(q,p){var v;if(q.length == p.length){v=c(q,p);q=f(q);p=f(p);if(0 < q && 0 < p)return v / (q * p);}return !1;},vq:function(q,p,v){return p.qTa?p.qTa(v):new q.Console("ASEJS","media|asejs",p.prefix?p.prefix + " " + v:v);},sWb:function(q){return q.length?"{" + q + "} ":"";},fWb:function(q,p,v){return {min:q.min * v + (1 - v) * p.min,max:q.max * v + (1 - v) * p.max,Ny:q.Ny * v + (1 - v) * p.Ny,scale:q.scale * v + (1 - v) * p.scale,gamma:q.gamma * v + (1 - v) * p.gamma};},tanh:Math.tanh || (function(q){var p;p=Math.exp(+q);q=Math.exp(-q);return Infinity == p?1:Infinity == q?-1:(p - q) / (p + q);}),gwa:k,uq:function(q){var p;p=q.Pa.gb.O.id;return {Y:q.Y,duration:q.duration,offset:q.offset,fa:q.fa,bitrate:q.bitrate,profile:q.profile,Zc:q.Zc,wa:p,Oa:q.Oa,Ld:q.Ld,location:q.location,ii:q.ii,ek:q.ek,Ow:{gb:{O:{id:p}}}};}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(223);c=a(146);b.Oeb=c;c=a(366);b.WR=c;c=a(370);b.Rrb=c;b.h1=r.wq.Ua.sidx;r=a(786);b.cr=r.cr;r=a(231);b.$q=r.$q;r=a(790);b.ar=r.ar;b.$z=r.$z;r=a(791);b.RJ=r.RJ;r=a(84);b.ho=r.ho;a=a(792);b.Oj=a.Oj;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.v_=b.Hj=void 0;c=a(2);r=c.__importDefault(a(17));f=c.__importStar(a(10));l=r.default.Uh;m=c.__importDefault(a(6));d=m.default.Zq;h=a(169);g=c.__importDefault(a(144));k=a(9);r=a(42);n=a(234);q=a(172);(function(v){v[v.Ghb=0]="NOTHING_APPENDED";v[v.bib=1]="PARTIAL";v[v.vx=2]="COMPLETE";v[v.Lf=3]="ERROR";})(p=b.Hj || (b.Hj={}));a=(function(v){function t(u,w,x,y,z,A,B){w=v.call(this,w,x) || this;n.vJ.xb(w,u,y,z,A,B);q.jv.xb(w,u,y);w.tkb=u.url || y.url;w.bfa=y.responseType;w.skb=y.N$;void 0 === w.bfa && (w.bfa=d.jc && !d.jc.vY.QR?0:1);w.Di=new l();w.Di.on(w,d.Ke.IGa,w.Gga);w.Di.on(w,d.Ke.HGa,w.Onb);w.Di.on(w,d.Ke.JGa,w.Rnb);w.Di.on(w,d.Ke.zR,w.Fga);w.Di.on(w,d.Ke.ZE,w.PS);w.pK=!1;w.Ze=!1;w.Zl=!1;w.no=!1;w.yS=!1;w.Nob=y.rI;w.ks=0;return w;}c.__extends(t,v);Object.defineProperties(t.prototype,{active:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rua:{get:function(){return this.Zl;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{complete:{get:function(){return !this.pK && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{aborted:{get:function(){return this.pK;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Epa:{get:function(){return this.no && !this.yS;},enumerable:!1,configurable:!0}});t.prototype.xb=function(u){n.vJ.prototype.xb.call(this,u);this.eg || !this.Ne.Gha && this.Zc || (this.eg=g.default.instance(),this.active && (this.eg.OO(m.default.time.ea(),this.rY),this.Zl && (m.default.time.ea(),this.connect && 0 < this.ps.length && this.eg.xy(this.ps[0]))));};t.prototype.hu=function(){return this.df || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};t.prototype.bG=function(u,w,x,y){this.df=u.appendBuffer(this.response,y || k.uq(this));return {status:this.df?p.vx:p.Lf};};t.prototype.lO=function(){(this.no=d.prototype.open.call(this,this.tkb,{start:this.offset,end:this.offset + this.fa - 1},this.bfa,{},void 0,void 0,this.skb)) && this.hV(this);return this.no;};t.prototype.abort=function(){var u;if(this.aborted)return !0;u=this.Ze;this.eg && u && this.eg.qY(m.default.time.ea(),this.Zl,{requestId:this.X1(),gi:this.Ld,type:this.mediaType});this.pK=!0;this.Zl=this.Ze=!1;d.prototype.abort.call(this);this.IM(this,u,this.Epa);return !0;};t.prototype.cd=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Di && this.Di.clear();v.prototype.cd.call(this);};t.prototype.Gga=function(){var u;u=this.qf || this.loadTime;h.sx.instance().push(m.default.time.ea() - u);this.Ze || (this.Ze=!0,this.ju=this.track.ju(),this.stream.I.a2a || this.eg && this.eg.OO(u,{requestId:this.X1(),gi:this.Ld,type:this.mediaType}),this.JM(this),this.Gu=this.qf);};t.prototype.Onb=function(){var u,w,x;u=this.qf || this.kma;w=this.connect;x=this.ps;h.sx.instance().push(m.default.time.ea() - u);this.Ze || (this.Ze=!0);this.Zl || (this.Zl=!0,this.stream.I.a2a && this.eg && this.eg.OO(u,{requestId:this.X1(),gi:this.Ld,type:this.mediaType}),w && 0 < x.length && this.eg && this.eg.xy(x[0]),this.IC(this),this.Gu=u);};t.prototype.Rnb=function(){var u,w,x;u=this;w=this.qf;x=this.bytesReceived - this.ks;h.sx.instance().push(m.default.time.ea() - w);this.Zl || (this.Zl=!0);this.eg && (void 0 === this.Gu || this.eg.Uv(x,this.Gu,w,this.rY),this.ps && this.ps.length && this.ps.forEach(function(y){u.eg.vy(y);}));this.OG(this);this.Gu=w;this.ks=this.bytesReceived;};t.prototype.Fga=function(){var u,w,x;u=this;w=this.qf;x=this.bytesReceived - this.ks;h.sx.instance().push(m.default.time.ea() - w);this.eg && (0 < x && this.eg.Uv(x,this.Gu,w,this.rY),this.ps && this.ps.length && this.ps.forEach(function(y){u.eg.vy(y);}),this.eg.qY(w,this.Zl,this.rY));this.Zl=this.Ze=!1;this.yS=!0;this.Tt(this);this.Gu=w;this.ks=this.bytesReceived;this.cd();};t.prototype.X1=function(){var u,w;u=(u=this.stream)?u.toString():this.url;w=this.H3;w && (u+=",range " + w.start + "-" + w.end);return u;};Object.defineProperties(t.prototype,{rY:{get:function(){return {requestId:this.X1(),gi:this.Ld,type:this.mediaType,rI:this.Nob};},enumerable:!1,configurable:!0}});t.prototype.PS=function(){var u,w,x,y;this.H.warn("AseMediaRequest._onError:",this.toString());u=this.qf;w=this.status;x=this.mh;y=this.sj;h.sx.instance().push(m.default.time.ea() - u);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):f.Ba(x)?(this.eg && this.Ne && this.Ne.Oua && this.loadTime && void 0 === w && this.eg.Uv(this.ks?this.bytesReceived - this.ks:this.bytesReceived,this.Gu?this.Gu:this.loadTime,u,this.rY),this.w5(this)):this.H.warn("ignoring undefined request error (nativecode: " + y + ")");};return t;})(d);b.v_=a;r.wf(n.vJ,a,!1);r.wf(q.jv,a,!1);},function(r,b,a){var f,l,m,d;function c(h,g,k){var n,q,t;g=f.__assign({},null === (q=null === h || void 0 === h?void 0:h.context) || void 0 === q?void 0:q.call(h,{Z3a:g,xr:k}));if((null === h || void 0 === h?0:h.xr) && k)if(!0 === h.xr)g.args=k;else {q={};g.args=q;try{for(var p=f.__values(h.xr),v=p.next();!v.done;v=p.next()){t=v.value;q[t]=k[t];}}catch(w){var u;u={error:w};}finally{try{v && !v.done && (n=p.return) && n.call(p);}finally{if(u)throw u.error;}}}return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.FB=b.foa=b.Zb=void 0;f=a(2);l=a(20);m=f.__importDefault(a(6));d=a(9);b.Zb=function(h){return function(g,k,n){var q;q=n.value;n.value=function(){var p,v,t,u,w,x;v=b.foa(this);if(v)(t=c(h,this,arguments),u=null !== (p=null === h || void 0 === h?void 0:h.methodName) && void 0 !== p?p:String(k),w=v.vT(u,t,null === h || void 0 === h?void 0:h.lm,null === h || void 0 === h?void 0:h.i$b));p=null === v || void 0 === v?void 0:v.xka;v && (v.xka=w);try{return x=null === q || void 0 === q?void 0:q.apply(this,arguments);}catch(z){var y;y=z;throw z;}finally{if((v && (v.xka=p),w))if((w.data || (w.data={}),y))w.data.error="" + y;else if(d.g0a(x))x.then(function(z){w && (null === h || void 0 === h?0:h.return) && (w.data.resolve=z);},function(z){w && (w.data.reject="" + z);});else if(null === h || void 0 === h?0:h.return)w.data.lRet=x;}};};};b.foa=function(h){if(null === h || void 0 === h?0:h.cfa)return h.cfa;};r=(function(){function h(g){this.sq=[];this.f2=!1;this.bga={};this.I=f.__assign({uD:10},g);Object.defineProperties(g.vu,{cfa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(h.prototype,{source:{get:function(){return this.I.source;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !this.f2;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bLb:{get:function(){return f.__spread(this.sq);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AIb:{get:function(){return this.bga;},enumerable:!1,configurable:!0}});h.prototype.uy=function(g){var k,n;if(!this.f2){n=null === (k=b.foa(this.I.vu)) || void 0 === k?void 0:k.xka;n && (n.data=f.__assign(f.__assign({},n.data),g));}};h.prototype.vT=function(g,k,n,q){var p,v,t,u;if(!this.f2){t=!1;u=null === (v=(p=this.I).Pha) || void 0 === v?void 0:v.call(p,this.I.vu);p=c({},this.I.vu);k=f.__assign(f.__assign(f.__assign({},u),p),k);u=0 < Object.keys(k).length;k={methodName:g,data:u?k:void 0,time:m.default.time.ea()};q && this.bga[g]++;n && this.sq.length && (n=this.sq[this.sq.length - 1],n.methodName === g && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,t=!0));this.pvb(k);t || this.sq.push(k);this.sq.length > this.I.uD && this.sq.shift();return k;}};h.prototype.pvb=function(g){var k;l.ga && (null === (k=this.I.console) || void 0 === k?void 0:k.trace(this.I.source + "::" + g.methodName,g.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.I,g);};h.prototype.Mb=function(){Object.defineProperties(this.I.vu,{cfa:{enumerable:!1,value:null,configurable:!0}});this.f2=!0;this.clear();};h.prototype.clear=function(){this.sq=[];this.bga={};};return h;})();b.FB=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OE="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pF="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cK=b.gF=void 0;r=b.gF || (b.gF={});r.Q4b="ident";r.Zca="main";r.Tza="credits";b.cK="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yBa="DrmServicesSymbol";b.W_="DrmServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uJ="ApiInfoSymbol";},function(r,b){function a(c,f){var l;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(m){l=Object.getOwnPropertyDescriptor(c,m);void 0 !== l && Object.defineProperty(f,m,l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lp=void 0;c=a(2);f=c.__importDefault(a(28));l=c.__importDefault(a(6));m=a(797);r=(function(){function d(h){this.oK=h;this.ug=[];this.console=new l.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var h;if(void 0 === d.RK){h=a(6).default;d.RK=new d(h.EJ);}return d.RK;},enumerable:!1,configurable:!0}});d.reset=function(){d.RK=void 0;};d.prototype.Gt=function(h,g,k,n,q,p){var v,t,u,w;v=!1;t=p.MXb?this.NCb(k,g,h,p.NXb):-1;if(-1 === t){u={track:this.Cxb(k,n,h,q,p),wj:k,J:g,m6a:h,CO:[],Ao:!1,lM:!1};this.ug.push(u);w=function(){u.Ao=!0;u.track.removeListener("created",w);};u.track.on("created",w);v=!1;}else (v=!0,u=this.ug[t]);h=new m.OJa(this.console,u.track,u.Ao,v);u.CO.push(h);return h;};d.prototype.kM=function(h){var g,k;h.Xp();g=this.n5(function(n){return n.track === h.track;});if(-1 !== g){if((g=this.ug[g],1 === g.CO.length))(g.track.Xp(),g.lM=!0);else {k=g.CO.indexOf(h);0 <= k && g.CO.splice(k,1);}}else h.track.Xp();};d.prototype.ng=function(){this.oK.ng();};d.prototype.Cxb=function(h,g,k,n,q){var p,v,t;p=this;v=!1;h?1 === k?(h=!1,g=1,q.yq?(h=!0,g=q.NN):q.Cw && 2 < q.Cw && (h=!0,g=q.Cw),h={type:this.oK.Lb,openRange:!h,pipeline:h,connections:g,socketBufferSize:q.QP,minRequestSize:q.VN}):0 === k?(v=q.yq && (q.l1b || g && q.m1b),h={type:this.oK.Ub,openRange:!v,pipeline:v,connections:1,socketBufferSize:q.q3,minRequestSize:q.VN}):h={type:q.Tzb?this.oK.Lb:this.oK.Bfb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Aoa,minRequestSize:q.VN}:h={type:0 === k?f.default.Ta.Ub:f.default.Ta.Lb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === k?q.q3:q.QP,minRequestSize:q.VN};t=new this.oK(h,n);t.on("transportreport",function(u){var w;w=p.n5(function(x){return x.track === t;});-1 !== w && (w=p.ug[w],w.CO.length && w.CO[0].emit("transportreport",u));});t.on("destroyed",function(){var u;u=p.n5(function(w){return w.track === t;});-1 !== u && p.ug.splice(u,1);t.removeAllListeners();});if(v && q.k1b || q.fbb)t.on("pipelinedisabled",function(){q.fbb && 1 === t.config.type?t.Z9(c.__assign(c.__assign({},t.config),{socketBufferSize:q.sOb,pipeline:!1,openRange:!0,connections:1})):t.Z9(c.__assign(c.__assign({},t.config),{pipeline:!1,openRange:!0}));});return t;};d.prototype.NCb=function(h,g,k,n){return this.n5(function(q){return !q.lM && (!n && q.track.config.Pac || !h?!q.wj && q.m6a === k:q.wj && q.J === g && q.m6a === k);});};d.prototype.n5=function(h){for(var g=0;g < this.ug.length;++g){if(h(this.ug[g]))return g;}return -1;};return d;})();b.lp=r;},function(r,b,a){(function(c,f){function l(m,d,h,g){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.q8a=this.CYb=m=this.now();this.W4=m + h;this.JRb=h;this.FTa=m + g;this.debug=!1;this.counter=this.cA=0;this.ew=1E4;this.D$a=h / 100;this.F$a=m;this.E$a=1 * this.D$a / 4;this.faa=0;this.sU="";this.Cg(m,"progress tracking start");}l.prototype.constructor=l;l.prototype.Cg=function(m,d){var h,g;h=((m - this.q8a) / 1E3).toFixed(3);h=("     ").slice(h.length - 4) + h;g=c.WNb();this.console.info(h + (" " + ((this.FTa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.ew)) + (" M:(" + Math.floor(g.g$b / 1024 / 1024) + " MB/" + Math.floor(g.KZa / 1024 / 1024) + " MB) ") + this.sU + d);};l.prototype.apb=function(m){var d;d=this.now();this.sU=m?m + ": ":m;this.cA=0;this.q8a=d;this.Cg(d,"starting");};l.prototype.ypb=function(m){var d,h;this.counter++;if(!(this.counter < this.ew)){this.counter=0;d=this.now();h=d - (this.F$a + this.D$a);this.F$a=d;this.faa=.9 * this.faa + .1 * h;this.faa > this.E$a?(this.ew*=.875,this.ew=Math.max(1,this.ew)):this.faa < -this.E$a && (this.ew*=1.5,this.ew=Math.min(this.ew,1E5));if(d >= this.FTa)throw (this.Cg("Execution deadline exceeded after " + (d - this.CYb) + " ms" + this.sU),Error("Execution deadline exceeded" + this.sU));h=c.WNb();this.cA=Math.max(this.cA,h.KZa);if(7516192768 < h.KZa)throw Error("Heap total limit exceeded" + this.sU);if(!(d <= this.W4)){for(;d > this.W4;){this.W4+=this.JRb;}this.Cg(d,m);}}};l.xb=function(m,d,h,g){f.RD=new l(m,d,h || 5E3,g || 33E5);};l.Ova=function(m){f.RD && f.RD.apb(m);};l.update=function(m){f.RD && f.RD.ypb(m);};l.fYa=function(){if(f.RD)return f.RD.cA;};l.now=function(){return f.RD?f.RD.now():Date.now();};r.exports=l;}).call(this,a(248),a(193));},function(r){var b;b={$V:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,h;function c(g){return g instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(g);}function f(g){return d.Re(g);}function l(g){return d.Ba(g);}function m(g){return !c(g) && !f(g) && !l(g) && !Array.isArray(g) && d.Jh(g);}d=a(10);h={yE:0,d1:1,Lhb:2,J0:3,Sl:4};r.exports={goa:function(g){return c(g)?h.yE:f(g)?h.d1:l(g)?h.Lhb:m(g)?h.J0:h.Sl;},g7:c,Re:f,Ba:l,Jh:m,Yq:h};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.xu=b.r8=b.J2a=void 0;r=a(952);a=a(955);b.J2a=r;b.r8=function(c,f){return b.J2a(function(l,m){return void 0 !== m?m:l;},c,f);};b.xu=a;},function(r,b,a){var c;c=a(177);r.exports=function(f){return function d(m){return 0 === arguments.length || c(m)?d:f.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n1=void 0;b.up={bK:"PRIMARY",cba:"ASSISTIVE",Mza:"COMMENTARY",NONE:"NONE"};b.n1={assistive:b.up.cba,closedcaptions:b.up.cba,directorscommentary:b.up.Mza,commentary:b.up.Mza,subtitles:b.up.bK,primary:b.up.bK,none:b.up.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hk=void 0;r=b.Hk || (b.Hk={});r.Ao="created";r.bx="started";r.AP="succeeded";r.Ot="failed";r.Dh="cancelled";r.Itb="cancelled_on_start";r.ija="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rv=void 0;r=b.rv || (b.rv={});r[r.a3b=8]="Backspace";r[r.C7b=9]="Tab";r[r.l4b=13]="Enter";r[r.u7b=16]="Shift";r[r.y3b=17]="Ctrl";r[r.E2b=18]="Alt";r[r.J6b=19]="PauseBreak";r[r.r3b=20]="CapsLock";r[r.n4b=27]="Escape";r[r.w7b=32]="Space";r[r.I6b=33]="PageUp";r[r.H6b=34]="PageDown";r[r.k4b=35]="End";r[r.P4b=36]="Home";r[r.f5b=37]="LeftArrow";r[r.J7b=38]="UpArrow";r[r.Q6b=39]="RightArrow";r[r.S3b=40]="DownArrow";r[r.c5b=45]="Insert";r[r.P3b=46]="Delete";r[r.S7b=48]="Zero";r[r.l6b=49]="One";r[r.F7b=50]="Two";r[r.D7b=51]="Three";r[r.H4b=52]="Four";r[r.F4b=53]="Five";r[r.v7b=54]="Six";r[r.t7b=55]="Seven";r[r.j4b=56]="Eight";r[r.X5b=57]="Nine";r[r.v2b=65]="A";r[r.F2b=66]="B";r[r.h3b=67]="C";r[r.Pdb=68]="D";r[r.E=69]="E";r[r.o4b=70]="F";r[r.I4b=71]="G";r[r.L4b=72]="H";r[r.Lfb=73]="I";r[r.d5b=74]="J";r[r.Lca=75]="K";r[r.Qgb=76]="L";r[r.j5b=77]="M";r[r.Bhb=78]="N";r[r.j6b=79]="O";r[r.n6b=80]="P";r[r.Q=81]="Q";r[r.N6b=82]="R";r[r.qjb=83]="S";r[r.Vjb=84]="T";r[r.G7b=85]="U";r[r.K7b=86]="V";r[r.M7b=87]="W";r[r.afa=88]="X";r[r.Q7b=89]="Y";r[r.R7b=90]="Z";r[r.g5b=91]="LeftWindowKey";r[r.R6b=92]="RightWindowKey";r[r.r7b=93]="SelectKey";r[r.$5b=96]="Numpad0";r[r.a6b=97]="Numpad1";r[r.b6b=98]="Numpad2";r[r.c6b=99]="Numpad3";r[r.d6b=100]="Numpad4";r[r.e6b=101]="Numpad5";r[r.f6b=102]="Numpad6";r[r.g6b=103]="Numpad7";r[r.h6b=104]="Numpad8";r[r.i6b=105]="Numpad9";r[r.w5b=106]="Multiply";r[r.D2b=107]="Add";r[r.x7b=109]="Subtract";r[r.O3b=110]="DecimalPoint";r[r.R3b=111]="Divide";r[r.p4b=112]="F1";r[r.t4b=113]="F2";r[r.u4b=114]="F3";r[r.v4b=115]="F4";r[r.w4b=116]="F5";r[r.x4b=117]="F6";r[r.y4b=118]="F7";r[r.z4b=119]="F8";r[r.A4b=120]="F9";r[r.q4b=121]="F10";r[r.r4b=122]="F11";r[r.s4b=123]="F12";r[r.Z5b=144]="NumLock";r[r.p7b=145]="ScrollLock";r[r.s7b=186]="SemiColon";r[r.m4b=187]="Equals";r[r.u3b=188]="Comma";r[r.N3b=189]="Dash";r[r.K6b=190]="Period";r[r.G4b=191]="ForwardSlash";r[r.E7b=192]="Tilde";r[r.m6b=219]="OpenBracket";r[r.$2b=220]="BackSlash";r[r.t3b=221]="CloseBracket";r[r.M6b=222]="Quote";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.hn=b.ucb=void 0;b.ucb=a;b.hn=new a();},function(r,b,a){var h;function c(g){return "function" === typeof g?g.name:"symbol" === typeof g?g.toString():g;}function f(g,k){return null === g.pA?!1:g.pA.Kg === k?!0:f(g.pA,k);}function l(g){function k(n,q){var p;void 0 === q && (q=[]);p=c(n.Kg);q.push(p);return null !== n.pA?k(n.pA,q):q;}return k(g).reverse().join(" --\x3e ");}function m(g){g.xja.forEach(function(k){if(f(k,k.Kg))throw (k=l(k),Error(h.rdb + " " + k));m(k);});}function d(g){var k;if(g.name)return g.name;g=g.toString();k=g.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + g;}Object.defineProperty(b,"__esModule",{value:!0});h=a(55);b.dN=c;b.d1a=function(g,k,n){var q;q="";g=n(g,k);0 !== g.length && (q="\nRegistered bindings:",g.forEach(function(p){var v;v="Object";null !== p.sm && (v=d(p.sm));q=q + "\n " + v;p.rG.L2a && (q=q + " - " + p.rG.L2a);}));return q;};b.uub=m;b.OLb=function(g,k){var n,q;if(k.Opa() || k.Bpa()){n="";q=k.XFb();k=k.IEb();null !== q && (n+=q.toString() + "\n");null !== k && k.forEach(function(p){n+=p.toString() + "\n";});return " " + g + "\n " + g + " - " + n;}return " " + g;};b.getFunctionName=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HR="PlatformConfigDefaultsSymbol";},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.QM=b.PM=b.SM=b.w0a=b.iW=void 0;c=a(4);f=a(108);l=a(44);b.iW=function(m,d,h,g){var k,n;k=m.XQb;n=m.YQb;m=m.ZQb;return k > d || k === d && n > h || k === d && n === h && (void 0 === g || m >= g);};b.w0a=function(m,d){return m.Op >= d;};b.SM=function(){return {version:"6.0033.278.911",I8:!0,LM:!0,Yka:"browser",STa:["en-US"],Eqa:"",zU:"cadmium",Zxa:!0,e3:!0,iY:!1};};b.PM=function(){return {kC:[l.ye.DE,l.ye.EE],ev:[l.N.LJ,l.N.CE,l.N.IQ,l.N.JQ,l.N.lK,l.N.mK],um:f.Hb.bMa,bA:c.Kc(31E3)};};b.QM=function(m){return {$_:m.Do};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ABa=b.Zn=void 0;r=b.Zn || (b.Zn={});r[r.OD=0]="playready";r[r.Uaa=1]="widevine";r[r.LG=2]="fairplay";r[r.R8b=3]="clearkey";b.ABa="DrmTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rR="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.k1=b.pp=void 0;b.pp=function(){};b.k1="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RKa="SystemRandomSymbol";b.$0="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JR="PlayerErrorFactorySymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Nm=void 0;c=a(2).__importDefault(a(6));f=a(114);r=(function(){function l(m){this.H=new c.default.Console("ASEJS","media|asejs","(" + m + ")");this.xga=[];}l.prototype.jq=function(m){this.xga[m] || (this.xga[m]=f.vq(c.default,this.H,"[" + m + "]"));return this.xga[m];};return l;})();b.Nm=new r(0);},function(r,b,a){function c(f,l){this.rL=f;this.ak=Math.floor((f + l - 1) / l);this.Gd=l;this.reset();}a(5);c.prototype.shift=function(){this.Nd.shift();this.Sv.shift();};c.prototype.Mw=function(f){return this.yRa(this.Nd[f],f);};c.prototype.update=function(f,l){this.Nd[f]=(this.Nd[f] || 0) + l;};c.prototype.push=function(){this.Nd.push(0);this.Sv.push(0);this.tb+=this.Gd;};c.prototype.add=function(f,l,m){var d,h,g;if(null === this.tb){d=Math.max(Math.floor((m - l + this.Gd - 1) / this.Gd),1);for(this.tb=l;this.Nd.length < d;){this.push();}}for(;this.tb <= m;){this.push();this.Nd.length > this.ak && this.shift();}if(null === this.fo || l < this.fo)this.fo=l;if(l > this.tb - this.Gd)this.update(this.Nd.length - 1,f);else if(l == m)(d=this.Nd.length - Math.max(Math.ceil((this.tb - m) / this.Gd),1),0 <= d && this.update(d,f));else for(d=1;d <= this.Nd.length;++d){h=this.tb - d * this.Gd;g=h + this.Gd;if(!(h > m)){if(g < l)break;this.update(this.Nd.length - d,Math.round(f * (Math.min(g,m) - Math.max(h,l)) / (m - l)));}}for(;this.Nd.length > this.ak;){this.shift();}};c.prototype.start=function(f){null === this.fo && (this.fo=f);null === this.tb && (this.tb=f);};c.prototype.stop=function(f){var l,m;if(null !== this.tb)if(f - this.tb > 10 * this.rL)this.reset();else {for(;this.tb <= f;){this.push();this.Nd.length > this.ak && this.shift();}l=this.Nd.length - Math.ceil((this.tb - this.fo) / this.Gd);m=this.Nd.length - Math.ceil((this.tb - f) / this.Gd);if(0 <= m)if((0 > l && (this.fo=this.tb - this.Gd * this.Nd.length,l=0),l === m))this.Sv[l]+=f - this.fo;else if(m > l)for((this.Sv[l]+=(this.tb - this.fo) % this.Gd,this.Sv[m]+=this.Gd - (this.tb - f) % this.Gd,f=l + 1);f < m;++f){this.Sv[f]=this.Gd;}this.fo=null;}};c.prototype.yRa=function(f,l){l=this.Kma(l);return 0 === l?null:8 * f / l;};c.prototype.Kma=function(f){var l;l=this.Sv[f];null !== this.fo && (f=this.tb - (this.Nd.length - f - 1) * this.Gd,f > this.fo && (l=f - this.fo <= this.Gd?l + (f - this.fo):this.Gd));return l;};c.prototype.get=function(f,l){var m,d;m=this.Nd.map(this.yRa,this);if("last" === f)for(f=0;f < m.length;++f){null === m[f] && (m[f]=0 < f?m[f - 1]:0);}else if("average" === f){l=1 - Math.pow(.5,1 / ((l || 2E3) / this.Gd));for(f=0;f < m.length;++f){null === m[f]?m[f]=Math.floor(d || 0):d=void 0 !== d?l * m[f] + (1 - l) * d:m[f];}}return m;};c.prototype.reset=function(){this.dga || (this.Nd=[],this.Sv=[],this.fo=this.tb=null);};c.prototype.setInterval=function(f){this.ak=Math.floor((f + this.Gd - 1) / this.Gd);};r.exports=c;},function(r,b,a){var l,m,d,h,g,k,n,q,p,v;function c(t){var u;if(!t.nha){u=t.cZa();t.ko.$F(u.default.Ga,t.Rj);t.ko.lJ(u.gu?u.gu.x9:void 0,u.gu?u.gu.sampleSize:void 0);l.Bb(t.Qc) || (t.nha=!0);}}function f(t,u,w){var x;this.I=w;this.Gp={};this.JK=w.JK;this.VMa=new h(this.JK);this.wS=new k(!0);this.aS=new k(!1);this.Znb=w.q9;this.smb=w.ZIb;this.tmb=w.$Ib;w.dVa && (this.dL=new n(this.I));w.Q4 && (this.NB=new q(w.lra));this.reset();this.XNa=t;this.ko=u;this.yNa=m.So.name();this.ko.H$(this.yNa);this.rF=0;this.bS=[];m.events.on("networkchange",(function(y){this.yNa=y;this.ko.H$(y);}).bind(this));x=w.Fka;x && (x={confidence:d.Mf.MJ,Ra:{Ga:parseInt(x,10),Zi:0},yj:{dsb:0,Zi:0},fu:{dsb:0,Zi:0}},this.get=function(){return x;});v=this;}l=a(10);m=a(6).default;d=a(28).default;a(9);b=a(17).EventEmitter;h=a(357).yCa;g=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");k=a(755).bCa;n=a(757).hHa;q=a(758).gEa;p=a(143);v=void 0;f.prototype.constructor=f;f.prototype=Object.create(b.prototype);f.instance=function(){return v;};f.reset=function(){v && v.reset();};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.zf;}},confidence:{get:function(){return this.Rj;}},Ip:{get:function(){return this.rF;}},nPa:{get:function(){return this.bS;}}});f.prototype.rlb=function(){var t,u,w,x;t=this.I;u=t.Hlb.concat(t.Qlb);w=t.Rfa;x=this.VMa;return u.reduce(function(y,z){y[z]=x.create(z,w);return y;},{});};f.prototype.reset=function(){var t,u,w,x;t=this.I.Rfa;u=this.VMa;w=this.I;this.location=null;this.Gp=this.rlb();if(this.I.gVa){x=this.I.x$a;this.Gp.a_b=new p(x.numB * x.bSizeMs,x.bSizeMs);}this.wS.reset();this.aS.reset();this.oy=u.create("respconn-ewma",t);this.gy=u.create("respconn-ewma",t);this.dL && this.dL.reset();this.NB && this.NB.reset();this.Rj=d.Mf.HAVE_NOTHING;this.zpb=(function(){c(this);}).bind(this);this.U2=void 0;this.OB=this.Mc=this.Qc=this.zf=null;this.HB=this.O2=0;this.lob=!1;w.v7a && (this.rF=0,this.bS=[]);};f.prototype.hP=function(t){var u;u=this.Gp;if(t !== this.location){l.ia(this.U2) || (clearInterval(this.U2),this.U2=void 0);l.Bb(this.location) && (this.O2=0,this.zf=null);if(!l.Bb(t)){this.Rj=d.Mf.HAVE_NOTHING;for(var w in u){u[w] && u[w].reset && u[w].reset();}this.oy.reset();this.gy.reset();}l.Bb(this.zf) || (this.O2+=(l.Bb(this.Qc)?m.time.ea():this.Qc) - this.zf);this.Qc=this.zf=null;this.Mc=0;this.location=t;this.ko.hP(t);}};f.prototype.H$=function(t){this.ko.H$(t);};f.prototype.fqb=function(t){this.Gp.QoEEvaluator?g.warn("monitor (QoEEvaluator) already existed."):this.Gp.QoEEvaluator=t;};f.prototype.SUb=function(){delete this.Gp.QoEEvaluator;};f.prototype.Uv=function(t,u,w,x){var y,z;this.K0a=Math.max(this.K0a || 0,w);y=this.I;z=this.Gp;if(!0 === x.XP)(x=z["throughput-wssl"]) && x.add(t,u,w,!0);else if(l.ia(u))g.warn("addDataReceived called with undefined start time");else {this.dL && this.dL.Uv(t,u,w,x);if(x.rI)if(this.smb){if(x.rI.b2a(t,u,w,this.Znb))return;}else if(this.tmb && x.rI.s7())return;y.Plb && 10 > w - u?u=w - 10:0 === w - u && (u=w - 1);this.NB && this.NB.Uv(t,u,w);this.wS.Uv(t,u,w,x);this.aS.Uv(t,u,w,x);for(var A in z){z[A] && z[A].add && z[A].add(t,u,w);}this.Rj=Math.max(this.Rj,d.Mf.nB);l.Bb(this.zf) && (this.zf=u,this.Qc=null,this.nha=!1,this.Mc=0);l.Bb(this.Qc) || (u > this.Qc && (this.zf+=u - this.Qc),this.Qc=null,this.nha=!1);this.Mc+=t;this.Rj < d.Mf.Bx && (w - this.zf > y.bnb || this.Mc > y.anb) && (this.Rj=d.Mf.Bx);this.Rj < d.Mf.MJ && (w - this.zf > y.oob || this.Mc > y.nob) && (!this.lob || this.HB > y.$mb) && (this.Rj=d.Mf.MJ,c(this),this.U2=setInterval(this.zpb,y.Lmb));l.Bb(this.OB) || (u - this.OB > y.YNa?this.XNa.M_a(this.OB,u):w - u > y.YNa && this.XNa.M_a(u,w));this.OB=Math.max(w,this.OB);}};f.prototype.xy=function(t){this.oy.add(t);this.ko.xy(t);};f.prototype.vy=function(t){this.gy.add(t);this.ko.vy(t);};f.prototype.start=function(t){var u;l.Bb(this.OB) && !l.Bb(this.Qc) && (this.OB=t);u=this.Gp;if(this.I.vwa)for(var w in u){u[w] && u[w].start && u[w].start(t);}};f.prototype.stop=function(t){var u,w;u=this.Gp;for(w in u){u[w] && u[w].stop && u[w].stop(t);}this.Qc=l.Bb(this.Qc)?t:Math.min(this.Qc,t);this.OB=null;};f.prototype.flush=function(){var t,u;t=this.Gp;for(u in t){t[u] && t[u].flush && t[u].flush();}};f.prototype.fail=function(){this.zf=null;};f.prototype.EXa=function(){var t,u;t=this.Gp.entropy;if(t){u=t.dtb();t.reset();}return u;};f.prototype.cZa=function(){var t,u,w,x,y,z,A;t=m.time.ea();u={};w=this.Gp;x=this.I;y=x.wlb;z=x.Wob;for(A in w){w[A] && w[A].get && (u[A]=w[A].get(t),"iqr" === w[A].type && (u.gu=u[A]),"tdigest" === w[A].type && (u.Ck=u[A]),"wssl" === w[A].type && (u.XP=u[A]));}u.cdnavtp=this.wS.Yt();u.activecdnavtp=this.aS.Yt();u.default=y && u[y]?u[y]:u["throughput-ewma"];"none" !== x.uva && "none" !== z && (u.Y7a=z && u[z]?u[z]:u["throughput-sw"]);return u;};f.prototype.f6=function(){return this.dL?this.dL.f6():void 0;};f.prototype.W5=function(){return this.NB?this.NB.W5():void 0;};f.prototype.get=function(){var t,u,w,x,y,z;t=this.cZa();u=t.default;w=this.oy.get();x=this.gy.get();y=this.I;if(t.Y7a){z=t.Y7a;u=l.Ba(u.Ga) && l.Ba(z.Ga) && u.Ga > z.Ga && 0 < z.Ga?z:u;}t.confidence=this.Rj;t.Ra=u;!y.yla || !u || l.Bb(u.Ga) || isNaN(u.Ga) || !t.XP || l.Bb(t.XP.Ga) || isNaN(t.XP.Ga) || ("max" === y.Nbb?t.Ra.Ga=Math.max(t.XP.Ga,u.Ga):"sum" === y.Nbb && (t.Ra.Ga+=t.XP.Ga));t.yj=w;t.fu=x;this.I.gVa && (u=this.I.x$a,t.ecc=this.Gp.a_b.get(u.fillS,u.fillHl));u=this.O2 + !l.Bb(this.zf)?(l.Bb(this.Qc)?m.time.ea():this.Qc) - this.zf:0;t.time=u;return t;};f.prototype.jHb=function(){var t,u,w;t={};u=this.get(!0);if(u.confidence && u.Ra){t.aseavtp=Number(u.Ra.Ga).toFixed(2);t.asevartp=Number(u.Ra.Zi).toFixed(2);if(u.gu){w=u.gu.x9;!w || isNaN(w.Il) || isNaN(w.Hl) || isNaN(w.uk) || (t.aseniqr=0 < w.uk?Number((w.Il - w.Hl) / w.uk).toFixed(2):-1,t.aseiqr=Number(w.Il - w.Hl).toFixed(2),t.asemedtp=Number(w.uk).toFixed(2));t.iqrsamples=u.gu.sampleSize;}u.Ck && u.Ck.uz && (t.tdigest=u.Ck.uz());}return t;};f.prototype.OO=function(t,u){var w;w=u.requestId;1 === ++this.rF && (this.emit("active",t),this.start(t));w && this.bS.push(w);this.wS.OO(t,u);this.aS.OO(t,u);};f.prototype.qY=function(t,u,w){u=w.requestId;--this.rF;this.I.v7a && (this.rF=Math.max(this.rF,0));0 === this.rF && (this.stop(t),this.emit("inactive",t));u && (u=this.bS.indexOf(u),0 <= u && this.bS.splice(u,1));this.wS.qY(t,w);this.aS.qY(t,w);this.NB && this.NB.oJb(w.type);};r.exports=f;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.Zt && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.mq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.mq(1,2,2);}catch(d){DataView.prototype.mq=a(DataView.prototype.mq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.xz=a(DataView.prototype.xz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Zt=a(DataView.prototype.Zt,DataView.prototype.getUint32,Uint32Array);DataView.prototype.WG=a(DataView.prototype.WG,DataView.prototype.getInt8,Int8Array);DataView.prototype.UG=a(DataView.prototype.UG,DataView.prototype.getInt16,Int16Array);DataView.prototype.VG=a(DataView.prototype.VG,DataView.prototype.getInt32,Int32Array);}c.joa=function(d,h,g,k,n){return g?d.mq(h,g,k || 1,n):new Uint8Array(0);};c.hoa=function(d,h,g,k,n){return g?d.xz(h,g,k || 2,n):new Uint16Array(0);};c.ioa=function(d,h,g,k,n){return g?d.Zt(h,g,k || 4,n):new Uint32Array(0);};c.xFb=function(d,h,g,k,n){return g?d.WG(h,g,k || 1,n):new Int8Array(0);};c.vFb=function(d,h,g,k,n){return g?d.UG(h,g,k || 2,n):new Int16Array(0);};c.wFb=function(d,h,g,k,n){return g?d.VG(h,g,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(h,g,k,n){var q;k=k || d.BYTES_PER_ELEMENT;if(h + g * k > this.byteLength){q=new d(g);q.set(l.call(this,h,g - 1,k,n));q[g - 1]=m.call(this,h + (g - 1 * k),n);return q;}return l.call(this,h,g,k,n);};}c={mq:function(l,m,d,h,g){var k;k=new Uint8Array(d);h=h || 1;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getUint8(m,g);}return k;},xz:function(l,m,d,h,g){var k;k=new Uint16Array(d);h=h || 2;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getUint16(m,g);}return k;},Zt:function(l,m,d,h,g){var k;k=new Uint32Array(d);h=h || 4;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getUint32(m,g);}return k;},WG:function(l,m,d,h,g){var k;k=new Int8Array(d);h=h || 1;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getInt8(m,g);}return k;},UG:function(l,m,d,h,g){var k;k=new Int16Array(d);h=h || 2;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getInt16(m,g);}return k;},VG:function(l,m,d,h,g){var k;k=new Int32Array(d);h=h || 4;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getInt32(m,g);}return k;},aCb:b};f=!1;c.cna=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(226);r=(function(){function l(m,d,h){this.tag=m;this.view=d;this.u=h;this.startOffset=h.offset;}l.aY=function(m,d){var h,g;h=m.mb();g=m.kua();m=new (f.Wp[h] || l)(h,m.$ma(g),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.En=0;return !0;};l.prototype.ZU=function(m){var d;d=[];this.tag === m && d.push(this);if(this.Wp)for(var h=0;h < this.Wp.length;h++){d=c.__spreadArrays(d,this.Wp[h].ZU(m));}return d;};l.prototype.Al=function(m){for(m=this.ZU(m);0 < m.length;){return m[0];}};l.prototype.ZS=function(){for(this.Wp=[];this.u.offset < this.startOffset + this.length;){this.Wp.push(l.aY(this.u,this));}};return l;})();b.zE=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Ik=b.Aea=void 0;c=a(22);(function(d){d[d.absolute=0]="absolute";d[d.O6a=1]="relative";})(f=b.Aea || (b.Aea={}));m=(function(){function d(h,g){this.type=h;this.timestamp=g;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + f[this.type];};Object.defineProperties(d,{Gb:{get:function(){l || (l=new d(f.O6a,c.T.Gb));return l;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.TP=function(h){return new m(f.absolute,h);};Object.defineProperties(d,{$1b:{get:function(){return m.Gb;},enumerable:!1,configurable:!0}});d.oJ=function(h){return new m(f.O6a,h);};d.gya=new m(f.absolute,c.T.bD);return d;})();b.Ik=r;},function(r,b,a){var l,m,d,h,g,k,n;function c(q){return q && "function" === typeof q.Fh?!0:!1;}function f(q){return c(q) && (q=typeof q.hKb,"boolean" === q || "undefined" === q)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Odb=b.cCb=b.gKb=b.scb=b.AsyncIterator=void 0;l=a(2);m=a(20);h=(function(){function q(p){var v;v=this;this.pmb=p;this.GS=!1;this.rob=function(t){return v.sTb(t);};this.ZSa();}q.ZKb=function(p,v){function t(){var u;u=p.next();u.then(function(w){f(p) && p.hKb || v(w);});u.then(function(w){return !w.done && t();});}t();};Object.defineProperties(q.prototype,{Nz:{get:function(){return this.GS;},enumerable:!1,configurable:!0}});q.CXa=function(){return new g([]);};q.Zna=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(q.prototype,{tN:{get:function(){return this.Ul || !1;},enumerable:!1,configurable:!0}});q.prototype.Fh=function(){this.cancel();};q.prototype.cancel=function(){this.kOa();this.Ul=!0;return this.qfa;};q.prototype.next=function(){return this.Ul?this.qfa:Promise.race([this.qfa,this.pmb()]).then(this.rob);};q.prototype.sTb=function(p){p.done && (this.GS=!0,this.Fh());this.tN || (this.kOa(),this.ZSa());return p;};q.prototype.ZSa=function(){var p;p=this;this.qfa=new Promise(function(v){p.kOa=function(){v({done:!0});};});};return q;})();b.AsyncIterator=h;g=(function(q){function p(v){var t;t=q.call(this,function(){return t.ZFb();}) || this;t.Ay=v;t.index=0;return t;}l.__extends(p,q);p.prototype.Fh=function(){c(this.Ay) && this.Ay.Fh();q.prototype.Fh.call(this);};p.prototype.ZFb=function(){return this.Ay.length > this.index?Promise.resolve({value:this.Ay[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(h);b.scb=g;b.gKb=c;b.cCb=f;k=(function(q){function p(v,t,u){var w;w=q.call(this,function(){return w.Xra();}) || this;w.console=t;w.rl=u;w.Sta=!1;Array.isArray(v)?w.QS=new g(v):w.QS=v;return w;}l.__extends(p,q);p.prototype.uTb=function(v){var t;this.Sta=!1;t=this.console;m.ga && t && t.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.TK)return (c(v) && v.Fh(),h.Zna());Array.isArray(v)?this.rl=new g(v):this.rl=v;return this.Xra();};p.prototype.tTb=function(v){var t;t=this.console;m.ga && t && t.trace("CompoundIterator: processNextInnerResult",this.TK,v.done);if(!v.done || this.TK)return v;this.rl=void 0;return this.Xra();};p.prototype.Fh=function(){var v;v=this.console;m.ga && v && v.trace("CompoundIterator: dispose");this.TK=!0;q.prototype.Fh.call(this);c(this.QS) && this.QS.Fh();c(this.rl) && this.rl.Fh();};p.prototype.toString=function(){return "CompoundIterator " + this.TK + " " + this.QS + " " + this.rl;};p.prototype.Xra=function(){var v,t;v=this;t=this.console;m.ga && t && t.trace("CompoundIterator: nextImpl");if(this.rl)return (m.ga && t && t.trace("CompoundIterator: getNextInner"),this.rl.next().then(function(u){return v.tTb(u);}));this.Sta=!0;m.ga && t && t.trace("CompoundIterator: getNextOuter");return this.QS.next().then(function(u){return v.uTb(u);});};return p;})(h);b.Odb=k;b.map=function(q,p,v){return new n(q,p,v);};n=(function(q){function p(v,t,u){var w;w=q.call(this,function(){return w.cmb();}) || this;w.source=v;w.Zqa=t;w.ivb=u;return w;}l.__extends(p,q);p.prototype.Fh=function(){c(this.source) && this.source.Fh();q.prototype.Fh.call(this);};p.prototype.cmb=function(){var v,t,u;v=this.ivb;t=this.Zqa;u=this.source;m.ga && v && v.trace("MappedIterator: Requesting next");return u.next().then(function(w){return w.done?w:t(w.value);});};return p;})(h);b.flatten=function(q,p,v){return new k(q,p,v);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.Zt && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.mq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.mq(1,2,2);}catch(d){DataView.prototype.mq=a(DataView.prototype.mq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.xz=a(DataView.prototype.xz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Zt=a(DataView.prototype.Zt,DataView.prototype.getUint32,Uint32Array);DataView.prototype.WG=a(DataView.prototype.WG,DataView.prototype.getInt8,Int8Array);DataView.prototype.UG=a(DataView.prototype.UG,DataView.prototype.getInt16,Int16Array);DataView.prototype.VG=a(DataView.prototype.VG,DataView.prototype.getInt32,Int32Array);}c.joa=function(d,h,g,k,n){return g?d.mq(h,g,k || 1,n):new Uint8Array(0);};c.hoa=function(d,h,g,k,n){return g?d.xz(h,g,k || 2,n):new Uint16Array(0);};c.ioa=function(d,h,g,k,n){return g?d.Zt(h,g,k || 4,n):new Uint32Array(0);};c.xFb=function(d,h,g,k,n){return g?d.WG(h,g,k || 1,n):new Int8Array(0);};c.vFb=function(d,h,g,k,n){return g?d.UG(h,g,k || 2,n):new Int16Array(0);};c.wFb=function(d,h,g,k,n){return g?d.VG(h,g,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(h,g,k,n){var q;k=k || d.BYTES_PER_ELEMENT;if(h + g * k > this.byteLength){q=new d(g);q.set(l.call(this,h,g - 1,k,n));q[g - 1]=m.call(this,h + (g - 1 * k),n);return q;}return l.call(this,h,g,k,n);};}c={mq:function(l,m,d,h,g){var k;k=new Uint8Array(d);h=h || 1;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getUint8(m,g);}return k;},xz:function(l,m,d,h,g){var k;k=new Uint16Array(d);h=h || 2;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getUint16(m,g);}return k;},Zt:function(l,m,d,h,g){var k;k=new Uint32Array(d);h=h || 4;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getUint32(m,g);}return k;},WG:function(l,m,d,h,g){var k;k=new Int8Array(d);h=h || 1;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getInt8(m,g);}return k;},UG:function(l,m,d,h,g){var k;k=new Int16Array(d);h=h || 2;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getInt16(m,g);}return k;},VG:function(l,m,d,h,g){var k;k=new Int32Array(d);h=h || 4;for(var n=0;n < d;(++n,m+=h)){k[n]=l.getInt32(m,g);}return k;},aCb:b};f=!1;c.cna=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(265);r=(function(){function l(m,d,h){this.tag=m;this.view=d;this.u=h;this.startOffset=h.offset;}l.aY=function(m,d){var h,g;h=m.mb();g=m.kua();m=new (f.Wp[h] || l)(h,m.$ma(g),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.En=0;return !0;};l.prototype.ZU=function(m){var d;d=[];this.tag === m && d.push(this);if(this.Wp)for(var h=0;h < this.Wp.length;h++){d=c.__spreadArrays(d,this.Wp[h].ZU(m));}return d;};l.prototype.Al=function(m){for(m=this.ZU(m);0 < m.length;){return m[0];}};l.prototype.ZS=function(){for(this.Wp=[];this.u.offset < this.startOffset + this.length;){this.Wp.push(l.aY(this.u,this));}};return l;})();b.zE=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UHa="PboPlaydataServicesSymbol";b.FR="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.DJ=b.Peb=void 0;c=a(26);b.Peb=function(){this.kC=[];this.ev=[];this.nia=c.kv.ov;this.Maa=c.fj.ov;};b.DJ="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RR="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vR="MslProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qR="ManifestFactorySymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.QMb=b.W4a=b.nRb=b.oXa=b.uRb=b.rE=b.Waa=b.Ls=b.ZP=b.YP=b.Ek=void 0;c=a(24);f=a(21);b.Ek="$attributes";b.YP="$children";b.ZP="$name";b.Ls="$text";b.Waa="$parent";b.rE="$sibling";b.uRb=/^\s*<\?xml.*\?>/i;b.oXa=function(l,m,d){for(var h=2;h < arguments.length;++h){;}for(h=1;(m=arguments[h++]) && (l=l[m]);){;}return l;};b.nRb=function(l,m){var d;l?d=c.Ge(l[b.Ls]):void 0 !== m && (d=m);f.rU(d);return d;};b.W4a=function(l,m){var d;l?d=l[b.Ls]:void 0 !== m && (d=m);f.GTa(d);return d;};b.QMb=function(l,m){var d;d={};d[b.Ek]=l;d[b.Ls]=m;return d;};},function(r){function b(m,d){return m.some(function(h){return h.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(f).reduce(l,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function f(m){return m.duration;}function l(m,d){return m + d;}r.exports={Yub:function(m,d,h){for(var g=0;g < m.length;g++){if(m[g] !== d[g])return (h.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},oka:function(m,d,h){var g;g={};g.displayTime=m.displayTime;g.duration=m.duration;g.originX=m.OQb;g.originY=m.PQb;g.sizeX=m.nYb;g.sizeY=m.oYb;g.imageData=d;g.id=m.hH;g.rootContainerExtentX=h.QVb;g.rootContainerExtentY=h.RVb;return g;},ena:function(m,d){return "o_" + m + "s_" + d;},C1b:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},Uc:function(m){return "undefined" !== typeof m;},wbc:b,p9b:a,uV:function(m,d){var h,g;h=Object.create({});for(g in m){h[g]=m[g];}m instanceof Error && (h.message=m.message,h.stack=m.stack);h.errorString=d;return h;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},a_a:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},mZb:function(m,d){for(var h=d.entries.length,g,k=0;k < h;k++){if((g=d.entries[k],g.displayTime <= m && g.displayTime + g.duration >= m))return !0;}return !1;},nZb:function(m,d,h){for(var g=h.entries.length,k,n,q=0;q < g;q++){k=h.entries[q];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},HSa:function(m){return m.map(function(d,h){d.duration+=a(m.slice(h + 1),d);return d;}).reduce(function(d,h){b(d,h.id) || d.push(h);return d;},[]);},Sna:function(m){return m.reduce(function(d,h){return d + h.entries.reduce(function(g,k){return k.Roa + g;},0);},0);},jAb:function(m,d){return m && m.Uw <= d && m.Dq >= d;},fFb:function(m){if(m)return m.endTime;},GFb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b,a){var f,l;function c(m){switch(m){case f.L.aR:return "http";case f.L.cR:return "connectiontimeout";case f.L.FE:return "readtimeout";case f.L.hDa:return "corruptcontent";case f.L.oB:return "abort";case f.L.dR:case f.L.yca:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Mna=b.Bna=b.yna=void 0;f=a(3);l=a(11);b.yna=c;b.Bna=function(m,d){m={errorcode:m + (d.errorCode || f.M.Sl)};d.na && (m.errorsubcode=d.na);d.nf && (m.errorextcode=d.nf);d.Hla && (m.erroredgecode=d.Hla);d.ub && (m.errordetails=d.ub);d.ik && (m.httperr=d.ik);d.L8 && (m.aseneterr=d.L8);d.zM && (m.errordata=d.zM);d.MW && (m.mediaerrormessage=d.MW);(d=c(Number(d.na))) && (m.nwerr=d);return m;};b.Mna=function(){return {screensize:l.wv.width + "x" + l.wv.height,screenavailsize:l.wv.availWidth + "x" + l.wv.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:l.vGa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eF="PlaygraphConfigSymbol";},function(r,b,a){var f,l,m;function c(d,h,g,k){h=m.Ai.call(this,d,h,k,l.ej.events,l.ej.events + "/" + g) || this;h.context=d;h.RBb=g;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Uq=void 0;r=a(1);f=a(0);l=a(68);m=a(75);a(186);na(c,m.Ai);c.prototype.ng=function(d,h){var g,k;g=this;k=this.E3(h);!1;!1;return this.send(d,h.href,k).then(function(){return h;}).catch(function(n){throw g.yn(n);});};c.prototype.fq=function(d,h,g){var k,n;k=this;n=this.E3(g);!1;!1;return this.send(d,h.xV("events").href,n).then(function(q){h.yPa(q.result.links);return g;}).catch(function(q){throw k.yn(q);});};c.prototype.E3=function(d){return {event:this.RBb,xid:d.ba,position:d.position || 0,clientTime:d.ZT,sessionStartTime:d.GY,videoTrackId:d.RP,audioTrackId:d.kn,timedTextTrackId:d.GP,mediaId:d.QN,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Usb(d.EX),sessionParams:d.Gm,mdxControllerEsn:d.ora};};c.prototype.Wia=function(d){return {downloadableId:d.yc,duration:d.duration};};c.prototype.Usb=function(d){var h;h={total:d.total,audio:d.audio.map(this.Wia),video:d.video.map(this.Wia),text:d.text.map(this.Wia)};d.total !== d.bJ && (h.totalContentTime=d.bJ);return h;};a=c;a=r.__decorate([f.R(),r.__param(0,f.ll()),r.__param(1,f.ll()),r.__param(2,f.ll()),r.__param(3,f.ll())],a);b.Uq=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z;function c(A){var B,D;B=this;this.C9=new z.cea();this.createPlaygraphPlayer=function(E,F,C){var G;E=u.ajb.encode(E);G=d.ka.get(w.qR);C=C?G.create(C):void 0;G=d.ka.get(p.fea).create(E);return G.dyb(E.Qe,B.C9.Yqa(B.LQa(F,G.N5())),C);};this.closeAllPlayers=function(E){m.Yda(void 0 === E?function(){}:E);};this.init=function(E){E=void 0 === E?function(){}:E;B.iC.IN(function(F){F.$?(l.config.A$?B.FWb().then(function(){f.iIa();}).catch(function(C){d.log.error("Unable to initialize the playdata services",C);}):Promise.resolve()).then(function(){Object.assign(B,c.AT);E(Object.assign({success:!0},c.AT));}):E({success:!1,error:d.FIa(F.errorCode || g.M.Dca,F)});});};this.applyConfig=function(E){B.Eab(E);l.Tja(E);};this.prepare=function(E,F){var C;E=B.N5a.Czb(E) || [];C=new Set();E=E.filter(function(G){var J;J=C.has(G.J);C.add(G.J);return !J;});if(l.config.Pw && B.Ed)try{B.Ed.eI(E,F);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(E){nb._cad_global.playerPredictionModel?(E=B.N5a.Ezb(E)) && nb._cad_global.playerPredictionModel.update(E):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(E){d.UM().fZ().then(function(F){return E(F.result);}).catch(function(){return E(!1);});};this.supportsUltraHd=function(E){d.UM().gZ().then(E).catch(function(){return E(!1);});};this.supportsDolbyAtmos=function(E){d.UM().dZ().then(E).catch(function(){return E(!1);});};this.supportsDolbyVision=function(E){d.UM().$$().then(function(F){return E(F.result);}).catch(function(){return E(!1);});};this.close=function(){};this.deviceThroughput=function(){var E;E=d.ka.get(n.I0).ika();return E?Promise.resolve(E.Yt()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var E;E=d.ka.get(n.I0).ika();return E?Promise.resolve(E.cGb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.rBb;};this.Eab(A);d.ka.get(y.Dya);this.N5a=d.ka.get(h.kIa);this.iC=d.ka.get(t.dh);D=d.ka.get(x.fIa).apply();l.ESa([A],D);this.Ed=d.ka.get(v.pF);d.UM().gZ();}Object.defineProperty(b,"__esModule",{value:!0});b.nK=void 0;f=a(295);l=a(14);m=a(58);d=a(8);h=a(502);g=a(3);k=a(37);n=a(282);q=a(153);p=a(301);v=a(119);t=a(31);u=a(67);w=a(157);x=a(313);y=a(480);z=a(545);c.prototype.LQa=function(A,B){var D,E,F,C;A=void 0 === A?{}:A;C=null !== (E=null === (D=A.playbackState) || void 0 === D?void 0:D.currentTime) && void 0 !== E?E:B.xc;return Object.assign(Object.assign({startPts:C,uiPlayStartTime:Date.now()},A),{endPts:null !== (F=B.Nc) && void 0 !== F?F:void 0,isPlaygraph:!0});};c.prototype.Eab=function(A){d.ka.get(k.fR).XNb(A);};c.prototype.FWb=function(){return d.ka.get(q.FR)().catch(function(A){d.log.error("Unable to initialize the playdata services",A);throw A;}).then(function(A){return A.send(Infinity);}).catch(function(A){d.log.error("Unable to send deferred playdata",A);});};b.nK=c;c.AT={};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kB="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Jna=function(){return this.buffer.length - this.position;};a.prototype.BA=function(){return this.buffer[this.position++];};a.prototype.Lh=function(c){var f;f=this.position;this.position+=c;return this.RKb(this.buffer)?this.buffer.subarray(f,this.position):this.buffer.slice(f,this.position);};a.prototype.RKb=function(c){return void 0 !== c.subarray;};a.prototype.Eq=function(c){for(var f=0;c--;){f=256 * f + this.buffer[this.position++];}return f;};a.prototype.iua=function(c){for(var f="";c--;){f+=String.fromCharCode(this.buffer[this.position++]);}return f;};a.prototype.th=function(){return this.Eq(2);};a.prototype.Fq=function(){return this.Eq(4);};a.prototype.EO=function(){return this.Eq(8);};a.prototype.Vw=function(c){for(var f,l="";c--;){f=this.BA();l+=("0123456789ABCDEF")[f >>> 4] + ("0123456789ABCDEF")[f & 15];}return l;};a.prototype.lua=function(c){for(var f=0,l=0;l < c;l++){f+=this.BA() << (l << 3);}return f;};a.prototype.DO=function(){return this.lua(4);};a.prototype.d_=function(c){this.WP(c,2);};a.prototype.fB=function(c){this.WP(c,4);};a.prototype.Vaa=function(c){this.buffer[this.position++]=c;};a.prototype.WP=function(c,f){this.position+=f;for(var l=1;l <= f;l++){this.buffer[this.position - l]=c & 255;c=Math.floor(c / 256);}};a.prototype.eB=function(c){for(var f=0;f < c.length;f++){this.buffer[this.position++]=c.charCodeAt(f);}};a.prototype.c_=function(c){for(var f=c.length,l=0;l < f;l++){this.buffer[this.position++]=c[l];}};a.prototype.VP=function(c,f){this.c_(c.Lh(f));};a.prototype.Mbb=function(c){c=new a(c);for(var f,l;;){if((f=c.Jna(),l=f >>> 14))(l=Math.min(4,l),this.Vaa(192 | l),this.VP(c,16384 * l));else {128 > f?this.Vaa(f):this.WP(f | 32768,2);this.VP(c,f);break;}}};a.prototype.r6a=function(){var l;for(var c=[],f=new a(c);;){l=this.BA();if(l & 128){if(128 == (l & 192))(l&=63,l=(l << 8) + this.BA(),f.VP(this,l));else if((l&=63,0 < l && 4 >= l)){f.VP(this,16384 * l);continue;}else throw Error("bad asn1");}else f.VP(this,l);break;}return new Uint8Array(c);};return a;})();b.yQ=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C_="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GJa="ReportSyncSymbol";b.EJa="ReportApiErrorSyncSymbol";b.CCa="FtlProbeConfigSymbol";b.ECa="FtlProbeSymbol";},function(r,b){function a(c){var f;f={profile:c.spoofedProfile || c.profile,Dma:c.max_framerate_value,Cma:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,QRb:c.pixelAspectX,RRb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (f.Qac=c.profile);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.iYa=b.hYa=void 0;b.hYa=function(c,f,l){var m;m=[{},{}];(0 === l?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,h){c[d].some(function(g,k){return k === f[h]?(m[h]=a(g),!0):!1;});});return m;};b.iYa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sx=void 0;c=a(219);f=a(5);r=(function(){function l(m){this.config=m;this.reset();}l.instance=function(){f.assert(void 0 !== l.RK);return l.RK;};l.nvb=function(m){l.RK=new l(m);};l.prototype.push=function(m){this.Ck && this.Ck.push(m);};l.prototype.wb=function(){if(this.Ck)return (this.Ck.Ry(),this.Ck.uj([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};l.prototype.reset=function(){this.config.fVa && this.config.Kca && (this.Ck=new c.y7b(this.config.Kca.c,this.config.Kca.maxc));};return l;})();b.sx=r;},function(r){(function(){var R8;R8=2;function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.VB=this.Mc=0;this.tb=this.zf=void 0;a00=5;break;}}}for(;R8 !== 8;){switch(R8){case 2:var E2J="1SI";E2J+="Yb";E2J+="ZrNJCp9";b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.zf?a < this.zf?(this.VB+=this.zf - a,this.zf=a):a > this.tb && (this.tb=this.zf=a):this.tb=this.zf=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.tb && a > this.tb && (this.VB+=a - this.tb,this.tb=a);c00=1;break;}}};b.prototype.add=function(a,c,f){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 2:this.start(c);this.stop(f);this.Mc+=a;d00=4;break;}}};b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Ga:this.VB?Math.floor(8 * this.Mc / this.VB):null,CC:this.VB?this.VB:0};break;}}};r.exports=b;E2J;R8=8;break;}}})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.oja=this.u.Wc();this.lva=this.u.Wc();this.u.offset+=4;this.samplerate=this.u.Wc();this.u.offset+=2;f.ga && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.oja + ", samplesize: " + this.lva + ", samplerate: " + this.samplerate);return d;};m.Na=!1;return m;})(a(225).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.jv=void 0;a(5);r=(function(){function c(f,l){c.xb(this,f,l);}c.xb=function(f,l,m){f.gd=l;f.Mc=m.fa;f.Me=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{fa:{get:function(){return this.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.gd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{J:{get:function(){return this.gd.J;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.gd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Oa:{get:function(){return this.gd.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.gd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.gd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.gd.S;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{XN:{get:function(){return this.gd.XN;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{qa:{get:function(){return this.gd.qa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.J,streamId:this.Oa,offset:this.offset,bytes:this.fa};};return c;})();b.jv=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Nea=b.Vm=void 0;c=a(148);(function(l){l[l.pending=0]="pending";l[l.p$=1]="running";l[l.complete=2]="complete";l[l.lM=3]="destroyed";})(f=b.Vm || (b.Vm={}));r=(function(){function l(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.Yc=f.pending;}Object.defineProperties(l.prototype,{state:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{XJb:{get:function(){return this.Yc === f.pending || this.Yc === f.p$;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xf:{get:function(){return this.Rv;},enumerable:!1,configurable:!0}});l.prototype.zrb=function(m){var d;null === (d=this.Rv) || void 0 === d?void 0:d.Hua(this);this.Rv=m;};l.prototype.Yw=function(){this.Yc=f.p$;this.ng();this.T8() === c.Ik.gya && (this.Yc=f.complete);};l.prototype.Mb=function(){var m;this.Yc=f.lM;null === (m=this.Rv) || void 0 === m?void 0:m.Hua(this);};return l;})();b.Nea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(834);c=a(387);a=a(836);b.default={STARTING:a.a8a,BUFFERING:r.x$,REBUFFERING:r.x$,PLAYING:c.Zw,PAUSED:c.Zw};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bN=b.xJ=void 0;c=a(846);f=a(847);l=a(245);Object.defineProperties(b,{xJ:{enumerable:!0,get:function(){return l.xJ;}}});b.bN=function(m,d){switch(m.$qa){case "manifold":return new c.HFa(m,d);default:return new f.tKa(m,d);}};},function(r,b,a){var c,f,l;c=a(129);f=a(59);l=a(177);r.exports=function(m){return function n(h,g,k){switch(arguments.length){case 0:return n;case 1:return l(h)?n:f(function(q,p){return m(h,q,p);});case 2:return l(h) && l(g)?n:l(h)?f(function(q,p){return m(q,g,p);}):l(g)?f(function(q,p){return m(h,q,p);}):c(function(q){return m(h,g,q);});default:return l(h) && l(g) && l(k)?n:l(h) && l(g)?f(function(q,p){return m(q,p,k);}):l(h) && l(k)?f(function(q,p){return m(q,g,p);}):l(g) && l(k)?f(function(q,p){return m(h,q,p);}):l(h)?c(function(q){return m(q,g,k);}):l(g)?c(function(q){return m(h,q,k);}):l(k)?c(function(q){return m(h,g,q);}):m(h,g,k);}};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.oja=this.u.Wc();this.lva=this.u.Wc();this.u.offset+=4;this.samplerate=this.u.Wc();this.u.offset+=2;f.ga && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.oja + ", samplesize: " + this.lva + ", samplerate: " + this.samplerate);return d;};m.Na=!1;return m;})(a(264).default);b.default=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kR="LogblobBuilderFactorySymbol";b.Vca="LogblobBuilderCommonSymbol";},function(r,b,a){var f,l,m,d,h;function c(g,k,n,q){var p;p=m.sQ.call(this,g,k,f.Oj.PLa,q) || this;p.config=g;p.qj=k;p.is=n;p.j8=q;p.type=f.fj.ov;p.XZ=d.Fd.uTa();return p;}Object.defineProperty(b,"__esModule",{value:!0});b.Yn=void 0;f=a(26);l=a(44);m=a(442);r=a(110);d=a(109);h=a(434);new r.CB();na(c,m.sQ);c.prototype.cx=function(){return Promise.resolve(!1);};c.prototype.Vt=function(){return Promise.resolve("");};c.prototype.Q5=function(){return Promise.resolve("");};c.prototype.fZ=function(){return this.config().vla?this.j8.vpa()?this.j8.kz(l.N.NJ).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.$$=function(){return this.config().vla?this.j8.vpa()?this.j8.kz(l.N.xQ).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.gZ=function(){return Promise.resolve(!1);};c.prototype.dZ=function(){return Promise.resolve(!1);};c.prototype.OM=function(g){return this.XZ[g];};c.prototype.Eha=function(){};c.prototype.S1a=function(g){switch(g){case f.Lj.KE:return "1.4";case f.Lj.sv:return "2.2";}};c.prototype.Tp=function(){return h.bca.Tp();};c.prototype.GYa=function(g){return g || this.config().ev;};c.prototype.$M=function(){return Promise.resolve(void 0);};c.prototype.g6=function(){return Promise.resolve(void 0);};c.prototype.jU=function(g){var k;k=[];this.is.Fg(g) && k.push(this.S1a(g));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:k,isHdcpEngaged:! !k.length}];};b.Yn=c;c.LP="video/mp4;codecs={0};";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.We=void 0;b.We=a;a.WCa=/^hevc-main/;a.OCa=/^hevc-hdr-|hevc-dv/;a.Cx=/^hevc-hdr-/;a.Ps=/^hevc-dv/;a.HQ=/-h264mpl/;a.LJ=/-h264mpl30/;a.CE=/-h264mpl31/;a.gB=/-h264hpl/;a.Vx=/^vp9-/;a.Gj=/^av1-/;a.kK=/-L5[0-1]-/;a.g_=/^heaac-2-/;a.aDa=/^heaac-2hq-dash/;a.qF=/^xheaac-dash/;a.Rdb=/ddplus-2/;a.Sdb=/ddplus-5/;a.Tdb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mhb="NativeLocalStorageSymbol";b.wGa="NativeLocalStorageFactorySymbol";b.BDa="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ADa="IDBDatabaseFactorySymbol";b.dEa="IndexedDBFactorySymbol";b.Hca="IndexedDBStorageFactorySymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.wJa=b.c1=b.S5=void 0;c=a(47);f=a(3);b.S5=function(l){return l === c.Rb.ml.Ub?f.L.eda:f.L.fda;};b.c1=50;b.wJa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Iw,minHCInitVideoBitrate:a.Gra,maxInitVideoBitrate:a.dA,minInitAudioBitrate:a.UW,maxInitAudioBitrate:a.FW,minHCInitAudioBitrate:a.TW,minAcceptableVideoBitrate:a.t8,minRequiredBuffer:a.VW,minPrebufSize:a.rj,minCheckBufferingCompleteInterval:a.w8,rebufferingFactor:a.qua,useMaxPrebufSize:a.Txa,maxPrebufSize:a.tD,maxRebufSize:a.kra,maxBufferingTime:a.$r,minAudioMediaRequestSizeBytes:a.u8,minVideoMediaRequestSizeBytes:a.C8,initialBitrateSelectionCurve:a.V6,initSelectionLowerBound:a.v_a,initSelectionUpperBound:a.w_a,throughputPercentForAudio:a.eaa,bandwidthMargin:a.Bia,bandwidthMarginContinuous:a.Cia,bandwidthMarginCurve:a.Dia,conservBandwidthMargin:a.Wja,switchConfigBasedOnInSessionTput:a.Uwa,conservBandwidthMarginTputThreshold:a.fU,conservBandwidthMarginCurve:a.Xja,switchAlgoBasedOnHistIQR:a.j$a,switchConfigBasedOnThroughputHistory:a.hE,maxPlayerStateToSwitchConfig:a.jra,lowEndMarkingCriteria:a.Jqa,IQRThreshold:a.Fca,histIQRCalcToUse:a.Joa,maxTotalBufferLevelPerSession:a.qu,highWatermarkLevel:a.NZa,toStableThreshold:a.Q$a,toUnstableThreshold:a.kaa,skipBitrateInUpswitch:a.mwa,watermarkLevelForSkipStart:a.kya,highStreamRetentionWindow:a.Doa,lowStreamTransitionWindow:a.Kqa,highStreamRetentionWindowUp:a.Foa,lowStreamTransitionWindowUp:a.Mqa,highStreamRetentionWindowDown:a.Eoa,lowStreamTransitionWindowDown:a.Lqa,highStreamInfeasibleBitrateFactor:a.Coa,lowestBufForUpswitch:a.Xz,lockPeriodAfterDownswitch:a.S7,lowWatermarkLevel:a.Oqa,lowestWaterMarkLevel:a.Yz,lowestWaterMarkLevelBufferRelaxed:a.Pqa,mediaRate:a.ura,maxTrailingBufferLen:a.f8,audioBufferTargetAvailableSize:a.CT,videoBufferTargetAvailableSize:a.RZ,maxVideoTrailingBufferSize:a.x2a,maxAudioTrailingBufferSize:a.e2a,fastUpswitchFactor:a.j5,fastDownswitchFactor:a.Vla,maxMediaBufferAllowed:a.eA,simulatePartialBlocks:a.kwa,simulateBufferFull:a.h9a,considerConnectTime:a.Yja,connectTimeMultiplier:a.Vja,lowGradeModeEnterThreshold:a.z1a,lowGradeModeExitThreshold:a.A1a,maxDomainFailureWaitDuration:a.h2a,maxAttemptsOnFailure:a.d2a,exhaustAllLocationsForFailure:a.DVa,maxNetworkErrorsDuringBuffering:a.n2a,maxBufferingTimeAllowedWithNetworkError:a.Z7,fastDomainSelectionBwThreshold:a.LVa,throughputProbingEnterThreshold:a.v$a,throughputProbingExitThreshold:a.w$a,locationProbingTimeout:a.m1a,finalLocationSelectionBwThreshold:a.TVa,throughputHighConfidenceLevel:a.t$a,throughputLowConfidenceLevel:a.u$a,locationStatisticsUpdateInterval:a.wqa,enablePerfBasedLocationSwitch:a.eVa,probeServerWhenError:a.Iu,probeRequestTimeoutMilliseconds:a.Nta,allowSwitchback:a.yy,probeDetailDenominator:a.iI,maxDelayToReportFailure:a.a8,countGapInBuffer:a.VSa,bufferThresholdForAbort:a.kRa,allowCallToStreamSelector:a.TPa,pipelineScheduleTimeoutMs:a.jta,maxPartialBuffersAtBufferingStart:a.fA,minPendingBufferLen:a.Hra,maxPendingBufferLen:a.sD,maxPendingBufferLenSABCell100:a.d8,maxActiveRequestsSABCell100:a.X7,maxStreamingSkew:a.mra,maxPendingBufferPercentage:a.hra,maxRequestsInBuffer:a.PN,headerRequestSize:a.D6,estimateHeaderSize:a.Lla,minBufferLenForHeaderDownloading:a.RW,reserveForSkipbackBufferMs:a.TO,numExtraFragmentsAllowed:a.msa,pipelineEnabled:a.yq,maxParallelConnections:a.NN,socketReceiveBufferSize:a.q9a,audioSocketReceiveBufferSize:a.q3,videoSocketReceiveBufferSize:a.QP,headersSocketReceiveBufferSize:a.Aoa,updatePtsIntervalMs:a.Caa,bufferTraceDenominator:a.Oia,bufferLevelNotifyIntervalMs:a.IL,aseReportDenominator:a.CL,aseReportIntervalMs:a.l3,enableAbortTesting:a.VAb,abortRequestFrequency:a.Npb,streamingStatusIntervalMs:a.Lwa,prebufferTimeLimit:a.tA,minBufferLevelForTrackSwitch:a.v8,penaltyFactorForLongConnectTime:a.ata,longConnectTimeThreshold:a.Hqa,additionalBufferingLongConnectTime:a.Nha,additionalBufferingPerFailure:a.Oha,rebufferCheckDuration:a.dY,enableLookaheadHints:a.bVa,lookaheadFragments:a.w1a,enableOCSideChannel:a.hz,OCSCBufferQuantizationConfig:a.K0,updateDrmRequestOnNetworkFailure:a.Bab,deferAseScheduling:a.VTa,maxDiffAudioVideoEndPtsMs:a.g2a,defaultHeaderCacheSize:a.w4,defaultHeaderCacheDataPrefetchMs:a.v4,neverWipeHeaderCache:a.NH,networkFailureResetWaitMs:a.Vra,networkFailureAbandonMs:a.Ura,maxThrottledNetworkFailures:a.e8,throttledNetworkFailureThresholdMs:a.daa,lowThroughputThreshold:a.Nqa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Pla,mp4ParsingInNative:a.h3a,sourceBufferInOrderAppend:a.s9a,requireAudioStreamToEncompassVideo:a.TD,allowAudioToStreamPastVideo:a.SPa,enableManagerDebugTraces:a.ei,managerDebugMessageInterval:a.O1a,managerDebugMessageCount:a.N1a,bufferThresholdToSwitchToSingleConnMs:a.Nia,bufferThresholdToSwitchToParallelConnMs:a.Mia,netIntrStoreWindow:a.POb,minNetIntrDuration:a.nOb,fastHistoricBandwidthExpirationTime:a.mCb,bandwidthExpirationTime:a.gsb,failureExpirationTime:a.jCb,historyTimeOfDayGranularity:a.zIb,expandDownloadTime:a.XBb,minimumMeasurementTime:a.yOb,minimumMeasurementBytes:a.xOb,throughputMeasurementTimeout:a.YZb,initThroughputMeasureDataSize:a.xJb,throughputMeasureWindow:a.XZb,throughputIQRMeasureWindow:a.WZb,IQRBucketizerWindow:a.Mgb,connectTimeHalflife:a.ovb,responseTimeHalflife:a.IVb,historicBandwidthUpdateInterval:a.yIb,throughputWarmupTime:a.b_b,minimumBufferToStopProbing:a.wOb,throughputPredictor:a.ZZb,ase_stream_selector:a.orb,enableFilters:a.ZAb,filterDefinitionOverrides:a.DCb,defaultFilter:a.dzb,secondaryFilter:a.mWb,defaultFilterDefinitions:a.ezb,initBitrateSelectorAlgorithm:a.dpa,bufferingSelectorAlgorithm:a.Tia,ase_ls_failure_simulation:a.ITa,ase_dump_fragments:a.Cka,ase_location_history:a.Eka,ase_throughput:a.Fka,ase_simulate_verbose:a.KTa,secondThroughputEstimator:a.uva,secondThroughputMeasureWindowInMs:a.X7a,marginPredictor:a.$qa,networkMeasurementGranularity:a.Wra,HistoricalTDigestConfig:a.rDa,maxIQRSamples:a.k2a,minIQRSamples:a.W2a,periodicHistoryPersistMs:a.y9,saveVideoBitrateMs:a.q$,needMinimumNetworkConfidence:a.$W,biasTowardHistoricalThroughput:a.Gia,maxFastPlayBufferInMs:a.fra,maxFastPlayBitThreshold:a.dra,minAudioMediaRequestDuration:a.Hw,minVideoMediaRequestDuration:a.jA,minAudioMediaRequestDurationCache:a.Hw,minVideoMediaRequestDurationCache:a.jA,addHeaderDataToNetworkMonitor:a.Gha,hindsightDenominator:a.Ioa,hindsightDebugDenominator:a.Hoa,hindsightParam:a.H6,minimumTimeBeforeBranchDecision:a.yD,enableSessionHistoryReport:a.SU,earlyStageEstimatePeriod:a.qla,lateStageEstimatePeriod:a.W0a,maxNumSessionHistoryStored:a.c8,minSessionHistoryDuration:a.B8,appendMediaRequestOnComplete:a.iQa,waitForDrmToAppendMedia:a.Saa,forceAppendHeadersAfterDrm:a.s5,startMonitorOnLoadStart:a.vwa,reportFailedRequestsToNetworkMonitor:a.Oua,reappendRequestsOnSkip:a.$Tb,maxActiveRequestsPerSession:a.Cw,limitAudioDiscountByMaxAudioBitrate:a.rqa,appendFirstHeaderOnComplete:a.Xha,maxAudioFragmentOverlapMs:0,editVideoFragments:a.LAb,declareBufferingCompleteAtSegmentEnd:a.Gka,applyProfileTimestampOffset:a.cG,applyProfileStreamingOffset:a.cm,requireDownloadDataAtBuffering:a.g$,requireSetupConnectionDuringBuffering:a.h$,recordFirstFragmentOnSubBranchCreate:a.tua,earlyAppendSingleChildBranch:a.N4,selectStartingVMAFMethod:a.ZO,activateSelectStartingVMAF:a.sT,minStartingVideoVMAF:a.tu,minAcceptableVMAF:a.QW,minAllowedVmaf:a.GH,alwaysNotifyEOSForPlaygraph:a.arb,enableNewAse:a.RU,useNewApi:a.Faa,enableCombinedPlaygraphs:a.sla,enableDiscontiguousBuffering:a.P4,forceImmediateTransitionTypeForTitles:a.xma,forceImmediateTransitionExitZone:a.wma,useBufferSizeLimiter:a.Qxa,enableHudsonFieldTest:a.cBb,hudsonTitles:a.OIb,maxPartialBuffersAtHudson:a.rNb,numberOfChunksPerSegment:a.EPb,targetContentLatency:a.KZb,targetLongContentLatency:a.LZb,minimumTimeDelay:a.zOb,enableWsslEstimate:a.yla,maxAllowedOutstandingRequests:a.Y7,alwaysRunUnderflowTimer:a.xL,minStreamableConcurrencyWindow:a.Ira,streamableConcurrencyFactor:a.Hwa,bufferingConcurrencyWindow:a.TT,singleStreamablePerBranch:a.mYb,enableResolutionVMAFStreamFilter:a.S4,resolutionVMAFCappingRuleList:a.l$,percentCapTitlesForResolutionVMAFStreamFilter:a.cta,useExitZones:a.Rxa,perFragmentVMAFConfig:a.rA,enableInitialTputLogging:a.Q4,maxResponsesInitialTput:a.lra};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yba=void 0;(b.Yba || (b.Yba={})).Sib="PboDebugEvent";b.YAa={uhb:"Manifest",Event:"Event",h5b:"Logblob"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iR="LicenseProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KJ=void 0;b.KJ=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cca=b.qBa=void 0;b.qBa=function(){this.Ub=0;this.Lb=1;this.Bfb=2;this.ng=function(){};};b.cca="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pc=void 0;b.pc=a;a.Ke={IGa:"mr1",HGa:"mr2",JGa:"mr3",zR:"mr4",Vhb:"mr5",ZE:"mr6"};a.Pc={UNSENT:0,OPENED:1,Rx:2,Qx:3,DONE:5,JJ:6,dQ:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.Z_={NO_ERROR:-1,veb:0,OAa:1,Heb:2,zeb:3,ydb:4,Rza:5,Pza:6,zdb:7,Adb:8,Bdb:9,vdb:10,xdb:11,Qza:12,wdb:13,udb:14,Ifb:15,fDa:16,eDa:17,vca:18,xca:19,wca:20,iDa:21,Kfb:22,q0:23,gDa:24,Jfb:25,Ceb:26,web:27,Cjb:28,meb:29,neb:30,oeb:31,peb:32,qeb:33,reb:34,seb:35,teb:36,ueb:37,xeb:38,yeb:39,Aeb:40,Beb:41,Deb:42,Eeb:43,Feb:44,Geb:45,Ieb:46,Jeb:47,Bjb:48,TIMEOUT:49,bDa:50,cDa:51,Hfb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.jc={vY:{$bb:!0,QR:!1,Hhb:!0}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.S0="PboPublisherSymbol";},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.gk=void 0;c=a(12);f=a(14);r=a(3);l=a(21);m=a(8);d=a(473);h=a(11);g=a(31);k=a(34);n=m.ka.get(g.dh);n.register(r.M.Eca,function(q){var p,v,t,u;p=m.ka.get(k.Gk);l.kb(f.config);l.kb(h.uB && h.uB.getDeviceId || h.D0 || p.LM);v=m.ka.get(d.hBa);t=m.Mi("Device");n.Cd("devs");u=m.ka.get(k.wB);v.create({deviceId:f.config.deviceId,LM:p.LM,eUa:"deviceid",Tk:f.config.Tk,Do:u.$_,zU:p.zU,userAgent:h.vB,zqa:f.config.zqa,bna:f.config.bna,Lzb:u.Qba || !1,Wrb:f.config.MQa.e,wac:f.config.kw?"mslstoretest":"mslstore",mJ:f.config.mJ}).then(function(w){b.gk=w;nb._cad_global.device=b.gk;t.info("Esn source: " + b.gk.Z4);n.Cd("devdone");q(c.Xe);}).catch(function(w){w.$=void 0;q(w);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}r.exports=b;},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.HE=void 0;c=/^\S+$/;a.prototype.BG=function(f){return void 0 !== f;};a.prototype.Fg=function(f){return null !== f && void 0 !== f;};a.prototype.yL=function(f){return a.YPa(f);};a.prototype.uha=function(f){return !(!f || !a.YPa(f));};a.prototype.zy=function(f){return Array.isArray(f);};a.prototype.ZPa=function(f){return !(!f || f.constructor != Uint8Array);};a.prototype.Fi=function(f,l,m){return a.jPa(f,l,m);};a.prototype.tha=function(f){return a.tha(f);};a.prototype.Vha=function(f,l,m){return a.f3(f,l,m) && 0 === f % 1;};a.prototype.wT=function(f,l,m){return a.f3(f,l || 0,m);};a.prototype.oT=function(f){return a.f3(f,1);};a.prototype.Lpb=function(f){return a.f3(f,0,255);};a.prototype.Mpb=function(f){return f === +f && (0 === f || f !== (f | 0)) && !0;};a.prototype.$Pa=function(f){return !(!f || !c.test(f));};a.prototype.Hp=function(f){return a.kPa(f);};a.prototype.gn=function(f){return !(!a.kPa(f) || !f);};a.prototype.nT=function(f){return !0 === f || !1 === f;};a.prototype.W2=function(f){return "function" == typeof f;};a.kPa=function(f){return "string" == typeof f;};a.jPa=function(f,l,m){return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === l || f >= l) && (void 0 === m || f <= m);};a.tha=function(f){return "number" == typeof f && isNaN(f);};a.f3=function(f,l,m){return a.jPa(f,l,m) && 0 === f % 1;};a.YPa=function(f){return "object" == typeof f;};b.HE=new a();},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.$b=void 0;r=a(0);c=a(94);f=a(581);l=a(201);m=a(597);d=a(604);h=a(615);a=a(1244);b.$b=new r.F_({JI:!0});h.f1a(b.$b);b.$b.load(f.platform);b.$b.load(m.config);l.rM.load(d.QUa);b.$b.load(a.eQa);b.$b.load(a.profile);b.$b.bind(c.hEa).Yi(b.$b);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(197);r=(function(){function f(l){this.Bc=l;}f.prototype.Jw=function(l){this.Bc.Jw=l;return new c.Eba(this.Bc);};return f;})();b.y_=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(196);a(311);r=(function(){function f(l){this.Bc=l;}f.prototype.when=function(l){this.Bc.rG=l;return new c.y_(this.Bc);};f.prototype.$Z=function(){this.Bc.rG=function(l){return null !== l.target && !l.target.Bpa() && !l.target.Opa();};return new c.y_(this.Bc);};return f;})();b.Eba=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qx=void 0;b.qx=a;a.Rib="PSK";a.dhb="MGK";a.oEa="JWEJS_RSA";a.w0="JWK_RSA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tda="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jea="StringUtilsSymbol";},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.rM=b.eme=void 0;r=a(0);c=a(121);f=a(314);l=a(202);m=a(203);d=a(592);h=a(593);g=a(70);k=a(138);n=a(594);q=a(166);p=a(595);b.eme=new r.pd(function(v){v(f.uBa).to(l.tBa).aa();v(m.Kba).to(d.Zza).aa();v(c.W_).wZ(h.e6a);v(g.Us).kE(function(t){b.rM.parent=t.$a;return b.rM.get(g.Us);});v(k.rR).uf(function(){return function(){return new n.XFa();};});v(q.C_).to(p.aAa).aa;});b.rM=new r.F_({JI:!0});},function(r,b,a){function c(){}function f(l){l?(this.active=!1,this.Gma(l)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=b.V_=void 0;r=a(1);a=a(0);f.prototype.Gma=function(l){this.ve=l.keySessionData?l.keySessionData.map(function(m){return {id:m.id,xH:m.licenseContextId,xW:m.licenseId};}):[];this.ba=l.xid;this.J=l.movieId;};f.prototype.dx=function(){return JSON.parse(JSON.stringify({keySessionData:this.ve?this.ve.map(function(l){return {id:l.id,licenseContextId:l.xH,licenseId:l.xW};}):[],xid:this.ba,movieId:this.J}));};b.V_=f;c.prototype.create=function(){return new f();};c.prototype.load=function(l){return new f(l);};a=r.__decorate([a.R()],c);b.tBa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kba="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hx='video/mp4; codecs="avc1.640028"';b.VJ='audio/mp4; codecs="mp4a.40.5"';b.Xeb="DrmTraitsSymbol";},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u,w,x,y,z){this.ZW=t;this.is=u;this.Rc=w;this.$d=x;this.Yp=y;this.Rh=z;m.Po(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.yv=void 0;r=a(1);l=a(0);m=a(56);d=a(3);h=a(39);g=a(27);k=a(95);n=a(29);q=a(36);p=a(69);a=a(78);c.prototype.rz=function(){if(this.rb)return this.rb.sessionId;};c.prototype.nVb=function(t,u){return this.ZW.requestMediaKeySystemAccess(t,u);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,u){this.rb=t.createSession(u);};c.prototype.i4=function(){return Promise.reject(new k.Mg(d.M.Y_));};c.prototype.IKb=function(){return ! !this.rb;};c.prototype.setServerCertificate=function(t,u){return this.is.W2(t.setServerCertificate)?t.setServerCertificate(u):Promise.resolve();};c.prototype.generateRequest=function(t,u){return this.rb?this.rb.generateRequest(t,u[0]):Promise.reject(new k.Mg(d.M.Y_,d.L.HJ,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.rb?this.rb.update(t[0]):Promise.reject(new k.Mg(d.M.OBa,d.L.HJ,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.rb?this.rb.load(t):Promise.reject(new k.Mg(d.M.efb,d.L.HJ,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Jja=void 0;if(!this.rb)return Promise.reject(new k.Mg(d.M.GBa,d.L.HJ,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.rz() && (t=this.rb.close());this.rb=void 0;return t;};c.prototype.remove=function(){return this.rb?this.rb.remove():Promise.reject(new k.Mg(d.M.ffb,d.L.HJ,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.nI=function(){return Promise.reject(new k.Mg(d.M.fca,void 0,"Unable to renew a key session, not supported"));};c.prototype.APa=function(t){if(!this.rb)throw ReferenceError("Unable to add message handler, key session is not valid");this.rb.addEventListener(f.SBa,t);};c.prototype.vPa=function(t){if(!this.rb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.rb.addEventListener(f.RBa,t);};c.prototype.tPa=function(t){if(!this.rb)throw ReferenceError("Unable to add error handler, key session is not valid");this.rb.addEventListener(f.QBa,t);};c.prototype.aqb=function(t){var u;u=this;if(!this.rb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Jja=t;this.rb.closed.then(function(){var w;return null === (w=u.Jja) || void 0 === w?void 0:w.call(u);});};c.prototype.V6a=function(t){if(!this.rb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.rb.removeEventListener(f.SBa,t);};c.prototype.T6a=function(t){if(!this.rb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.rb.removeEventListener(f.RBa,t);};c.prototype.R6a=function(t){if(!this.rb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.rb.removeEventListener(f.QBa,t);};v=f=c;v.SBa="message";v.RBa="keystatuseschange";v.QBa="error";v=f=r.__decorate([l.R(),r.__param(0,l.l(h.$J)),r.__param(1,l.l(g.ag)),r.__param(2,l.l(q.zi)),r.__param(3,l.l(n.bg)),r.__param(4,l.l(p.qv)),r.__param(5,l.l(a.zv))],v);b.yv=v;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rpa=b.pv=void 0;(function(a){a.Vab="usable";a.Nt="expired";a.released="released";a.v4a="output-restricted";a.aRb="output-downscaled";a.KYb="status-pending";a.LJb="internal-error";})(b.pv || (b.pv={}));b.rpa=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m1="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xm="_ANY_";b.gCa="EnricherSymbol";},function(r,b,a){var f,l,m;function c(d,h,g,k){this.za=d;this.F3=h;this.Rn=g;this.yo=void 0 === k?"General":k;this.Mja={};}Object.defineProperty(b,"__esModule",{value:!0});b.TJ=void 0;f=a(7);l=a(338);m=a(644);c.prototype.qPa=function(d,h){this.Mja[d]=h;};c.prototype.fatal=function(d,h){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.fC(f.Mj.ofb,d,this.OP(d,g));};c.prototype.error=function(d,h){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.fC(f.Mj.Lf,d,this.OP(d,g));};c.prototype.warn=function(d,h){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.fC(f.Mj.Yea,d,this.OP(d,g));};c.prototype.info=function(d,h){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.fC(f.Mj.Cca,d,this.OP(d,g));};c.prototype.trace=function(d,h){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.fC(f.Mj.VKa,d,this.OP(d,g));};c.prototype.debug=function(d,h){for(var g=1;g < arguments.length;++g){;}!1;};c.prototype.log=function(d,h){for(var g=[],k=1;k < arguments.length;++k){g[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ea(g)));};c.prototype.write=function(d,h,g){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.fC(d,h,this.OP(h,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.yo};};c.prototype.kka=function(d){return new c(this.za,this.F3,this.Rn,d);};c.prototype.fC=function(d,h,g){d=new l.Tca(d,this.yo,this.za.Wb(),h,g);h=ba(this.Rn.Rn);for(g=h.next();!g.done;g=h.next()){g=g.value;g(d);}};c.prototype.BEb=function(d){return 0 < Object.keys(this.Mja).length?[this.Mja].concat(ea(d)):d;};c.prototype.OP=function(d,h){var g;d && "null" !== d && "undefined" !== d || h.push({StackTrace:null !== (g=Error("Empty message").stack) && void 0 !== g?g:"nostack"});return m.rRa(this.F3,this.BEb(h));};b.TJ=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bea="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nda="PboPlaydataFactorySymbol";},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.XYb=b.y6a=b.oua=void 0;b.oua=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.y6a=a;b.XYb=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.Yg) + " sp:" + c.JA + " pssp:") + (c.PX + " state:") + (c.Bf + " path-complete:" + c.qA + " streaming:") + (c.Cs + " current:" + c.Er);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.I2a=b.p8=b.yf=void 0;b.yf=[0,1];b.p8=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.I2a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wda=void 0;r=(function(){function a(c,f,l,m){var d;d=this;this.properties=c;this.transform=f;this.WT=l;this.state=m;this.Gsa=function(){var h,g;h=d.state;g=d.properties.map(function(k){return k.value;});d.state=d.transform(g);(d.S_a(d.state) && d.S_a(h)?d.state.equal(h):h === d.state) || d.WT(d.state);};c.forEach(function(h){return h.addListener(d.Gsa);});this.Gsa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(f){return f.removeListener(c.Gsa);});};a.prototype.S_a=function(c){return void 0 !== c.equal;};return a;})();b.wda=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ij=void 0;r=b.Ij || (b.Ij={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.dj=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mF=void 0;r=(function(){function a(c){this.HOa=c;}Object.defineProperties(a.prototype,{tN:{get:function(){return this.xmb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.HOa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dva:{get:function(){var c;c=this;return this.HOa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.xmb=!0;};a.prototype.Bsa=function(c,f){var l;l=this;this.result.then(function(m){l.tN?f && f(m):c(m);});return this;};return a;})();b.mF=r;},function(r,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(f,l){f[l]=a(c[l]);return f;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f){f && (this.LY(f.Qe),this.bwa(f.Zd),this.L8a(f.Aa));}c.prototype.LY=function(f){this.Qe=f;return this;};c.prototype.bwa=function(f){this.Zd=f;return this;};c.prototype.F8a=function(f){this.Ad=f;return this;};c.prototype.vo=function(f,l){this.Aa || (this.Aa={});this.Aa[f]=a(l);return this;};c.prototype.L8a=function(f){var l;l=this;this.Aa={};Object.keys(f).forEach(function(m){return l.vo(m,f[m]);});};c.prototype.Ii=function(){var f;if(!this.Aa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Qe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Aa[this.Qe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={Qe:this.Qe,Aa:this.Aa};this.Zd && (f.Zd=this.Zd);this.Ad && (f.Ad=this.Ad);return f;};return c;})();b.dF=r;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BJ=void 0;r=a(2);c=a(169);f=r.__importDefault(a(220));l=r.__importDefault(a(754));m=r.__importDefault(a(144));d=a(5);b.BJ=(function(){function g(k,n){var q;q=this;this.Kh=new f.default(k,n);this.Fn=new l.default(k);this.Ob=new m.default(this.Fn,this.Kh,k);c.sx.nvb(k);k.y9 && setInterval(function(){q.Kh.save();q.Fn.save();},k.y9);}g.vYa=function(k,n){void 0 === h?(g.config=k,g.jE=n,h=new g(k,n)):(d.assert(g.config === k),d.assert(g.jE === n));return h;};g.reset=function(){g.config=void 0;h=g.jE=void 0;};return g;})();},function(r,b,a){var d;function c(h,g,k){this.mM=!1 === h;this.iM=h || .01;this.Lca=void 0 === g?25:g;this.Xza=void 0 === k?1.1:k;this.Ki=new d(f);this.reset();}function f(h,g){return h.pg > g.pg?1:h.pg < g.pg?-1:0;}function l(h,g){return h.Ew - g.Ew;}function m(h){this.config=h || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?h.iM:!1);this.Nzb=this.config.ratio || .9;this.Ozb=this.config.Ybc || 1E3;this.J8=0;}d=a(736).ijb;c.prototype.reset=function(){this.Ki.clear();this.oqa=this.n=0;};c.prototype.size=function(){return this.Ki.size;};c.prototype.fp=function(h){var g;g=[];h?(this.L1(!0),this.Ki.lf(function(k){g.push(k);})):this.Ki.lf(function(k){g.push({pg:k.pg,n:k.n});});return g;};c.prototype.summary=function(){return [(this.mM?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.uj(0),"Q1  = " + this.uj(.25),"Q2  = " + this.uj(.5),"Q3  = " + this.uj(.75),"max = " + this.uj(1)].join("\n");};c.prototype.push=function(h,g){g=g || 1;h=Array.isArray(h)?h:[h];for(var k=0;k < h.length;k++){this.MMa(h[k],g);}};c.prototype.aua=function(h){h=Array.isArray(h)?h:[h];for(var g=0;g < h.length;g++){this.MMa(h[g].pg,h[g].n);}};c.prototype.L1=function(h){var g;if(!(this.n === this.oqa || !h && this.Xza && this.Xza > this.n / this.oqa)){g=0;this.Ki.lf(function(k){k.Ew=g + k.n / 2;g=k.aM=g + k.n;});this.n=this.oqa=g;}};c.prototype.TCb=function(h){var g,k;if(0 === this.size())return null;g=this.Ki.lowerBound({pg:h});k=null === g.data()?g.hI():g.data();return k.pg === h || this.mM?k:(g=g.hI()) && Math.abs(g.pg - h) < Math.abs(k.pg - h)?g:k;};c.prototype.bL=function(h,g,k){this.Ki.pq({pg:h,n:g,aM:k});this.n+=g;};c.prototype.w1=function(h,g,k){g !== h.pg && (h.pg+=k * (g - h.pg) / (h.n + k));h.aM+=k;h.Ew+=k / 2;h.n+=k;this.n+=k;};c.prototype.MMa=function(h,g){var k,n,q;k=this.Ki.min();n=this.Ki.max();q=this.TCb(h);q && q.pg === h?this.w1(q,h,g):q === k?this.bL(h,g,0):q === n?this.bL(h,g,this.n):this.mM?this.bL(h,g,q.aM):(k=q.Ew / this.n,Math.floor(4 * this.n * this.iM * k * (1 - k)) - q.n >= g?this.w1(q,h,g):this.bL(h,g,q.aM));this.L1(!1);!this.mM && this.Lca && this.size() > this.Lca / this.iM && this.Ry();};c.prototype.Fsb=function(h){var g,k;this.Ki.Zm=l;g=this.Ki.upperBound({Ew:h});this.Ki.Zm=f;k=g.hI();h=k && k.Ew === h?k:g.next();return [k,h];};c.prototype.uj=function(h){var g;g=(Array.isArray(h)?h:[h]).map(this.fob,this);return Array.isArray(h)?g:g[0];};c.prototype.fob=function(h){var g,k;if(0 !== this.size()){this.L1(!0);this.Ki.min();this.Ki.max();h*=this.n;g=this.Fsb(h);k=g[0];g=g[1];return g === k || null === k || null === g?(k || g).pg:this.mM?h <= k.aM?k.pg:g.pg:k.pg + (h - k.Ew) * (g.pg - k.pg) / (g.Ew - k.Ew);}};c.prototype.Ry=function(){var h;if(!this.ASa){h=this.fp();this.reset();for(this.ASa=!0;0 < h.length;){this.aua(h.splice(Math.floor(Math.random() * h.length),1)[0]);}this.L1(!0);this.ASa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(h){c.prototype.push.call(this,h);this.nub();};m.prototype.bL=function(h,g,k){this.J8+=1;c.prototype.bL.call(this,h,g,k);};m.prototype.w1=function(h,g,k){1 === h.n && --this.J8;c.prototype.w1.call(this,h,g,k);};m.prototype.nub=function(){!("auto" !== this.mode || this.size() < this.Ozb) && this.J8 / this.size() > this.Nzb && (this.mode="cont",this.mM=!1,this.iM=this.config.iM || .01,this.Ry());};r.exports={TDigest:c,Digest:m};},function(r,b,a){var d,h,g,k,n,q;function c(p){var v;v=p.Rfa;this.I=p;this.Rj=h.Mf.HAVE_NOTHING;this.JK=p.JK;p=new n(this.JK);this.iT=p.create("throughput-location-history",v);this.oy=p.create("respconn-location-history",v);this.gy=p.create("respconn-location-history",v);this.M2=p.create("throughput-tdigest-history",v);this.d2=p.create("throughput-iqr-history",v);this.tb=null;}function f(p,v,t,u,w){this.LB=new c(w);this.ot=[];this.Ymb=g.time.ea() - Date.now() % 864E5;this.dy=null;this.I=w;for(p=0;p < u;++p){this.ot.push(new c(w));}}function l(p,v,t){return d.has(p,v)?p[v]:p[v]=t;}function m(p,v){var t;this.I=p;this.XOa=v;this.OBb();this.AS=new c(this.I);this.KS();t=p.Eka;t && (t={confidence:h.Mf.MJ,Ra:{Ga:parseInt(t,10),Zi:0},yj:{Ga:0,Zi:0},fu:{Ga:0,Zi:0}},this.get=function(){return t;});}d=a(10);h=a(28).default;b=a(9);g=a(6).default;k=b.HCa;n=a(357).yCa;new g.Console("ASEJS_LOCATION_HISTORY","media|asejs");q={confidence:h.Mf.HAVE_NOTHING};c.prototype.$F=function(p,v){this.Rj=v;this.iT.add(p);this.M2.add(p);this.tb=g.time.ea();};c.prototype.lJ=function(p,v){this.d2.set(p,v);};c.prototype.xy=function(p){this.oy.add(p);};c.prototype.vy=function(p){this.gy.add(p);};c.prototype.getState=function(){var p,v,t,u,w,x;p=this.iT.getState();v=this.oy.getState();t=this.gy.getState();u=this.d2.getState();w=this.M2.getState();if(d.Bb(p) && d.Bb(v) && d.Bb(t))return null;x={c:this.Rj,t:g.time.Ora(this.tb)};d.Bb(p) || (x.tp=p);d.Bb(v) || (x.rt=v);d.Bb(t) || (x.hrt=t);d.Bb(u) || (x.iqr=u);d.Bb(w) || (x.td=w);return x;};c.prototype.Ue=function(p){var v;v=g.time.now();if(!(p && d.has(p,"c") && d.has(p,"t") && d.has(p,"tp") && d.isFinite(p.c) && d.isFinite(p.t)) || 0 > p.c || p.c > h.Mf.MJ || p.t > v || !this.iT.Ue(p.tp))return (this.Rj=h.Mf.HAVE_NOTHING,this.dy=this.tb=null,this.iT.Ue(null),this.oy.Ue(null),this.gy.Ue(null),!1);this.Rj=p.c;this.tb=g.time.lsa(p.t);this.oy.Ue(d.has(p,"rt")?p.rt:null);this.gy.Ue(d.has(p,"hrt")?p.hrt:null);d.has(p,"iqr") && this.d2.Ue(p.iqr);d.has(p,"td") && this.M2.Ue(p.td);return !0;};c.prototype.get=function(){var p,v,t,u,w,x;p=this.I;if(d.Bb(this.tb))return q;v=(g.time.ea() - this.tb) / 1E3;v > p.rmb?this.Rj=h.Mf.HAVE_NOTHING:v > p.Tlb && (this.Rj=Math.min(this.Rj,h.Mf.nB));p=this.iT.get();t=this.oy.get();u=this.gy.get();w=this.d2.get();x=this.M2.get();v={bm:v,confidence:this.Rj,Ra:p,yj:t,fu:u,gu:w,Ck:x};p && (v.$bc=k.prototype.Ata.bind(p));t && (v.nbc=k.prototype.Ata.bind(t));u && (v.k$b=k.prototype.Ata.bind(u));return v;};c.prototype.time=function(){return this.tb;};f.prototype.Le=function(){return ((g.time.ea() - this.Ymb) / 1E3 / 3600 / (24 / this.ot.length) | 0) % this.ot.length;};f.prototype.getState=function(){var p;p={g:this.LB.getState(),h:this.ot.map(function(v){return v.getState();})};d.Bb(this.dy) || (p.f=g.time.Ora(this.dy));return p;};f.prototype.Ue=function(p){var v,t;if(!this.LB.Ue(p.g))return !1;v=this.ot.length;t=!1;this.ot.forEach(function(u,w){t=!u.Ue(p.h[w * p.h.length / v | 0]) || t;});this.dy=d.has(p,"f")?g.time.lsa(p.f):null;return t;};f.prototype.$F=function(p,v){this.LB.$F(p,v);this.ot[this.Le()].$F(p,v);this.dy=null;};f.prototype.lJ=function(p,v){this.LB.lJ(p,v);this.ot[this.Le()].lJ(p,v);};f.prototype.xy=function(p){this.LB.xy(p);this.ot[this.Le()].xy(p);};f.prototype.vy=function(p){this.LB.vy(p);this.ot[this.Le()].vy(p);};f.prototype.fail=function(p){this.dy=p;};f.prototype.get=function(){var p,v;if(!d.Bb(this.dy)){if((g.time.ea() - this.dy) / 1E3 < this.I.Slb)return {confidence:h.Mf.HAVE_NOTHING,Ot:!0};this.dy=null;}p=this.ot[this.Le()].get();v=this.LB.get();p=p.confidence >= v.confidence?p:v;p.Ot=!1;return p;};f.prototype.time=function(){return this.LB.time();};m.prototype.gNa=function(p,v){var t;t=this.I;p=l(this.ES,p,{});return l(p,v,new f(t.uNa || 14400,t.tNa || 100,t.sNa || 100,t.lOa || 4,t));};m.prototype.KS=function(){var p,v;p=g.storage.get("lh");v=g.storage.get("gh");p && this.bha(p);v && this.bpb(v);};m.prototype.Zfa=function(){var p;p={};d.lf(this.ES,function(v,t){d.lf(v,function(u,w){l(p,t,{})[w]=u.getState();},this);},this);return p;};m.prototype.bpb=function(p){this.AS.Ue(p);};m.prototype.bha=function(p){var v,t;v=null;t=this.I;d.lf(p,function(u,w){d.lf(u,function(x,y){var z;z=new f(t.uNa || 14400,t.tNa || 100,t.sNa || 100,t.lOa || 4,t);z.Ue(x)?(l(this.ES,w,{})[y]=z,v=!0):d.Bb(v) && (v=!1);},this);},this);return d.Bb(v)?!0:v;};m.prototype.save=function(){var p;p=this.Zfa();g.storage.set("lh",p);g.storage.set("gh",this.AS.getState());this.XOa && this.XOa.Rva(this.AS.getState());};m.prototype.OBb=function(){this.ES={};this.GK=this.IMa="";this.ko=null;};m.prototype.hP=function(p){this.IMa=p;this.ko=null;};m.prototype.H$=function(p){this.GK=p;this.ko=null;};m.prototype.Y1=function(){d.Bb(this.ko) && (this.ko=this.gNa(this.IMa,this.GK));return this.ko;};m.prototype.$F=function(p,v){this.Y1().$F(p,v);this.AS.$F(p,v);};m.prototype.lJ=function(p,v){p && p.Hl && p.uk && p.Il && (this.Y1().lJ(p,v),this.AS.lJ(p,v));};m.prototype.xy=function(p){this.Y1().xy(p);};m.prototype.vy=function(p){this.Y1().vy(p);};m.prototype.fail=function(p,v){this.gNa(p,this.GK).fail(v);};m.prototype.get=function(p,v){var t,u,w,x;p=(p=this.ES[p])?p[this.GK]:null;t=null;if(p && (t=p.get(),t.confidence > h.Mf.HAVE_NOTHING))return t;if(!1 === v)return q;u=t=null;w=!1;x=null;d.lf(this.ES,function(y){d.lf(y,function(z,A){var B;if(!w || A == this.GK){B=z.get();B && (!u || u <= B.confidence) && (!x || u < B.confidence || x < z.time()) && (u=B.confidence,w=A == this.GK,x=z.time(),t=B);}},this);},this);return t?t:q;};r.exports=m;},function(r,b,a){var m;function c(d){this.qL=d;this.reset();}function f(d){this.ak=new c(d);this.Me=0;this.Qc=null;}function l(d,h){this.qL=d;this.QNa=h;this.reset();}m=a(10);c.prototype.tOa=function(d,h){this.tb+=d;this.Sj+=d;this.Mc+=h;this.po.push({d:d,b:h});};c.prototype.XS=function(){var d;for(;this.Sj > this.qL;){d=this.po.shift();this.Mc-=d.b;this.Sj-=d.d;}};c.prototype.reset=function(){this.po=[];this.tb=null;this.Sj=this.Mc=0;};c.prototype.setInterval=function(d){this.qL=d;this.XS();};c.prototype.start=function(d){m.Bb(this.tb) && (this.tb=d);};c.prototype.add=function(d,h,g){m.Bb(this.tb) && (this.tb=h);h > this.tb && this.tOa(h - this.tb,0);this.tOa(g > this.tb?g - this.tb:0,d);this.XS();};c.prototype.get=function(){return {Ga:Math.floor(8 * this.Mc / this.Sj),Zi:0};};f.prototype.reset=function(){this.ak.reset();this.Me=0;this.Qc=null;};f.prototype.add=function(d,h,g){!m.Bb(this.Qc) && g > this.Qc && (h > this.Qc && (this.Me+=h - this.Qc),this.Qc=null);this.ak.add(d,h - this.Me,g - this.Me);};f.prototype.start=function(d){!m.Bb(this.Qc) && d > this.Qc && (this.Me+=d - this.Qc,this.Qc=null);this.ak.start(d - this.Me);};f.prototype.stop=function(d){this.Qc=m.Bb(this.Qc)?d:Math.min(d,this.Qc);};f.prototype.get=function(){return this.ak.get();};f.prototype.setInterval=function(d){this.ak.setInterval(d);};l.prototype.reset=function(){this.po=[];this.Mc=this.Sj=0;};l.prototype.add=function(d,h,g,k){void 0 !== k && !0 === k && (h=g - h,this.Sj+=h,this.Mc+=d,this.po.push({d:h,b:d}),this.XS());};l.prototype.XS=function(){var d;for(;this.Sj > this.qL || this.po.length > this.QNa;){d=this.po.shift();this.Mc-=d.b;this.Sj-=d.d;}};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.get=function(){return {Ga:Math.floor(8 * this.Mc / this.Sj),Zi:0};};l.prototype.setInterval=function(d,h){this.qL=d;this.QNa=h;this.XS();};r.exports={w3b:c,Reb:f,mkb:l};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.wba=void 0;c=a(2);f=a(17);l=a(766);r=a(83);m=a(767);d=a(793);h=a(796);g=a(235);k=a(16);n=c.__importDefault(a(6));q=a(5);a(9);p=a(25);a(168);v=(function(){return function(t){var u;u=t.k0a;t=t.upa;this.JW=this.replace=u;this.Ug=t;};})();a=(function(t){function u(w,x){var y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U;y=x.Nb;z=x.oa;A=x.Vo;B=x.Ad;D=x.A2a;E=x.di;F=x.config;C=x.IZa;G=x.RO;J=x.C5;K=x.Ob;I=x.Kh;M=x.gX;R=x.wVa;x=x.KI;H=t.call(this) || this;H.Z=w;H.E6=!1;H.wNa=[];H.ONa=[];H.Wh=[];H.zC=[];H.bn=!1;H.Nb=y;H.NS=z;H.Vo=A;H.dc=function(da){return 0 <= B.indexOf(da);};H.config=F;H.console=new n.default.Console("ASEJS","media|asejs","<" + String(H.Z) + ">");C && (w=C.OC,H.Sf=new h.mDa(H,H.console,H.config,C.In,C.GV,w,C.i7,C.Ff,C.Ml,C.oh,C.XC),H.OC=w);H.du=new f.EventEmitter();H.C5=J;H.Ob=K;H.gX=M;H.vm=new g.Rca(H.oa,K,I,H.config,null === R || void 0 === R?void 0:R.In);R && (C=R.Pr,J=R.Cn,H.Dp=R.Mh,H.Cn=J,H.Pr=C,H.Lfa=new d.hCa(H.vm,H.config,H.IHb.bind(H),H.HHb.bind(H)));H.RO=G;H.KI=x;H.rf=new v(D);H.di=E;Q=[[],[]];N=[{},{}];L=[0,0];P=!1;S=H.dc(0);U=H.dc(1);["audio_tracks","video_tracks"].forEach(function(da,ka){var ma;ma=0 === ka;ma && !S || 1 === ka && !U || H.oa[da].forEach(function(X,ua){if(0 !== X.type || !1 !== X.ji)(X=new m.vba({P:H,aA:X,mediaType:ka,Ug:D.upa,lE:ua,gC:ua + (ma?H.oa.video_tracks.length:0)},H.config,H.console),Q[ka].push(X),N[ka]=c.__assign(c.__assign({},N[ka]),X.QC()),X.maxBitrate > L[X.mediaType] && (L[X.mediaType]=X.maxBitrate),P=P || X.eH);});});H.tK=Q;H.Fwa=N;H.vga=L;H.eH=P;return H;}c.__extends(u,t);Object.defineProperties(u.prototype,{oa:{get:function(){return this.NS;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{IW:{get:function(){var w;return !(null === (w=this.tK[1][0]) || void 0 === w || !w.IW);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Dw:{get:function(){return this.vga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qh:{get:function(){return this.wNa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mNb:{get:function(){return this.ONa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{J:{get:function(){return this.oa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zo:{get:function(){return this.oa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{duration:{get:function(){return this.oa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jk:{get:function(){return this.bn;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{$p:{get:function(){q.assert(this.Lfa,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Lfa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AM:{get:function(){return this.$p.events;},enumerable:!1,configurable:!0}});u.prototype.Mb=function(){this.close();this.cd();};u.prototype.close=function(){var w;this.zC=[];null === (w=this.Lfa) || void 0 === w?void 0:w.Mb();this.vm.Mb();this.bn=!0;};u.prototype.cd=function(){this.Sf && this.Sf.cd();};u.prototype.ix=function(w){var x,y,z,A,B,D;x=this;y=w.oa;z=w.Ad;A=void 0 === z?k.yf:z;q.assert(w.di === this.di,"Updating Viewable clearplay not supported");k.yf.forEach(function(E){q.assert(x.dc(E) === 0 <= A.indexOf(E),"Updating Viewable media types not supported");});q.assert(y.movieId === this.oa.movieId,"Changing Viewable manifest movieId unsupported");B=this.dc(0);D=this.dc(1);["audio_tracks","video_tracks"].forEach(function(E,F){var C,G,J;C=0 === F;if(!(C && !B || 1 === F && !D)){G=y[E];J=x.tK[F];q.assert(J.every(function(K){var I;I=G[K.lE];return I && I.JP === K.trackId && (1 === I.type || !1 !== I.ji);}),"Existing tracks must still exist and be hydrated in updated manifest");G.forEach(function(K,I){var M,R;if(0 !== K.type || !1 !== K.ji){M=x.getTrackById(K.JP);if(M){K=K.streams;R=Object.keys(M.QC());q.assert(K.length === R.length,"Expected updated manifest track to have same number of streams");K.forEach(function(H){q.assert(-1 !== R.indexOf(H.downloadable_id),"Changing Viewable track streams unsupported");});}else (M=new m.vba({P:x,aA:K,mediaType:F,Ug:!1,lE:I,gC:I + (C?x.oa.video_tracks.length:0)},x.config,x.console),J.push(M),x.Fwa[F]=c.__assign(c.__assign({},x.Fwa[F]),M.QC()),M.maxBitrate > x.vga[M.mediaType] && (x.vga[M.mediaType]=M.maxBitrate),q.assert(x.eH || !M.eH,"Can not update clear viewable with drm track."));}});}});this.NS=y;this.vm.wL(this.oa);};u.prototype.YD=function(w){var x,y,z;x=w.ds;y=w.ba;z=w.DC;w=w.Hn;x && y?(this.M$=new l.qKa(x,{ba:String(y),DC:! !z,CNb:this.config.K0.mx,Lsb:this.config.K0.lv},w),this.$p.YD(this.M$)):w("SideChannel: pbcid/xid is missing.");};u.prototype.Mz=function(){return void 0 !== this.zo;};u.prototype.getTracks=function(w){return this.tK[w];};u.prototype.getTrackById=function(w){var x;this.tK.some(function(y){return y.some(function(z){if(z.trackId === w)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",w,"length:",this.tK.length);return x;};u.prototype.lHb=function(w,x){var y;y=this.tK[w];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",w);else return y[x];};u.prototype.tw=function(w,x){return (w=this.QC(w)) && w[x];};u.prototype.QC=function(w){return this.Fwa[w];};u.prototype.v0b=function(w,x){this.wNa[w]=x;x.stream.U && this.Gab(w,x.stream.U);};u.prototype.SKb=function(w){var x,y;if(void 0 === w.P9 || void 0 === w.Lta){x=this.vm.lA.filter(function(z){return void 0 !== z.streams[w.Oa];})[0];y=x.children.filter(function(z){return z.urls.some(function(A){return A.stream.id === w.Oa;});})[0];w.P9=x.id;w.Lta=y.id;}return {Tpa:w.location === w.P9,TKb:w.yd === w.Lta};};u.prototype.Wva=function(w,x,y){void 0 !== x && void 0 !== y && (this.e7a(w.mediaType,x),w.Wva(x,y));};u.prototype.e7a=function(w,x){var y,z;z=this.config.Wra;("location" === z || "video_location" === z && 1 === w) && this.Ob.hP(x);null === (y=this.C5) || void 0 === y?void 0:y.call(this).iQb(w,x);};u.prototype.Mh=function(w,x,y,z,A,B){q.assert(this.Dp,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Dp(w,x,y,z,A,B);};u.prototype.Lm=function(){var w,x,y;w=this;x=[];if(this.jk)return (this.console.error("updateRequestUrls, closed Viewable:",this.Z),!1);k.yf.forEach(function(z){w.dc(z) && w.N0b(z) && (z=w.C0b(z),0 < z.length && x.push.apply(x,z));});y=this.w0b();0 < y.length && x.push.apply(x,y);return this.BVb(x);};u.prototype.vn=function(w,x){var y;y=this.getTracks(1)[0];q.assert(y);if(y.rN)return y.vn(w,x);};u.prototype.N0b=function(w){var x;x=this;return this.jk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.dc(w)?this.Wh.reduce(function(y,z){return p.k3(y,z.ug.filter(function(A){return A.mediaType === w;}));},[]).map(function(y){return x.vm.LZ(x.Z,y.Yd);}).every(function(y){return y;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",w),!1);};u.prototype.w0b=function(){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.Lm();};u.prototype.C0b=function(w){var x,y,B;y=[];if(this.jk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.dc(w))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",w),y);try{for(var z=c.__values(this.Wh),A=z.next();!A.done;A=z.next()){B=A.value.Lm(w);B.length && y.push.apply(y,B);}}catch(E){var D;D={error:E};}finally{try{A && !A.done && (x=z.return) && x.call(z);}finally{if(D)throw D.error;}}return y;};u.prototype.BVb=function(w){var x,y,z;x=this;if(0 === w.length)return !0;y=0;z=[];w.forEach(function(A){var B;if(A.Zc){B=A.P;B.Nb > x.Nb && (z.push({P:B,track:A.stream.track}),++y);}});z.forEach(function(A){var B;B=A.track;A.P.QO([0 === B.mediaType?B:void 0,1 === B.mediaType?B:void 0],void 0,B.mediaType);});return y === w.length;};u.prototype.sk=function(){var w;w=this;this.vm.sk();this.$p.sk();this.M$ && (q.assert(this.OC),k.yf.forEach(function(x){x=w.OC(x);w.M$.Cva("rebuffer",x.nqa);}));};u.prototype.Asa=function(){this.$p.Asa();};u.prototype.Mxa=function(w,x){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");this.Sf.Mxa(w,x);};u.prototype.x6=function(){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables..");return this.Sf.x6();};u.prototype.Eja=function(){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");this.Sf.Eja();};u.prototype.gP=function(w){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");this.Sf.gP(w);};u.prototype.sxa=function(){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.sxa();};u.prototype.Vk=function(w,x){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.Vk(w,x);};u.prototype.dTa=function(w,x,y){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");this.Sf.vaa(w,x,y,!0);};u.prototype.X2=function(w,x,y){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.X2(w,x,! !y);};u.prototype.YWb=function(w,x){this.zC.push({stream:w,bHb:x});};u.prototype.LUb=function(){this.zC=[];};u.prototype.RUb=function(w){this.zC=this.zC.filter(function(x){return x.stream !== w;});};u.prototype.QUb=function(w){this.zC=this.zC.filter(function(x){return x !== w;});};u.prototype.eN=function(){var w;w=this;q.assert(this.Cn,"Streamables not available on old architecture prefetch viewables.");return this.Cn()?[]:this.zC.map(function(x){var y,z;y=x.stream;z=x.bHb;z=z();return {identifier:y.Z + "-" + y.mediaType + "-" + y.bitrate,mediaType:y.mediaType,Yg:z.Yg,Bf:z.Bf,qA:z.qA,Cs:z.Cs,Er:z.Er,Jta:0,Ita:Infinity,PX:1,JA:1,iWa:0,groupId:"" + w.Z,iD:!0,Ur:!1,x0a:function(){return {result:!0};},B0a:function(){if(y.mE())return (w.RUb(y),{Dn:!0,reason:"success"});w.QUb(x);return {Dn:!1,reason:"viewableTryIssueHeaderRequest"};}};});};u.prototype.mE=function(w,x){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.mE(w,x);};u.prototype.tL=function(w,x){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.tL(w,x);};u.prototype.cva=function(w){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.cva(w);};u.prototype.QO=function(w,x,y){q.assert(this.Sf,"Headers not available on old architecture prefetch viewables.");return this.Sf.QO(w,x,y);};u.prototype.KHb=function(w){var x,y,z;x=w.Oa;y=w.mediaType;this.Gab(y,w.stream.U);x=this.tw(y,x);z=this.Mz()?this.config.j2a:0;x.zab(n.default.Go()[y],z);this.du.emit("onHeaderFragments",w);};u.prototype.xua=function(w){this.Wh.push(w);};u.prototype.Cxa=function(w){w=this.Wh.indexOf(w);q.assert(-1 !== w,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Wh.splice(w,1);};u.prototype.m9=function(w){var x;null === (x=this.RO) || void 0 === x?void 0:x.wy(w);};u.prototype.oA=function(w){this.jk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",w):void 0 !== w.location && this.e7a(w.mediaType,w.location);};u.prototype.UH=function(w){this.jk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",w):this.$p.yaa({timestamp:w.qf,url:w.url});};u.prototype.tk=function(w){var x;null === (x=this.RO) || void 0 === x?void 0:x.mI(w);q.assert(this.Cn && this.gX,"Requests cannot be handled on old architecture prefetch viewables.");this.jk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",w):this.Cn() || (this.$p.yaa({timestamp:w.qf,mediaRequest:w}),this.gX(w));};u.prototype.rX=function(w,x,y){var z;y && (null === (z=this.RO) || void 0 === z?void 0:z.mI(w));};u.prototype.sX=function(w){this.jk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",w):(this.$p.ms({url:w.url},w.status,w.mh,w.sj),this.Lm() || this.Mh(w.DM || "unknown","NFErr_MC_StreamingFailure",w.mh,w.status,w.sj));};u.prototype.Gab=function(w,x){this.ONa[w]=x.gra;};u.prototype.IHb=function(w){var x,y,z;if(!this.bn){x=w.BKb;y=w.SQb;z=w.TQb;w=w.UQb;this.console.warn("Streaming failure, is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + w);x?(this.console.warn(" > Permanent failure, done"),x=this.Mh("Permanent failure","NFErr_MC_StreamingFailure",y,z,w)):(this.console.warn(" > We are buffering, calling it!"),x=this.Mh("Temporary failure while buffering","NFErr_MC_StreamingFailure",w,z,w,!0));x || (this.console.warn(" > Resetting failures"),this.$p.i$());}};u.prototype.HHb=function(){q.assert(this.Pr,"Error handling not available on old architecture prefetch viewables.");this.bn || (this.Lm(),this.Pr());};return u;})(r.hv);b.wba=a;},function(r,b,a){var C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya,O,T,ja,pa,sa,Qa,Ua,Za,ab,kb,Ya,Sa;function c(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function f(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function l(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function m(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);this.HI=Ba.config.HI;this.sd=this.sizes=void 0;}function d(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function h(){for(var Ba=new DataView(this),Ka="",Na,Wa=0;Wa < this.byteLength;Wa++){Na=Ba.getUint8(Wa);Ka+=("00" + Na.toString(16)).slice(-2);}return Ka;}function g(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function k(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function n(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function q(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function p(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function v(Ba){function Ka(Na,Wa,ib,Bb,Eb){K.call(this,Na,Wa,ib,Bb,Eb);this.bX=Ba;}Ka.Na=!1;Ka.prototype=new K();Ka.prototype.constructor=Ka;Object.defineProperties(Ka.prototype,{wQ:{get:function(){return this.bX;}}});Ka.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.bX + "'");this.u.offset=this.startOffset + 4;this.la.b_(this.wQ);this.type=this.wQ;return !0;};return Ka;}function t(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function u(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function w(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function x(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function y(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function z(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function A(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function B(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function D(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function E(Ba,Ka,Na,Wa,ib){K.call(this,Ba,Ka,Na,Wa,ib);}function F(Ba,Ka){Ba.forEach(function(Na){Ka[Na.Vb]=Na;});}C=a(145).assert;b=a(100);G=a(224).T;J=a(366);a(146);a(84);a(84);a(84);K=a(32).Ac;I=a(769).default;M=a(770).default;R=a(771).default;H=a(772).default;Q=a(773).default;N=a(774).default;L=a(775).default;P=a(776).default;S=a(777).default;a(225);a(171);U=a(367).$aa;da=a(367).eca;ka=a(778).default;ma=a(779).default;X=a(85).default;ua=a(85).iba;ya=a(85).jba;O=a(85).kba;T=a(85).lba;ja=a(780).default;pa=a(781).default;sa=a(85).zca;Qa=a(85).tca;Ua=a(85).ocb;Za=a(782).default;ab=a(783).default;kb=a(784).default;Ya=a(368).default;Sa=a(369).default;a(147);a(228);a(229);a(227);a=a(785).default;c.Na=!0;c.prototype=new K();c.prototype.constructor=c;f.Na=!0;f.prototype=new K();f.prototype.constructor=f;l.Na=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var Ba;this.wc();1 === this.version?(this.u.Sd(),this.u.Sd(),this.S=this.u.xa(),this.duration=this.u.Sd()):(this.u.xa(),this.u.xa(),this.S=this.u.xa(),this.duration=this.u.xa());Ba=this.u.Wc() & 32767;this.language=String.fromCharCode(96 + (Ba >>> 10),96 + (Ba >>> 5 & 31),96 + (Ba & 31));return !0;};m.Na=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Kga=function(){this.wc();this.u.xa();this.S=this.u.xa();0 === this.version?(this.KU=this.u.xa(),this.cV=this.u.xa()):(this.KU=this.u.Sd(),this.cV=this.u.Sd());this.u7a=this.u.Wc();this.fY=this.u.Wc();};m.prototype.zfa=function(Ba,Ka){var Na,Wa,ib;Na=this.S;Ba=Ba && Ba.S || Na;Wa=Ba / Na;Na=this.u.zA(Ka,12,!1);ib=1 === Wa?this.u.zA(Ka,12,!1):J.from(Uint32Array,{length:Ka},function(){var Bb;Bb=Math.round(this.u.xa() * Wa);this.u.offset+=8;return Bb;},this);this.mha(Ka,ib,Na,Ba);};m.prototype.mha=function(Ba,Ka,Na,Wa){if(this.HI){Wa=this.HI * Wa / 1E3;for(var ib=0,Bb=1;Bb < Ba;Bb++){Math.abs(Ka[ib] - Wa) > Math.abs(Ka[ib] + Ka[Bb] - Wa)?(Ka[ib]+=Ka[Bb],Na[ib]+=Na[Bb]):(++ib,ib !== Bb && (Ka[ib]=Ka[Bb],Na[ib]=Na[Bb]));}++ib;Ka=new Uint32Array(Ka.buffer.slice(0,4 * ib));Na=new Uint32Array(Na.buffer.slice(0,4 * ib));}this.sizes=Na;this.sd=Ka;};m.prototype.parse=function(Ba){var Ka,Na,Wa,ib;this.Kga();this.qa=Ba.qa;Ka=this.S;Na=this.qa && this.qa.S || Ka;Wa=this.fY;ib=this.startOffset + this.length + this.cV;Ka=new G(this.KU,Ka).Yf(Na).oc;this.U={S:Na,gl:Ka,offset:ib};this.zfa(this.qa,Wa);this.U.sd=this.sd;this.U.sizes=this.sizes;Ba.zs=this;return !0;};d.Na=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var Ba;this.$i=[];this.ita=[];Ba=(this.length - 11) / 2;this.u.mb();this.u.mb();this.u.mb();for(var Ka=0;Ka < Ba;Ka++){this.$i.push(this.u.mb());this.ita.push(this.u.mb());}return !0;};g.Na=!1;g.prototype=new K();g.prototype.constructor=g;g.prototype.parse=function(){this.wc();this.u.offset+=4;this.rH=this.u.offset;this.nj=this.u.jua(16);this.nj.toString=h;return !0;};k.Na=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.wc();this.mg=this.u.Wc();this.nra=this.u.zA(this.mg,void 0,!0);return !0;};n.Na=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(Ba){var Ka,Na,Wa,ib,Bb,Eb;Ka=Ba.zs;C(Ka);Ba=Ba.qa;Na=Ka.S;Ka=Ka.fY;C(Ba);C(Na);C(Ka);this.wc();C(2 > this.version);this.mg=this.u.Wc();this.Cu=new Uint16Array(Ka + 1);Wa=Ba.m6(Na);ib=Wa / Na;Bb=Ba.Yf(Wa).oc;if(0 === this.version)for((this.Su=new Uint16Array(),this.Rd=new Uint32Array(),Ba=Na=0);Ba <= Ka;++Ba){if((this.Cu[Ba]=Na,Ba < this.mg)){Eb=this.u.mb();if(0 !== Eb)for(Wa=0;Wa < Eb;(++Wa,++Na)){this.Su[Na]=Math.floor((this.u.xa() + 1) * ib) / Bb;this.Rd[Na]=this.u.xa();}}}else if(1 === this.version)for((Wa=this.u.fua(this.mg,10,!1),this.u.offset+=4,this.Rd=this.u.zA(this.mg,10,!1),this.u.offset-=8,this.Su=J.from(Uint16Array,{length:this.mg},function(){var Ib;Ib=Math.floor((this.u.xa() + 1) * ib) / Bb;this.u.offset+=6;return Ib;},this),Na=Ba=0);Ba <= Ka;++Ba){for(;Na < Wa.length && Wa[Na] < Ba;){++Na;}this.Cu[Ba]=Na;}this.bi={Cu:this.Cu,Su:this.Su,Rd:this.Rd};return !0;};q.Na=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.Na=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Pt=function(){var Ba;Ba=this.Qh("tfhd");Ba && (this.bk=Ba.MT?Ba.bk:this.parent.startOffset);return !0;};t.Na=!1;t.prototype=new K();t.prototype.constructor=t;t.prototype.parse=function(){var Ba,Cb;Ba=this.u.offset;this.wc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ka=this.u.offset,Na=this.u.mb(),Wa=this.u.mb(),ib=this.u.mb(),Bb=this.u.mb(),Eb=this.u.Wc(),Ib=[],Ob=0;Ob < Eb;++Ob){Ib=this.u.mb();}Ob=(Na & 240) >>> 4;Cb=(Na & 14) >>> 1;Na&=1;ib=16 === ib?1:0;Wa != Bb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Wa + " and matrixCoefficients " + Bb + " should be the same value!");Bb=2;switch(Wa){case 1:Bb=2;break;case 6:Bb=1;break;case 9:Bb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Wa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.la.dB(this.version,Ba);this.la.dB(Ob << 4 | Bb,Ka++);this.la.dB(Cb << 4 | ib << 1 | Na,Ka++);Eb+=2;Ib.push(0,0);this.la.mya(Eb,!1);Ka+=2;Ib.forEach(function(Kb){this.la.dB(Kb,Ka++);});}return !0;};u.Na=!1;u.prototype=new K();u.prototype.constructor=u;u.Vb="tfhd";Object.defineProperties(u.prototype,{MT:{get:function(){return this.flags & 1;}},jva:{get:function(){return this.flags & 2;}},Mka:{get:function(){return this.flags & 8;}},Pka:{get:function(){return this.flags & 16;}},Nka:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(){this.wc();this.fJ=this.u.xa();this.bk=this.MT?this.u.Sd():void 0;this.jva && this.u.xa();this.Yy=this.Mka?this.u.xa():void 0;this.$y=this.Pka?this.u.xa():void 0;this.Zy=this.Nka?this.u.xa():void 0;return !0;};w.Na=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){this.wc();this.Ey=1 === this.version?this.u.Sd():this.u.xa();return !0;};w.prototype.ta=function(Ba){var Ka;Ka=this.startOffset + 12;this.Ey+=Ba;1 === this.version?this.la.nya(this.Ey,Ka):this.la.ah(this.Ey,Ka);};x.Na=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{pU:{get:function(){return this.flags & 1;}},NG:{get:function(){return this.flags & 4;}},HA:{get:function(){return this.flags & 256;}},IA:{get:function(){return this.flags & 512;}},xY:{get:function(){return this.flags & 1024;}},xI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.wc();this.QT=this.u.offset;this.Kb=this.u.xa();this.fk=this.pU?this.u.lI():0;this.NG && this.u.xa();this.Ru=(this.HA?4:0) + (this.IA?4:0) + (this.xY?4:0) + (this.xI?4:0);this.nz=this.u.offset;C(this.pU,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Kb * this.Ru,"Expected remaining data in box to be sample information");return !0;};x.prototype.mt=function(Ba,Ka,Na){var Wa,ib,Bb;Wa=this.HA?this.u.xa():Ba.Yy;ib=this.IA?this.u.xa():Ba.$y;Ba=this.xY?this.u.xa():Ba.Zy;Bb=0 === this.version?this.xI?this.u.xa():0:this.xI?this.u.lI():0;return {iva:Bb,aWb:Ba,dTb:Na + Bb - (void 0 !== Ka?Ka:Bb),yk:ib,Tu:Wa};};x.prototype.ta=function(Ba,Ka,Na,Wa,ib,Bb,Eb){var Ib,Ob,Cb,Kb;Ib=0;Ob=0;this.la.offset=this.nz;for(Wa=0;Wa < ib;++Wa){Cb=this.mt(Ka,Kb,Ob);if(0 == Wa)Kb=Cb.iva;Ib+=Cb.yk;Ob+=Cb.Tu;}Wa=ib;ib=this.u.offset;Cb=this.mt(Ka,Kb,Ob);this.Mq=Wa;this.pwa=Ob;if(Eb){if((this.Gq=this.fk + Ib,this.Vi=0,Wa === this.Kb))return !0;}else if((this.Gq=this.fk,this.Vi=Ib,0 === Wa))return !0;if(0 === Wa || Wa === this.Kb)return !1;this.fz=!0;if(Eb){this.Vi+=Cb.yk;for(Eb=Wa + 1;Eb < this.Kb;++Eb){Cb=this.mt(Ka,Kb,Ob);this.Vi+=Cb.yk;}this.la.offset=this.QT;this.Kb=Wa;this.la.ah(this.Kb);this.la.qJ(Bb);this.NG && (this.u.offset+=4);this.He(this.length - (ib - this.startOffset),ib);}else (Ka=ib - this.nz,this.la.offset=this.QT,this.Kb-=Wa,this.la.ah(this.Kb),this.fk+=Ib,this.la.qJ(Bb,this.fk),this.NG && (this.u.offset+=4),this.He(Ka,this.la.offset));Na.He(this.Vi,Ba.bk + this.Gq);return !0;};x.prototype.Lua=function(Ba,Ka,Na,Wa,ib,Bb){var Ib;if(Wa){Wa=this.Gq;for(var Eb=this.Kb - 1;0 <= Eb && this.Kb - Eb <= ib;--Eb){this.la.offset=this.nz + Eb * this.Ru;Ib=this.mt(Ka);if(Ib.Tu != Bb.duration){this.u.console.warn("Could not replace sample of duration " + Ib.Tu + " with silence of duration " + Bb.duration);break;}if(this.IA)(this.la.offset-=this.Ru - (this.HA?4:0),this.la.ah(Bb.Bk.byteLength));else if(Bb.Bk.byteLength !== Ib.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Wa-=Ib.yk;Na.Qu(Ib.yk,Bb.Bk,Ba.bk + Wa);}}else for((Wa=this.Gq + this.Vi,Eb=0);Eb < this.Kb && Eb < ib;++Eb){this.la.offset=this.nz + (Eb + this.Mq) * this.Ru;Ib=this.mt(Ka);if(Ib.Tu != Bb.duration){this.u.console.warn("Could not replace sample of duration " + Ib.Tu + " with silence of duration " + Bb.duration);break;}if(this.IA)(this.la.offset-=this.Ru - (this.HA?4:0),this.la.ah(Bb.Bk.byteLength));else if(Bb.Bk.byteLength !== Ib.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na.Qu(Ib.yk,Bb.Bk,Ba.bk + Wa);Wa+=Ib.yk;}};y.Na=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{ln:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.wc();this.ln && this.u.Kl();this.ln && this.u.xa();this.Oka=this.u.mb();this.Kb=this.u.xa();this.u.AA(this.Kb);return !0;};y.prototype.ta=function(Ba,Ka){if(Ba && 0 === this.Oka){Ba=Ka?this.Kb - Ba:Ba;this.la.offset=this.startOffset + 13 + (this.ln?8:0);this.Kb-=Ba;this.la.ah(this.Kb);this.vI=0;if(Ka)this.la.offset+=this.Kb;else {for(Ka=0;Ka < Ba;++Ka){this.vI+=this.la.mb();}this.la.offset-=Ba;}this.He(Ba,this.u.offset);}return !0;};z.Na=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{ln:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.wc();this.ln && this.u.Kl();this.ln && this.u.xa();this.mg=this.u.xa();C(1 === this.mg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.fk=0 === this.version?this.u.lI():this.u.mua();return !0;};z.prototype.ta=function(Ba,Ka){this.fk+=Ba;this.la.offset=this.startOffset + 16 + (this.ln?8:0) + (0 === this.version?0:4);this.la.qJ(Ka,this.fk);return !0;};A.Na=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{vX:{get:function(){return this.flags & 1;}},Yxa:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.wc();this.vX && (this.u.xa(),this.u.AA(16));this.Kb=this.u.xa();return !0;};A.prototype.ta=function(Ba,Ka){var Na,Wa;Na=Ka?this.Kb - Ba:Ba;this.la.offset=this.startOffset + 28 + (this.vX?20:0);this.Kb-=Na;this.la.ah(this.Kb);Ba=this.la.offset;if(this.Yxa)for(Na=Ka?this.Kb:Na;0 < Na;--Na){this.la.offset+=8;Wa=this.la.Wc();this.la.offset+=6 * Wa;}else this.la.offset+=8 * (Ka?this.Kb:Na);Ka?this.He(this.length - (this.u.offset - this.startOffset),this.u.offset):this.He(this.u.offset - Ba,Ba);};B.Na=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.wc();return !0;};B.prototype.ta=function(Ba,Ka,Na){Na?this.He(Ka - Ba,this.startOffset + 12 + Ba):this.He(Ba,this.startOffset + 12);return !0;};D.Na=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.wc();this.u.Kl();1 === this.version && this.u.xa();this.mg=this.u.xa();this.Uu=[];for(var Ba=0;Ba < this.mg;++Ba){for(var Ka=this.u.xa(),Na=this.u.xa(),Wa=0;Wa < Ka;++Wa){this.Uu.push(Na);}}return !0;};D.prototype.ta=function(Ba,Ka){this.Uu=Ka?this.Uu.slice(0,Ba):this.Uu.slice(Ba);Ba=this.Uu.reduce(function(Na,Wa){0 !== Na.length && Na[Na.length - 1].group === Wa || Na.push({group:Wa,count:0});++Na[Na.length - 1].count;return Na;},[]);this.la.offset=this.startOffset + 16 + (1 === this.version?4:0);this.la.ah(Ba.length);Ba.forEach((function(Na){this.la.ah(Na.count);this.la.ah(Na.group);}).bind(this));this.mg > Ba.length && this.He(8 * (this.mg - Ba.length));this.mg=Ba.length;return !0;};E.Na=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ua:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:X,schi:c,sidx:m,sinf:c,stbl:c,tenc:g,mvex:c,moof:q,traf:p,tfhd:u,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:w,mdat:E,vmaf:d},mxa:{vpcC:t,SmDm:v("smdm"),CoLL:v("coll")},CZ:{schm:ja},wI:{}};F([pa,N,L,P,sa,Qa,Ua,I,H,Ya,Sa,Q,S,M,R,a],X.Ua);F([U,ka,ua,ya,O,T,da,ma,ab,Za],X.wI);F([pa,ja],X.CZ);X.Ua[b.BR]=g;X.Ua[b.Lx]=k;X.Ua[b.Kx]=n;X.Ua[b.AR]=A;X.wI[b.UE]=kb;X.Ac=K;r.exports={wq:X};},function(r,b){function a(c,f){var l,m,d,h,g;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;h=Math.abs(c);for(d=Math.abs(f);d;){g=d;d=h % d;h=g;}c=m.call(l,c * f / h);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.qc=f.oc,this.nb=f.S):(this.qc=f,this.nb=l);}c.Fb=function(f){return new c(f,1E3);};c.vZ=function(f,l){return Math.floor(1E3 * f / l);};c.Qra=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{oc:{get:function(){return this.qc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return 1E3 * this.qc / this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uh:{get:function(){return this.qc / this.nb;},enumerable:!0,configurable:!0}});c.prototype.Yf=function(f){f/=this.S;return new c(Math.floor(this.oc * f),Math.floor(this.S * f));};c.prototype.add=function(f){var l;if(this.S === f.S)return new c(this.oc + f.oc,this.S);l=a(this.S,f.S);return this.Yf(l).add(f.Yf(l));};c.prototype.Qa=function(f){return this.add(new c(-f.oc,f.S));};c.prototype.LH=function(f){return new c(this.oc * f,this.S);};c.prototype.om=function(f){var l;if(this.S === f.S)return this.oc / f.oc;l=a(this.S,f.S);return this.Yf(l).om(f.Yf(l));};c.prototype.m6=function(f){return a(this.S,f);};c.prototype.sua=function(){return new c(this.S,this.oc);};c.prototype.compare=function(f,l){var m;if(this.S === l.S)return f(this.oc,l.oc);m=a(this.S,l.S);return f(this.Yf(m).oc,l.Yf(m).oc);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.X8=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.EN=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Or=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.S};};c.prototype.toString=function(){return this.oc + "/" + this.S;};c.Gb=new c(0,1);c.Lw=new c(1,1E3);return c;})();b.T=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.Wc();return !0;};return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);r.__exportStar(a(147),b);r.__exportStar(a(227),b);r.__exportStar(a(228),b);r.__exportStar(a(229),b);r=a(228);c=a(229);a=a(227);b.Wp={3:a.FQ,4:r.zQ,5:c.Zba};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.Wc();m=this.u.mb();this.Ewa=! !(m & 128);this.Sea=! !(m & 64);this.uda=! !(m & 32);this.Ewa && this.u.Wc();this.Sea && this.u.AA(this.u.mb());this.uda && this.u.Wc();this.ZS();return !0;};l.tag=3;return l;})(a(147).zE);b.FQ=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.rsa=this.u.mb();this.u.mb();this.u.Wc();this.u.mb();this.maxBitrate=this.u.xa();this.yia=this.u.xa();this.ZS();return !0;};l.tag=4;return l;})(a(147).zE);b.zQ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(147);f=a(226);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.bY=function(){15 !== this.u.vc(4) || this.u.vc(24);};m.prototype.parse=function(d){if(this.ppa(d) && 64 === d.rsa)switch((this.jn=this.$X(),this.bY(),this.u.vc(4),this.Qla=5 === this.jn || 29 === this.jn?5:-1,0 < this.Qla && (this.bY(),this.jn=this.$X(),22 === this.jn && this.u.vc(4)),this.jn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.jV=this.u.vc(1),(this.Uka=this.u.vc(1)) && this.u.vc(14),this.u.vc(1),this.oz=3 === this.jn?256:23 === this.jn?this.jV?480:512:this.jV?960:1024);}this.skip();return !0;};m.prototype.$X=function(){var d;d=this.u.vc(5);31 === d && (d=32 + this.u.vc(6));return d;};m.prototype.ppa=function(d){return d.tag === f.zQ.tag;};m.tag=5;return m;})(r.zE);b.Zba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(371);f=a(223);l=a(372);r=(function(){function m(d,h,g){this.console=d;this.stream=h;this.view=g instanceof ArrayBuffer?new DataView(g):new DataView(g.data,g.offset,g.length);}m.prototype.parse=function(d){var h;h=new l.AQ(this.view.byteLength);this.mc=new c.wE(f.wq.Ua,h,this.view,this.console,{YH:!0});d=this.mc.parse(d);this.Ua=this.mc.Ua;return d;};return m;})();b.$q=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jB=void 0;r=a(42);a=a(102);c=(function(){function f(l,m){this.p2=l;this.EK=m.Wa;this.Cv=m.ob;}Object.defineProperties(f.prototype,{Wa:{get:function(){return void 0 !== this.EK?this.EK:this.p2.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ob:{get:function(){return void 0 !== this.Cv?this.Cv:this.p2.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{S:{get:function(){return this.p2.S;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xj:{get:function(){return this.p2.xj;},enumerable:!1,configurable:!0}});f.prototype.JY=function(l){this.Cv=l;};f.prototype.Dja=function(){this.Cv=void 0;};return f;})();b.jB=c;r.wf(a.px,c);r.wf(a.iB,c);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gQ=void 0;c=a(2);r=c.__importDefault(a(123));f=a(116);l=a(172);a=(function(m){function d(h,g,k,n,q,p,v){g=m.call(this,h,g,k,n,q,p,v) || this;l.jv.xb(g,h,n);return g;}c.__extends(d,m);return d;})(f.v_);b.gQ=a;r.default(l.jv.prototype,a.prototype);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vJ=void 0;c=a(2);f=c.__importDefault(a(28));l=c.__importDefault(a(6));r=(function(m){function d(h,g,k,n,q){var p;p=m.call(this,k) || this;p.c3=!1;d.xb(p,h,g,k,n,q);return p;}c.__extends(d,m);d.xb=function(h,g,k,n,q,p){h.$e=n;h.Tua=g;h.Ne=q;h.INa=g.location || k.location;h.eT=g.yd || k.Ld;h.Kva=g.Kva || k.Kva;h.gaa=l.default.time.ea();h.H=p;};Object.defineProperties(d.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.INa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ld:{get:function(){return this.eT;},enumerable:!1,configurable:!0}});d.prototype.xb=function(h){this.Pa=h;};d.prototype.Wva=function(h,g){this.INa=h;this.eT=g;};d.prototype.Tga=function(h){var g,k,n;g={type:"logdata",target:"endplay",fields:{}};k=this.mediaType === f.default.Ta.Ub?"audioedit":"videoedit";n=[this.KM === this.Y?this.Ic:this.dd,this.KM === this.Y?-this.duration:this.duration];h && h.$D && n.push(h.$D);g.fields[k]={type:"array",value:n};return g;};d.prototype.Nxa=function(){var h,g;if(this.complete)return 0;h=this.Tua;g=h.P;return h.url?this.url === h.url || (g.Wva(this,h.location,h.yd),this.aaa(h.url))?0:(this.H.warn("swapUrl failed: ",this.DM),2):(this.H.warn("updateurl, missing url for streamId:",h.Oa,"mediaRequest:",this,"stream:",h),1);};return d;})(a(83).hv);b.vJ=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(798),b);},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p){return p.Qa(d.T.Fb(p.uI));}Object.defineProperties(b,{__esModule:{value:!0}});b.Gba=b.uu=void 0;f=a(2);r=a(17);l=f.__importDefault(a(28));m=f.__importDefault(a(6));d=a(22);h=a(5);g=a(799);k=a(116);n=a(72);q=a(25);b.uu=c;a=(function(p){function v(t,u,w,x,y,z,A,B,D){var E,F;F=p.call(this) || this;F.H=t;F.Rg=u;F.dg=w;F.qd=x;F.I=y;F.Bnb=z;F.V=A;F.Rv=B;F.oh=D;F.Jk=F.H.error.bind(F.H);F.Qb=F.H.warn.bind(F.H);F.en=F.H.trace.bind(F.H);null === (E=x.events) || void 0 === E?void 0:E.addListener("ready",function(){F.Av();});F.H2a=new g.dGa(F.I,F.Rg,F.dg.jc,F.H);F.reset();return F;}f.__extends(v,p);Object.defineProperties(v.prototype,{endOfStream:{get:function(){return this.uS;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{D3:{get:function(){return this.qd?this.qd.D3:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{a2b:{get:function(){return this.am.length;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qLb:{get:function(){return this.Tj;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{d$a:{get:function(){return ! !this.qd.EBb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{RA:{get:function(){return ! !this.qd.reset;},enumerable:!1,configurable:!0}});v.prototype.reset=function(t){var u,w,x;null === (u=this.bOa) || void 0 === u?void 0:u.Mb();this.Wj=!1;t || (this.am=[]);this.Tj=this.Vfa=this.WK=void 0;this.Ffa=!1;this.XK=void 0;this.uS=!1;this.OOa(d.T.Gb);null === (x=(w=this.qd).reset) || void 0 === x?void 0:x.call(w);this.H2a.reset();};v.prototype.oWa=function(){this.Vfa=!0;};v.prototype.pause=function(){this.Wj=!0;};v.prototype.resume=function(){this.Wj=!1;this.Av();};v.prototype.ez=function(){this.Wj || this.Av();};v.prototype.pna=function(){var t;return null === (t=this.Tj) || void 0 === t?void 0:t.je;};v.prototype.Erb=function(t){var u;if(this.I.YUa){h.assert(t.Pa);u=t.Pa.gb;h.assert(void 0 !== t.dd);h.assert(void 0 !== u.Ic);if(t.dd >= u.Ic)return;}this.am.push(t);this.Av();};v.prototype.Is=function(){this.Av();};v.prototype.e$=function(t){t=this.am.indexOf(t);-1 !== t && this.am.splice(t,1);};v.prototype.J3a=function(t,u){this.I.Xha && u && void 0 === this.Tj && this.rMa(t,0);this.Av();};v.prototype.a9=function(t){var u,w,x;u=this;if(!this.uS && (this.uS=!0,this.Av(),!this.d$a))if(t && this.Rv && this.I.ozb){x=d.T.Fb(this.I.B$a);t=t.Qa(x);x=n.hya(this.Rv,t,!0);t=x.Ds;x=x.promise;null === (w=this.bOa) || void 0 === w?void 0:w.Mb();this.bOa=t;x.then(function(){u.uS && u.qd.endOfStream();});}else this.qd.endOfStream();};v.prototype.D$=function(){return JSON.stringify(this.am);};v.prototype.OOa=function(t){var u;null !== (u=this.ZOa) && void 0 !== u && u.equal(t) || (this.ZOa=t,this.qd.AXb(t.oc,t.S));};v.prototype.Av=function(){var t,u,w,x,y,z,A,B,D;u=this.I;if(this.am.length || this.Tj && !this.Tj.df)if(!this.qd || !1 === this.qd.ready)this.fL("@" + m.default.time.ea() + ", append: not appending, sourceBuffer not ready");else if(!this.Tj || this.Tj.df || this.Tj.hu())if(this.Tj && !this.Tj.df || this.am.length)if(this.Wj){w=this.Tj && !this.Tj.df?this.Tj:this.am[0];this.fL("@" + m.default.time.ea() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(w));}else if((!this.Tj || this.Tj.df || (this.NMa(this.Tj),this.Tj.df)) && this.am.length)if((w=this.am[0],w.aborted))(this.Qb("aborted MediaRequest should not appear in the toAppend list:",w.toString(),"complete:",w.complete),this.fL("@" + m.default.time.ea() + ", append: removing aborted request from toAppend: " + w.toString()),this.am.shift());else {x=w.stream;y=x.P;if(x.Vg)if(this.QXb(x,w.index))(this.Vfa=!1,this.rMa(x,w.index));else {z=this.V.Mo(y);A=this.eJb(x);if(z || A || !(this.Ffa && x.track.IW || u.Saa))if((x=this.IYa(w),this.Rg !== l.default.Ta.Ub || !w.tq && !w.ww || !w.ta || u.TD || this.uS || 1 !== this.am.length || !(x > u.WW) || null !== (t=w.CI) && void 0 !== t && t.u7)){if(u.YUa || u.eBb)if((t=w.Pa.gb,z=this.Izb())){B=t.Qk;D=w.Ic >= z;x=x > u.WW;if(z < t.Ic && D && x && !B)return;}if(u.wRb && this.oh && (u=this.oh(y.Nb)) && !u.xT)this.pause();else {this.Ffa || (this.Ffa=A);this.am.shift();try{this.Fkb(w);}catch(E){throw (this.H.error(E),E);}}}else this.iWb();}}};v.prototype.iWb=function(){var t;t=this;this.Rv && (this.Upa?this.Upa.XJb || this.Upa.Em():this.Upa=this.Rv.xG(function(){return t.fLb();},"JIT Appender"));};v.prototype.fLb=function(){var t,u,w,x;return f.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.am.length)return [3,3];t=this.am[0];if(!t.tq && !t.ww || (null === (x=t.CI) || void 0 === x?0:x.u7))return [2];u=this.IYa(t);w=this.I.WW;return u > w?[4,n.Ik.oJ(d.T.Fb(u - w))]:[3,2];case 1:(y.$c(),y.label=2);case 2:return (this.Av(),[3,0]);case 3:return [2];}});};v.prototype.IYa=function(t){return t.xd - this.V.Pe();};v.prototype.QXb=function(t,u){if(this.Vfa || void 0 === this.WK || t.Oa !== this.WK.Oa)return !0;t=t.Vg;h.assert(t);return 1 < t.length?q.qQa(t,function(w){return w.Pd <= u;}) !== this.WK.X_a:!1;};v.prototype.eJb=function(t){if(0 === t.mediaType || !t.Oz)return !0;if(void 0 === this.WK)return !1;t=t.Vg;h.assert(t);return !1 === t[this.WK.X_a].Rk;};v.prototype.Izb=function(){throw Error("not supported");};v.prototype.rMa=function(t,u){var w;w=t.Vg.reduce(function(x,y,z){return y.Pd <= u?z:x;},0);if(this.qd.appendBuffer(t.Vg[w].data,{Zc:!0,profile:t.profile,bitrate:t.bitrate,Oa:t.id}))(this.fL("@" + m.default.time.ea() + ", header appended, streamId: " + t.Oa),this.WK={Oa:t.Oa,X_a:w},this.Job(t.P.Nb || 0,t.Oa,w),this.Av());else throw (this.Qb("appendHeader error: " + this.qd.error),this.fL("@" + m.default.time.ea() + ", appendHeader error: " + this.qd.error),Error("appendHeaderError"));};v.prototype.Fkb=function(t){var u,w,x,y;x=t.Xta || d.T.Gb;y=t.Pa.gb.O;y.Ha && Infinity !== y.Ha && (x=new d.T(y.Ha,1E3).add(x).uh,Infinity === this.dg.duration || this.dg.duration < x) && (this.dg.duration=x);x=void 0 !== t.$u?d.T.Fb(t.$u).add(t.Xta):void 0;y=null === (u=this.am[0]) || void 0 === u?void 0:u.vj;u={endOfStream:this.endOfStream || !(null === (w=t.CI) || void 0 === w || !w.u7),o8:x,cX:y};w=this.H2a.append(t,u);this.OOa(w);this.NMa(t);};v.prototype.NMa=function(t){var u,w,x,y,z;y=t.bG(this.qd,this.dg.jc,this.Tj);z=y.status;(y=y.mk) && this.emit(y.type,y);z !== k.Hj.Lf?(this.Tj=t,z === k.Hj.vx && (void 0 === this.XK || this.Rg !== l.default.Ta.Ub || t.vj.equal(this.XK) || (this.Eob(t,this.XK),this.XK=void 0),this.fL("@" + m.default.time.ea() + ", request appended, type: " + t.mediaType + ", streamId: " + t.Oa + ", pts: " + t.xd + "-" + t.je),t.tq || t.ww?(this.XK=t.we,this.Zkb(t,this.ZOa || d.T.Gb),null === (w=(u=this.qd).EBb) || void 0 === w?void 0:w.call(u,t.CI),(null === (x=t.CI) || void 0 === x?0:x.u7) && this.Bnb && this.a9(t.we)):this.XK=void 0,this.Kob(t),this.Av())):this.Ekb(t);};v.prototype.Ekb=function(t){if(void 0 !== this.qd.error){if("done" === this.qd.error)return;this.Jk("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.qd.error));throw this.qd.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.qd.error);this.Jk(t.message);throw t;};v.prototype.Zkb=function(t,u){var w,x;w=t.stream.qa;x=t.Od;this.I.cm && t.stream.tf && (x=x.Qa(t.stream.tf));c(x.Qa(w)).add(c(w)).add(c(u));};v.prototype.Job=function(t,u,w){t={type:"headerAppended",mediaType:this.Rg,manifestIndex:t,streamId:u,isIndex:w};this.emit(t.type,t);};v.prototype.Kob=function(t){t={type:"requestAppended",mediaType:this.Rg,request:t};this.emit(t.type,t);};v.prototype.fL=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};v.prototype.Eob=function(t,u){var w;w=t.dd;t=t.vj.Qa(u).W;w={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[w,t]}}};this.emit(w.type,w);};return v;})(r.EventEmitter);b.Gba=a;},function(r,b,a){var f;function c(l,m){return l < m?-1:l > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.A0=void 0;f=a(2);r=(function(){function l(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Hfa(m);}}Object.defineProperties(l.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.data.push(m);this.lha(this.length - 1);};l.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Hfa(0));return m;}};l.prototype.Mw=function(){return this.data[0];};l.prototype.iTb=function(m){m=this.data.indexOf(m);-1 !== m && this.lha(m);};l.prototype.map=function(m){return this.data.map(m);};l.prototype.find=function(m){return f.__read(this.data.filter(m),1)[0];};l.prototype.clear=function(){this.data=[];};l.prototype.remove=function(m){var d,h,g;d=this.data;m=d.indexOf(m);if(-1 !== m){h=d.pop();if(m < d.length){d[m]=h;g=m - 1 >> 1;d=d[g];0 <= g && 0 > this.compare(h,d)?this.lha(m):this.Hfa(m);}}};l.prototype.Urb=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + m);}};l.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};l.prototype.lha=function(m){for(var d=this.data,h=this.compare,g=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= h(g,n))break;d[m]=n;m=k;}d[m]=g;};l.prototype.Hfa=function(m){for(var d=this.data,h=this.compare,g=this.length >> 1,k=d[m],n,q,p;m < g;){n=(m << 1) + 1;p=d[n];q=n + 1;q < this.length && 0 > h(d[q],p) && (n=q,p=d[q]);if(0 <= h(p,k))break;d[m]=p;m=n;}d[m]=k;};return l;})();b.A0=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.H9=void 0;c=a(16);b.H9=function(f){switch(f){case c.ma.ud:f=c.Gc.ud;break;case c.ma.Nf:f=c.Gc.Nf;break;case c.ma.yh:case c.ma.cj:case c.ma.gr:f=c.Gc.cj;break;default:f=c.Gc.dj;}return f;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XJ=void 0;c=a(5);f=a(25);r=(function(){function l(m){var d;d=this;void 0 === m && (m=[]);this.items=m;m.forEach(function(h){return d.Ixa(h);});}Object.defineProperties(l.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{SX:{get:function(){var m;return null !== (m=this.video) && void 0 !== m?m:this.audio;},enumerable:!1,configurable:!0}});l.prototype.get=function(m){return 1 === m?this.video:this.audio;};l.prototype.every=function(m){return this.items.every(m);};l.prototype.some=function(m){return this.items.some(m);};l.prototype.forEach=function(m){this.items.forEach(m);};l.prototype.find=function(m){return f.hg(this.items,m);};l.prototype.reduce=function(m,d){return this.items.reduce(m,d);};l.prototype.filter=function(m){return new l(this.items.filter(m));};l.prototype.replace=function(m,d){var h;h=this.items.indexOf(m);c.assert(-1 < h);c.assert(m.mediaType === d.mediaType);this.items[h]=d;this.Ixa(d);};l.prototype.TWb=function(m,d){(m=this.get(m))?this.replace(m,d):this.add(d);};l.prototype.add=function(m){this.items.push(m);this.Ixa(m);};l.prototype.remove=function(m){var d;d=this.items.indexOf(m);if(-1 === d)return !1;this.items.splice(d,1);this.Eub(m.mediaType);return !0;};l.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};l.prototype.Ixa=function(m){1 === m.mediaType?this.video=m:this.audio=m;};l.prototype.Eub=function(m){1 === m?this.video=void 0:this.audio=void 0;};return l;})();b.XJ=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.t_=void 0;c=a(2);a(5);r=a(42);f=c.__importDefault(a(28));l=c.__importDefault(a(123));m=c.__importDefault(a(6));d=a(241);h=a(101);g=a(116);k=m.default.Zq;n=a(822);a=c.__importDefault(a(823));m=(function(q){function p(v,t,u,w,x,y,z,A){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 9:B=q.call(this,v,t,B,u,w,y,z) || this;h.Om.xb(B,v,u,A);return B;break;case 5:var r2J="e";r2J+="d";r2J+="i";r2J+="t";var C2J="c";C2J+="a";C2J+="ch";C2J+="e";B=[C2J,r2J].filter(function(D,E){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 4:return [x,u.ta][E];break;h00=1;break;case 2:return [x,u.ta][E];break;}}});B=B.length?"(" + B.join(",") + ")":"";void 0 === u.responseType && (u.responseType=u.ta || k.jc && !k.jc.vY.QR?0:1);g00=9;break;case 2:var G2J="1SI";G2J+="Y";G2J+="bZrNJC";G2J+="p9";B=this;G2J;g00=5;break;}}}var f00;f00=2;for(;f00 !== 9;){switch(f00){case 2:c.__extends(p,q);p.create=function(v,t,u,w,x,y,z,A){var i00,B,D;i00=2;for(;i00 !== 11;){switch(i00){case 14:var m2J="s";m2J+="u";m2J+="breq";m2J+="uest";(B={offset:y,fa:Math.min(D,A),responseType:w.responseType},y+=B.fa,D-=B.fa,x.push(new g.v_(v,u,m2J,B,x,t,z)));i00=6;break;case 1:return new n.Hya(v,u,w,x,y,t,z,A);break;case 2:i00=!t.Zg && w.ta && v.mediaType === f.default.Ta.Lb && k.jc && k.jc.vY.QR?1:5;break;case 13:return x;break;case 5:i00=w.ON && w.fa > w.ON?4:12;break;case 4:B=Math.ceil(w.fa / w.ON);y=w.offset;D=w.fa;x=new d.tE(v,w,x,t,z,A);i00=7;break;case 7:A=Math.ceil(w.fa / B);i00=6;break;case 6:i00=0 < D?14:13;break;case 12:return new p(v,u,w,x,y,t,z,A);break;}}};p.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var R5J="I";R5J+="D:";R5J+=" ";return R5J + this.ii() + ":" + h.Om.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.ii(),request:h.Om.prototype.toJSON.call(this)};break;}}};return p;break;}}})(g.v_);b.t_=m;l.default(a.default,m.prototype);r.wf(h.Om,m,!1);},function(r,b,a){var c,f,l,m,d,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tE=void 0;c=a(2);f=a(5);r=a(42);l=a(9);m=a(25);d=a(376);h=a(101);g=a(116);a=(function(k){function n(q,p,v,t,u,w){v=k.call(this,q,p,v,t,u) || this;h.Om.xb(v,q,p,w);v.Mc=0;v.ta || v.Aj();v.df=!1;return v;}c.__extends(n,k);Object.defineProperties(n.prototype,{Zc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(q){this.Mc+=q.fa;k.prototype.push.call(this,q);};n.prototype.hu=function(){var q;return !this.df && ! !this.Ea.length && !(null === (q=m.hg(this.Ea,function(p){return !p.df;})) || void 0 === q || !q.hu());};n.prototype.bG=function(q,p){var v,t;f.assert(!this.df);v=g.Hj.Ghb;t=l.uq(this);this.df=this.Ea.every(function(u){if(u.df)return !0;if(!u.hu())return !1;v=u.bG(q,p,void 0,t).status;return v === g.Hj.vx;});v !== g.Hj.vx || this.df || (v=g.Hj.bib);return {status:v};};n.prototype.JUb=function(){this.Ea.forEach(function(q){q.hY();});};n.prototype.ii=function(){return this.Ea?this.Ea[0].ii() + "-" + this.Ea[this.Ea.length - 1].ii():"empty";};n.prototype.toString=function(){return "ID: " + this.ii() + ":" + h.Om.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.ii(),request:k.prototype.toJSON.call(this)};};return n;})(d.pba);b.tE=a;r.wf(h.Om,a);},function(r,b,a){var l,m,d,h,g,k,n,q;function c(p,v){return p.done?p:{value:{value:p.value,mPa:v}};}function f(p){p.mPa();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Xrb=b.hjb=b.x_=void 0;l=a(2);r=a(17);m=a(149);d=a(20);h=l.__importDefault(a(6));g=a(9);k=a(5);a=a(42);n=(function(){function p(v,t){this.console=v;this.Zf=t;this.hnb=this.rS=0;this.yg=[];this.console=g.vq(h.default,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{wzb:{get:function(){return this.rS;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wSa:{get:function(){var v,t,u;for(t=0;t < this.yg.length;t++){u=this.yg[t];if(!u.hW || (null === (v=u.item) || void 0 === v?0:v.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nz:{get:function(){return 0 === this.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uua:{get:function(){var v;for(v=0;v < this.yg.length && this.yg[v].Mpa;v++){;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var v;v=l.__read(this.yg,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yra:{get:function(){var v;for(v=0;v < this.yg.length && this.yg[v].hW;v++){;}return v;},enumerable:!1,configurable:!0}});p.prototype.V4=function(){var v;if(void 0 === this.Zf){v=this.console;d.ga && v && v.trace("QueueIterator: enqueueEnd");this.Gxa(this.Yra - (this.Zf || 0));}};p.prototype.fp=function(){return this.yg.map(function(v){return v.item;});};p.prototype.laa=function(){this.Af || (this.Af=this.yg.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.Af;};p.prototype.Gxa=function(v){var t;d.ga && this.console.trace("updateCount",{Lac:this.Zf,iM:v});if(void 0 !== this.Zf){t=this.yg[this.Zf];t && this.jpa(t);}this.Zf=void 0 === this.Zf?v:void 0 === v?v:this.Zf + v;void 0 !== this.Zf && (this.Zf=Math.max(0,this.Zf),(t=this.yg[this.Zf]) && t.qH.resolve({done:!0}));};p.prototype.enqueue=function(v){var t;d.ga && this.console.trace("Enqueue called");t=this.Yra;this.R3();return this.ETb(t,{value:v,done:!1}).$Ta.promise;};p.prototype.y7a=function(){d.ga && this.console.trace("resetEnd");this.Gxa(void 0);};p.prototype.clear=function(v){var t,u,w;d.ga && this.console.trace("clear");this.g6a();t=this.Uua;u=this.yg.length - t;if(0 < u){w={index:t,nsa:u};d.ga && this.console.trace("Removing items",w);this.yg.splice(t,u);this.R3();this.emit("onRemoved",w);}for(u=1;u < t;u++){this.jpa(this.yg[u]);}this.Zf=void 0;this.Gxa(v?v + t:v);this.rS && (this.rS=0);};p.prototype.getIterator=function(){var v,t;v=this;t=g.vq(h.default,this.console,"QueueIteratorInstance::");return new q(this,function(u){return v.oYa(u);},t);};p.prototype.jM=function(){var v;if(0 < this.Uua){v=l.__read(this.yg,1)[0];if(v.hW)return (d.ga && this.console.trace("dequeue",v.id),this.g6a(1),this.emit("onDequeue",v.qH.promise));}};p.prototype.remove=function(v){var t,u,w;for(t=0;t < this.yg.length;t++){u=this.yg[t];w=u.item;if(w && !w.done && w.value === v){this.yg.splice(t,1);this.Zf && this.Zf > t && this.Zf--;this.R3();d.ga && this.console.trace("removed",{id:u.id});this.emit("onRemoved",{index:t,nsa:1});break;}}};p.prototype.g6a=function(v){var t;v=v || Math.min(this.Uua,this.Yra);if(0 < v){t=this.yg.splice(0,v);this.R3();this.Zf && (this.Zf-=v);d.ga && this.console.trace("pruned",v);Promise.resolve().then(function(){t.forEach(function(u){u.$Ta.resolve();});});this.emit("onRemoved",{index:0,nsa:v});this.rS+=v;}};p.prototype.oYa=function(v){var t;d.ga && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.u_a(v);t=this.yg[v];t.vVb.resolve();v=t.qH.promise;d.ga && this.console.trace("getNextItem:return",{id:t.id});}else (d.ga && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};p.prototype.ETb=function(v,t){var u;u=!t.done && t.value;u=u && u.toJSON?u.toJSON():u;d.ga && this.console.trace("Providing result",{krb:v,item:u});this.u_a(v);v=this.yg[v];u=v.qH.resolve;u(t);return v;};p.prototype.u_a=function(v){var t;if(void 0 === this.yg[v]){t={};this.jpa(t);this.yg[v]=t;v === this.Zf && t.qH.resolve({done:!0});d.ga && this.console.trace("Item initialized",{krb:v});}};p.prototype.mka=function(v){var t;t={};t.promise=new Promise(function(u,w){t.resolve=function(x){u(x);v && v(x);};t.reject=w;});return t;};p.prototype.jpa=function(v){var t;t=this;v.qH=this.mka(function(u){v.item=u;v.hW=!0;d.ga && t.console.trace("Item resolved",{id:v.id});});v.id && v.Mpa && !v.hW && (v.qH.resolve({done:!0}),d.ga && this.console.warn("Overwriting requested queue item",v.id));v.$Ta=this.mka();v.vVb=this.mka(function(){v.Mpa=!0;d.ga && t.console.trace("Item requested",{id:v.id});});v.id=this.hnb++;v.Mpa=!1;v.hW=!1;v.item=void 0;};p.prototype.R3=function(){this.Af=void 0;};p.prototype.dEb=function(){var v,t,u;v=this;t=g.vq(h.default,this.console,"QueueIteratorInstance::");u=new q(this,function(w){var x,y;if(0 === v.count)return m.AsyncIterator.Zna();x=v.oYa(w);y=v.yg[0];return x.then(function(z){return c(z,function(){u.tN || (y === v.yg[0]?v.jM():k.assert(!v.yg.filter(function(A){return A.qH.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},t);return u;};return p;})();b.x_=n;a.wf(r.EventEmitter,n);q=(function(p){function v(t,u,w){var x;x=p.call(this,function(){d.ga && x.console.trace("Next item requested",{index:x.index});return x.SVb(x.index++);}) || this;x.parent=t;x.SVb=u;x.console=w;x.TK=!1;x.index=0;x.ega=!1;x.h4a=function(y){var z;z=y.index;y=y.nsa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.ga && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}l.__extends(v,p);v.prototype.Fh=function(){this.console.trace("disposed");this.TK=!0;this.cd();p.prototype.Fh.call(this);};v.prototype.next=function(){this.tN || this.sN();return p.prototype.next.call(this);};v.prototype.cancel=function(){this.cd();return p.prototype.cancel.call(this);};v.prototype.cd=function(){this.parent.ED("onRemoved",this.h4a);this.ega=!1;};v.prototype.sN=function(){this.ega || (this.ega=!0,this.parent.on("onRemoved",this.h4a));};return v;})(m.AsyncIterator);b.hjb=q;b.Xrb=function(p){return m.map(p,f);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hea=void 0;r=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{N0a:{get:function(){var c,f;return null !== (c=this.tIb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.N0a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qW:{get:function(){var c,f;return null !== (c=this.fPb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.qW;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lu:{get:function(){var c,f;return null !== (c=this.Jg) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.lu;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R0a:{get:function(){var c,f,l,m;return null !== (c=this.Ie) && void 0 !== c?c:(null === (f=this.track) || void 0 === f?0:f.equals(null === (l=this.parent) || void 0 === l?void 0:l.track))?null === (m=this.parent) || void 0 === m?void 0:m.Ie:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{U0a:{get:function(){var c,f;return null !== (c=this.QYb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.U0a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hqa:{get:function(){var c,f;return null !== (c=this.RYb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.hqa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.zWb;},enumerable:!1,configurable:!0}});a.prototype.Mb=function(){this.parent=void 0;};a.prototype.z8a=function(c){this.tIb=c;};a.prototype.kXb=function(c){this.fPb=c;};a.prototype.M8a=function(c){this.Jg=c;};a.prototype.NY=function(c){this.Ie=c;};a.prototype.vXb=function(c){this.QYb=c;};a.prototype.O8a=function(c){this.RYb=c;};a.prototype.PY=function(c){this.zWb=c;};return a;})();b.Hea=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(829),b);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xJ=void 0;c=a(246);r=(function(){var l00;l00=2;for(;l00 !== 3;){switch(l00){case 2:f.prototype.kUa=function(l,m){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 2:d=null === this.pia?l * (100 - this.config.eaa) / 100:c.Zha(l,this.pia);m=null !== m && void 0 !== m?m:this.MN;this.config.rqa && m?(l=c.Zha(l,m),l=Math.max(l,d)):l=d;return l;break;}}};f.prototype.fP=function(l){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 2:this.pia=l;o00=1;break;}}};l00=5;break;case 5:f.prototype.Exa=function(l){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 4:this.config=l;p00=0;break;p00=1;break;case 2:this.config=l;p00=1;break;}}};return f;break;}}function f(l,m){var m00;m00=2;for(;m00 !== 3;){switch(m00){case 2:this.config=l;this.MN=m;this.pia=null;m00=4;break;case 14:"";m00=1;break;m00=3;break;case 4:var y5J="1S";y5J+="IYbZ";y5J+="rNJCp";y5J+="9";y5J;m00=3;break;}}}})();b.xJ=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zha=b.PD=b.yVa=void 0;c=a(2).__importDefault(a(114)).default.zVa;b.yVa=function(f,l,m){var d,h,g;d=0;if(m){f.some(function(k){var n;n=k.b;k=k.m;if(l <= n)return (d=g && n !== h?g + (k - g) / (n - h) * (l - h):k,!0);h=n;d=g=k;return !1;});}else f.some(function(k){d=k.m;return l <= k.b;});return d;};b.PD=function(f,l,m){var d;l=(null === (d=l.Ra) || void 0 === d?void 0:d.Ga) || 0;return f.jsb?(f=c(f.isb,m.im - m.Jc,1),l * (1 - f)):l * f.eaa / 100;};b.Zha=function(f,l){return f < 2 * l?f / 2:f - l;};},function(r,b,a){var m;function c(){}function f(d,h){this.fm=d;void 0 !== h?(m(h <= d.Fm,"require remain_sec <= chunk.sec but has " + h + " and " + d.Fm),this.el=h):this.el=d.Fm;}function l(d){void 0 === d && (d=[]);this.Xo=[];this.wh=this.Pl=0;for(var h in d){this.add(d[h],void 0);}}m=a(5).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Dt=function(){return new f(this.fm,this.el);};l.prototype.constructor=l;l.prototype.add=function(d,h){d=new f(d,h);this.Xo.push(d);this.wh+=d.el;this.Pl+=d.fm.zz() * d.el;};l.prototype.Dt=function(){var d,h;d=new l(void 0);for(h in this.Xo){d.add(this.Xo[h].fm,this.Xo[h].el);}return d;};l.prototype.au=function(){try{return this.Xo[0];}catch(d){}};l.prototype.t5a=function(d){var h;for(m(0 <= d,"unexpected play_for_x_sec: x=" + d);0 < d;){if(void 0 === this.au())throw new c();if(d < this.au().el){h=this.au().fm.zz() * d;this.au().el-=d;this.wh-=d;this.Pl-=h;d=0;}else (h=this.Xo.shift(),this.wh-=h.el,this.Pl-=h.fm.zz() * h.el,d-=h.el);}};l.prototype.aSb=function(d){var g;m(0 <= d,"unexpected play_y_kb: y=" + d);for(var h=0;0 < d;){if(void 0 === this.au())throw new c();if(d < this.au().el * this.au().fm.zz()){g=d / this.au().fm.zz();this.au().el-=g;this.wh-=g;this.Pl-=d;h+=g;d=0;}else (g=this.Xo.shift(),this.wh-=g.el,this.Pl-=g.fm.zz() * g.el,h+=g.el,d-=g.fm.zz() * g.el);}return h;};r.exports={Dza:l,ndb:c};},function(r){var g,k,n,q,p,v;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(t){if(g === setTimeout)return setTimeout(t,0);if((g === b || !g) && setTimeout)return (g=setTimeout,setTimeout(t,0));try{return g(t,0);}catch(u){try{return g.call(null,t,0);}catch(w){return g.call(this,t,0);}}}function f(t){if(k === clearTimeout)return clearTimeout(t);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(t));try{return k(t);}catch(u){try{return k.call(null,t);}catch(w){return k.call(this,t);}}}function l(){q && p && (q=!1,p.length?n=p.concat(n):v=-1,n.length && m());}function m(){var t;if(!q){t=c(l);q=!0;for(var u=n.length;u;){p=n;for(n=[];++v < u;){p && p[v].Yw();}v=-1;u=n.length;}p=null;q=!1;f(t);}}function d(t,u){this.EDb=t;this.Ay=u;}function h(){}r=r.exports={};g="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];q=!1;v=-1;r.Dac=function(t){var u;u=Array(arguments.length - 1);if(1 < arguments.length)for(var w=1;w < arguments.length;w++){u[w - 1]=arguments[w];}n.push(new d(t,u));1 !== n.length || q || c(m);};d.prototype.Yw=function(){this.EDb.apply(null,this.Ay);};r.title="browser";r.C8b=!0;r.uVa={};r.o8b=[];r.version="";r.qcc={};r.on=h;r.addListener=h;r.once=h;r.ED=h;r.removeListener=h;r.removeAllListeners=h;r.emit=h;r.MX=h;r.R5a=h;r.listeners=function(){return [];};r.y8b=function(){throw Error("process.binding is not supported");};r.X8b=function(){return "/";};r.M8b=function(){throw Error("process.chdir is not supported");};r.icc=function(){return 0;};},function(r){r.exports={nFa:{code:-1,description:"MediaCache is not supported."},P6b:{code:100,description:"Resource was not found"},chb:{code:101,description:"Resource Metadata was not found"},eK:{code:102,description:"Read failed",Tq:function(b,a){return {code:this.code,description:b,cause:a};}},u1:{code:200,description:"Daily write limit exceeded"},yJ:{code:201,description:"Capacity has been exceeded"},t1:{code:202,description:"Write failed, cause unknown",Tq:function(b,a){return {code:this.code,description:b,cause:a};}},N7b:{code:203,description:"Write failed, cause unknown"},jeb:{code:300,description:"Failed to delete resource",Tq:function(b,a){return {code:this.code,description:b,cause:a};}},qB:{code:900,description:"Invalid partition name"},Dgb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},NAa:{code:701,description:"Failed to initialize underlying disk cache."},bhb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={kZa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var f;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(l){c.error && c.error.code == l.error.code && c.error.description === l.error.description && (f=l);});f?f.resources.push(c.Jq):a.push({error:c.error,resources:[c.Jq]});});return a;}},gXa:function(b){var a;a={freeSize:b.xn,dailyBytesRemaining:b.fM,bytesWritten:b.Mk,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.Zk,itemBytes:c.A7,error:c.error};}));return a;},Rw:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YG=void 0;c=a(2).__importDefault(a(6));f=a(882);b.YG=function(){var m;if(!l){m=new c.default.Console("ASEJS","media|asejs");l=new f.xya(m);}return l;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.i1=void 0;r=a(17);c=a(42);f=a(22);a=(function(){function l(m){void 0 === m && (m={Xk:!1,currentTime:f.T.Gb,speed:1});this.Yc={Xk:function(){return "function" === typeof m.Xk?m.Xk():m.Xk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(l.prototype,{Xk:{get:function(){return this.Yc.Xk();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.Yc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){return this.Yc.speed();},enumerable:!1,configurable:!0}});return l;})();b.i1=a;c.wf(r.EventEmitter,a);},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.EB=void 0;c=a(2);f=a(20);l=a(9);m=a(54);r=(function(){function d(h,g){this.vi=h;this.options=c.__assign({Hub:!0},g);}Object.defineProperties(d.prototype,{BD:{get:function(){return "trace-" + this.vi.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lj:{get:function(){return this.BD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});d.prototype.Fo=function(h){var g,k;if(h.Ni === m.ae.Zp || h.Ni === m.ae.Wn){g=l.OTa(this.vi.bLb);k=this.vi.AIb;h.Ni === m.ae.Zp && this.options.Hub && this.vi.clear();h=g;Object.keys(k).length && (h=c.__spread(g,[k]));return h;}};d.prototype.Mb=function(){this.vi.Mb();};return d;})();b.EB=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.k6=b.nq=b.isEqual=b.lW=void 0;c=a(9);b.lW=function(f){return ! !f.Z;};b.isEqual=function(f,l){var m,d;m=b.lW(f);d=b.lW(l);return m === d?m?f.Z === l.Z:f.Ca === l.Ca:!1;};b.nq=function(f){if(b.lW(f))return f.Z;f=f.Ca;return f.Aa[f.Qe].Z;};b.k6=function(f,l){return f.x3?f.x3 instanceof c.T?{offset:f.x3,wa:l.Qe}:f.x3:{offset:c.T.Gb,wa:l.Qe};};},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var l,m,d,h;function c(g,k,n){for(var q=n.next();!q.done;){if((k=g["@@transducer/step"](k,q.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}q=n.next();}return g["@@transducer/result"](k);}function f(g,k,n,q){return g["@@transducer/result"](n[q](d(g["@@transducer/step"],g),k));}l=a(958);m=a(960);d=a(961);h="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(g,k,n){"function" === typeof g && (g=m(g));if(l(n)){for(var q=0,p=n.length;q < p;){if((k=g["@@transducer/step"](k,n[q])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}q+=1;}return g["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return f(g,k,n,"fantasy-land/reduce");if(null != n[h])return c(g,k,n[h]());if("function" === typeof n.next)return c(g,k,n);if("function" === typeof n.reduce)return f(g,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,l){return a.apply(this,arguments);};case 4:return function(c,f,l,m){return a.apply(this,arguments);};case 5:return function(c,f,l,m,d){return a.apply(this,arguments);};case 6:return function(c,f,l,m,d,h){return a.apply(this,arguments);};case 7:return function(c,f,l,m,d,h,g){return a.apply(this,arguments);};case 8:return function(c,f,l,m,d,h,g,k){return a.apply(this,arguments);};case 9:return function(c,f,l,m,d,h,g,k,n){return a.apply(this,arguments);};case 10:return function(c,f,l,m,d,h,g,k,n,q){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dea="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hda="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uca="HLSConfigSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(262);c=a(151);b.Oeb=c;c=a(425);b.WR=c;c=a(429);b.Rrb=c;b.h1=r.wq.Ua.sidx;r=a(996);b.cr=r.cr;r=a(270);b.$q=r.$q;r=a(1E3);b.ar=r.ar;b.$z=r.$z;r=a(1001);b.RJ=r.RJ;r=a(88);b.ho=r.ho;a=a(1002);b.Oj=a.Oj;},function(r,b,a){var C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya,O,T,ja,pa,sa,Qa,Ua,Za,ab,kb,Ya;function c(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function f(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function l(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function m(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);this.HI=Sa.config.HI;this.sd=this.sizes=void 0;}function d(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function h(){for(var Sa=new DataView(this),Ba="",Ka,Na=0;Na < this.byteLength;Na++){Ka=Sa.getUint8(Na);Ba+=("00" + Ka.toString(16)).slice(-2);}return Ba;}function g(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function k(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function n(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function q(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function p(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function v(Sa){function Ba(Ka,Na,Wa,ib,Bb){K.call(this,Ka,Na,Wa,ib,Bb);this.bX=Sa;}Ba.Na=!1;Ba.prototype=new K();Ba.prototype.constructor=Ba;Object.defineProperties(Ba.prototype,{wQ:{get:function(){return this.bX;}}});Ba.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.bX + "'");this.u.offset=this.startOffset + 4;this.la.b_(this.wQ);this.type=this.wQ;return !0;};return Ba;}function t(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function u(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function w(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function x(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function y(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function z(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function A(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function B(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function D(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function E(Sa,Ba,Ka,Na,Wa){K.call(this,Sa,Ba,Ka,Na,Wa);}function F(Sa,Ba){Sa.forEach(function(Ka){Ba[Ka.Vb]=Ka;});}C=a(150).assert;b=a(104);G=a(263).T;J=a(425);a(151);a(88);a(88);a(88);K=a(33).Ac;I=a(979).default;M=a(980).default;R=a(981).default;H=a(982).default;Q=a(983).default;N=a(984).default;L=a(985).default;P=a(986).default;S=a(987).default;a(264);a(178);U=a(426).$aa;da=a(426).eca;ka=a(988).default;ma=a(989).default;X=a(105).default;ua=a(105).iba;ya=a(105).jba;O=a(105).kba;T=a(105).lba;ja=a(990).default;pa=a(991).default;sa=a(105).zca;Qa=a(105).tca;Ua=a(992).default;Za=a(993).default;ab=a(994).default;kb=a(427).default;Ya=a(428).default;a(152);a(267);a(268);a(266);a=a(995).default;c.Na=!0;c.prototype=new K();c.prototype.constructor=c;f.Na=!0;f.prototype=new K();f.prototype.constructor=f;l.Na=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var Sa;this.wc();1 === this.version?(this.u.Sd(),this.u.Sd(),this.S=this.u.xa(),this.duration=this.u.Sd()):(this.u.xa(),this.u.xa(),this.S=this.u.xa(),this.duration=this.u.xa());Sa=this.u.Wc() & 32767;this.language=String.fromCharCode(96 + (Sa >>> 10),96 + (Sa >>> 5 & 31),96 + (Sa & 31));return !0;};m.Na=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Kga=function(){this.wc();this.u.xa();this.S=this.u.xa();0 === this.version?(this.KU=this.u.xa(),this.cV=this.u.xa()):(this.KU=this.u.Sd(),this.cV=this.u.Sd());this.u7a=this.u.Wc();this.fY=this.u.Wc();};m.prototype.zfa=function(Sa,Ba){var Ka,Na,Wa;Ka=this.S;Sa=Sa && Sa.S || Ka;Na=Sa / Ka;Ka=this.u.zA(Ba,12,!1);Wa=1 === Na?this.u.zA(Ba,12,!1):J.from(Uint32Array,{length:Ba},function(){var ib;ib=Math.round(this.u.xa() * Na);this.u.offset+=8;return ib;},this);this.mha(Ba,Wa,Ka,Sa);};m.prototype.mha=function(Sa,Ba,Ka,Na){if(this.HI){Na=this.HI * Na / 1E3;for(var Wa=0,ib=1;ib < Sa;ib++){Math.abs(Ba[Wa] - Na) > Math.abs(Ba[Wa] + Ba[ib] - Na)?(Ba[Wa]+=Ba[ib],Ka[Wa]+=Ka[ib]):(++Wa,Wa !== ib && (Ba[Wa]=Ba[ib],Ka[Wa]=Ka[ib]));}++Wa;Ba=new Uint32Array(Ba.buffer.slice(0,4 * Wa));Ka=new Uint32Array(Ka.buffer.slice(0,4 * Wa));}this.sizes=Ka;this.sd=Ba;};m.prototype.parse=function(Sa){var Ba,Ka,Na,Wa;this.Kga();this.qa=Sa.qa;Ba=this.S;Ka=this.qa && this.qa.S || Ba;Na=this.fY;Wa=this.startOffset + this.length + this.cV;Ba=new G(this.KU,Ba).Yf(Ka).oc;this.U={S:Ka,gl:Ba,offset:Wa};this.zfa(this.qa,Na);this.U.sd=this.sd;this.U.sizes=this.sizes;Sa.zs=this;return !0;};d.Na=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var Sa;this.$i=[];this.ita=[];Sa=(this.length - 11) / 2;this.u.mb();this.u.mb();this.u.mb();for(var Ba=0;Ba < Sa;Ba++){this.$i.push(this.u.mb());this.ita.push(this.u.mb());}return !0;};g.Na=!1;g.prototype=new K();g.prototype.constructor=g;g.prototype.parse=function(){this.wc();this.u.offset+=4;this.rH=this.u.offset;this.nj=this.u.jua(16);this.nj.toString=h;return !0;};k.Na=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.wc();this.mg=this.u.Wc();this.nra=this.u.zA(this.mg,void 0,!0);return !0;};n.Na=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(Sa){var Ba,Ka,Na,Wa,ib,Bb;Ba=Sa.zs;C(Ba);Sa=Sa.qa;Ka=Ba.S;Ba=Ba.fY;C(Sa);C(Ka);C(Ba);this.wc();C(2 > this.version);this.mg=this.u.Wc();this.Cu=new Uint16Array(Ba + 1);Na=Sa.m6(Ka);Wa=Na / Ka;ib=Sa.Yf(Na).oc;if(0 === this.version)for((this.Su=new Uint16Array(),this.Rd=new Uint32Array(),Sa=Ka=0);Sa <= Ba;++Sa){if((this.Cu[Sa]=Ka,Sa < this.mg)){Bb=this.u.mb();if(0 !== Bb)for(Na=0;Na < Bb;(++Na,++Ka)){this.Su[Ka]=Math.floor((this.u.xa() + 1) * Wa) / ib;this.Rd[Ka]=this.u.xa();}}}else if(1 === this.version)for((Na=this.u.fua(this.mg,10,!1),this.u.offset+=4,this.Rd=this.u.zA(this.mg,10,!1),this.u.offset-=8,this.Su=J.from(Uint16Array,{length:this.mg},function(){var Eb;Eb=Math.floor((this.u.xa() + 1) * Wa) / ib;this.u.offset+=6;return Eb;},this),Ka=Sa=0);Sa <= Ba;++Sa){for(;Ka < Na.length && Na[Ka] < Sa;){++Ka;}this.Cu[Sa]=Ka;}this.bi={Cu:this.Cu,Su:this.Su,Rd:this.Rd};return !0;};q.Na=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.Na=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Pt=function(){var Sa;Sa=this.Qh("tfhd");Sa && (this.bk=Sa.MT?Sa.bk:this.parent.startOffset);return !0;};t.Na=!1;t.prototype=new K();t.prototype.constructor=t;t.prototype.parse=function(){var Sa,Ob;Sa=this.u.offset;this.wc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ba=this.u.offset,Ka=this.u.mb(),Na=this.u.mb(),Wa=this.u.mb(),ib=this.u.mb(),Bb=this.u.Wc(),Eb=[],Ib=0;Ib < Bb;++Ib){Eb=this.u.mb();}Ib=(Ka & 240) >>> 4;Ob=(Ka & 14) >>> 1;Ka&=1;Wa=16 === Wa?1:0;Na != ib && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Na + " and matrixCoefficients " + ib + " should be the same value!");ib=2;switch(Na){case 1:ib=2;break;case 6:ib=1;break;case 9:ib=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Na + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.la.dB(this.version,Sa);this.la.dB(Ib << 4 | ib,Ba++);this.la.dB(Ob << 4 | Wa << 1 | Ka,Ba++);Bb+=2;Eb.push(0,0);this.la.mya(Bb,!1);Ba+=2;Eb.forEach(function(Cb){this.la.dB(Cb,Ba++);});}return !0;};u.Na=!1;u.prototype=new K();u.prototype.constructor=u;u.Vb="tfhd";Object.defineProperties(u.prototype,{MT:{get:function(){return this.flags & 1;}},jva:{get:function(){return this.flags & 2;}},Mka:{get:function(){return this.flags & 8;}},Pka:{get:function(){return this.flags & 16;}},Nka:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(){this.wc();this.fJ=this.u.xa();this.bk=this.MT?this.u.Sd():void 0;this.jva && this.u.xa();this.Yy=this.Mka?this.u.xa():void 0;this.$y=this.Pka?this.u.xa():void 0;this.Zy=this.Nka?this.u.xa():void 0;return !0;};w.Na=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){this.wc();this.Ey=1 === this.version?this.u.Sd():this.u.xa();return !0;};w.prototype.ta=function(Sa){var Ba;Ba=this.startOffset + 12;this.Ey+=Sa;1 === this.version?this.la.nya(this.Ey,Ba):this.la.ah(this.Ey,Ba);};x.Na=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{pU:{get:function(){return this.flags & 1;}},NG:{get:function(){return this.flags & 4;}},HA:{get:function(){return this.flags & 256;}},IA:{get:function(){return this.flags & 512;}},xY:{get:function(){return this.flags & 1024;}},xI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.wc();this.QT=this.u.offset;this.Kb=this.u.xa();this.fk=this.pU?this.u.lI():0;this.NG && this.u.xa();this.Ru=(this.HA?4:0) + (this.IA?4:0) + (this.xY?4:0) + (this.xI?4:0);this.nz=this.u.offset;C(this.pU,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Kb * this.Ru,"Expected remaining data in box to be sample information");return !0;};x.prototype.mt=function(Sa,Ba,Ka){var Na,Wa,ib;Na=this.HA?this.u.xa():Sa.Yy;Wa=this.IA?this.u.xa():Sa.$y;Sa=this.xY?this.u.xa():Sa.Zy;ib=0 === this.version?this.xI?this.u.xa():0:this.xI?this.u.lI():0;return {iva:ib,aWb:Sa,dTb:Ka + ib - (void 0 !== Ba?Ba:ib),yk:Wa,Tu:Na};};x.prototype.ta=function(Sa,Ba,Ka,Na,Wa,ib,Bb){var Eb,Ib,Ob,Cb;Eb=0;Ib=0;this.la.offset=this.nz;for(Na=0;Na < Wa;++Na){Ob=this.mt(Ba,Cb,Ib);if(0 == Na)Cb=Ob.iva;Eb+=Ob.yk;Ib+=Ob.Tu;}Na=Wa;Wa=this.u.offset;Ob=this.mt(Ba,Cb,Ib);this.Mq=Na;this.pwa=Ib;if(Bb){if((this.Gq=this.fk + Eb,this.Vi=0,Na === this.Kb))return !0;}else if((this.Gq=this.fk,this.Vi=Eb,0 === Na))return !0;if(0 === Na || Na === this.Kb)return !1;this.fz=!0;if(Bb){this.Vi+=Ob.yk;for(Bb=Na + 1;Bb < this.Kb;++Bb){Ob=this.mt(Ba,Cb,Ib);this.Vi+=Ob.yk;}this.la.offset=this.QT;this.Kb=Na;this.la.ah(this.Kb);this.la.qJ(ib);this.NG && (this.u.offset+=4);this.He(this.length - (Wa - this.startOffset),Wa);}else (Ba=Wa - this.nz,this.la.offset=this.QT,this.Kb-=Na,this.la.ah(this.Kb),this.fk+=Eb,this.la.qJ(ib,this.fk),this.NG && (this.u.offset+=4),this.He(Ba,this.la.offset));Ka.He(this.Vi,Sa.bk + this.Gq);return !0;};x.prototype.Lua=function(Sa,Ba,Ka,Na,Wa,ib){var Eb;if(Na){Na=this.Gq;for(var Bb=this.Kb - 1;0 <= Bb && this.Kb - Bb <= Wa;--Bb){this.la.offset=this.nz + Bb * this.Ru;Eb=this.mt(Ba);if(Eb.Tu != ib.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Tu + " with silence of duration " + ib.duration);break;}if(this.IA)(this.la.offset-=this.Ru - (this.HA?4:0),this.la.ah(ib.Bk.byteLength));else if(ib.Bk.byteLength !== Eb.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na-=Eb.yk;Ka.Qu(Eb.yk,ib.Bk,Sa.bk + Na);}}else for((Na=this.Gq + this.Vi,Bb=0);Bb < this.Kb && Bb < Wa;++Bb){this.la.offset=this.nz + (Bb + this.Mq) * this.Ru;Eb=this.mt(Ba);if(Eb.Tu != ib.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Tu + " with silence of duration " + ib.duration);break;}if(this.IA)(this.la.offset-=this.Ru - (this.HA?4:0),this.la.ah(ib.Bk.byteLength));else if(ib.Bk.byteLength !== Eb.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ka.Qu(Eb.yk,ib.Bk,Sa.bk + Na);Na+=Eb.yk;}};y.Na=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{ln:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.wc();this.ln && this.u.Kl();this.ln && this.u.xa();this.Oka=this.u.mb();this.Kb=this.u.xa();this.u.AA(this.Kb);return !0;};y.prototype.ta=function(Sa,Ba){if(Sa && 0 === this.Oka){Sa=Ba?this.Kb - Sa:Sa;this.la.offset=this.startOffset + 13 + (this.ln?8:0);this.Kb-=Sa;this.la.ah(this.Kb);this.vI=0;if(Ba)this.la.offset+=this.Kb;else {for(Ba=0;Ba < Sa;++Ba){this.vI+=this.la.mb();}this.la.offset-=Sa;}this.He(Sa,this.u.offset);}return !0;};z.Na=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{ln:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.wc();this.ln && this.u.Kl();this.ln && this.u.xa();this.mg=this.u.xa();C(1 === this.mg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.fk=0 === this.version?this.u.lI():this.u.mua();return !0;};z.prototype.ta=function(Sa,Ba){this.fk+=Sa;this.la.offset=this.startOffset + 16 + (this.ln?8:0) + (0 === this.version?0:4);this.la.qJ(Ba,this.fk);return !0;};A.Na=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{vX:{get:function(){return this.flags & 1;}},Yxa:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.wc();this.vX && (this.u.xa(),this.u.AA(16));this.Kb=this.u.xa();return !0;};A.prototype.ta=function(Sa,Ba){var Ka,Na;Ka=Ba?this.Kb - Sa:Sa;this.la.offset=this.startOffset + 28 + (this.vX?20:0);this.Kb-=Ka;this.la.ah(this.Kb);Sa=this.la.offset;if(this.Yxa)for(Ka=Ba?this.Kb:Ka;0 < Ka;--Ka){this.la.offset+=8;Na=this.la.Wc();this.la.offset+=6 * Na;}else this.la.offset+=8 * (Ba?this.Kb:Ka);Ba?this.He(this.length - (this.u.offset - this.startOffset),this.u.offset):this.He(this.u.offset - Sa,Sa);};B.Na=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.wc();return !0;};B.prototype.ta=function(Sa,Ba,Ka){Ka?this.He(Ba - Sa,this.startOffset + 12 + Sa):this.He(Sa,this.startOffset + 12);return !0;};D.Na=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.wc();this.u.Kl();1 === this.version && this.u.xa();this.mg=this.u.xa();this.Uu=[];for(var Sa=0;Sa < this.mg;++Sa){for(var Ba=this.u.xa(),Ka=this.u.xa(),Na=0;Na < Ba;++Na){this.Uu.push(Ka);}}return !0;};D.prototype.ta=function(Sa,Ba){this.Uu=Ba?this.Uu.slice(0,Sa):this.Uu.slice(Sa);Sa=this.Uu.reduce(function(Ka,Na){0 !== Ka.length && Ka[Ka.length - 1].group === Na || Ka.push({group:Na,count:0});++Ka[Ka.length - 1].count;return Ka;},[]);this.la.offset=this.startOffset + 16 + (1 === this.version?4:0);this.la.ah(Sa.length);Sa.forEach((function(Ka){this.la.ah(Ka.count);this.la.ah(Ka.group);}).bind(this));this.mg > Sa.length && this.He(8 * (this.mg - Sa.length));this.mg=Sa.length;return !0;};E.Na=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ua:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:X,schi:c,sidx:m,sinf:c,stbl:c,tenc:g,mvex:c,moof:q,traf:p,tfhd:u,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:w,mdat:E,vmaf:d},mxa:{vpcC:t,SmDm:v("smdm"),CoLL:v("coll")},CZ:{schm:ja},wI:{}};F([pa,N,L,P,sa,Qa,I,H,kb,Ya,Q,S,M,R,a],X.Ua);F([U,ka,ua,ya,O,T,da,ma,Za,Ua],X.wI);F([pa,ja],X.CZ);X.Ua[b.BR]=g;X.Ua[b.Lx]=k;X.Ua[b.Kx]=n;X.Ua[b.AR]=A;X.wI[b.UE]=ab;X.Ac=K;r.exports={wq:X};},function(r,b){function a(c,f){var l,m,d,h,g;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;h=Math.abs(c);for(d=Math.abs(f);d;){g=d;d=h % d;h=g;}c=m.call(l,c * f / h);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.qc=f.oc,this.nb=f.S):(this.qc=f,this.nb=l);}c.Fb=function(f){return new c(f,1E3);};c.vZ=function(f,l){return Math.floor(1E3 * f / l);};c.Qra=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{oc:{get:function(){return this.qc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return 1E3 * this.qc / this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uh:{get:function(){return this.qc / this.nb;},enumerable:!0,configurable:!0}});c.prototype.Yf=function(f){f/=this.S;return new c(Math.floor(this.oc * f),Math.floor(this.S * f));};c.prototype.add=function(f){var l;if(this.S === f.S)return new c(this.oc + f.oc,this.S);l=a(this.S,f.S);return this.Yf(l).add(f.Yf(l));};c.prototype.Qa=function(f){return this.add(new c(-f.oc,f.S));};c.prototype.LH=function(f){return new c(this.oc * f,this.S);};c.prototype.om=function(f){var l;if(this.S === f.S)return this.oc / f.oc;l=a(this.S,f.S);return this.Yf(l).om(f.Yf(l));};c.prototype.m6=function(f){return a(this.S,f);};c.prototype.sua=function(){return new c(this.S,this.oc);};c.prototype.compare=function(f,l){var m;if(this.S === l.S)return f(this.oc,l.oc);m=a(this.S,l.S);return f(this.Yf(m).oc,l.Yf(m).oc);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.X8=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.EN=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.Or=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.S};};c.prototype.toString=function(){return this.oc + "/" + this.S;};c.Gb=new c(0,1);c.Lw=new c(1,1E3);return c;})();b.T=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.Wc();return !0;};return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(23);r.__exportStar(a(152),b);r.__exportStar(a(266),b);r.__exportStar(a(267),b);r.__exportStar(a(268),b);r=a(267);c=a(268);a=a(266);b.Wp={3:a.FQ,4:r.zQ,5:c.Zba};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.Wc();m=this.u.mb();this.Ewa=! !(m & 128);this.Sea=! !(m & 64);this.uda=! !(m & 32);this.Ewa && this.u.Wc();this.Sea && this.u.AA(this.u.mb());this.uda && this.u.Wc();this.ZS();return !0;};l.tag=3;return l;})(a(152).zE);b.FQ=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.rsa=this.u.mb();this.u.mb();this.u.Wc();this.u.mb();this.maxBitrate=this.u.xa();this.yia=this.u.xa();this.ZS();return !0;};l.tag=4;return l;})(a(152).zE);b.zQ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(152);f=a(265);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.bY=function(){15 !== this.u.vc(4) || this.u.vc(24);};m.prototype.parse=function(d){if(this.ppa(d) && 64 === d.rsa)switch((this.jn=this.$X(),this.bY(),this.u.vc(4),this.Qla=5 === this.jn || 29 === this.jn?5:-1,0 < this.Qla && (this.bY(),this.jn=this.$X(),22 === this.jn && this.u.vc(4)),this.jn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.jV=this.u.vc(1),(this.Uka=this.u.vc(1)) && this.u.vc(14),this.u.vc(1),this.oz=3 === this.jn?256:23 === this.jn?this.jV?480:512:this.jV?960:1024);}this.skip();return !0;};m.prototype.$X=function(){var d;d=this.u.vc(5);31 === d && (d=32 + this.u.vc(6));return d;};m.prototype.ppa=function(d){return d.tag === f.zQ.tag;};m.tag=5;return m;})(r.zE);b.Zba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(430);f=a(262);l=a(431);r=(function(){function m(d,h,g){this.console=d;this.stream=h;this.view=g instanceof ArrayBuffer?new DataView(g):new DataView(g.data,g.offset,g.length);}m.prototype.parse=function(d){var h;h=new l.AQ(this.view.byteLength);this.mc=new c.wE(f.wq.Ua,h,this.view,this.console,{YH:!0});d=this.mc.parse(d);this.Ua=this.mc.Ua;return d;};return m;})();b.$q=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ad=void 0;r=b.ad || (b.ad={});r.zsb="bitraterestriction";r.JRa="cdnsel";r.SL="chgstrm";r.debug="debug";r.eAb="dlreport";r.IG="endplay";r.mpa="intrplay";r.wD="midplay";r.E9="playbackaborted";r.$6a="renderstrmswitch";r.MO="repos";r.WO="resumeplay";r.MWb="serversel";r.dE="startplay";r.G9a="statechanged";r.transition="transition";r.prb="asereport";r.IQa="audioswitch";r.bRa="blockedautoplay";r.config="config";r.dla="dlreq";r.L9b="ftlProbeError";r.oZb="subtitleerror";r.pZb="subtitleqoe";r.i_b="timedtextrebuffer";r.J$a="timedtextswitch";r.v9a="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mEa="IsTypeSupportedProviderFactorySymbol";b.gIa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q,p,v){var t;t=l.Yn.call(this,k,n,q,v) || this;t.cast=p;t.type=m.fj.Lba;k=c.bkb;t.XZ[m.re.kK]=d.Fd.KQ + "; " + k;t.XZ[m.re.Cx]=d.Fd.Cx + "; " + k;k=d.Fd.Jdb.find(function(u){return t.Ly(g(c.LP,u));});t.XZ[m.re.Ps]=k;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.dAa=b.D_=b.Mba=void 0;f=a(44);l=a(180);m=a(26);r=a(110);d=a(109);h=a(181);g=new r.CB().format;na(c,l.Yn);c.gka=function(k,n){return (n=c.D7a(n))?{isTypeSupported:n}:k;};c.D7a=function(k){var n;if("undefined" !== typeof k){if(k.framework && k.framework.CastReceiverContext && k.framework.CastReceiverContext.getInstance){n=k.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(k.framework && k.framework.platform && k.framework.platform.canDisplayType)return k.framework.platform.canDisplayType;if(k.receiver && k.receiver.platform && k.receiver.platform.canDisplayType)return k.receiver.platform.canDisplayType;if(k.__platform__ && k.__platform__.canDisplayType)return k.__platform__.canDisplayType;}};c.prototype.cx=function(k){var n,q;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().$ab){q={};if(n)return (q[m.Lj.KE]="1.4",q[m.Lj.sv]="2.2",n().then(function(p){return p === q[k];}));n=this.S1a(k);n=g(c.LP,d.Fd.KQ) + " hdcp=" + n;n=this.Ly.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.OM=function(k){return this.XZ[k];};c.prototype.$M=function(){var k;k=this;return this.config().$ab?this.cx(m.Lj.sv).then(function(n){return n?Promise.resolve(m.Lj.sv):k.cx(m.Lj.KE).then(function(q){return q?Promise.resolve(m.Lj.KE):Promise.resolve(void 0);});}).then(function(n){return k.jU(n);}):Promise.resolve(void 0);};c.prototype.Tp=function(){var k,n;k=l.Yn.prototype.Tp.call(this);n=c.mIb;k[f.N.qca]=["avc1.4D4028","width=1920; height=1080; "];k[f.N.WQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.N.YQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.N.XQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.N.ZQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.N.PCa]=["hev1.2.6.L90.B0",n];k[f.N.QCa]=["hev1.2.6.L93.B0",n];k[f.N.RCa]=["hev1.2.6.L120.B0",n];k[f.N.SCa]=["hev1.2.6.L123.B0",n];k[f.N.TCa]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.UCa]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.N.LQ]=["hev1.2.6.L90.B0",n];k[f.N.NQ]=["hev1.2.6.L93.B0",n];k[f.N.NJ]=["hev1.2.6.L120.B0",n];k[f.N.QQ]=["hev1.2.6.L123.B0",n];k[f.N.SQ]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.UQ]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.N.MQ]=["hev1.2.6.L90.B0",n];k[f.N.OQ]=["hev1.2.6.L93.B0",n];k[f.N.PQ]=["hev1.2.6.L120.B0",n];k[f.N.RQ]=["hev1.2.6.L123.B0",n];k[f.N.TQ]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.N.VQ]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return k;};c.prototype.mXa=function(){return [h.We.g_,h.We.aDa,h.We.LJ,h.We.CE];};c.prototype.ipa=function(){l.Yn.prototype.ipa.call(this);!c.D7a(this.cast) && this.On.push(h.We.Cx);};b.Mba=c;c.mIb="eotf=smpte2084";c.bkb="width=3840; height=2160; ";b.D_="CastSDKSymbol";b.dAa="CastEmeSymbol";},function(r,b,a){var f,l,m;function c(){this.type=f.kv.Jx;}Object.defineProperty(b,"__esModule",{value:!0});b.sB=void 0;f=a(26);r=a(110);l=a(108);m=new r.CB();c.gka=function(){return {isTypeSupported:function(d){var h;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");h=d.split("|");return 1 === h.length?nb.MSMediaKeys.isTypeSupported(l.Hb.Ox,d):"probably" === c.Swa(h[0],h[1]);}catch(g){return !1;}}};};c.h4=function(d,h,g){h=m.format(c.LP,h);if(0 === g.length)return h;g=m.format('features="{0}"',g.join());return m.format("{0}|{1}{2}",d,h,g);};c.Swa=function(d,h){var g;try{g=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,h):"";}catch(k){g="exception";}return g;};b.sB=c;c.LP='video/mp4;codecs="{0},mp4a";';},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lca=b.mB=void 0;r=b.mB || (b.mB={});r.gkb="unknown";r.wya="absent";r.mJa="present";r.Error="error";b.lca="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.p1="TransportConfigSymbol";},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w;function c(x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S){this.j=x;this.trackId=y;this.Lz=z;this.Vc=A;this.ji=B;this.Eg=D;this.yc=E;this.hw=F;this.ela=C;this.Vd=G;this.displayName=J;this.kl=K;this.SI=I;this.variant=M;this.kI=R;this.profile=H;this.su=Q;this.cO=N;this.oDb=L;this.q7=P;this.cu=S;this.type=d.Bi.iaa;this.Js=void 0;this.kk=!(!H || H != g.Wm.YJ);this.Oi={bcp47:G,trackId:y,downloadableId:E,isImageBased:this.kk};this.log=h.Ih(x,"TimedTextTrack");this.state=w.H0;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.kF=void 0;f=a(1);l=a(74);m=a(14);d=a(90);h=a(8);g=a(44);k=a(21);n=a(19);q=a(1057);p=a(15);v=a(3);t=a(1058);u=a(1061);(function(x){x[x.H0=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.JE=2]="LOADED";x[x.hR=3]="LOAD_FAILED";})(w || (w={}));c.prototype.U6=function(){var x;x=this;if(this.j.state.value === p.Pb.CLOSED || this.j.state.value === p.Pb.CLOSING)return Promise.reject({$:!1});if(this.kk)return this.DJb();this.BUa || (this.BUa=this.DUa());return this.BUa.then(function(y){return x.EJb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Vr=function(){return this.cO;};c.prototype.qq=function(){return this.oDb;};c.prototype.Mr=function(x,y){var z;try{return null === (z=this.Nwa) || void 0 === z?void 0:z.Mr(x,y);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:y,isImageBased:this.kk});}};c.prototype.YGb=function(){var x,y,z;if(!n.Uc(this.Y))try{z=null === (y=null === (x=this.Nwa) || void 0 === x?void 0:x.SG(0)) || void 0 === y?void 0:y[0];this.Y=null === z || void 0 === z?void 0:z.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.Y;};c.prototype.K$=function(x){return this.j.state.value === p.Pb.CLOSING || this.j.state.value === p.Pb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.cc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.rTa=function(x){var y,z,A;y=this;z=h.Ih(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=q.sTa(this.j,z,this.request,this);A=new (m.config.i1b && !this.kk?t.FEa:u.default)(z,x);A.on("ready",function(){y.Nwa=A;});return A;};c.prototype.DJb=function(){var x,y,z,A,B,D,E;x=this;if(!this.C_a){this.state=w.LOADING;y={profile:"nflx-cmisc",url:"",QQa:!1,Dra:this.su.offset,Q2a:this.su.length,Dd:this.j.mediaTime.value || 0,bufferSize:m.config.cJb,v$:{Aa:this.j.oV()}};z=(this.ela || []).filter(function(F){return (F.id in x.hw);}).sort(function(F,C){return F.Vc - C.Vc;}).map(function(F){return F.id;});A=0;B={};D=!0;E=function(F,C){var G;if(n.Uc(F)){if(D || x.K$(x.Wt(x.It,"","image"))){D=!1;x.su.url=x.hw[x.It];y.url=x.su.url;B[F]=(B[F] || 0) + 1;G=x.rTa(y);G.on("ready",function(){C({$:!0,track:x});});G.on("error",function(J){var K;J=Object.assign({$:!1},J);K=x.Wt(x.It,x.su.url,"image");K.details={midxoffset:x.su.offset,midxsize:x.su.length};K.errorstring=J.errorString;B[F] <= m.config.I$a?(x.o5(K,!0,"retry with current cdn"),x.zia(B[F]).then(function(I){x.log.trace("retry timed text download after " + I,x.Wt(x.It,"","image"));E(x.It,C);})):(x.It=z[A++],x.It?(x.o5(K,!0,"retry with next cdn"),x.zia(B[F]).then(function(I){x.log.trace("retry timed text download after " + I,x.Wt(x.It,"","image"));E(x.It,C);})):(x.o5(K,!1,"all cdns tried"),C({$:!1,HOb:"all cdns failed for image subs",track:x})));});G.start();}else C({$:!1,aborted:!0});}else (C({$:!1,HOb:"cdnId is not defined for image subs downloadUrl"}),x.o5(x.Wt(0,"","image"),!1,"cdnId is undefined"));};this.It=z[A++];this.C_a=new Promise(function(F,C){E(x.It,function(G){G.$?(x.log.info("Loaded image subtitle manager"),x.state=w.JE,F(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=w.hR,C(G));});});}return this.C_a;};c.prototype.EJb=function(x){var y,z;y=this;z=this.j.aB;k.kb(z);return new Promise(function(A,B){var D;D=y.rTa({profile:y.profile,xml:x,mm:m.config.exa,preferences:m.config.haa,Dd:y.j.mediaTime.value || 0,QQa:!1,videoSize:z});D.on("ready",function(){A(D);}).on("error",function(E){B({$:!1,error:E});}).start();}).then(function(){y.state=w.JE;return {$:!0,track:y};}).catch(function(A){y.log.error("Unable to parse timed text track",v.Ss(A),y.Oi,{url:A.url});y.state=w.hR;A.reason="parseerror";A.track=y;throw A;});};c.prototype.o5=function(x,y,z){x=Object.assign({},x,{tcc:y,status:z});this.j.fireEvent(p.ca.zP,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,Js:this.Js,responseType:l.WV,headers:{},kc:this.Uma(this.It)};this.j.L6.download(x,function(A){z.log.trace("imgsub: request status " + A.$);A.$?y(null,new Uint8Array(A.content)):y({na:A.na,nf:A.nf});});};c.prototype.Wt=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.yc,subtitletype:z,bcp47:this.Vd,trackId:this.trackId,cdnCount:Object.keys(this.hw).length,isImageBased:this.kk};};c.prototype.Uma=function(x){return (this.ela || []).find(function(y){return y.id === x;});};c.prototype.DUa=function(){var A,B;function x(D){return f.__awaiter(A,void 0,void 0,function F(){var C,G,J;G=this;return Ia(F,function(K){C=z();J=G.Wt(D.kc.id,D.url,"text");J.errorstring=D.reason;return C && G.K$(J)?K.return(G.zia(B[C.id]).then(y)):K.return(Promise.reject({$:!1,aborted:!0}));});});}function y(){return f.__awaiter(A,void 0,void 0,function E(){var F,C,G;C=this;return Ia(E,function(J){G=(F=z()) && C.hw[F.id];return F && G?(B[F.id]=(B[F.id] || 0) + 1,J.return(C.nAb(G,F).catch(x))):J.return(Promise.reject({}));});});}function z(){return (A.ela || []).find(function(D){return ! !((B[D.id] || 0) < m.config.I$a && A.hw[D.id]);});}A=this;this.state=w.LOADING;B={};return y();};c.prototype.zia=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.nAb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({kc:y.id}),this.Wt(y.id,x,"text"));return new Promise(function(A,B){var D;D={responseType:l.Loa,url:x,track:z,kc:y,AC:"tt-" + z.Vd};z.j.L6.download(D,function(E){E.$?A(E.content):(E.reason="downloadfailed",E.url=D.url,E.track=z,E.kc=y,B(E));});});};b.kF=c;c.AB=w;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.pya=void 0;c=a(8);f=a(3);l=a(466);m=a(467);d=a(61);b.pya=function(h,g){var k,n;try{n=l.Obb(h);}catch(q){c.log.error("xml2xmlDoc exception",q);}d.Qf(function(){if(n && n.documentElement)try{k=m.Pbb(n);}catch(q){c.log.error("xmlDoc2js exception",q);}d.Qf(function(){k?g({$:!0,object:k}):g({$:!1,na:f.L.tCa});});});};},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Jna:function(){return this.buffer.length - this.position;},BA:function(){return this.buffer[this.position++];},Lh:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Eq:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},iua:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},th:function(){return this.Eq(2);},Fq:function(){return this.Eq(4);},EO:function(){return this.Eq(8);},Vw:function(a){for(var c,f="";a--;){c=this.BA();f+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return f;},lua:function(a){for(var c=0,f=0;f < a;f++){c+=this.BA() << (f << 3);}return c;},DO:function(){return this.lua(4);},d_:function(a){this.WP(a,2);},fB:function(a){this.WP(a,4);},Vaa:function(a){this.buffer[this.position++]=a;},WP:function(a,c){this.position+=c;for(var f=1;f <= c;f++){this.buffer[this.position - f]=a & 255;a=Math.floor(a / 256);}},eB:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},c_:function(a){for(var c=a.length,f=0;f < c;f++){this.buffer[this.position++]=a[f];}},VP:function(a,c){this.c_(a.Lh(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZEa="LogMessageRulerConfigSymbol";b.aFa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nda="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I0="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lda="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,h,g,k,n,q;function c(p,v,t,u){this.ya=p;this.s6=v;this.za=t;this.profile=u;}function f(){}function l(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=b.R0=void 0;r=a(1);d=a(0);h=a(38);g=a(4);k=a(13);n=a(18);a=a(94);m.prototype.encode=function(p){return {downloadableId:p.yc,duration:p.duration};};m.prototype.decode=function(p){return {yc:p.downloadableId,duration:p.duration};};l.prototype.encode=function(p){return {total:p.total,totalContentTime:p.bJ,audio:p.audio.map(new m().encode),video:p.video.map(new m().encode),text:p.text.map(new m().encode)};};l.prototype.decode=function(p){var v;return {total:p.total,bJ:null !== (v=p.totalContentTime) && void 0 !== v?v:p.total,audio:p.audio.map(new m().decode),video:p.video.map(new m().decode),text:p.text.map(new m().decode)};};f.prototype.encode=function(p){return {type:p.type,href:p.href,xid:p.ba,movieId:p.J,position:p.position,clientTime:p.ZT,sessionStartTime:p.GY,videoTrackId:p.RP,audioTrackId:p.kn,timedTextTrackId:p.GP,mediaId:p.QN,playTimes:new l().encode(p.EX),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,sessionParams:p.Gm,mdxControllerEsn:p.ora,profileId:p.profileId};};f.prototype.decode=function(p){return {type:p.type,href:p.href,ba:p.xid,J:p.movieId,position:p.position,ZT:p.clientTime,GY:p.sessionStartTime,RP:p.videoTrackId,kn:p.audioTrackId,GP:p.timedTextTrackId,QN:p.mediaId,EX:new l().decode(p.playTimes),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,Gm:p.sessionParams,ora:p.mdxControllerEsn,profileId:p.profileId};};b.R0=f;c.prototype.create=function(p){var v,t,u;return {href:p.oa && p.oa.lk?p.oa.lk.xV("events").href:"",type:"online",ba:p.ba.toString(),J:p.J,position:Math.floor(p.vka || 0),ZT:this.ya.EY.da(g.ja),GY:p.mH?p.mH.da(g.ja):-1,RP:null === (v=p.wg.value) || void 0 === v?void 0:v.trackId,kn:null === (t=p.ic.value) || void 0 === t?void 0:t.trackId,GP:null === (u=p.cc.value) || void 0 === u?void 0:u.trackId,QN:void 0,EX:this.rGb(p),trackId:void 0 !== p.Ej?p.Ej.toString():"",sessionId:this.s6().sessionId || this.za.id,appId:this.s6().appId || this.za.id,Gm:p.bb.Gm || ({}),profileId:this.profile};};c.prototype.Gxb=function(p,v){return Object.assign({},this.create(p),{ora:v && v.d4});};c.prototype.load=function(p){return new f().decode(p);};c.prototype.Ena=function(p){return p.map(function(v){return {yc:v.downloadableId,duration:v.duration};});};c.prototype.rGb=function(p){return (p=p.Jl)?(p=p.qGb(),{total:p.total,bJ:p.totalContentTime,audio:this.Ena(p.audio),video:this.Ena(p.video),text:this.Ena(p.timedtext)}):{total:0,bJ:0,video:[],audio:[],text:[]};};q=c;q=r.__decorate([d.R(),r.__param(0,d.l(h.Sh)),r.__param(1,d.l(k.Xc)),r.__param(2,d.l(n.fd)),r.__param(3,d.l(a.MR))],q);b.QHa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WHa="PboPlaydataValidatorSymbol";b.NHa="PboPlaydataArrayValidatorSymbol";b.PHa="PboPlaydataCollectionValidatorSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.E_=void 0;f=a(11);c.eka=function(l){var m;if(f.Ae.queryCommandSupported && f.Ae.queryCommandSupported("copy")){m=f.Ae.createElement("textarea");m.textContent=l;m.style.position="fixed";f.Ae.body.appendChild(m);m.select();try{f.Ae.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.Ae.body.removeChild(m);}}};b.E_=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wca=void 0;b.Wca=a;a.leb="display";a.Cdb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sW=void 0;b.sW=function(a,c,f){var l;if(f.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");l=f.get;f.get=function(){var m,d;m=l.apply(this,arguments);d={enumerable:f.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iea=b.dK=void 0;r=b.dK || (b.dK={});r.PZb="taskstart";r.NZb="taskabort";r.OZb="taskfail";r.QZb="tasksuccess";b.iea="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jba="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sya="AsePrefetcherAdapterSymbol";b.Tya="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tba=b.ae=void 0;r=b.ae || (b.ae={});r[r.ap=0]="startPlayback";r[r.Zp=1]="endPlayback";r[r.Wn=2]="underflow";b.tba="AseIntegrationFactorySymbol";},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.OI=void 0;c=a(12);f=a(14);l=a(60);m=a(51);d=a(3);h=a(21);g=a(8);k=a(24);n=a(11);q=a(294);p=a(19);r=a(31);g.ka.get(r.dh).register(d.M.NDa,function(v){var w,x,y;function t(){var z;t=c.ol;z=setInterval(u,f.config.tMb);l.ue.addListener(l.Cl,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):(k.se(x,function(B,D){localStorage.removeItem(D.Xr);}),clearInterval(z));},c.$E);}function u(){var z;z=m.S3();k.se(x,function(A,B){!1;A=localStorage.getItem(B.Xr);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.Xr,JSON.stringify(A));});}h.kb(q.storage);w=g.Mi("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.OI={ty:function(z,A,B){var E,F,C,G,J,K,I,M,R,H;function D(Q){localStorage.setItem(C,JSON.stringify(Q));Q={Xr:C};x[C]=Q;w.trace("Lock acquired",{Name:Q.Xr});t();A({$:!0,T7:Q});}E=this;B=void 0 === B?!1:B;if(localStorage){F=m.S3();C="lock-" + z;G={updated:F,sessionId:y,count:1};try{if((C in localStorage)){J=localStorage.getItem(C);K=0;I=JSON.parse(J);p.Pz(I.updated) && (K=I.updated);M=n.PE(F - K) * c.nl;R=y === I.sessionId;if(M < f.config.o1a){if(R)(I.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:y,count:I.count}),I.updated=F,D(I));else if(B){H=f.config.o1a - M + c.nl;w.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:I.count,Epoch:F,LockEpoch:K,waitTimeoutMs:H});nb.setTimeout(function(){return E.ty(z,A,!1);},H);}else A({$:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),D(G));}else D(G);}catch(Q){w.error("Error acquiring Lock",{errorSubCode:d.L.Kj,errorDetails:k.vd(Q)});A({$:!0});}}else (n.uqa?w.error("Local storage access exception",{errorSubCode:d.L.Hjb,errorDetails:k.vd(n.uqa)}):w.error("No localstorage",{errorSubCode:d.L.Ijb}),A({$:!0}));},release:function(z,A){var B,D;h.kb(x[z.Xr] == z);if(localStorage){try{B=localStorage.getItem(z.Xr);D=JSON.parse(B);1 < D.count?(--D.count,localStorage.setItem(z.Xr,JSON.stringify(D)),w.trace("Lock count decremented",{Name:z.Xr,count:D.count})):(localStorage.removeItem(z.Xr),delete x[z.Xr],w.trace("Lock released",{Name:z.Xr}));}catch(E){w.error("Unable to release Lock",{Name:z.Xr},E);}A && A(c.Xe);}}};f.config.T4?b.OI.ty("session",function(z){b.OI.p8a=z;v(c.Xe);}):v(c.Xe);});},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(14);f=a(12);l=a(519);r=a(3);m=a(520);d=a(522);h=a(8);a=a(31);b.storage=b.storage || void 0;h.ka.get(a.dh).register(r.M.MDa,function(g){var k;switch(c.config.PYb){case "idb":k=m.J9a;break;case "none":k=l.L9a;break;case "ls":k=d.K9a;}k(function(n){n.$?(b.storage=n.storage,g(f.Xe)):g(n);});});},function(r,b,a){var l,m,d,h,g,k,n,q,p,v,t,u;function c(w,x){var z;function y(){function A(B,D){return D.ve && 0 !== D.ve.length && D.ve[0].xH?l.DA(w,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.kY(D):Promise.resolve();}).catch(function(E){z.error("Unable to send stop command for session",JSON.stringify({Yb:D,error:E}));throw E;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.kY(D):Promise.resolve());}f(z).then(function(B){var D;D=B.M4.filter(function(E){return !1 === E.active;}).map(function(E){return A(B,E);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");x(m.Xe);}).catch(function(E){E=E || ({});E.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",E);x(m.Xe);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(m.Xe);});}z=k.Mi("PlayDataManager");x=x || m.ol;d.config.hp?x(m.Xe):y();}function f(w){var x;if(!b.ila){x=k.ka.get(n.Kba);b.ila=new Promise(function(y,z){x.t6a().then(function(){y(x);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.ila;}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=b.hIa=b.ila=void 0;l=a(296);m=a(12);d=a(14);h=a(60);g=a(34);k=a(8);r=a(3);n=a(203);q=a(153);p=a(15);v=a(49);t=a(31);u=a(199);b.hIa=function(w){var z,A,B,D,E,F;function x(){A || (w.Cd("pdsb"),A=k.ka.get(q.FR)().then(function(C){D=C;w.Cd("pdsc");return C;}).catch(function(C){z.error("Unable to initialize the playdata services",C);w.Cd("pdse");throw C;}));return A;}function y(){B=!0;D && D.close();h.ue.removeListener(h.Cl,y);}z=k.Ih(w,"PlayDataManager");B=!1;E=k.ka.get(g.wB);if(!E.IJ || !E.GJ){F=k.ka.get(u.Tda)();E.IJ=F.Yb;E.GJ=F.request;}w.Cd("pdctor");w.addEventListener(p.ca.jg,function(){h.ue.removeListener(h.Cl,y);});w.addEventListener(p.ca.HN,function(){var C;if(!d.config.hp && w.mf){C=w.c4.bTa();f(z).then(function(G){return G.sPa(C);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(p.ca.jg,function(){var C;if(!B){w.Z1b();C=[(function(){return d.config.hp || !w.mf?Promise.resolve():new Promise(function(G){var J;z.info("Sending the expedited playdata");J=w.c4.bTa();w.mf.EVa(J).then(function(){z.info("Sent the expedited playdata");return f(z);}).then(function(K){return K?K.kY(J):Promise.resolve();}).then(function(){G(void 0);}).catch(function(K){z.error("Unable to send the expedited playdata",K);G();});});})(),(function(){return x().then(function(G){return G.$Y(w.ha);}).then(function(){z.info("Sent the playdata");}).catch(function(G){z.error("Unable to send the playdata",G);});})(),(function(){return new Promise(function(G){k.ka.get(v.Rm).flush(!1).catch(function(){z.error("Unable to send logblob");G(void 0);}).then(function(){G(void 0);});});})()];Promise.all(C).then(function(){w.Z8();}).catch(function(){w.Z8();});}});h.ue.addListener(h.Cl,y);return {EWb:function(C){w.Cd("pdpb");d.config.A$ || x().then(function(G){return G.send(w.J);}).then(function(){d.config.hp?(w.Cd("pdpc"),C(m.Xe)):c(w,function(){w.Cd("pdpc");C(m.Xe);});}).catch(function(){w.Cd("pdpe");C(m.Xe);});}};};b.iIa=function(){return new Promise(function(w){c({},function(x){w(x);});});};k.ka.get(t.dh).register(r.M.pB,function(w){w(m.Xe);});},function(r,b,a){var l,m,d,h,g,k,n,q,p,v,t,u;function c(w){var x;x=this;this.j=w;this.b1a=!1;this.log=m.Ih(this.j,"Playback");this.GN=m.ka.get(q.iR);this.sh=m.ka.get(v.Ws);this.yRb=m.ka.get(t.Jda);this.j.addEventListener(p.ca.HN,function(){return x.X0b();});d.kb(l.config);l.config.hp || (this.yAb=m.ka.get(h.uBa));}function f(w,x){var z;function y(A){return A && 0 < A.length && A[0].xH;}z=m.ka.get(q.iR);return w.ba && y(w.ve)?z.release({ba:w.ba,ve:w.ve}).then(function(){}):x.ba && y(x.ve)?z.release(x).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.DA=b.AAa=void 0;l=a(14);m=a(8);d=a(21);h=a(314);g=a(3);k=a(62);n=a(19);q=a(187);p=a(15);v=a(66);t=a(297);u=a(34);c.prototype.XG=function(w){var x;x=this;return new Promise(function(y,z){var A,B,D;A=k.$n.SSa(w.Tf);B=w.dk.map(function(E){return {sessionId:E.sessionId,dataBase64:m.lC(E.data)};});D=x.j.tGb(w.dk[0].sessionId);A={Ri:D.Ri,Tf:n.is.gn(w.Tf)?w.Tf:A,L4:[D.pm],dk:B,ba:D.ba,Co:w.Co,lk:D.oa.lk};x.j.XL && x.j.XL.d4 && (A.KW=x.j.XL.d4);x.GN.ty(A).then(function(E){x.j.ve=E.ve;y(E);x.UCb(D);}).catch(z);});};c.prototype.release=function(w){return f(this.j,w);};c.prototype.bTa=function(){var w;w=this.yAb.create();w.ve=this.j.ve;w.ba=this.j.ba;w.J=this.j.J;return w;};c.prototype.UCb=function(w){this.b1a || (this.b1a=!0,this.j.fireEvent(p.ca.HN,{J:w.J}));};c.prototype.X0b=function(){var w,x;w=this;x=m.ka.get(u.Gk);this.sh.Dpa || c.Uab || (c.Uab=!0,x.Zxa && l.config.W0b && l.config.mJ && this.yRb.ng(this.log,{}).then(function(){return w.log.trace("Updated NetflixId");}).catch(function(y){return w.log.error("NetflixId upgrade failed",g.Ss(y));}));};b.AAa=c;c.Uab=!1;b.DA=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jda="PboBindCommandSymbol";},function(r,b,a){var l,m,d,h,g,k,n,q,p,v,t,u;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function f(w,x,y,z,A){var B,D;B=this;this.j=w;this.type=x;this.sMa=z;this.log=A;this.e2=new h.ac(!1);this.uF={data:[],state:"",operation:""};this.mimeType=this.HVa((this.type === l.Rb.Ta.Lb?this.j.wg.value:this.j.ic.value).streams);this.et=new g.Fk();this.tga={Type:this.type};if(d.config.nD){D=!0;this.mma=new h.ac(!1);}this.log.trace("Adding source buffer",this.tga,{TypeId:this.mimeType});this.qd=y.addSourceBuffer(this.mimeType);this.qd.addEventListener("updatestart",function(){!1;B.uF.state="updatestart";});this.qd.addEventListener("update",function(){!1;B.uF.state="update";});this.qd.addEventListener("updateend",function(){var E;!1;B.e2.set(!1);B.zMa && B.zMa();B.uF.state="updateend";E=0;try{E=B.qd.buffered.length;}catch(F){}D && E && (D=!1,B.mma.set(!0),!1);});this.qd.addEventListener("error",function(E){var F;!1;try{F=E.target.error && E.target.error.message;(E.message || F) && A.error("error event received on sourcebuffer",{mediaErrorMessage:E.message});}catch(C){}w.Wd(n.M.Kib,m.S5(B.type));});this.qd.addEventListener("abort",function(){!1;});w.addEventListener(v.ca.closed,function(){B.qd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Ndb=b.kda=void 0;l=a(47);m=a(184);d=a(14);h=a(80);g=a(73);k=a(8);a(98);n=a(3);a(4);q=a(21);p=a(19);v=a(15);t=a(155);u=a(190);f.prototype.Hh=function(){return this.e2.value;};f.prototype.updating=function(){return this.qd?this.qd.updating:!1;};f.prototype.G$=function(w){this.zMa=w;};f.prototype.N5=function(){return this.uF;};f.prototype.buffered=function(){return this.qd.buffered;};f.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};f.prototype.toJSON=function(){return {type:this.type};};f.prototype.H5=function(){var w,x,y,z,A,B,D;try{w=this.qd.buffered;x=0;if(w){y=[];z=0;A=w.length;for(z=0;z < A;z++){B=w.start(z);D=w.end(z);x+=D - B;q.kb(D > B);y.push(B + "-" + D);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(E){}};f.prototype.hQa=function(w,x){!1;try{q.kb(this.qd.buffered && 1 >= this.qd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.H5()));}catch(y){}q.kb(!this.Hh());this.X8a("append",w);x=x && x.Lu / 1E3;p.Ba(x) && this.qd.timestampOffset !== x && (!1,this.qd.timestampOffset=x);this.qd.appendBuffer(w);!1;this.e2.set(!0);};f.prototype.remove=function(w,x){q.kb(!this.Hh());try{this.X8a("remove");!1;this.qd.remove(w,x);this.e2.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.tga);}};f.prototype.X8a=function(w,x){this.uF.data=x || [];this.uF.state="init";this.uF.operation=w;};f.prototype.AXb=function(w,x){this.CLb=Math.floor(1E3 * w / x);};f.prototype.Vtb=function(w){var x;if(this.qd){if((w=this.HVa([{type:this.yvb,ih:w}]),w !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.qd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.qd.changeType(w);this.mimeType=w;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.tga,{From:x,To:w}),new c(y.message));}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(w,x){!x || x.Zc?this.Yha(w,x):this.h3(w,x);return !0;};f.prototype.Yha=function(w,x){this.j.Wf.Yha(this,w,x || ({}));};f.prototype.h3=function(w,x){w=this.rvb(w,x);!1;this.j.Wf.h3(w);};f.prototype.rvb=function(w,x){var y;y=this.CLb || 0;return {YRa:function(){this.response=void 0;},ii:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:u.pc.Pc.DONE,yA:x.Y,Sw:x.Y + x.duration,Hr:x.duration,Lu:y,ek:x.ek,wa:x.wa,Oa:x.Oa,Ld:+x.Ld,location:x.location,ML:x.offset,LL:x.offset + x.fa - 1,bitrate:x.bitrate,response:w,uZa:w && 0 < w.byteLength,gD:!0,get Zc() {return !this.gD;},$7a:this.Sj - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.wa,isHeader:this.Zc,ptsStart:this.yA,ptsOffset:this.Lu,responseType:this.e8b,duration:this.Hr,readystate:this.Ah};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};f.prototype.endOfStream=function(){var w;this.j.ZF("EndOfStream");null === (w=this.j.Wf) || void 0 === w?void 0:w.a9(this.mediaType);};f.prototype.addEventListener=function(w,x,y){this.et.addListener(w,x,y);};f.prototype.removeEventListener=function(w,x){this.et.removeListener(w,x);};f.prototype.HVa=function(w){var x;x=k.ka.get(t.RR);return this.type === l.Rb.Ta.Lb?x.j4(w):x.g4(w);};Xa.Object.defineProperties(f.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},D3:{configurable:!0,enumerable:!0,get:function(){return this.sMa.D3;}},TY:{configurable:!0,enumerable:!0,get:function(){return this.sMa.TY;}},yvb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.kda=f;na(c,Error);b.Ndb=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.xTa=b.Rqa=void 0;c=a(21);f=a(24);l=a(19);(function(){var d,h,g;function m(k){c.kb(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};h=/["\r\n]/g;g=/[", ]/;b.xTa=function(k){return l.Uc(k)?l.Ba(k)?k:l.Re(k)?k.replace(h,m):l.opa(k)?k:isNaN(k)?"NaN":"":"";};b.Rqa=function(k){var n,q;n=b.xTa;q="";f.se(k,function(p,v){p=n(p) + "=" + n(v);g.test(p) && (p='"' + p + '"');q=q?q + ("," + p):p;});return q;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nj=void 0;r=b.Nj || (b.Nj={});r[r.u9a=1]="sourceopen";r[r.Vp=2]="currentTimeChanged";r[r.AY=3]="seeked";r[r.a1a=5]="licenseadded";r[r.t9a=6]="sourceBuffersAdded";r[r.i9=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fea="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hea="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var f;function c(l,m){var d;d=this;this.vk=l;this.Xg=m;this.addEventListener=function(h,g,k){return d.Xg.addListener(h,d.NTa(h,g),k);};this.removeEventListener=function(h,g){return d.Xg.removeListener(h,d.NTa(h,g));};this.getReady=function(){return d.Xg.isReady();};this.getXid=function(){return d.Ab().yz();};this.getMovieId=function(){return d.Ab().nYa();};this.getPlaygraphId=function(){return d.Xg.vGb();};this.getElement=function(){return d.Xg.An();};this.isPlaying=function(){return d.Ab().rq();};this.isPaused=function(){return d.Ab().jW();};this.isMuted=function(){return d.Ab().Apa();};this.isReady=function(){return d.Ab().isReady();};this.isBackground=function(){return d.Ab().O_a();};this.setBackground=function(h){return d.Ab().Mva(h);};this.startInactivityMonitor=function(){return d.Ab().uP();};this.setTransitionTime=function(h){return d.Ab().awa(h);};this.getDiagnostics=function(){return d.Ab().pXa();};this.getTextTrackList=function(h){return d.Ab().aoa(h);};this.getMaxRecommendedTextIndex=function(h){return d.Ab().rna(h);};this.getTextTrack=function(){return d.Ab().$na();};this.setTextTrack=function(h){return d.Ab().Xva(h);};this.getVolume=function(){return d.Ab().iZa();};this.isEnded=function(){return d.Ab().spa();};this.getBusy=function(){return d.Ab().Hh();};this.getError=function(){return d.Ab().getError();};this.getCurrentTime=function(){return d.Ab().Xt();};this.getBufferedTime=function(){return d.Ab().WWa();};this.getSegmentTime=function(){return d.Ab().K5();};this.getDuration=function(){return d.Ab().Yma();};this.getVideoSize=function(){return d.Ab().hZa();};this.getAudioTrackList=function(){return d.Ab().NWa();};this.getMaxRecommendedAudioIndex=function(){return d.Ab().gYa();};this.getAudioTrack=function(){return d.Ab().MWa();};this.getTimedTextTrackList=function(h){return d.Ab().aoa(h);};this.getMaxRecommendedTimedTextIndex=function(h){return d.Ab().rna(h);};this.getTimedTextTrack=function(){return d.Ab().$na();};this.shouldUseProjectSalsaUI=function(){return d.Ab().e9a();};this.getAdditionalLogInfo=function(){return d.Ab().JWa();};this.getTrickPlayFrame=function(h){return d.Ab().eZa(h);};this.getSessionSummary=function(){return d.Ab().Rna();};this.getTimedTextSettings=function(){return d.Ab().JV();};this.setMuted=function(h){return d.Ab().G8a(h);};this.setVolume=function(h){return d.Ab().S8a(h);};this.getPlaybackRate=function(){return d.Ab().Ho();};this.setPlaybackRate=function(h){return d.Ab().H8a(h);};this.setAudioTrack=function(h){return d.Ab().s8a(h);};this.setTimedTextTrack=function(h){return d.Ab().Xva(h);};this.setTimedTextSettings=function(h){return d.Ab().kP(h);};this.prepare=function(){return d.Ab().eI();};this.load=function(){return d.Ab().load();};this.close=function(h){return d.jQa(d.Xg.close(),h);};this.play=function(){return d.Ab().play();};this.pause=function(){return d.Ab().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(h,g){return d.jQa(d.Ab().wM(h),g);};this.induceError=function(h){return d.Ab().r_a(h);};this.loadCustomTimedTextTrack=function(h,g,k,n){return d.Ab().g1a(h,g,k,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Ab().L5();};this.getCropAspectRatioXandY=function(){return d.Ab().jXa();};this.generateScreenshots=function(h){return d.Ab().EWa(h);};this.getCurrentSegmentId=function(){return d.Xg.lXa();};this.getPlaygraphMap=function(){return d.Xg.aH();};this.updatePlaygraphMap=function(h){return d.Xg.KZ(h);};this.Nla=new Map();this.log=f.Mi("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.r1=void 0;f=a(8);a(98);c.prototype.Ab=function(){return this.Xg.Ab();};c.prototype.NTa=function(l,m){var d;this.Nla.has(l) || this.Nla.set(l,new Map());d=this.Nla.get(l);d.has(m) || d.set(m,this.Zyb(l,m));return d.get(m);};c.prototype.Zyb=function(l,m){var d;d=this;return function(h){return m(Object.assign({},h,{type:l,target:d}));};};c.prototype.jQa=function(l,m){return m?l.then(m,m):l;};b.r1=c;},function(r,b,a){b=a(248);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ea:Date.now;},function(r){r.exports={tx:{Mea:0,SJa:1,pl:2,name:["transient","semiTransient","permanent"]},ox:{sCa:0,RJa:1,b1:2,CR:3,Nx:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},L7b:{A7b:0,n5b:1,q3b:2,Nx:100,name:["trailer","montage","content"]},tv:{uEa:0,xJa:1,fkb:2,Keb:3,Nx:100,name:["left","right","up","down"]},gR:{Hdb:0,b1:1,K4b:2,h4b:3,J2b:4,J4b:5,ycb:6,Nx:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},QJ:{CR:0,KAa:1,Nx:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);r=(function(){function f(){}f.prototype.hXa=function(l){var m;m=Reflect.getMetadata(c.yda,l);l=Reflect.getMetadata(c.SKa,l);return {tSa:m,s1b:l || ({})};};f.prototype.yGb=function(l){return Reflect.getMetadata(c.TKa,l) || [];};return f;})();b.mda=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.l0a=function(f){return f instanceof RangeError || f.message === c.Djb;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);l=a(65);m=a(93);r=(function(){function d(h){this.alb=h;}d.prototype.p0b=function(){return this.alb();};return d;})();b.Pca=r;b.l=function(d){return function(h,g,k){var n;if(void 0 === d)throw Error(c.dkb(h.name));n=new l.Metadata(f.eR,d);"number" === typeof k?m.UI(h,g,k,n):m.mZ(h,g,n);};};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(107);l=a(65);m=a(562);r=(function(){function d(h,g,k,n){this.id=f.id();this.type=h;this.Kg=k;this.name=new m.gjb(g || "");this.Dc=[];h=null;"string" === typeof n?h=new l.Metadata(c.tB,n):n instanceof l.Metadata && (h=n);null !== h && this.Dc.push(h);}d.prototype.zZa=function(h){for(var g=0,k=this.Dc;g < k.length;g++){if(k[g].key === h)return !0;}return !1;};d.prototype.isArray=function(){return this.zZa(c.NE);};d.prototype.fNb=function(h){return this.bra(c.NE)(h);};d.prototype.Bpa=function(){return this.zZa(c.tB);};d.prototype.Opa=function(){return this.Dc.some(function(h){return h.key !== c.eR && h.key !== c.NE && h.key !== c.C0 && h.key !== c.XR && h.key !== c.tB;});};d.prototype.d0a=function(){return this.bra(c.LGa)(!0);};d.prototype.XFb=function(){return this.Bpa()?this.Dc.filter(function(h){return h.key === c.tB;})[0]:null;};d.prototype.IEb=function(){return this.Opa()?this.Dc.filter(function(h){return h.key !== c.eR && h.key !== c.NE && h.key !== c.C0 && h.key !== c.XR && h.key !== c.tB;}):null;};d.prototype.bra=function(h){var g;g=this;return function(k){var p;for(var n=0,q=g.Dc;n < q.length;n++){p=q[n];if(p.key === h && p.value === k)return !0;}return !1;};};return d;})();b.l1=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(196);f=a(197);r=(function(){function l(m){this.Bc=m;this.fS=new f.Eba(this.Bc);this.kfa=new c.y_(this.Bc);}l.prototype.when=function(m){return this.fS.when(m);};l.prototype.$Z=function(){return this.fS.$Z();};l.prototype.Jw=function(m){return this.kfa.Jw(m);};return l;})();b.uE=r;},function(r,b,a){var l;function c(m){return function(d){function h(g){return null !== g && null !== g.target && g.target.bra(m)(d);}h.L2a=new l.Metadata(m,d);return h;};}function f(m,d){m=m.pA;return null !== m?d(m)?!0:f(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(43);l=a(65);b.eab=f;b.m$a=c;a=c(r.tB);b.p3a=a;b.lab=function(m){return function(d){var h;if(null !== d){h=d.NT[0];return "string" === typeof m?h.Kg === m:m === d.NT[0].sm;}return !1;};};},function(r,b,a){var l;function c(m,d){this.vg=d;this.Zz=Math.floor(m);this.display=this.Zz + " " + this.vg.name;}function f(m,d,h){this.vg=m;this.name=d;this.vl=h?h:this;l.Po(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Ts=b.YR=void 0;l=a(56);f.prototype.UU=function(m){return this.vg == m.vg;};f.prototype.toJSON=function(){return this.name;};b.YR=f;c.prototype.da=function(m){return this.vg.UU(m)?this.Zz:Math.floor(this.Zz * this.vg.vg / m.vg);};c.prototype.K5a=function(m){return this.vg.UU(m)?this.Zz:this.Zz * this.vg.vg / m.vg;};c.prototype.as=function(m){return new c(this.da(m),m);};c.prototype.to=function(m){return new c(this.da(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Zz,units:this.vg.name};};c.prototype.add=function(m){return this.pSa(m);};c.prototype.Qa=function(m){return this.pSa(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.da(this.vg.vl) * m,this.vg.vl);};c.prototype.yl=function(m){return this.da(this.vg.vl) - m.da(this.vg.vl);};c.prototype.UU=function(m){return 0 == this.yl(m);};c.prototype.y0a=function(){return 0 == this.Zz;};c.prototype.Cpa=function(){return 0 > this.Zz;};c.prototype.CKb=function(){return 0 < this.Zz;};c.prototype.pSa=function(m,d){d=void 0 === d?function(h){return h;}:d;return new c(this.da(this.vg.vl) + d(m.da(this.vg.vl)),this.vg.vl);};b.Ts=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fIa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uBa="DrmDataFactorySymbol";},function(r,b,a){var f,l;function c(m,d,h,g,k){this.version=m;this.pO=d;this.O9a=h;this.Tn=g;this.dx=k;this.$v=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Gca=void 0;f=a(3);l=a(41);c.prototype.load=function(m){return this.gMb(m);};c.prototype.add=function(m){this.$v.push(m);return this.dta();};c.prototype.remove=function(m,d){m=this.ZWa(this.NM(m,d));return 0 <= m?(this.$v.splice(m,1),this.dta()):Promise.resolve();};c.prototype.update=function(m,d){d=this.ZWa(this.NM(m,d));return 0 <= d?(this.$v[d]=m,this.dta()):Promise.resolve();};c.prototype.gMb=function(m){var d;d=this;this.h1a || (this.h1a=new Promise(function(h,g){function k(n){d.pzb().then(function(){g(n);}).catch(function(){g(n);});}d.Tna().then(function(n){d.storage=n;return d.storage.load(d.pO);}).then(function(n){var q;n=n.value;try{q=m(n);d.version=q.version;d.$v=q.data;h();}catch(p){k(p);}}).catch(function(n){n.na !== f.L.BB?g(n):h();});}));return this.h1a;};c.prototype.dta=function(){var m,d,h,g,k;m=this;if(!this.O9a)return Promise.resolve();if(this.U$){g=new Promise(function(n,q){d=n;h=q;});k=function(){m.U$=g;m.M9a().then(function(){d();}).catch(function(n){h(n);});};this.U$.then(k).catch(k);return g;}return this.U$=this.M9a();};c.prototype.M9a=function(){var m,d;m=this;d=this.dx();return new Promise(function(h,g){m.Tna().then(function(k){return k.save(m.pO,d,!1);}).then(function(){h();}).catch(function(k){g(c.p_b(f.M.uib,k));});});};c.prototype.pzb=function(){var m;m=this;return this.O9a?new Promise(function(d,h){m.Tna().then(function(g){return g.remove(m.pO);}).then(function(){d();}).catch(function(g){h(g);});}):Promise.resolve();};c.prototype.Tna=function(){return this.storage?Promise.resolve(this.storage):this.Tn.create();};c.prototype.NM=function(m,d){for(var h=0;h < this.$v.length;++h){if(d(this.$v[h],m))return this.$v[h];}};c.prototype.ZWa=function(m){return m?this.$v.indexOf(m):-1;};c.p_b=function(m,d){var h;if(d.na && d.cause)return new l.od(m,d.na,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.zc){h=d.message?d.message + " ":"";d.code=m;d.message="" === h?void 0:h;return d;}return d instanceof Error?new l.od(m,f.L.Kj,void 0,void 0,void 0,void 0,d.stack,d):new l.od(m,f.L.Sl,void 0,void 0,void 0,void 0,void 0,d);};b.Gca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nea="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zGa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wBa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZBa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WBa=b.nF=void 0;r=b.nF || (b.nF={});r[r.Request=0]="Request";r[r.CJa=1]="Renewal";b.WBa="EmeApiSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.g1=void 0;a.sJb=function(c){return "ID" + (c + 1);};a.V9a=function(c){return Number(c.substr(2)) - 1;};b.g1=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E;function c(F,C,G,J,K,I,M,R){var H;H=this;this.za=C;this.Dy=G;this.config=J;this.Bh=K;this.Ql=I;this.Co=M;this.Wo=R;this.keyStatuses=new z.ac({});this.Fsa=function(Q){var N,L,P,S,U,da;try{L=H.Ql.dka(Q);P=L.DH;S=L.messageType;U=L.sessionId;H.vw=H.vw || L.vw;H.HY(U);H.log.trace("Received " + Q.type + " event",{sessionId:U,messageType:S,keyIds:H.vw});S === b.bda && (H.log.trace("Received a renewal request"),H.Tf=n.Vh.qp,H.Zk=D.oI);H.Zk === D.Gg && H.Jp(q.Qs.F6a);H.Zk === D.oI && H.Jp(q.Qs.G6a);da={dk:P,LRa:S,Tf:H.Tf};null === (N=H.gQb) || void 0 === N?void 0:N.call(H,da);H.wW && (H.voa(P)?H.lD(new y.od(m.M.LBa)):(H.wW.resolve(da),H.wW=void 0));}catch(ka){H.lD(ka);}};this.Dsa=function(Q){var N,L,P,S,U,ma,X,ua,ya,O,T,ja,Qa,Ua,Za,ab,kb,Ya;P=Q.target;S=P.keyStatuses;H.HY(P.sessionId);H.log.trace("Received event: " + Q.type);try{U=null === (L=null === (N=H.context) || void 0 === N?void 0:N.Hu) || void 0 === L?void 0:L.reduce(function(Sa,Ba){Sa[Ba.nj]=Ba.tI.height;return Sa;},{});Q=[];for(var da=ba(S),ka=da.next();!ka.done;ka=da.next()){ma=ba(ka.value);X=ma.next().value;ua=ma.next().value;ya=H.Dy.encode(new Uint8Array(X));Q.push({nj:ya,status:ua,height:null === U || void 0 === U?void 0:U[ya]});}Q.sort(function(Sa,Ba){return (Sa.height || 0) - (Ba.height || 0);});O=Q.map(function(Sa){return Sa.nj;});T=Q.map(function(Sa){return Sa.height;});ja=Q.map(function(Sa){return Sa.status;});H.log.trace("KeyStatus: " + O + ", " + T + ", " + ja);U={};for(var pa=ba(S),sa=pa.next();!sa.done;sa=pa.next()){Qa=ba(sa.value);Ua=Qa.next().value;Za=Qa.next().value;ab=H.Dy.encode(new Uint8Array(Ua));kb=E[Za];U[ab]=kb.status;if(H.m7(ab,kb.error)){Ya=new w.Mg(kb.error);H.mW(Ya);}}H.keyStatuses.set(U);}catch(Sa){Ya=new w.Mg(m.M.Eib);Ya.yU(Sa);}Ya?H.y7(Ya):(H.Ql.Y3() || H.A0a(),H.Tf !== n.Vh.ao || H.Ql.uia() || H.bVb());};this.Jn=function(Q){var N;N=H.Ql.Ty(Q);H.log.error("Received event: " + Q.type,N);H.lD(N);H.y7(N);H.hq || H.ou || H.mW(N);};this.$Pb=function(){H.log.error("MediaKeySession closed unexpectedly.");H.mW(new y.od(m.M.gfb));};this.lD=function(Q){var N;H.hq && H.close().then(function(){var L;H.log.trace("Issuing a generate challenge error");null === (L=H.hq) || void 0 === L?void 0:L.reject(Q);H.hq=void 0;},function(L){var P;H.log.error("EmeSession closed with an error.",H.Ql.Ty(L));null === (P=H.hq) || void 0 === P?void 0:P.reject(Q);H.hq=void 0;});null === (N=H.wW) || void 0 === N?void 0:N.reject(Q);};this.XKb=function(){var Q;null === (Q=H.hq) || void 0 === Q?void 0:Q.resolve();H.hq=void 0;};this.y7=function(Q){H.log.error("Failed to add license",Q);return H.close().then(function(){var N;H.log.trace("Issuing a license error");H.hq=void 0;null === (N=H.ou) || void 0 === N?void 0:N.reject(Q);H.ou=void 0;},function(N){var L;H.log.error("EmeSession closed with an error.",H.Ql.Ty(N));H.Zk === D.oI && H.Jp(q.Qs.GPa);H.hq=void 0;null === (L=H.ou) || void 0 === L?void 0:L.reject(Q);H.ou=void 0;}).then(function(){throw Q;});};this.A0a=function(){H.ou && (H.log.info("Successfully added license"),H.Zk === D.Gg?H.Jp(q.Qs.xPa):H.Zk === D.oI && H.Jp(q.Qs.FPa),H.ou.resolve(),H.ou=void 0);};this.mW=function(Q){H.close().then(function(){var N;H.log.trace("Issuing a CDM error");H.hq=void 0;H.ou=void 0;null === (N=H.c4a) || void 0 === N?void 0:N.call(H,Q);},function(N){var L;H.log.error("EmeSession closed with an error.",H.Ql.Ty(N));H.hq=void 0;H.ou=void 0;null === (L=H.c4a) || void 0 === L?void 0:L.call(H,Q);});};this.Jp=function(Q){H.md.push({time:H.za.Wb(),PW:Q});};this.a7a=!1;this.log=F.hb("EmeSession");this.Zk=D.i0b;this.md=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$Ba=b.bda=b.cda=void 0;r=a(1);f=a(0);l=a(4);m=a(3);d=a(18);h=a(7);g=a(36);k=a(69);n=a(57);q=a(323);p=a(206);v=a(137);t=a(204);u=a(320);w=a(95);x=a(64);y=a(41);z=a(80);A=a(613);B=a(63);(function(F){F[F.i0b=0]="unknown";F[F.create=1]="create";F[F.load=2]="load";F[F.Gg=3]="license";F[F.oI=4]="renewal";F[F.stop=5]="stop";F[F.closed=6]="closed";})(D || (D={}));b.cda="license-request";b.bda="license-renewal";E={usable:{status:p.pv.Vab},expired:{status:p.pv.Nt,error:m.M.ZGa},released:{status:p.pv.released},"output-not-allowed":{status:p.pv.v4a,error:m.M.$Ga},"output-restricted":{status:p.pv.v4a,error:m.M.Dda},"output-downscaled":{status:p.pv.aRb},"status-pending":{status:p.pv.KYb},"internal-error":{status:p.pv.LJb,error:m.M.Dib}};c.prototype.Vt=function(){var F,C;if(this.rra){C=null === (F=this.rra) || void 0 === F?void 0:F.keySystem;(F=B.a6(this.rra)) && (C+="." + F);return C;}return "n/a";};c.prototype.rz=function(){return this.sessionId;};c.prototype.close=function(){var F;F=this;this.Zk=D.closed;this.md=[];return this.Bh.IKb()?(this.log.trace("Closing the session"),this.Bh.V6a(this.Fsa),this.Bh.T6a(this.Dsa),this.Bh.R6a(this.Jn),this.mediaKeys=void 0,this.Wo.Iq(this.config.bQa,this.Bh.close()).then(function(){F.log.info("Closed the session");}).catch(function(C){F.log.error("Close failed",C);F.Ql.Ty(C).code=m.M.Gib;throw C;})):Promise.resolve(void 0);};c.prototype.Ut=function(){return this.Co;};c.prototype.A6=function(){return void 0 !== this.oj;};c.prototype.createSession=function(F,C,G,J){var K;K=this;this.context=J;this.rra=F;this.Tf=G;this.Zk=D.create;this.Jp(q.Qs.$0a);return (C.vZa()?Promise.resolve():this.Wo.Iq(this.config.cQa,this.Bh.createMediaKeys(F)).then(function(I){K.log.trace("Created media keys");C.setMediaKeys(I);return K.jrb(I);})).then(function(){K.mediaKeys=C.mediaKeys;try{K.Bh.createSession(K.mediaKeys,"temporary");K.Bh.APa(K.Fsa);K.Bh.vPa(K.Dsa);K.Bh.tPa(K.Jn);K.Bh.aqb(K.$Pb);K.HY(K.Bh.rz());}catch(I){return Promise.reject(new w.Mg(m.M.$eb,m.L.Kj,void 0,"Unable to create a persisted key session",I));}}).catch(function(I){return I.code && I.zc?Promise.reject(I):Promise.reject(new w.Mg(m.M.DQ,I instanceof x.hr?m.L.EQ:m.L.Kj,void 0,"Unable to create MediaKeys. " + I.message,I));});};c.prototype.nXb=function(F){this.Qi=F;this.log.qPa("xid",F.ba);};c.prototype.MDb=function(F){var C;C=this;return this.generateRequest(F).then(function(){C.log.trace("Returning the challenge promise");return C.wW.promise;});};c.prototype.NDb=function(F){this.generateRequest(F);return this.hq.promise;};c.prototype.wPa=function(F){this.ve=F.ve;F=F.oj.map(function(C){return C.data;});this.voa(F)?(this.log.error("The license buffer is empty"),this.lD(new w.Mg(m.M.KBa,m.L.IBa))):(this.Zk === D.Gg && (this.Jp(q.Qs.E6a),this.oj=F,this.IUa=this.Ql.VM(this.vw,F),this.XKb()),this.Zk === D.oI && (this.Jp(q.Qs.H6a),this.oj=F,this.IUa=this.Ql.VM(this.vw,F),this.aia()));};c.prototype.lqb=function(F){this.Zk === D.oI?(this.Jp(q.Qs.I6a),this.mW(F)):this.lD(F);};c.prototype.aia=function(){var F,C;F=this;if(!this.oj)return this.y7(new w.Mg(m.M.KBa,m.L.NBa));this.ou=new A.T0();C=this.oj;this.oj=void 0;this.Wo.Iq(this.config.gQa,this.Bh.update(C,this.Zk === D.Gg?u.nF.Request:u.nF.CJa,this.vw)).then(function(){F.Ql.Y3() && F.A0a();}).catch(function(G){G=F.Ql.Ty(G);G.code=m.M.P0;G.message="Unable to update the EME";F.log.error(G.message,G);F.y7(G);});return this.ou.promise;};c.prototype.gXb=function(F){this.gQb=F;};c.prototype.aXb=function(F){this.c4a=F;};c.prototype.VM=function(){return this.IUa;};c.prototype.generateRequest=function(F){var C;C=this;this.Zk=D.Gg;this.log.trace("Generating a license challenge");this.hq=new A.T0();this.wW=new A.T0();return F?this.voa(F)?(F=new w.Mg(m.M.JBa,m.L.IBa),this.lD(F),Promise.reject(F)):this.Wo.Iq(this.config.dQa,this.Bh.generateRequest(this.Ql.wV(),F)).then(function(){C.HY(C.Bh.rz());}).catch(function(G){var J,K;J=new w.Mg(m.M.Y_,G instanceof x.hr?m.L.EQ:m.L.Kj);K=C.Ql.Ty(G);J.Jd=K.Jd;J.message="Unable to generate request.";J.yU(G);C.log.error("Unable to generate a license request",J);C.lD(J);return Promise.reject(J);}):(F=new w.Mg(m.M.JBa,m.L.NBa),this.lD(F),Promise.reject(F));};c.prototype.jrb=function(F){var C,G;C=this;G=this.Ql.Vma();return G?(G=this.Dy.decode(G),this.Wo.Iq(this.config.fQa,this.Bh.setServerCertificate(F,G)).then(function(J){C.log.trace("Set the server certificate",{result:J});})):Promise.resolve();};c.prototype.HY=function(F){F && F !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + F),this.sessionId=F,this.log.qPa("sessionId",F));};c.prototype.bVb=function(){var F;F=this;this.a7a || (this.a7a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.nD}),setTimeout(function(){F.nI();},this.config.nD.da(l.ja)));};c.prototype.QKb=function(F){var C,G;return !(null === (G=null === (C=this.context) || void 0 === C?void 0:C.Hu) || void 0 === G || !G.some(function(J){return J.nj === F && 1080 < J.tI.height;}));};c.prototype.m7=function(F,C){return C === m.M.Dda?this.QKb(F)?this.config.x4a:this.config.w4a:! !C;};c.prototype.nI=function(){this.log.trace("Initiating a renewal request");this.Tf=n.Vh.qp;this.Zk=D.oI;this.Ql.gja()?this.Ql.kpa(this.Bh):this.i4();};c.prototype.i4=function(){var F;F=this;this.Bh.i4(this.mediaKeys,"temporary",this.Fsa,this.Dsa,this.Jn).then(function(){F.log.debug("Creating session to renew license");F.HY(F.Bh.rz());}).catch(function(){F.mW(new w.Mg(m.M.Y_));});};c.prototype.voa=function(F){return 0 === F.length || F.reduce(function(C,G){return C || 0 === G.length;},!1);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(h.qb)),r.__param(1,f.l(d.fd)),r.__param(2,f.l(g.zi)),r.__param(3,f.l(k.qv)),r.__param(4,f.l(u.WBa)),r.__param(5,f.l(t.Xeb)),r.__param(6,f.l(v.ABa)),r.__param(7,f.l(x.Px))],a);b.$Ba=a;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.JUa=b.Qs=void 0;(function(c){c[c.$0a=0]="licenseStarted";c[c.F6a=1]="receivedLicenseChallenge";c[c.E6a=2]="receivedLicense";c[c.G6a=3]="receivedRenewalChallengeComplete";c[c.H6a=4]="receivedRenewalLicenseComplete";c[c.I6a=5]="receivedRenewalLicenseFailed";c[c.cUb=6]="receivedIndivChallengeComplete";c[c.dUb=7]="receivedIndivLicenseComplete";c[c.xPa=8]="addLicenseComplete";c[c.FPa=9]="addRenewalLicenseComplete";c[c.GPa=10]="addRenewalLicenseFailed";})(a=b.Qs || (b.Qs={}));b.JUa=function(c){switch(c){case a.$0a:return "lg";case a.F6a:return "lc";case a.E6a:return "lr";case a.G6a:return "renew_lc";case a.H6a:return "renew_lr";case a.I6a:return "renew_lr_failed";case a.cUb:return "ilc";case a.dUb:return "ilr";case a.xPa:return "ld";case a.FPa:return "renew_ld";case a.GPa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pAa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NGa="OneWayCounterFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cba=void 0;r=a(1);a=a(0);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(l){for(var m=new Uint8Array(l.length / 2),d=0;d < m.length;d++){m[d]=this.R$a(l.substr(2 * d,2));}return m;};c.prototype.encode=function(l){var g;for(var m="",d=l.length,h=0;h < d;h++){g=l[h];m+=("0123456789ABCDEF")[g >>> 4] + ("0123456789ABCDEF")[g & 15];}return m;};c.prototype.PG=function(l,m){var d;d="";for(m<<=1;m--;){d=(("0123456789ABCDEF")[l & 15] || "0") + d;l>>>=4;}return d;};c.prototype.R$a=function(l){var m;m=l.length;if(7 < m)throw Error("hex to long");for(var d=0,h=0;h < m;h++){d=16 * d + f[l[h]];}return d;};a=r.__decorate([a.R()],c);b.Cba=a;},function(r,b,a){var f,l;function c(){this.cq={};this.id="$es$" + f.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Fk=void 0;r=a(1);a=a(0);c.prototype.addListener=function(m,d,h){var g,k;g="$netflix$player$order" + this.id + "$" + m;if(this.cq){k=this.cq[m]?this.cq[m].slice():[];h && (d[g]=h);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,q){return (n[g] || 0) - (q[g] || 0);}));this.cq[m]=k;}};c.prototype.removeListener=function(m,d){if(this.cq && this.cq[m]){for(var h=this.cq[m].slice(),g;0 <= (g=h.indexOf(d));){h.splice(g,1);}this.cq[m]=h;}};c.prototype.Cc=function(m,d,h){var g;if(this.cq){g=this.hna(m);for(m={sJ:0};m.sJ < g.length;(m={sJ:m.sJ},m.sJ++)){h?(function(k){return function(){var n;n=g[k.sJ];setTimeout(function(){n(d);},0);};})(m)():g[m.sJ].call(this,d);}}};c.prototype.Fh=function(){this.cq=void 0;};c.prototype.on=function(m,d,h){this.addListener(m,d,h);};c.prototype.hna=function(m){var d;return null !== (d=this.cq && (this.cq[m] || (this.cq[m]=[]))) && void 0 !== d?d:[];};l=f=c;l.counter=0;l=f=r.__decorate([a.R()],l);b.Fk=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HAa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ba="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pda=b.Ahb=void 0;b.Ahb=function(){};b.pda="MseConfigSymbol";},function(r,b,a){function c(f){this.Dmb=void 0 === f?!1:f;this.bf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.kea=void 0;r=a(1);a=a(0);c.prototype.add=function(f,l){var m;l=void 0 === l?0:l;m=this.bf[l];m?this.Dmb && -1 !== m.indexOf(f) || m.push(f):this.bf[l]=[f];};c.prototype.remove=function(f,l){this.my(f,void 0 === l?0:l);};c.prototype.removeAll=function(f){this.my(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.bf).sort().reduce(function(l,m){return l.concat(f.bf[m]);},[]);};c.prototype.my=function(f,l){Object.entries(this.bf).forEach(function(m){var d,h;d=ba(m);m=d.next().value;d=d.next().value;if(void 0 === l || l === parseInt(m)){-1 < (h=d.indexOf(f)) && d.splice(h,1);}});};a=r.__decorate([a.R()],c);b.kea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FLa="UrlFactorySymbol";},function(r,b,a){var f,l,m;function c(d,h,g,k,n,q,p){this.debug=d;this.config=h;this.platform=g;this.m8=k;this.debug.assert(n && n != l.M.Sl,"There should always be a specific error code");this.errorCode=n || l.M.Sl;q && "object" === typeof q?(this.na=q.na || q.zc,this.nf=q.nf || q.Jd,this.Hla=q.Hla || q.rn,this.ub=q.ub || q.details,this.DU=q.hk,this.X4=q.X4 || q.vac || q.kA,this.zM=q.zM || q.data,q.MW && (this.MW=q.MW),this.ik=q.ik,this.method=q.method,this.L8=q.L8,this.alert=q.alert,this.Rha=q.Rha,this.gH=q.gH,!this.ub && this.gH && (this.ub=JSON.stringify(this.gH)),this.debug.assert(!this.ik || this.ik == this.nf)):(this.na=q,this.nf=p);this.stack=[this.errorCode];this.na?this.stack.push(this.na):this.nf && this.stack.push(l.L.Sl);this.nf && this.stack.push(this.nf);this.G4=this.platform.aq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;f=a(12);l=a(3);m=a(19);a(24);c.prototype.toString=function(){var d;d="[PlayerError #" + this.G4 + "]";this.ub && (d+=" " + this.ub);this.DU && (d+=" (CustomMessage: " + this.DU + ")");return d;};c.prototype.xZ=function(){var d,h,g,k;this.DU && (g=["streaming_error"]);g || this.m8.Ut() !== f.X_ || ("80080017" == this.nf && (g=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.nf && (g=["pause_timeout"]));g || this.m8.Ut() !== f.dca || this.errorCode !== l.M.HBa && this.errorCode !== l.M.DQ || (g=["no_cdm","platform_error","plugin_error"]);this.KKb() && (g=["received_soad"]);k=this.vEb();k && (g=[k],this.DU=void 0);if(!g)switch(this.errorCode){case l.M.O0:case l.M.t0:case l.M.mcb:case l.M.ZGa:g=["pause_timeout"];break;case l.M.VDa:case l.M.WDa:g=this.na?["platform_error"]:["multiple_tabs"];break;case l.M.Vgb:case l.M.Ljb:case l.M.ugb:case l.M.tgb:case l.M.wgb:g=["should_signout_and_signin"];break;case l.M.Eca:case l.M.dHa:case l.M.Eda:case l.M.XGa:g=["platform_error","plugin_error"];break;case l.M.DR:g=["no_cdm","platform_error","plugin_error"];break;case l.M.OBa:case l.M.fr:case l.M.P0:switch(this.nf){case "FFFFD000":g=["device_needs_service","platform_error"];break;case "48444350":g=["unsupported_output","platform_error"];break;case "00000024":g=["private_mode"];}break;case l.M.$Ga:case l.M.Dda:g=["unsupported_output"];}!g && l.jCa(this.na) && (g=this.na == l.L.bR?["geo"]:["internet_connection_problem"]);g || this.errorCode !== l.M.DQ || this.na !== l.L.Kj || "S" !== this.platform.aq || (g=["private_mode"]);if(!g)switch(this.Y9a(this.na)){case l.L.Zea:g=["should_upgrade"];break;case l.L.VGa:g=["should_reset_device"];break;case l.L.UGa:g=["should_reload_device"];break;case l.L.TGa:g=["should_exit_device"];break;case l.L.Chb:case l.L.sFa:g=["should_signout_and_signin"];break;case l.L.Dhb:g=["internet_connection_problem"];break;case l.L.MAa:g=["platform_error","plugin_error"];break;case l.L.LAa:case l.L.CDa:case l.L.DDa:g=["private_mode"];break;case l.L.$ca:g=["should_reload_with_preferred_locales"];}g=g || [];g.push(this.platform.aq + this.errorCode);if(this.na)switch(this.Y9a(this.na)){case l.L.WGa:g.push("incorrect_pin");break;default:g.push("" + this.na);}return {display:{code:this.G4,text:this.DU},messageIdList:g,alert:this.alert,alertTag:this.Rha,preferredAudioLocale:null === (d=this.gH) || void 0 === d?void 0:d.WZa,preferredTextLocale:null === (h=this.gH) || void 0 === h?void 0:h.XZa};};c.prototype.Y9a=function(d){var h;h=parseInt(d,10);return isNaN(h)?d:h;};c.prototype.KKb=function(){var d;d=m.Ba(this.nf)?this.nf.toString():m.Re(this.nf)?this.nf:"";return this.X4 === l.B0.Tea && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.vEb=function(){if(this.errorCode === l.M.SJ && (this.na === l.L.zda || this.na === l.L.SGa))return this.wEb(this.na === l.L.zda);};c.prototype.wEb=function(d){var h,g,k,n;k=this.config().browserInfo || ({});n=null === (h=k.os) || void 0 === h?void 0:h.name;h=((null === (g=k.os) || void 0 === g?void 0:g.version) || "").split(".");g=parseInt(h && h[0]);h=parseInt(h && h[1]);switch(n){case "windows":return 6 > g || 6 === g && 1 > h?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > g || 10 === g && 10 > h?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.GIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jda="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GQ="EventSourceFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.GQ=b.nCa=void 0;r=a(1);f=a(327);a=a(0);c.prototype.create=function(){return new f.Fk();};a=r.__decorate([a.R()],c);b.nCa=a;b.GQ="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UAa="DebouncerFactorySymbol";},function(r,b,a){var f;function c(l,m,d,h,g,k){this.level=l;this.yo=m;this.timestamp=d;this.message=h;this.bc=g;this.index=void 0 === k?0:k;this.Rgb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Tca=void 0;f=a(4);c.prototype.jaa=function(l,m){var d;d="" + this.message;this.bc.forEach(function(h){d+=h.aJ(l,m);});return (this.timestamp.da(f.ja) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Rgb[this.level] || this.level) + "|" + this.yo + "| " + d;};b.Tca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oGa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hKa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sIa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SLa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qLa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jBa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yHa="PboGenerateScreenshotsCommandSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(663),b);r.__exportStar(a(664),b);r.__exportStar(a(665),b);r.__exportStar(a(666),b);r.__exportStar(a(667),b);r.__exportStar(a(668),b);r.__exportStar(a(669),b);r.__exportStar(a(670),b);r.__exportStar(a(671),b);r.__exportStar(a(672),b);r.__exportStar(a(673),b);r.__exportStar(a(674),b);r.__exportStar(a(678),b);r.__exportStar(a(212),b);r.__exportStar(a(679),b);r.__exportStar(a(213),b);r.__exportStar(a(680),b);r.__exportStar(a(681),b);r.__exportStar(a(682),b);r.__exportStar(a(683),b);r.__exportStar(a(684),b);r.__exportStar(a(685),b);r.__exportStar(a(686),b);r.__exportStar(a(687),b);r.__exportStar(a(688),b);r.__exportStar(a(689),b);r.__exportStar(a(690),b);r.__exportStar(a(691),b);r.__exportStar(a(692),b);r.__exportStar(a(693),b);r.__exportStar(a(694),b);r.__exportStar(a(695),b);r.__exportStar(a(696),b);r.__exportStar(a(697),b);r.__exportStar(a(705),b);r.__exportStar(a(707),b);r.__exportStar(a(708),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$ha=void 0;b.$ha=function(a,c,f){var l,m;l=!0;f.forEach(function(d){var h;if(l && a === d.profile){h=d.ranges;l=void 0 === h?c >= d.min && c <= d.max:h.some(function(g){return c >= g.min && c <= g.max;});!l && d.disallowed && d.disallowed.some(function(g){if(g.stream.bitrate === c)return (m=g.disallowedBy,!0);});}});return {inRange:l,F4:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YE=void 0;b.YE={tn:function(a){return a;}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jF=b.hK=void 0;c=a(348);(function(l){l[l.RX=0]="primary";l[l.MG=1]="fallback";})(f=b.hK || (b.hK={}));r=(function(){function l(m,d){var h;void 0 === d && (d=!1);this.Dtb=d;this.filters=(h={},h[f.RX]=[],h[f.MG]=[],h);Array.isArray(m)?m.forEach(this.and.bind(this)):this.and(m);}l.prototype.and=function(m,d){void 0 === d && (d=f.RX);m !== c.YE && this.filters[d].push({filter:m,GSa:!0});return this;};l.prototype.or=function(m,d){void 0 === d && (d=f.RX);this.filters[d].push({filter:m,GSa:!1});return this;};l.prototype.filter=function(m){var d;d=this;[f.RX,f.MG].forEach(function(h){d.filters[h]=d.filters[h].filter(function(g){return m(h,g.filter);});});};l.prototype.tn=function(m,d){var h;h=this;return [f.RX,f.MG].reduce(function(g,k){return h.filters[k].reduce(function(n,q){q.GSa?n=q.filter.tn(n,d):0 === n.length && (n=q.filter.tn(m,d));return n;},g);},m);};return l;})();b.jF=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dr=b.njb=void 0;c=a(2);f=a(214);r=(function(){function l(m,d){this.G=m;this.Bz=d?[d]:[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});l.prototype.addListener=function(m){-1 === this.Bz.indexOf(m) && (this.Bz=this.Bz.slice(),this.Bz.push(m));};l.prototype.removeListener=function(m){m=this.Bz.indexOf(m);-1 !== m && (this.Bz=this.Bz.slice(),this.Bz.splice(m,1));};return l;})();b.njb=r;r=(function(l){function m(d,h){return l.call(this,d,h) || this;}c.__extends(m,l);m.iya=function(d,h,g){return new f.wda(d,h,g,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var h;h=this.G;h !== d && (this.G=d,this.Bz.forEach(function(g){return g({oldValue:h,newValue:d});}));};return m;})(r);b.dr=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ae=void 0;r=a(2);r.__exportStar(a(352),b);r.__exportStar(a(723),b);r.__exportStar(a(215),b);r.__exportStar(a(724),b);r.__exportStar(a(725),b);r.__exportStar(a(726),b);r.__exportStar(a(353),b);r.__exportStar(a(728),b);c=a(54);Object.defineProperties(b,{ae:{enumerable:!0,get:function(){return c.ae;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ns=b.hQ=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.HMb=2]="lowCpuPlaybackStarting";})(b.hQ || (b.hQ={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Ns || (b.Ns={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cka=b.kCb=b.tC=b.II=void 0;c=a(2);f=a(22);l=a(67);Object.defineProperties(b,{II:{enumerable:!0,get:function(){return l.II;}}});Object.defineProperties(b,{tC:{enumerable:!0,get:function(){return l.tC;}}});b.kCb=function(m,d){var h,p,v;m=Math.max(m.duration - 3E4,3E4);for(var g={},k,n=0,q=0;q < m;q+=3E4){p="s" + n++;v={Z:d,xc:q,Nc:q + 3E4 < m?q + 3E4:null};void 0 !== k && (k.next=(h={},h[p]={weight:1},h),k.Eh=p);k=g[p]=v;}return {Qe:"s0",Aa:g,Zd:"lazy"};};b.cka=function(m,d,h){var g,q,p,v;try{for(var k=c.__values(Object.keys(m.Aa)),n=k.next();!n.done;n=k.next()){q=n.value;p=m.Aa[q];if(p.Z === d){v=f.T.Fb(p.xc);if(h.Or(v) && (null === p.Nc || void 0 === p.Nc || h.lessThan(f.T.Fb(p.Nc))))return {wa:q,offset:h.Qa(v)};}}}catch(u){var t;t={error:u};}finally{try{n && !n.done && (g=k.return) && g.call(k);}finally{if(t)throw t.error;}}};},function(r){function b(){}function a(c){this.aPa=c;this.wp=[];this.Bg=null;}b.prototype.clear=function(){this.bf=null;this.size=0;};b.prototype.find=function(c){var l;for(var f=this.bf;null !== f;){l=this.Zm(c,f.data);if(0 === l)return f.data;f=f.ph(0 < l);}return null;};b.prototype.lowerBound=function(c){var d;for(var f=this.bf,l=this.iterator(),m=this.Zm;null !== f;){d=m(c,f.data);if(0 === d)return (l.Bg=f,l);l.wp.push(f);f=f.ph(0 < d);}for(d=l.wp.length - 1;0 <= d;--d){if((f=l.wp[d],0 > m(c,f.data)))return (l.Bg=f,l.wp.length=d,l);}l.wp.length=0;return l;};b.prototype.upperBound=function(c){for(var f=this.lowerBound(c),l=this.Zm;null !== f.data() && 0 === l(f.data(),c);){f.next();}return f;};b.prototype.min=function(){var c;c=this.bf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.bf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.lf=function(c){for(var f=this.iterator(),l;null !== (l=f.next());){c(l);}};a.prototype.data=function(){return null !== this.Bg?this.Bg.data:null;};a.prototype.next=function(){var c;if(null === this.Bg){c=this.aPa.bf;null !== c && this.VNa(c);}else if(null === this.Bg.right){do {if((c=this.Bg,this.wp.length))this.Bg=this.wp.pop();else {this.Bg=null;break;}}while(this.Bg.right === c);}else (this.wp.push(this.Bg),this.VNa(this.Bg.right));return null !== this.Bg?this.Bg.data:null;};a.prototype.hI=function(){var c;if(null === this.Bg){c=this.aPa.bf;null !== c && this.RNa(c);}else if(null === this.Bg.left){do {if((c=this.Bg,this.wp.length))this.Bg=this.wp.pop();else {this.Bg=null;break;}}while(this.Bg.left === c);}else (this.wp.push(this.Bg),this.RNa(this.Bg.left));return null !== this.Bg?this.Bg.data:null;};a.prototype.VNa=function(c){for(;null !== c.left;){this.wp.push(c);c=c.left;}this.Bg=c;};a.prototype.RNa=function(c){for(;null !== c.right;){this.wp.push(c);c=c.right;}this.Bg=c;};r.exports=b;},function(r){function b(a){this.wga=a;this.fg=[];this.ur=!1;this.PF=void 0;this.Xj={};}b.prototype.Y2=function(a){this.fg.length === this.wga && this.fg.shift();Array.isArray(a)?this.fg=this.fg.concat(a):this.fg.push(a);this.ur=!0;};b.prototype.cN=function(){return this.fg.length;};b.prototype.aja=function(){var a;a=this.fg;return 0 < a.length?a.reduce(function(c,f){return c + f;},0) / this.fg.length:void 0;};b.prototype.M3=function(){var a,c;a=this.fg;if(0 < a.length){c=this.aja();a=a.reduce(function(f,l){return f + l * l;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.zt=function(a){var c,f,l;if(this.ur || void 0 === this.PF)(this.PF=this.fg.slice(0).sort(function(m,d){return m - d;}),this.Xj={},this.ur=!1);if(void 0 === this.Xj[a]){c=this.PF;f=Math.floor(a / 100 * (c.length - 1) + 1) - 1;l=(a / 100 * (c.length - 1) + 1) % 1;this.Xj[a]=f === c.length - 1?c[f]:c[f] + l * (c[f + 1] - c[f]);}return this.Xj[a];};r.exports=b;},function(r,b,a){r.exports={z9b:a(358),Hbc:a(221),e3b:a(748),d3b:a(359),f3b:a(360),yCa:a(751)};},function(r,b,a){var m;function c(d){this.reset();this.mXb(d);}function f(d){this.setInterval(d);this.reset();}function l(d){this.JB=new f(d);this.Me=0;this.Qc=null;}m=a(10);c.prototype.mXb=function(d){this.sK=Math.pow(.5,1 / d);this.BS=d;};c.prototype.reset=function(d){d && d.Ga && m.Ba(d.Ga)?d.Zi && m.Ba(d.Zi)?(this.Dv=this.umb,this.xp=d.Ga,this.GB=d.Zi + d.Ga * d.Ga):(this.Dv=this.umb,this.xp=d.Ga,this.GB=d.Ga * d.Ga):this.GB=this.xp=this.Dv=0;};c.prototype.add=function(d){var h;if(m.Ba(d)){this.Dv++;h=this.sK;this.xp=h * this.xp + (1 - h) * d;this.GB=h * this.GB + (1 - h) * d * d;}};c.prototype.get=function(){var d,h,g;if(0 === this.Dv)return {Ga:0,Zi:0};d=this.xp;h=this.GB;g=1 - Math.pow(this.sK,this.Dv);d/=g;h/=g;g=d * d;return {Ga:Math.floor(d),Zi:Math.floor(h > g?h - g:0)};};c.prototype.getState=function(){return 0 === this.Dv?null:{a:Number(this.xp.toPrecision(6)),s:Number(this.GB.toPrecision(6)),n:this.Dv};};c.prototype.Ue=function(d){if(m.Bb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.GB=this.xp=this.Dv=0,!1);this.xp=d.a;this.GB=d.s;m.has(d,"n") && m.Ba(d.n)?this.Dv=d.n:this.Dv=16 * this.BS;return !0;};f.prototype.setInterval=function(d){this.BS=d;this.sK=-Math.log(.5) / d;};f.prototype.reset=function(d){this.tb=this.zf=null;d && m.isFinite(d.Ga)?this.xp=d.Ga:this.xp=0;};f.prototype.start=function(d){m.Bb(this.zf) && (this.tb=this.zf=d);};f.prototype.add=function(d,h,g){var k,n;m.Bb(this.zf) && (this.tb=this.zf=h);this.zf=Math.min(this.zf,h);h=Math.max(g - h,1);k=this.sK;n=g > this.tb?g:this.tb;this.xp=this.xp * (n > this.tb?Math.exp(-k * (n - this.tb)):1) + 8 * d / h * (1 - Math.exp(-k * h)) * (g > n?Math.exp(-k * (n - g)):1);this.tb=n;};f.prototype.get=function(d){var h;d=Math.max(d,this.tb);h=this.xp * Math.exp(-this.sK * (d - this.tb));d=1 - Math.exp(-this.sK * (d - this.zf));0 < d && (h/=d);return {Ga:Math.floor(h)};};f.prototype.toString=function(){return "ewmav(" + this.BS + ")";};l.prototype.setInterval=function(d){this.JB.setInterval(d);};l.prototype.reset=function(d){this.JB.reset(d);this.Me=0;this.Qc=null;};l.prototype.start=function(d){!m.Bb(this.Qc) && d > this.Qc && (this.Me+=d - this.Qc,this.Qc=null);this.JB.start(d - this.Me);};l.prototype.add=function(d,h,g){!m.Bb(this.Qc) && g > this.Qc && (this.Me+=h > this.Qc?h - this.Qc:0,this.Qc=null);this.JB.add(d,h - this.Me,g - this.Me);};l.prototype.stop=function(d){this.Qc=Math.max(m.Bb(this.JB.tb)?0:this.JB.tb + this.Me,m.Bb(this.Qc)?d:Math.min(this.Qc,d));};l.prototype.get=function(d){return this.JB.get((m.Bb(this.Qc)?d:this.Qc) - this.Me);};l.prototype.toString=function(){return this.JB.toString();};r.exports={Seb:c,x3b:f,Qeb:l};},function(r,b,a){var f,l;function c(m,d,h,g){f.call(this,h,g);this.Kv=new l(m);this.Zmb=d;}f=a(143);l=a(356);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Mw(0);f.prototype.shift.call(this);null !== m && this.Kv.Y2(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.Kv.Y2(m);f.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.EV();return {sampleSize:this.cN(),x9:m,fX:m.uk?(m.Il - m.Hl) / m.uk:void 0};};c.prototype.cN=function(){return this.Kv.cN();};c.prototype.EV=function(){return this.Kv.cN() < this.Zmb?{Hl:void 0,uk:void 0,Il:void 0,sampleSize:void 0,uj:void 0}:{Hl:this.Kv.zt(25),uk:this.Kv.zt(50),Il:this.Kv.zt(75),sampleSize:this.Kv.cN(),uj:this.Kv.zt.bind(this.Kv)};};c.prototype.toString=function(){return "biqr(" + this.rL + "," + this.Gd + "," + this.ak + ")";};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={HW:m.maxc || 25,Sja:m.c || .5,h2b:m.w || 15E3,Gy:m.b || 5E3};f.call(this,this.I.h2b,this.I.Gy);this.cT();}f=a(143);l=a(219).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Mw(0);f.prototype.shift.call(this);null !== m && (this.cf.push(m,1),this.ur=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.cf.push(m,1);this.ur=!0;f.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.bZa();};c.prototype.uz=function(){var m;m=this.bZa();return {min:m.min,p10:m.o9,p25:m.Hl,p50:m.uk,p75:m.Il,p90:m.p9,max:m.max,centroidSize:m.Rtb,sampleSize:m.sampleSize,centroids:m.Ki};};c.prototype.bZa=function(){var m;if(0 === this.cf.size())return null;m=this.cf.uj([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.ur || !this.cg)(this.ur=!1,this.cg={min:m[0],o9:m[1],Hl:m[2],uk:m[3],Il:m[4],p9:m[5],max:m[6],uj:this.cf.uj.bind(this.cf),Rtb:this.cf.size(),sampleSize:this.cf.n,Ki:this.yEb(),uz:this.uz.bind(this)});return this.cg;};c.prototype.yEb=function(){var m;if(0 === this.cf.size())return null;if(!this.ur && this.cg)return this.cg.centroids;m=this.cf.uj([.25,.75]);if(m[0] === m[1])return null;this.cf.size() > this.I.HW && this.cf.Ry();m=this.cf.fp(!1).map(function(d){return {mean:d.pg,n:d.n};});return JSON.stringify(m);};c.prototype.YYa=function(){return this.cf.summary();};c.prototype.size=function(){return this.cf.size();};c.prototype.toString=function(){return "btdtput(" + this.rL + "," + this.Gd + "," + this.ak + "): " + this.cf.summary();};c.prototype.cT=function(){this.cf=new l(this.I.Sja,this.I.HW);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={HW:m.maxc || 25,Sja:m.c || .5,eUb:m.rc || "none",FHb:m.hl || 7200};this.cT();this.Aob=this.I.eUb;this.BS=this.I.FHb;this.jfa=Math.exp(Math.log(2) / this.BS);this.jfa=Math.max(this.jfa,1);this.K1=1;}f=a(10);l=a(219).TDigest;new (a(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.cf.size())return null;m=this.cf.uj([.25,.75]);if(m[0] === m[1])return null;this.cf.size() > this.I.HW && this.cf.Ry();m=this.cf.fp(!1).reduce((function(d,h){f.Ba(h.pg) && f.Ba(h.n) && d.push({mean:h.pg,n:h.n / this.K1});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Ue=function(m){var d;if(f.Bb(m) || !f.has(m,"tdigest") || !f.Re(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(h){return !1;}d.forEach(function(h){f.isFinite(h.n) || (h.n=1);});m=d.map(function(h){return {pg:h.mean,n:h.n};});this.K1=1;this.cf.aua(m);void 0 === this.cf.uj(0) && this.cT();};c.prototype.get=function(){var m,d;m=this.cf;d=m.uj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],o9:d[1],Hl:d[2],uk:d[3],Il:d[4],p9:d[5],max:d[6],Ki:m.fp(!1)};};c.nGb=function(m){var d;d=new c({});f.Bb(m) || f.ia(m) || !f.isArray(m.Ki) || (d.cf.aua(m.Ki),void 0 === d.cf.uj(0) && d.cT());m=d.cf.uj([.25,.75]);return m[0] === m[1]?null:function(h){return d.cf.uj(h);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.Aob && (this.K1=d=this.K1 * this.jfa);this.cf.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.cf.summary() + ")";};c.prototype.cT=function(){this.cf=new l(this.I.Sja,this.I.HW);};r.exports={ZKa:c};},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.qDa=b.Bca=void 0;c=a(2);f=c.__importStar(a(10));l=c.__importDefault(a(6));m=a(762);d=a(763);h=(function(){return function(){this.w3=new d.GR(100);this.O8=new d.GR(100);};})();r=(function(){function g(k,n,q){var p,v,t;this.I=n;this.H=q;this.C2=k;p=this.hL=this.wK=this.vK=0;v=0;t=0;this.C2.length >= this.I.z8 && (this.C2.forEach(function(u){!(u=u.get().gDb) || f.ia(u.avtp) || f.ia(u.neuhd) || (p+=u.avtp,v+=1 * u.neuhd,t++);}),this.hL=t,this.vK=p / t,this.wK=v / t);}Object.defineProperties(g.prototype,{$rb:{get:function(){return this.vK;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{csb:{get:function(){return this.wK;},enumerable:!1,configurable:!0}});g.prototype.o7=function(){return this.hL >= this.I.z8 && this.vK >= this.I.baselineHighAndStableThreshold.bwThreshold && this.wK < this.I.baselineHighAndStableThreshold.nethreshold;};return g;})();b.Bca=r;r=(function(g){function k(n,q,p){n=g.call(this,n,q,p) || this;n.afa=[];n.sCb={};n.s$a=[];n.Vy=new h();n.C2.length >= n.I.z8 && (n.fPa("avtp",n.Vy.w3),n.fPa("neuhd",n.Vy.O8));return n;}c.__extends(k,g);k.prototype.o7=function(){var n;this.mGb();n=new m.hFa(this.H,this.s$a,this.ssb);n.Cta(this.afa);n=n.Aub(this.I.F6.abc);return this.g1b && 1 === n && this.hL >= this.I.z8;};k.prototype.rV=function(){var n,q,p,v;n={};q=l.default.time.now();p=new Date(q);v=p.getHours();n.currentMonoTime=q;n.currentTime=p.getTime();n.currentHour=v;return n;};k.prototype.qXa=function(n,q,p){n="avtp" === n?this.vK:this.wK;for(var v=q.M3(),t=0,u="skew" === p?3:4,w=0;w < q.fg.length;w++){f.ia(n) || f.ia(v) || (t+=Math.pow(q.fg[w] - n,u));}t/=q.fg.length;return !f.ia(v) && 0 < v?t / Math.pow(v,u) - 3 * ("skew" === p?0:1):NaN;};k.prototype.KXa=function(n,q,p){var v;v=0;"lte" === p?v=n.reduce(function(t,u){return u <= q?t + 1:t;},0) / (1 * n.length):"gte" === p && (v=n.reduce(function(t,u){return u >= q?t + 1:t;},0) / (1 * n.length));return v;};k.prototype.VFb=function(n){var q,p;q=n.zt(25);p=n.zt(50);n=n.zt(75);return f.ia(q) || f.ia(p) || f.ia(n)?NaN:0 < p?(n - q) / p:NaN;};k.prototype.pEb=function(n,q){n="avtp" === n?this.vK:this.wK;q=q.M3();return !f.ia(q) && !f.ia(n) && (0 < q || 0 < n) && 0 < n?(n - q) / (n + q):NaN;};k.prototype.EV=function(n,q){n=n.zt(q);return f.ia(n)?NaN:n;};k.prototype.normalize=function(n,q,p){return !isNaN(n) && 0 < p?(n - q) / p:NaN;};k.prototype.mGb=function(){var n,q,p,v,t,u,w,x,y,z,A,B;n=this;q=this.I.F6.E1a.L$b;p=this.I.F6.E1a.J$b;v=this.I.F6.E1a.K$b;x=[];B=0;this.g1b=!Object.keys(q).some(function(D){var E;A=NaN;if(!(q.hasOwnProperty(D) && p.hasOwnProperty(D) && v.hasOwnProperty(D) && !f.ia(n.Vy) && n.Vy.w3 && n.Vy.O8) || 1 > n.hL || "number" !== typeof q[D] || "number" !== typeof p[D] || "number" !== typeof v[D])return !0;t=q[D];u=p[D];w=v[D];x=D.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":E=n.Vy.w3;break;case "neuhd":E=n.Vy.O8;break;default:E=void 0;}if("avtp" === y || "neuhd" === y){if(E)switch(z){case "last":A=E.fg[n.hL - 1];break;case "mean":A="avtp" === y?n.vK:n.wK;break;case "niqr":A=n.VFb(E);break;case "skew":A=n.qXa(y,E,"skew");break;case "kurtosis":A=n.qXa(y,E,"kurtosis");break;case "std":A=E.M3();break;case "b":A=n.pEb(y,E);break;default:-1 !== D.search("[p][1-9]?[1-9]") && (A=n.EV(E,Number(D.split("_p",2)[1])));}}else switch(D){case "fracAbove20Mbps":E=n.Vy.w3;A=f.ia(E)?NaN:n.KXa(E.fg,2E4,"gte");break;case "fracBelow20p":E=n.Vy.O8;A=f.ia(E)?NaN:n.KXa(E.fg,.15,"lte");break;case "hour_current":A=n.rV().currentHour;break;case "session_ct":A=n.hL;break;case "intercept":(A=t,n.ssb=A);}A=n.normalize(A,u,w);if(isNaN(A))return !0;"intercept" !== D && (n.afa.push(A),n.s$a.push(t),n.sCb[D]=B,B+=1);});};k.prototype.fPa=function(n,q){this.C2.forEach(function(p){p=p.get().gDb;!p || "avtp" !== n && "neuhd" !== n || f.ia(p[n]) || q.Y2(Number(p[n]));});};return k;})(r);b.qDa=r;},function(r,b,a){var f,l,m,d;function c(h){return function(){for(var g=Array(this.length),k=0;k < this.length;++k){g[k]=h.call(this,k);}return g;};}Object.defineProperties(b,{__esModule:{value:!0}});b.lrb=b.yw=b.Pea=b.nLa=void 0;r=a(2);f=a(5);r=r.__importDefault(a(6));l=a(22);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function h(g,k){this.jd=g;this.Le=k;}Object.defineProperties(h.prototype,{index:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sc:{get:function(){return new l.T(this.Wa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Od:{get:function(){return new l.T(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wa:{get:function(){return this.jd.G2 + this.jd.cC[this.Le];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ob:{get:function(){return this.Wa + this.jd.mr[this.Le];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Kt:{get:function(){return this.jd.mr[this.Le];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qa:{get:function(){return this.jd.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S:{get:function(){return this.jd.S;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Y:{get:function(){return Math.floor(1E3 * this.Wa / this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ha:{get:function(){return Math.floor(1E3 * (this.Wa + this.Kt) / this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{duration:{get:function(){return this.Ha - this.Y;},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {startPts:1E3 * this.Wa / this.qa.S,endPts:1E3 * this.ob / this.qa.S,duration:1E3 * this.Kt / this.qa.S,index:this.index};};return h;})();b.nLa=d;a=(function(){function h(g,k,n,q){this.mediaType=g;this.length=n.sd.length;this.nb=n.S;this.mr=n.sd;this.a3=q && q.Cu;this.NPa=q && q.Su;this.OK=k;this.Axa=this.Bxa=this.NNa=void 0;this.G2=n.gl;this.cC=new Uint32Array(this.length + 1);if(this.length){for(k=g=0;k < this.length;++k){this.cC[k]=g;g+=this.mr[k];}this.cC[k]=g;this.ifa=Math.floor((this.Ha - this.Y) / this.length);}}Object.defineProperties(h.prototype,{gl:{get:function(){return this.D9a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Cla:{get:function(){return this.D9a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Y:{get:function(){return this.Bj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ha:{get:function(){return this.Bj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sk:{get:function(){return new l.T(this.Cla,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gra:{get:function(){return this.NNa || this.Ykb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qa:{get:function(){return this.OK;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});h.prototype.D9a=function(g){return this.G2 + this.cC[g];};h.prototype.Bj=function(g){return Math.floor(1E3 * (this.G2 + this.cC[g]) / this.S);};h.prototype.TU=function(g){return this.Bj(g + 1);};h.prototype.sd=function(g){return this.TU(g) - this.Bj(g);};h.prototype.get=function(g){return new d(this,g);};h.prototype.wn=function(g,k,n){if(0 === this.length || g < this.Bj(0))return -1;g=Math.max(g,k || 0);for(var q=0,p=this.length - 1,v,t;p >= q;){if((v=q + (p - q >> 1),t=this.Bj(v),g < t))p=v - 1;else if(g >= t + this.sd(v))q=v + 1;else {for(;k && v < this.length && this.Bj(v) < k;){++v;}return v < this.length?v:n?this.length - 1:-1;}}return n?this.length - 1:-1;};h.prototype.m5=function(g,k,n){g=this.wn(g,k,n);return 0 <= g?this.get(g):void 0;};h.prototype.fka=function(g,k){var n,q;n=Math.floor(k * this.S / 1E3);k=Math.min(g + Math.ceil(k / this.ifa),this.length);q=this.cC[k] - this.cC[g];if(q > n){for(;q >= n;){--k;q-=this.mr[k];}return k - g + 1;}for(;q < n && k <= this.length;){q+=this.mr[k];++k;}return k - g;};h.prototype.subarray=function(g,k){f.assert(void 0 === g || 0 <= g && g < this.length);f.assert(void 0 === k || k > g && k <= this.length);return new h(this.mediaType,this.qa,{S:this.S,gl:this.G2 + this.cC[g],sd:this.mr.subarray(g,k)},this.a3 && ({Cu:this.a3.subarray(g,k + 1),Su:this.NPa}));};h.prototype.forEach=function(g){for(var k=0;k < this.length;++k){g(this.get(k),k,this);}};h.prototype.map=function(g){for(var k=[],n=0;n < this.length;++n){k.push(g(this.get(n),n,this));}return k;};h.prototype.reduce=function(g,k){for(var n=0;n < this.length;++n){k=g(k,this.get(n),n,this);}return k;};h.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.ifa};};h.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.ifa + "ms");for(var g=0;g < this.length;++g){k=this.get(g);m.trace("TrackFragments: " + g + ": [" + k.Y + "-" + k.Ha + "]");}};h.prototype.Ykb=function(){for(var g=0,k=0;k < this.length;k++){g=Math.max(this.mr[k],g);}return this.NNa=g;};return h;})();b.Pea=a;b.yw=c;a.prototype.C9a=c(a.prototype.Bj);c(a.prototype.TU);c(a.prototype.sd);b.lrb=function(h){return "[" + Array(h.length).map(function(g,k){return h[k].toString();}).join(",") + "]";};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mVa=b.lz=b.vn=b.T5=void 0;c=a(5);f=a(142);b.T5=function(l,m){return l.wn(m,void 0,!0);};b.vn=function(l,m,d,h,g,k){var n,q,p,v;f.Nm.jq(l);c.assert(d.U,"findFirstFragment called without stream fragments");n=d.U;h=Math.max(d.U.Bj(0),h);0 === l && !k && m.cm && !m.cG && d.tf && (h=Math.max(d.U.Bj(0),h + d.tf.W));q=b.T5(n,h);p=d.Uk(q);if(p.Ha < h)return p;v=p.gma(h);v?(0 < v.fl && p.Aj({start:v.fl}),0 !== l || m.vra || (0 > v.Dd && p.Aj({start:v.fl}),v.Dd < (m.cm && !m.cG && d.tf?Math.floor(d.tf.W):0) && p.mla())):h >= p.Ha && q < n.length - 1 && (p=d.Uk(q + 1));1 === l && g && p.Ha === g && q < n.length - 1 && (p=d.Uk(q + 1));0 === l && !p.ta && (m.H_a || m.JAb) && k && p.Aj({});p.jP(h);return p;};b.lz=function(l,m,d,h,g,k){var n,q;f.Nm.jq(l);n=d.U;void 0 === h && (h=n.Ha);if(g && (g=g.LCb(d,h,l,m,k)))return g;g=n.qa;k=h?h + b.mVa(l,g,m.TD,m.s$):n.TU(n.length - 1);n=n.wn(k,void 0,!0);g=d.Uk(n);0 === n || g.Y !== h || 1 !== l && m.TD || (--n,g=d.Uk(n));k=1 === l?k:h;if(k < g.Ha){q=g.fma(k);q && 0 !== q.fl?g.Aj({end:q.fl}):0 === l && (q || k < g.Y) && 0 !== n?g=d.Uk(n - 1):1 === l && q && 0 !== n && (g=d.Uk(n - 1));}0 === l && !g.ta && m.H_a && g.Aj();g.jP(h);return g;};b.mVa=function(l,m,d,h){var g;return 1 === l || h?0:d?null !== (g=null === m || void 0 === m?void 0:m.W) && void 0 !== g?g:0:m?-m.W:0;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Yya=void 0;c=a(768);f=a(22);a(5);l=a(101);r=(function(){function m(d,h,g){var k;this.I=h;this.H=g;this.$j=d.track;this.nL=d.Kf;this.Aw=d.Aw;this.ymb=-1 === this.profile.indexOf("none");this.QK=this.Ma=void 0;h=d.iu;this.iu=void 0 === h?!0:h;this.F4=d.F4;this.NK=void 0;this.PNa=this.zg=0;this.url=this.DI=this.yd=this.ws=this.xqa=this.location=this.Ra=this.wb=void 0;this.Cz=!1;this.Tpa=this.ff=void 0;h=(d=this.I) && "object" === typeof d.a6a && d.a6a[this.profile];"object" === typeof h && (h=h[this.bitrate]) && (this.uob=new f.T(h.ticks,h.timescale));this.jnb=0 <= (null === (k=d.Prb) || void 0 === k?void 0:k.indexOf(this.profile));}Object.defineProperties(m.prototype,{he:{get:function(){return ! !this.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P:{get:function(){return this.$j.P;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Z:{get:function(){return this.P.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J:{get:function(){return this.$j.J;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.$j.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qa:{get:function(){return this.$j.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{S:{get:function(){return this.$j.S;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{XN:{get:function(){return this.$j.XN;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.$j.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Kf:{get:function(){return this.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Oa:{get:function(){return this.Aw.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Oz:{get:function(){return this.ymb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.Aw.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sb:{get:function(){return this.Aw.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{DVb:{get:function(){return this.Aw.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{k$:{get:function(){return this.Aw.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.Aw.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ih:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zs:{get:function(){return this.Aw.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tf:{get:function(){return this.uob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hIb:{get:function(){return this.jnb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gA:{get:function(){return this.Ma && this.Ma.gA;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dma:{get:function(){return this.$j.Dma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cma:{get:function(){return this.$j.Cma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rt:{get:function(){return void 0 !== this.NK?this.NK:this.MKb();},set:function(d){this.NK=d;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ku:{get:function(){return this.iu && !this.Cz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vg:{get:function(){return this.QK;},enumerable:!1,configurable:!0}});m.prototype.Vk=function(){return this.P.Vk(this.mediaType,this.Oa);};m.prototype.V5=function(){var d;d=this.Vk();return d && d.stream.U;};m.prototype.mE=function(d){return this.P.mE(this,d);};m.prototype.g9=function(){this.track.g9();};m.prototype.f9=function(){this.track.f9();};m.prototype.e9=function(d,h,g,k,n,q,p){k && void 0 !== k.gl && (this.track.he || void 0 !== k.sd && k.sd.length) && void 0 !== k.offset && void 0 !== k.sizes && k.sizes.length?(this.I.cm && this.tf && 0 === k.gl && (k.gl+=this.tf.Yf(k.S).oc),this.QK=d,this.he || (this.track.e9(this,h,g,k,q),this.Ma=new c.KKa(this.nL,this.track.gp,k,n,q,p,this.J),this.track.eQb(this))):k?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== k.gl) + "," + this.track.he + "," + this.track.kla + "," + (void 0 !== k.sd) + "," + !(!k.sd || !k.sd.length) + "," + (void 0 !== k.offset) + "," + (void 0 !== k.sizes) + "," + !(!k.sizes || !k.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};m.prototype.f4=function(d){this.he || (this.track.Hvb(d.track),this.Ma=d.U,this.QK=d.Vg);};m.prototype.Uk=function(d){return new l.Om(this,this.U.get(d));};m.prototype.FXa=function(d){var h;h=this.Uk(d.index);d.ta && (h.Aj(d.ta),h.jP(d.$u));return h;};m.prototype.zab=function(d,h){this.zg=d;this.PNa=h;};m.prototype.Iub=function(){this.Ra=this.wb=this.yd=this.location=this.url=void 0;};m.prototype.toJSON=function(){return {movieId:this.J,mediaType:this.mediaType,streamId:this.Oa,bitrate:this.bitrate,streamIndex:this.Kf,isAvailable:this.iu,fittable:this.Rt,vmaf:this.sb,resolutionWidth:this.DVb,resolutionHeight:this.k$};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Oa + ":" + this.bitrate;};m.prototype.MKb=function(){var d,h,g,k,n;if(!this.he)return !0;if(this.track.Goa >= this.bitrate)return this.NK=!0;if(this.track.C1a <= this.bitrate)return this.NK=!1;n=this.Ma.itb(this.I.VW,this.zg,null !== (h=null === (d=this.P) || void 0 === d?void 0:d.KI.W) && void 0 !== h?h:0,null !== (k=null === (g=this.P) || void 0 === g?void 0:g.KI.fa) && void 0 !== k?k:0,this.PNa);if(n){if(!this.track.kla || this.Oz)this.track.Goa=this.bitrate;}else this.track.C1a=this.bitrate;return this.NK=n;};return m;})();b.Yya=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.oz=1536;return m;}c.__extends(l,f);l.Na=!0;return l;})(a(171).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ac-3";return l;})(r);b.$aa=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ec-3";return l;})(r);b.eca=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);r=a(32);l=f.VE;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.wc();this.fileSize=this.u.Sd();this.S=this.u.Sd();this.duration=this.u.Sd(!1,!0);this.ssa=this.u.Sd();this.u.Sd();this.xsa=this.u.Sd();this.Zra=this.u.xa();this.tsa=this.u.Sd();this.sma=this.u.xa();this.u.CA();this.Se={moof:{offset:this.ssa},sidx:{offset:this.tsa,size:this.sma}};this.Se[f.wR]={offset:this.xsa,size:this.Zra};this.u.offset - this.startOffset <= this.length - 24 && (this.wsa=this.u.Sd(),this.Tra=this.u.xa(),this.usa=this.u.Sd(),this.Rra=this.u.xa(),this.Se[f.Lx]={offset:this.wsa,size:this.Tra},this.Se[f.Kx]={offset:this.usa,size:this.Rra});return !0;};d.Vb=l;d.Na=!1;return d;})(r.Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(32);f=r.WE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.wc();1 <= this.version && this.u.CA();d=this.u.xa();this.Se={};for(var h=this.startOffset + this.length,g=0;g < d;++g){k=this.u.Kl();"uuid" === k && (k=this.u.CA());n=this.u.Sd();this.Se[k]={offset:h,size:n};h+=n;}return !0;};m.Vb=f;m.Na=!1;return m;})(a.Ac);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Bk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Bk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Bk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Bk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);l=a(84);r=(function(m){function d(h,g,k,n,q){k=m.call(this,k,n,q) || this;k.Hia=h;k.Oq=g;k.Ua={};return k;}c.__extends(d,m);d.prototype.parse=function(h){var g,k,n,q,p,v;this.offset=0;g=[];for(h=h || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.xa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=l.ho(this.xa());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.CA();}if(0 === g.length && this.Oq.iV(q,k,n))break;if(k + n > this.view.byteLength)break;p=this.Hia[q];v=void 0;if(p){if((v=new p(this,q,k,n,g[0]),(g[0] || this).st(v),v.parse(h)))this.config.YH && p.Na?g.unshift(v):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=k + n;for(;g.length && this.offset > g[0].byteOffset + g[0].Nn - 8;){v=g.shift();if(!v.Pt(h))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.Nn;}if(0 === g.length && this.Oq.EU(q,k,n,v))break;}return !this.Oq.done && (h=this.Oq.endOffset?this.Oq.endOffset - this.view.byteLength:4096,0 < h)?{done:!1,offset:this.offset,aX:h}:{done:!0,offset:Math.min(this.Oq.endOffset || Infinity,this.offset)};};d.prototype.st=function(h){f.Ac.st(this,h);};return d;})(a(788).Vea);b.wE=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(100);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.iV=function(){return this.done;};l.prototype.EU=function(m,d,h){return this.done=d + h >= this.endOffset;};return l;})();b.AQ=r;r=(function(){function l(m,d,h,g){void 0 === d && (d=[]);void 0 === h && (h=[]);void 0 === g && (g=!1);this.Nh=m;this.bz=d;this.oZ=h;this.yX=g;this.done=!1;this.Se={};}l.prototype.iV=function(m,d,h){-1 !== l.yoa.indexOf(m) && (this.Se[m]={offset:d,size:h});if(-1 !== this.oZ.indexOf(m)){if((this.Se[m]={offset:d,size:h},this.yX))this.endOffset=d + h;else return (this.endOffset=d,this.done=!0);}else this.Nh && -1 !== this.Nh.indexOf(m)?(m=1 < this.Nh.length?4096:0,this.endOffset=Math.max(d + h + m,this.endOffset || 0)):-1 !== this.bz.indexOf(m) && (m=this.Nh?4096:0,this.endOffset=Math.max(d + h + m,this.endOffset || 0));return this.done;};l.prototype.EU=function(m,d,h,g){var k;k=this;if(-1 !== this.oZ.indexOf(m))return this.done=!0;m === f.VE && this.MY(g.Se);m === f.WE && this.MY(g.Se);this.Nh && c(m,this.Nh);c(m,this.bz);return this.Nh && 0 === this.Nh.length && !this.bz.some(function(n){return k.Se[n];})?this.done=!0:this.done;};l.prototype.MY=function(m){var d;d=this;this.Se=m;this.endOffset=(this.Nh || []).concat(this.bz).reduce(function(h,g){return d.Se[g]?(g=d.Se[g],Math.max(g.offset + (g.size || 4096),h)):h;},this.endOffset || 0);};l.yoa=["moov","sidx"];return l;})();b.Aca=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Cea=void 0;c=a(2);f=a(115);a(5);c.__importDefault(a(35));r=(function(){function l(m,d,h,g,k,n){this.sd=m;this.QI=h;this.S=k;this.GNa=!1;this.length=Math.min(m.length,d.length,h.length);this.Zj=d;this.qt=g;this.Mc=n;}Object.defineProperties(l.prototype,{fa:{get:function(){return void 0 !== this.Mc?this.Mc:this.Mc=this.pfa();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sizes:{get:function(){return this.Zj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$i:{get:function(){return this.qt;},enumerable:!1,configurable:!0}});l.prototype.subarray=function(m,d){return new l(this.sd.subarray(m,d),this.sizes.subarray(m,d),this.QI.subarray(m,d),this.$i.subarray(m,d),this.S);};l.prototype.concat=function(){var h,g,k,n;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spread(m));d=m.reduce(function(q,p){return q + p.length;},0);h=new Uint32Array(d);g=new Uint32Array(d);k=new Uint8Array(d);n=new Uint8Array(d);d=m.reduce(function(q,p){return q || p.S;},void 0);m.reduce(function(q,p){f.WR.set(h,p.sd,q);f.WR.set(g,p.sizes,q);f.WR.set(k,p.QI,q);f.WR.set(n,p.$i,q);return q + p.length;},0);return new l(h,g,k,n,d);};l.prototype.pfa=function(){for(var m=this.sizes,d=this.length,h=0,g=0;g < d;++g){h+=m[g];}return h;};l.prototype.DNb=function(){this.GNa || (this.GNa=!0,this.Zj=new Uint32Array(this.Zj),this.qt=new Uint8Array(this.qt),this.pL=new Uint8Array(this.qt.length));};l.prototype.ENb=function(){void 0 === this.pL && (this.pL=new Uint8Array(this.qt.length));};l.prototype.upgrade=function(m,d){var h;this.DNb();m.ENb();h=m.sizes[d];void 0 !== this.Mc && (this.Mc+=h - this.sizes[d]);this.pL[d]=1;m.pL[d]=1;this.QI[d]=m.QI[d];this.$i[d]=m.$i[d];this.sizes[d]=h;};l.prototype.U_a=function(m){return void 0 === this.pL?!1:0 < this.pL[m];};return l;})();b.Cea=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sba=void 0;c=a(2);f=a(115);r=a(17);l=c.__importDefault(a(6));m=a(9);d=a(42);h=a(5);g=a(233);k=a(375);a=a(376);n=l.default.MediaSource;a=(function(q){function p(v,t,u,w,x,y,z){t=q.call(this,v,w,x,t,z) || this;k.u_.t_a(t,v,w,z);t.Xo=u;t.track=u.track;t.ow=! !w.ow;t.YN=! !w.YN;t.EC=! !w.EC;t.QQb=w.fa;t.qP=! !w.qP;t.nga=(y?"(cache)":"") + t.Oa + " header";u=w.offset;y=w.fa;t.$m && (u+=t.$m.byteLength,y-=t.$m.byteLength);t.kL(v.url || w.url,u,y);return t;}c.__extends(p,q);Object.defineProperties(p.prototype,{Zc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zX:{get:function(){return this.cob;},enumerable:!1,configurable:!0}});p.prototype.cd=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}q.prototype.cd.call(this);};p.prototype.hV=function(v){this.stream.g9();q.prototype.hV.call(this,v);};p.prototype.IM=function(v,t,u){this.stream.f9();q.prototype.IM.call(this,v,t,u);};p.prototype.tk=function(v){this.$m=this.$m?m.wC(this.$m,v.response):v.response;v.hY();this.stream.f9();this.aob()?q.prototype.tk.call(this,v):this.pMa?(this.kL(v.url,v.offset + v.fa,this.pMa),this.stream.g9(),q.prototype.tk.call(this,v)):this.w5(this);};p.prototype.kL=function(v,t,u){v=new g.gQ(this.stream,this.track,this.nga + " (" + this.Ea.length + ")",{offset:t,fa:u,url:v,location:this.location,Ld:this.Ld,responseType:0},this,this.Ne,this.H);this.push(v);this.Mc=this.Ea.reduce(function(w,x){return w + x.fa;},0);};p.prototype.aob=function(){var v,t,u,w,x,y;u=this.Ne;w=new f.cr(p.EOb,this.stream,this.$m,["sidx"],!0,{Ebc:this.stream.track.kla,t9:void 0 === this.qa,saa:!n.jc || !n.jc.kSa,taa:u.taa,cm:u.cm,ZA:this.Ne.ZA,I7a:!0,bE:!n.jc || !n.jc.l3a});x=w.parse({qa:this.qa});this.r1b=u.ZA && w.xZa;if(x.zm){h.assert(x.Vg);this.QK=x.Vg;this.cob=x.zX;this.TMa=! !x.kVa;void 0 === this.qa && void 0 === x.qa && this.H.error("No frame duration available for " + this.Oa);w=x.qa?new m.T(x.qa):this.qa;y=void 0;1 === this.Tua.mediaType && (null === (v=u.rA) || void 0 === v?0:v.enabled) && (v=this.Tua.Aw,(null === (t=v.XD) || void 0 === t?0:t.length)?y=Uint8Array.from(v.XD,function(z){return z.sb;}):x.$i && (y=Uint8Array.from(x.$i)));this.stream.e9(x.Vg,x.S,w,x.U,x.JH,x.bi,y);this.$m=void 0;}else this.pMa=x.LPa || 0;return ! !x.zm;};p.EOb=new l.default.Console("MP4","media|asejs");return p;})(a.pba);b.sba=a;d.wf(k.u_,a,!1,!1);d.wf(r.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.u_=void 0;c=a(2);f=a(5);l=a(172);r=(function(m){function d(h,g,k){var n;n=m.call(this,h,g) || this;n.qP=!1;n.ow=!1;n.YN=!1;n.EC=!1;n.Xo=void 0;d.t_a(n,h,g,k);return n;}c.__extends(d,m);d.t_a=function(h,g,k,n){l.jv.xb(h,g,k);h.QK=k.Vg;h.$m=k.Tsa;h.TMa=k.Rk;h.H=n;};Object.defineProperties(d.prototype,{Zc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vg:{get:function(){return this.QK;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tsa:{get:function(){return this.$m;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rk:{get:function(){return this.TMa;},enumerable:!1,configurable:!0}});d.prototype.cd=function(){};d.prototype.Nxa=function(){};d.prototype.Oqb=function(h){f.assert(this.gd.Oa === h.Oa);!h.he && this.gd.he && h.f4(this.gd);!h.location && this.gd.location && (h.location=this.gd.location,h.yd=this.gd.yd,h.DI=this.gd.DI,h.url=this.gd.url,h.wb=this.gd.wb);this.gd=h;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.U});};return d;})(l.jv);b.u_=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pba=void 0;c=a(2);c.__importDefault(a(6));a(5);r=(function(f){function l(m,d,h,g,k){m=f.call(this,m,d,h,g,k) || this;m.cNa=!1;m.bNa=!1;m.yS=!1;m.Ea=[];m.no=!1;m.hOa=!1;m.xNa=!1;m.Ze=!1;m.Zl=!1;m.Ci=!1;m.pK=!1;m.VK=void 0;m.Gv=void 0;return m;}c.__extends(l,f);Object.defineProperties(l.prototype,{Epa:{get:function(){return this.no && !this.yS;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rua:{get:function(){return this.Zl;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Ci || (this.Ci=this.Ea.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.pK;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$g:{get:function(){return this.Ea.reduce(function(m,d){return m + d.$g;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.Ea.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{qf:{get:function(){return this.VK || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{url:{get:function(){return this.Ea[0] && this.Ea[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{readyState:{get:function(){return this.Ah || this.Ea.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){return this.Gv && this.Gv.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mh:{get:function(){return this.Gv && this.Gv.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{DM:{get:function(){return this.Gv && this.Gv.DM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sj:{get:function(){return this.Gv && this.Gv.sj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ju:{get:function(){return ! !this.Ea.length && this.Ea[0].ju;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.xNa && m.xb(this.Pa);this.Ea.push(m);this.no && m.lO();};l.prototype.xb=function(m){f.prototype.xb.call(this,m);this.Ea.forEach(function(d){return d.xb(m);});this.xNa=!0;};l.prototype.lO=function(){this.hOa=!0;(this.no=this.Ea.every(function(m){return m.lO();})) && this.hV(this);this.hOa=!1;return this.no;};l.prototype.cd=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ea.forEach(function(m){return m.cd();});};l.prototype.aaa=function(m){this.Ah=this.Gv=void 0;return this.Ea.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.aaa(m):!0;});};l.prototype.abort=function(){var m,d,h;m=this.active;d=this.aborted;this.Ah=7;this.pK=!0;this.Zl=this.Ze=!1;h=this.Ea.map(function(g){return g.abort();}).every(function(g){return g;});d || this.IM(this,m,this.Epa);return h;};l.prototype.getResponseHeader=function(m){var d;d=null;this.Ea.some(function(h){return ! !(d=h.getResponseHeader(m));});return d;};l.prototype.getAllResponseHeaders=function(){var m;m=null;this.Ea.some(function(d){return ! !(m=d.getAllResponseHeaders());});return m;};l.prototype.m9=function(){};l.prototype.oA=function(m){this.Ze || (this.Ze=!0);this.cNa || (this.cNa=!0,this.ks=0,this.VK=this.Gu=m.qf,this.JM(this));};l.prototype.TH=function(m){this.Zl || (this.Zl=!0);this.bNa || (this.bNa=!0,this.VK=m.qf,this.IC(this));};l.prototype.UH=function(m){this.VK=m.qf;this.OG(this);this.ks=this.bytesReceived;this.Gu=m.qf;};l.prototype.tk=function(m){this.VK=m.qf;this.complete?(this.Ci=!0,this.Ah=5,this.Zl=this.Ze=!1,this.yS=!0,this.Tt(this)):this.OG(this);this.ks=this.bytesReceived;this.Gu=m.qf;};l.prototype.sX=function(m){this.VK=m.qf;this.Gv=m;this.Ah=6;this.w5(this);};l.prototype.rX=function(){};l.prototype.ii=function(){return this.Ea[0].ii() + "-" + this.Ea[this.Ea.length - 1].ii();};l.prototype.toString=function(){return "Compound[" + this.Ea.map(function(m){return m.toString();}).join(",") + "]";};l.prototype.toJSON=function(){return {requests:this.Ea};};return l;})(a(234).vJ);b.pba=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dma=void 0;b.dma=function(a,c){for(var f,l,m=a.length - 1;0 <= m;--m){if((l=a[m],l.ku)){if(l.bitrate <= c)return m;f=m;}}return f;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vna=b.Wqb=void 0;b.Wqb=function(a){return a.s$;};b.vna=function(a,c){return void 0 !== a.UN?a.UN:c && void 0 !== c.UN?c.UN:100;};},function(r,b,a){var f;function c(l,m){this.eob=l.rA && l.rA.enabled;this.SF=void 0;this.Wmb=m;this.Yga=[];this.sha=[];this.o2=[];this.cg=[];}f=a(35).pH;c.prototype.reset=function(l){this.SF=void 0;this.Yga=[];this.sha=[];this.o2=[];l && (this.cg=[]);};c.prototype.add=function(l,m){var d,h,g;d=m.filter(function(k,n){return f(k) || n === l.Ie;});h=d.map(function(k){return k.bitrate;});m=m[l.Ie];d=d.indexOf(m);if(this.SF && (this.SF.length !== h.length || this.SF.some(function(k,n){return k !== h[n];}))){g=this.kXa();g && (this.cg.push(g),this.reset(!1));}void 0 === this.SF && (this.SF=h);this.Yga.push([d,l.uxa,l.Fc,l.Via,l.qRa,l.GSb,l.JPb,l.sf,l.Ip,l.ek,l.RZb - l.uxa,l.mSb]);void 0 !== l.wu && this.o2.push([l.uxa,l.wu.oP,l.wu.WL,l.wu.GO]);this.eob && void 0 !== m.U && (d=m.U.wn(l.ek),-1 != d && (d=m.U.get(d),g=d.duration,m=d.sb || m.sb,void 0 !== m && this.sha.push({Y:d.Y,duration:g,sb:m})));};c.prototype.iVa=function(l){for(var m=[],d=[],h=0;h < l.length;h++){for(var g=l[h],k=[],n=0;n < g.length;n++){k.push(g[n] - (d[n] || 0));}m.push(k);d=g;}return m;};c.prototype.kXa=function(){var l,m;l=this.iVa(this.Yga);if(0 !== l.length){m=0 < this.o2.length?this.iVa(this.o2):[];return {dltype:this.Wmb,bitrates:this.SF,seltrace:l,vmaftrace:this.sha,paceratetrace:m};}};c.prototype.get=function(){var l,m;l=this.kXa();m=this.cg;l && m.push(l);if(0 !== m.length)return m;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zAa=void 0;c=a(813);r=(function(){var q00;function f(l){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var h5J="1SIY";h5J+="b";h5J+="ZrN";h5J+="J";h5J+="Cp9";this.H=l;h5J;r00=5;break;}}}q00=2;for(;q00 !== 3;){switch(q00){case 2:f.prototype.Hkb=function(l,m){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 2:m=c.NSa(m,l);d=l.steeringAdditionalInfo;s00=5;break;case 4:var O5J="ap";O5J+="plying manifest based streamingCli";O5J+="entConf";O5J+="ig";return (l=d.streamingClientConfig,this.H.trace(O5J + JSON.stringify(l)),this.iOa(m,l));break;case 9:s00=!l?8:7;break;case 3:l=l.cdnResponseData;s00=9;break;case 7:var I5J="u";I5J+="sing sab cell >= ";I5J+="100, p";I5J+="ipel";I5J+="ineEnabled: ";var F5J="using sab cell ";F5J+=">= 200";F5J+=", pipelineEnabled: ";var q5J=", a";q5J+="llowSwit";q5J+="ch";q5J+="bac";q5J+="k";var B5J=",";B5J+=" probeDetailDenom";B5J+="in";B5J+="ator";B5J+=": ";var t5J="using ";t5J+="sab cell >= 300, probeServerWhe";t5J+="nError: ";var J5J=",";J5J+=" allowS";J5J+="witchback";var T5J=",";T5J+=" prob";T5J+="eDetailDenom";T5J+="inator:";T5J+=" ";var e5J="using sa";e5J+="b cell >= 400, probeServerWhenE";e5J+="rror: ";(l=l.sessionABTestCell) && (l=l.split(".")) && 1 < l.length && (l=parseInt(l[1].replace(/cell/i,""),10),400 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.Iu=!0,m.iI=1,m.yy=!0),this.H.trace(e5J + m.Iu + T5J + m.iI + J5J + m.yy)):300 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.Iu=!0,m.iI=1,m.yy=!1),this.H.trace(t5J + m.Iu + B5J + m.iI + q5J + m.yy)):200 <= l?(m.set?m.set({pipelineEnabled:!1}):m.yq=!1,this.H.trace(F5J + m.yq)):100 <= l && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.X7}),m.set({maxPendingBufferLen:m.d8})):(m.yq=!0,m.NN=1,m.Cw=m.X7,m.sD=m.d8),this.H.trace(I5J + m.yq)));return m;break;case 8:return m;break;}}};f.prototype.Ikb=function(l,m){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 1:return m;break;case 6:return m;break;t00=5;break;case 5:this.Emb=l;for(var d in m.bka){new RegExp(d).test(l) && (m=this.iOa(m,m.bka[d]));}return m;break;case 2:t00=!m.bka || l === this.Emb?1:5;break;}}};f.prototype.iOa=function(l,m){var u00,d,h,g;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(h in m){if(m.hasOwnProperty(h)){var p5J="In";p5J+="val";p5J+="id";p5J+=" k";p5J+="ey";g=m[h];l.set?0 === l.set((d={},d[h]=g,d)) && this.H.trace(p5J + h):l[h]=g;}}return l;break;}}};return f;break;}}})();b.zAa=r;},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.vEa=b.BJa=void 0;a=(function(){function f(){var l;l=this;this.bT=[];this.XUb=function(m){m=l.bT.indexOf(m);0 <= m && l.bT.splice(m,1);};}Object.defineProperties(f.prototype,{hC:{get:function(){return 0 !== this.bT.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Y3a:{get:function(){return this.bT.length;},enumerable:!1,configurable:!0}});f.prototype.add=function(){var l;l=new c(this.XUb);this.bT.push(l);return l;};f.prototype.Jbb=function(l){var m;m=this.add();try{return Promise.resolve(l()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return f;})();b.BJa=a;c=(function(){function f(l){this.Bob=l;}f.prototype.release=function(){this.Bob(this);};return f;})();r=(function(){function f(l,m){this.wQb=l;this.console=m;this.counter=new a();}f.prototype.ty=function(){var l,m;l=this;this.console.trace("Acquiring lease, total count",this.counter.Y3a + 1);m=this.counter.add();return {release:function(){m.release();l.console.trace("Releasing lease, total count",l.counter.Y3a);l.wQb(function(){return !l.counter.hC;});}};};return f;})();b.vEa=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.xEa=b.OR=void 0;c=a(2);f=a(17);l=c.__importStar(a(10));m=c.__importDefault(a(86));d=a(16);h=a(238);g=a(22);r=a(42);k=c.__importDefault(a(6));n=a(818);q=a(384);(function(v){v[v.uWa=0]="forwards";v[v.Aia=1]="backwards";v[v.cO=2]="none";})(p=b.OR || (b.OR={}));a=(function(v){function t(u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M){var R,H,Q;H=v.call(this,void 0,w,y,E.P,u,E,void 0,F,J,g.T.Fb(C),B.Pe.bind(B),G,M,void 0,new f.EventEmitter(),void 0) || this;H.rb=u;H.Zh=x;H.ec=z;H.R1=A;H.V=B;H.iL=D;H.sg=G;H.nV=K;H.Og=I;H.ql=M;H.active=!1;H.pNa=[];H.Nga=0;null === (R=H.P) || void 0 === R?void 0:R.xua(H);H.children=Object.create(null);H.fx=[];H.ie=void 0;void 0 === J && (J=g.T.Fb(E.Y));Q=[H.I.GQa,H.I.Gwa];F.forEach(function(N){var L;L=N.mediaType;N=new q.x0(u,H.Zh,H.H,H,N,J.W,Q[L],w,H.R1,H.Og,H.Wfa[L],null === G || void 0 === G?void 0:G.eb(L));H.ce.TWb(L,N);});H.kt=H.ce.SX;return H;}c.__extends(t,v);Object.defineProperties(t.prototype,{J:{get:function(){return this.P.J;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Dm:{get:function(){var u,w,x,y;return [null !== (w=null === (u=this.eb(0)) || void 0 === u?void 0:u.Dm) && void 0 !== w?w:0,null !== (y=null === (x=this.eb(1)) || void 0 === x?void 0:x.Dm) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{nn:{get:function(){var u,w,x,y;return [null !== (w=null === (u=this.eb(0)) || void 0 === u?void 0:u.nn) && void 0 !== w?w:{W:0,fa:0},null !== (y=null === (x=this.eb(1)) || void 0 === x?void 0:x.nn) && void 0 !== y?y:{W:0,fa:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{w$:{get:function(){return this.O.Y;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{sta:{get:function(){return this.w$ + this.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ic:{get:function(){return this.O.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{je:{get:function(){return this.Ic + this.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dc:{get:function(){return this.P.dc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{weight:{get:function(){return this.O.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{O:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{al:{get:function(){return this.ce;},enumerable:!1,configurable:!0}});t.prototype.Cf=function(){var u;this.Dh || (this.active=!1,this.sg && (delete this.sg.children[this.O.id],this.sg=void 0),l.lf(this.children,function(w){w && w.sg && (w.sg=void 0);}),this.children=Object.create(null),this.CK=void 0,v.prototype.Cf.call(this),null === (u=this.P) || void 0 === u?void 0:u.Cxa(this),this.ce.clear());};t.prototype.Xua=function(u,w){void 0 === w && (w=p.Aia);this.al.forEach(function(x){(l.ia(u) || x.mediaType === u) && x.reset();});switch(w){case p.Aia:this.sg && this.sg.Xua(u,w);break;case p.uWa:this.children && l.lf(this.children,function(x){x && x.Xua(u,w);});}};t.prototype.fW=function(u){var w,x,y;if(!this.active)return !1;w=this.sg;if(w){x=w.eb(u);y=x.Pa.f5a;if(0 !== y && (w.EL(u),y=x.Pa.f5a,0 !== y))return !1;}return !0;};t.prototype.Qd=function(u){return this.al.get(u);};t.prototype.gIb=function(){return this.al.every(function(u){return 0 === u.FA;});};t.prototype.toJSON=function(){return c.__assign(c.__assign({},v.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.xd,playerEndPts:this.je,pipelines:this.al,previousBranch:this.sg});};t.prototype.R8a=function(u,w){this.P.Cxa(this);this.P=this.O.P=u;this.Vva(this.P);this.P.xua(this);this.al.forEach(function(x){var y;y=w[x.mediaType];y && x.PY(y);});};t.prototype.uGb=function(u){return this.ql[u];};t.prototype.eb=function(u){return this.al.get(u);};t.prototype.HGb=function(u){return this.eb(u).FA;};t.prototype.Tva=function(u,w,x){var y,z,A,B;y=this;z=this.O;u=this.L3(z.Y,this.P,u,this.J === (u?u.J:this.ec.Tc.J));A=u.AO;B=u.mz;void 0 === w && (w=[0,1]);0 === B.length || w.forEach(function(D){var E,F;E=y.eb(D);x && (E.fe=B[D]);F=y.$U(z.Ha);E.I$(F[D]);});return A;};t.prototype.L6a=function(u,w){var x,y,z;x=this.rb;y=this.eb(0);void 0 === w && (w=y.CJb);this.sg && (z=this.sg.Qd(0));x=new q.x0(x,this.Zh,this.H,this,u,w,y.cP,this.I,this.R1,this.Og,this.Wfa[0],z);this.ce.replace(y,x);this.kt=this.ce.SX;this.Tva(this.sg,[0],!0);x.FI(w,! !this.sg);y.Cf();l.lf(this.children,function(A){A && A.L6a(u);});};t.prototype.Qt=function(u,w){if(w=this.eb(w))return w.Pa.Qt(u);};t.prototype.EL=function(u){void 0 === u?this.al.forEach(function(w){w.EL();}):this.eb(u).EL();};t.prototype.VX=function(u,w,x){(u=this.eb(u)) && u.Pa.VX(w,x);};t.prototype.j6=function(u,w){(w=this.eb(w)) && w.Pa.j6(u);};t.prototype.ZMb=function(u){this.pNa[u]=!0;};t.prototype.aub=function(){var u;u=this;return [0,1].every(function(w){return !u.dc(w) || u.pNa[w];});};t.prototype.Ztb=function(u,w,x,y){var z,A,B,D,E,F,C,G,J;z=this.I;A=this.rb;B=this.V.getState();D=B === d.ma.ud || B === d.ma.Nf;if(!D && void 0 === x)return {Oe:!0};if(B === d.ma.Nf && k.default.time.ea() < this.Nga + z.Kra)return {Oe:!1};E=this.eb(0);F=this.eb(1);C=this.ec.aw(this,0);G=this.ec.aw(this,1);J=h.H9(B);C=!E || E.PRa(J,this.V.Pe(),w,C,this.V.Ho(),y);G=!F || F.PRa(J,this.V.Pe(),u,G,this.V.Ho(),y);void 0 !== x && C && (x=x.trackId,u=this.P.getTrackById(x),this.Okb(x,u.lE),A.Cy=void 0);if(C && G)return (this.iL(),this.ST=k.default.time.ea(),B === d.ma.Nf && (this.Nga=k.default.time.ea()),{Oe:!0,yt:F?F.fG:E.fG});C=this.Gh(0);G=this.Gh(1);if(D){A=!F || G > z.rj;if((!E || C > z.rj) && A && (E=this.nV(),E >= z.tA))return (this.Qb("buffering longer than limit: " + E + " >= " + z.tA + ", audio buffer: " + C + " ms, video buffer: " + G + " ms"),this.iL(),this.ST=k.default.time.ea(),B === d.ma.Nf && (this.Nga=k.default.time.ea()),{Oe:!0,yt:"prebufferTimeLimit"});this.Zh.nnb();}return {Oe:!1};};t.prototype.tja=function(u,w){var x,y,z,A,B,D;x=this.I;y=this.eb(0);z=this.eb(1);w?(w=this.Gh(0,u),u=this.Gh(1,u)):(w=this.ec.aw(this,0,u),u=this.ec.aw(this,1,u));A=x.rj;B=!this.dc(0) || y.Th && 0 === y.Pa.GD && 0 === y.Pa.Hs;y=!this.dc(1) || z.Th && 0 === z.Pa.GD && 0 === z.Pa.Hs;D=B && y;x=!B && w < x.rj;if(!D && (x || !y && u < A))return !1;if(z && z.Oe || !this.dc(1))return !0;if(D)if(this.rb.r2 && 0 === w && 0 === u)this.Qb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};t.prototype.F$=function(u,w){var x,y;x=this;y=this.I;this.al.forEach(function(z){z.seeking=void 0;});u && y.ei && this.al.forEach(function(z){var A;if(z){A=x.ec.jG(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.nn.fa + ", completedMs: " + z.UL + ", completedBytes: " + A + ", partials: " + z.Pa.GD + ", streamingPts: " + z.Fc + ", completeStreamingPts: " + z.Sp + ", fragments: " + JSON.stringify(z.Pa.U) + ", toAppend: " + w(z.mediaType);x.Zh.ym(z);}});};t.prototype.cE=function(u,w,x){var y,z,A;y=this;z=k.default.time.ea();A={};l.lf(this.children,function(B){var D,E,F,C;if(B){if(B.ie){B.ie.xAb=z - B.ie.W6;B.ie.W6=void 0;D=B.ie.weight;}else D=y.ec.PYa(y.O.id,B.O.id);E=B.KC();F=y.eb(0) && 0 === E.vr;C=y.eb(1) && 0 === E.Xn;A[B.O.id]={weight:D,Br:E,QV:!F && !C};}});x={Hq:z,Te:u,Qka:x,P$:this.O.id,ie:A};u || (u=w.Pe(),x.sP=u - (this.O.Y + this.Ee),x.sP=Math.max(0,x.sP),x.A4=0,x.startTime=z);this.fx.unshift(x);return x;};t.prototype.cvb=function(u){var w,x;w=this.fx[0];w.Te && (w.sP=this.Ic - this.O.Y,w.sP=Math.max(0,w.sP));w.bab={};x=u.KC();m.default(x,w.bab);w.QV=u.nn.every(function(y){return 0 < y.W;});this.fx=[];return w;};t.prototype.Sn=function(u){var w;w=this.O;u-=this.Ee;if(w.Y < u && u < w.Ha)this.fx.shift();else if(w=this.fx[0])w.Sn=!0;};t.prototype.L3=function(u,w,x,y){var z,A,B,D;z=this;void 0 === w && (w=this.P);A=!1;if(x){A=!0;B=x.eb(1).Gf;x=x.eb(0).Gf;if(!B || !x)return {AO:[],mz:[]};B=B.Ha;y || (B=void 0);}D=this.XVa(u,B,A,w);w.Nb === this.ec.Byb && [1,0].forEach(function(E){var F;F=z.eb(E);F && (F.fe=D[E]);});return {AO:D.map(function(E){return E.Y;}),mz:D};};t.prototype.XVa=function(u,w,x,y){var z;z=this;void 0 === y && (y=this.P);return this.hPa(y)?[1,0].map(function(A){var B;if(!z.dc(A))return {};B=y.qh[A];A=z.eb(A).vn(B.stream,u,w,x);u=A.Y;return A;}).reverse():[];};t.prototype.$U=function(u,w){var x;x=this;void 0 === w && (w=this.P);return this.hPa(w)?[1,0].map(function(y){var z;if(!x.dc(y))return {};z=w.qh[y].stream;y=x.eb(y).lz(z,u);u=x.I.Zg?new g.T(y.ob,z.qa.S).W:y.Ha;return y;}).reverse():[];};t.prototype.z0b=function(u,w){var x;x=this.O.Ha;x && x < w && (u=this.$U(x));w=this.Qd(1);x=this.Qd(0);w && w.I$(u[1]);x && x.I$(u[0]);};t.prototype.hPa=function(u){var w;w=u.qh;if(!w)return !1;u=w[1];u=!this.dc(1) || u && u.stream.he;w=w[0];w=!this.dc(0) || w && w.stream.he;return u && w?!0:!1;};t.prototype.Okb=function(u,w){this.Zh.lnb(u,w);};return t;})(n.CEa);b.xEa=a;r.wf(f.EventEmitter,a);},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tda=b.xfb=void 0;c=a(2);f=c.__importDefault(a(6));l=a(20);m=a(819);d=a(9);r=(function(){return function(h,g,k){var n;this.I=g;k=d.vq(f.default,k,"[" + h + "]");this.Y2a=1 === h?g.C8:g.u8;n=f.default.Go()[h];this.GW=1 === h?g.zNb:g.iNb;this.GW=Math.min(g.pNb * n,this.GW);l.ga && k.trace("This pipeline's buffer size ",n,this.GW);this.y8=(1 === h?g.jA:g.Hw) || g.y8;this.b8=(1 === h?g.yNb:g.hNb) || g.b8;this.Tha=g.Tha;};})();b.xfb=r;r=(function(h){function g(k,n,q){return h.call(this,k,n,q) || this;}c.__extends(g,h);g.prototype.iFb=function(k,n,q,p){var v,t,u,w,x;u=n === q.fe.index;w=n === q.Gf.index;if(!w || u && q.fe.ta){if(u){x=k.FXa(q.fe);x.jP(q.fe.$u);w && (q.fe.ta || q.Gf.ta) && x.Aj({start:null === (v=x.ta) || void 0 === v?void 0:v.start,end:null === (t=q.Gf.ta) || void 0 === t?void 0:t.end});}else x=k.Uk(n);}else (x=k.FXa(q.Gf),x.jP(q.Gf.$u));x.ZN=n + 1;if(v=m.HYa(q,q.Fc))(l.ga && q.en("getFragmentForRequest pts:",q.Fc,"in region:",v,"previous region:",q.aqa),m.OUa(q.H,x,v,{mKb:u,sKb:w,yKb:void 0 === q.aqa || q.aqa !== v.region}));w && (x.Z1a(),x.sXb(q.gb.O));u=k.U.$w;if(!(x.ZN === n || null !== u && void 0 !== u && u.U_a(n) || p || !this.Tha && x.ta))for(++n;n < k.U.length && n < q.Gf.index && (x.fa < this.Y2a || x.duration < this.y8) && (1 === x.stream.Vg.length || this.Atb(k,n));++n){p=k.Uk(n);if(null === u || void 0 === u?0:u.U_a(n))break;if(m.T_a(q,p))break;if(x.duration + p.duration > this.b8)break;if(x.fa + p.fa > this.GW)break;x.d3(p);x.ZN=n + 1;l.ga && q.en("getFragmentForRequest: extended fragment startPts:",x.Y,"to duration:",x.duration,"size:",x.fa,"min request size:",this.Y2a,"max request size:",this.GW,"min request duration:",this.y8,"max request duration:",this.b8,"edit:",x.ta);}l.ga && q.en("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.pma,"lastRequestInRegion:",x.ww,"nextIndex:",x.ZN);return x;};g.prototype.Atb=function(k,n){return !k.Vg.some(function(q){return n === q.Pd;});};return g;})(r);b.tda=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.x0=void 0;c=a(2);r=a(385);f=c.__importDefault(a(28)).default.Ta;l=a(364);m=a(16);d=c.__importDefault(a(6));h=a(175);g=a(5);k=a(22);n=a(848);a=(function(q){function p(v,t,u,w,x,y,z,A,B,D,E,F){u=q.call(this,w,A,u,w,w,x,k.T.Fb(y),z,E,!1,null === F || void 0 === F?void 0:F.tg) || this;u.rb=v;u.Zh=t;u.kg=B;u.Og=D;u.Sia=0;u.HC=[];u.Zx=!1;u.qo.Wab=!1;u.xS=new n.yEa(w,u.Og,A,u.H,u.mediaType,u.Zh,u.Pa,u.rb);u.ALb=d.default.time.ea();u.uLb=void 0;u.CH=A.fpa;u.U5a=d.default.time.ea();t=h.bN(A);v=t.PD;t=t.L9;u.HSb=0 === u.mediaType?v:t;u.PY(x);return u;}c.__extends(p,q);Object.defineProperties(p.prototype,{tt:{get:function(){return this.Pa.tt;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{UL:{get:function(){return this.Pa.UL;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vC:{get:function(){return this.Pa.vC;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{FA:{get:function(){return this.Pa.FA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Th:{get:function(){return this.xS.Th;},set:function(v){this.xS.Th=v;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wq:{get:function(){return this.xS.Wq;},set:function(v){this.xS.Wq=v;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{O7:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CJb:{get:function(){return this.vNa.W;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cP:{get:function(){return this.il.cP;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{SGb:{get:function(){return this.rb.Rga;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Oe:{get:function(){return this.Zx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fG:{get:function(){return this.yMa;},enumerable:!1,configurable:!0}});p.prototype.reset=function(){this.seeking=void 0;this.connected=this.Th=!1;this.qo.reset();};p.prototype.Cf=function(){this.reset();q.prototype.Cf.call(this);};p.prototype.lz=function(v,t){return l.lz(this.$j.mediaType,this.I,v,t,this.Zg,this.rb.QNb);};p.prototype.vn=function(v,t,u,w){return l.vn(this.$j.mediaType,this.I,v,t,u,w);};p.prototype.Sn=function(){this.CH=this.I.fpa;};p.prototype.EL=function(){this.Pa.waa();};p.prototype.PY=function(v){var t,u;t=this.rb;u=this.mediaType;g.assert(v.mediaType === u);g.assert(v.P === this.gb.P);this.$j=v;this.gb.P.Mxa(u,v.Yd);t.mmb(this,v.aA);this.jtb(v.Yd);this.tg.PY(v);this.gb.P.Eja();this.Th=!1;};p.prototype.ama=function(v){var t;t=this.gb.P.qh[this.mediaType];if(t && t.stream.he && (v=t.stream.U.wn(v),-1 !== v))return v;};p.prototype.FI=function(v,t){var u,w,x;if(this.fe && this.fe.Y === v){t=this.fe.index;u=v;}else {w=this.gb.P;x=w.qh[this.mediaType];if(!x || !x.stream.he){this.ZH=v;this.FRb=t;return;}u=x.stream.U;this.fe=this.vn(x.stream,v,void 0,t);if(void 0 === this.fe){if((t=u.length - 1,u=u.Bj(t),this.Qb("setStreamingPts out of range of fragments, pts:",v,"last startPts:",u,"fragment index:",t,"fastplay:",w.rf.Ug),w.rf.Ug)){this.ZH=v;return;}}else (t=this.fe.index,u=this.fe.Y);}this.Gn=t;this.hT=u;this.ZH=void 0;};p.prototype.G1b=function(v){var t,u;t=this.$j.tw(v);u="verifying streamId: " + v + " stream's track: " + (t?t.Oa:"unknown") + " currentTrack: " + this.$j.trackId;return t?!0:(this.Zh.ym(u),this.Zh.ym("unknown streamId: " + v),!1);};p.prototype.jtb=function(v){this.xIb=v.reduce(function(t,u){return u.ku && u.bitrate > t.bitrate?u:t;},v[0]);};p.prototype.I$=function(v){this.Gf=v;};p.prototype.RMb=function(v,t,u,w,x){this.hab(v,t,w,x);u && ++this.Sia;this.rb.Yj();};p.prototype.oA=function(v){v.Ha && v.Y && (this.CH-=v.Ha - v.Y);q.prototype.oA.call(this,v);};p.prototype.tk=function(v){this.nZa(v);this.Tt(v);};p.prototype.B0b=function(v){var t;t=d.default.time.ea();this.CH+=v * (t - this.U5a);this.U5a=t;};p.prototype.CVb=function(){this.CH=this.I.fpa;};p.prototype.RL=function(v){this.Pa.pja();this.Zg || this.xS.RL(v,this.Ic);};p.prototype.nZa=function(v){var t,u,w;u=this.O7;w=this.rb;this.kg.TOa() || (this.Zh.Knb(v.mediaType,v.P.Nb,v.stream.track.gC,this.Sp,this.wa),null === (t=this.Zg) || void 0 === t?void 0:t.pJb(v),t=u.V.Pe() || 0,w.zb.ay() || (u=u.eb(f.Lb)) && !u.Oe && u.y6 && w.zb.Una(u),this.RL(t),this.rb.mZa(v),this.kg.G1(this) && this.kg.Yj());};p.prototype.Nsa=function(v){this.rb.v6(v);};p.prototype.PRa=function(v,t,u,w,x,y){var z,A;z=this.I;A=z.rj;if(u >= z.rj && (z.g$ && (A=u + 1E3),z.h$ && !this.connected))return !1;if(this.Zg)return this.Zg.Oy();u=this.Th && 0 === this.Pa.Ssa && 0 === this.Pa.Hs;return !u && w < A?!1:u?y && 0 === w?(this.Qb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.iub(v,t,x);};p.prototype.jXb=function(v){this.hT=v;};p.prototype.F$=function(v){this.Zx=!0;this.yMa=v;};p.prototype.Cja=function(){this.Zx=!1;this.yMa=void 0;};p.prototype.iub=function(v,t,u){if(this.Oe || 0 === this.mediaType)return !0;if(void 0 === this.lu)return !1;t=this.$lb(t,v);this.track.P.vm.LZ(this.track.P.Z,this.track.Yd);this.il.Dta([this.lu],!1,t,this.HSb);v=this.il.Oy(t,v,u,this.lu,this.gb.P.$p);v.complete?this.F$(v.reason):(this.Cja(),this.pD=v.pD,this.progress=v.progress);return this.Oe;};p.prototype.$lb=function(v,t){var u,w,x,y,z;y=d.default.Go()[this.mediaType];z=this.Pa.j6();v={cw:y,Y:null !== (u=z.xd) && void 0 !== u?u:0,Jc:v,Fc:null !== (w=z.vO || v) && void 0 !== w?w:0,im:null !== (x=z.eU || v) && void 0 !== x?x:0,$g:z.$g,$k:z.$k,xWa:z.U.length,U:z.U};"number" !== typeof v.Y?(v.Y=0,v.Fc=0):t === m.Gc.ud && v.Jc !== v.Y && (v.Jc=v.Y);return v;};return p;})(r.Pda);b.x0=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Pda=void 0;c=a(2);f=a(17);l=a(820);m=a(83);d=a(821);h=a(828);g=a(243);k=a(244);n=a(9);q=a(5);p=a(22);v=c.__importDefault(a(6));r=a(102);t=a(42);u=a(389);w=a(124);a=(function(x){function y(z,A,B,D,E,F,C,G,J,K,I,M,R){var H;H=x.call(this,z) || this;H.I=A;H.Ud=E;H.$j=F;H.vNa=C;H.Ylb=J;H.Pv=R;H.events=new f.EventEmitter();H.connected=!1;H.uoa=!1;H.Ul=!1;H.H=n.vq(v.default,B,"[" + H.mediaType + "]");H.Jk=H.H.error.bind(H.H);H.Qb=H.H.warn.bind(H.H);H.en=H.H.trace.bind(H.H);H.hT=C.W;"string" === typeof G || void 0 === G?(z=0 === H.mediaType && A.tla || 1 === H.mediaType && A.ula,H.gha=new k.Iea(G,A,new g.Hea(I),z)):H.gha=G;H.cn=new l.dIa(H,D,H.I,H.H,H.mediaType);H.qo=new d.MJa(H,A,H.H,H.cn,H.Ud,H.mediaType,H.Pv,function(){return H.xj;});A.Zg && (H.Zg=new h.BKa(A.Zg,H.H));K && (H.Hf=null !== M && void 0 !== M?M:u.Gt(H.mediaType,H.track.P,H.I,H.H,H.cn.qDb.bind(H.cn),function(){}),H.Hf.on("created",function(){return H.events.emit("requestQueueCreated");}));return H;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.$j.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gb:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wa:{get:function(){return this.Ud.O.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Pa:{get:function(){return this.qo;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Yd:{get:function(){return this.$j.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nn:{get:function(){return this.qo.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Dm:{get:function(){return this.qo.Dm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fc:{get:function(){return this.hT;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{R$:{get:function(){var z;return null !== (z=this.vj) && void 0 !== z?z:this.Tr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{dU:{get:function(){var z;return null !== (z=this.Pa.dU) && void 0 !== z?z:this.R$;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Aha:{get:function(){return this.Pa.dU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sp:{get:function(){return this.Pa.Sp;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qja:{get:function(){return this.Pa.Qja;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rLb:{get:function(){var z;z=this.Pa.sLb;return null === z || void 0 === z?void 0:z.Od;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xw:{get:function(){return ! !this.Gf && (this.Gn > this.Gf.index || this.hT >= this.Gf.Ic);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ul:{get:function(){return this.xw && 0 === this.qo.GD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tt:{get:function(){return this.Pa.tt;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qq:{get:function(){return this.we?p.T.max(this.we.Qa(this.gE),p.T.Gb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{GM:{get:function(){return this.gb.GM;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yTa:{get:function(){return this.Pa.U.JU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{il:{get:function(){return this.gha;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tg:{get:function(){return this.il.tg;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lu:{get:function(){return this.il.tg.lu;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{S:{get:function(){var z,A;return null !== (A=null === (z=this.fe) || void 0 === z?void 0:z.S) && void 0 !== A?A:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wa:{get:function(){var z;return null === (z=this.fe) || void 0 === z?void 0:z.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ob:{get:function(){var z;return null === (z=this.Gf) || void 0 === z?void 0:z.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xj:{get:function(){return this.gb.ig.Yf(this.S).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{y6:{get:function(){return this.Pa.y6;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bx:{get:function(){return this.Pa.bx;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wwa:{get:function(){return this.Pa.wwa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Tr:{get:function(){return this.vNa.add(this.gb.ig);},enumerable:!1,configurable:!0}});y.prototype.pT=function(){var z;z=this;this.qo.pT(void 0,function(A){var B;B=A[0];A=B.dd;B=B.index;B < z.Gn && z.iP(A,B);});};y.prototype.reset=function(){this.Pa.reset();this.fe && this.iP(this.fe.dd,this.fe.index);this.Hf && this.gb.P.tL(this.mediaType,this.Hf);};y.prototype.Cf=function(){var z;this.Ul=!0;this.qo.Cf();null === (z=this.gha) || void 0 === z?void 0:z.tg.Mb();this.Hf && (this.gb.P.tL(this.mediaType,this.Hf),w.lp.instance.kM(this.Hf),this.Hf.removeAllListeners(),this.Hf=void 0);};y.prototype.toJSON=function(){return {started:this.bx,startOfSequence:this.wwa,segmentId:this.wa,requestedBufferLevel:this.Dm,viewableId:this.Ud.P.Z,hasFragments:this.y6};};y.prototype.Lm=function(){return this.Pa.Lm();};y.prototype.iP=function(z,A){this.hT=z;this.Gn=A;};y.prototype.wz=function(){return this.Pa.wz();};y.prototype.HG=function(){this.Pa.close();};y.prototype.sG=function(z){return (z=this.Pa.Qt(z.W))?z.complete:!1;};Object.defineProperties(y.prototype,{Yg:{get:function(){return this.Ud.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gE:{get:function(){var z,A,B,D;return null !== (D=null !== (z=this.Pa.gE) && void 0 !== z?z:null === (B=null === (A=this.fe) || void 0 === A?void 0:A.Sc) || void 0 === B?void 0:B.add(this.gb.ig)) && void 0 !== D?D:this.Tr;},enumerable:!1,configurable:!0}});y.prototype.iab=function(z,A){var B;q.assert(this.Hf);q.assert(!this.Ul,"pipeline.tryIssueRequest on disabled pipeline");B=z.V5();return B?this.hab(z,B,this.Hf,A):(z=z.mE(this.Hf))?{Dn:z,reason:"success"}:{Dn:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.b7=function(z,A){z && (this.fe=z);A && (this.Gf=A);q.assert(this.fe);q.assert(this.Gf);q.assert(void 0 === this.Gn);this.iP(this.fe.dd,this.fe.index);};y.prototype.truncate=function(z){var A;A=this;q.assert(this.fe,"expected first fragment to exist on updateStreaming");this.Gf=z;this.xw && (z=c.__read(this.qo.Opb(z),2),this.iP(z[0],z[1]),this.Ur() && (this.Pa.r8a(),this.Pa.pja(),Promise.resolve(function(){A.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:A.mediaType});})));};y.prototype.iD=function(){return this.Ur()?!1:this.ki()?!0:this.track.K8;};y.prototype.ki=function(){return void 0 !== this.fe && void 0 !== this.Gf;};y.prototype.Ur=function(){return this.Ul || this.xw;};Object.defineProperties(y.prototype,{S5a:{get:function(){var z;z=!0;this.I.h$ && (z=this.connected);this.I.g$ && (z=z && this.uoa);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cRb:{get:function(){return void 0 !== this.Zg;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{y4a:{get:function(){var z;return (null === (z=this.Zg) || void 0 === z?0:z.Oy())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.tk=function(z){this.cn.qPb(z);"oncomplete" === this.I.q_a && (this.uoa=!0);this.Tt(z);};y.prototype.oA=function(z){z.Zc || this.cn.O3a(z.stream,z.Y,z.dd);this.cn.mPb(this.wa,z.stream,z.Zc);this.JM(z);};y.prototype.TH=function(z){z.c3 || (this.connected=!0);"onfirstbyte" === this.I.q_a && (this.uoa=!0);this.IC(z);};y.prototype.LXa=function(z){var A,B;A=this.Pa.U;if(0 === A.length)return {U:[],u9:0,$k:0};B=A.FM(z.W);0 > B && (B=void 0 === A.Y || z.W <= A.Y?0:A.length);return {U:A.wWb(B),u9:Math.max(0,A.xSa - B),$k:A.$k};};y.prototype.hab=function(z,A,B,D){var E,F,C,G,J,K;C=this.Ud;G=C.P;J=this.mediaType;K=this.Gn;if(K >= A.length)return (this.Qb("makeRequest nextFragmentIndex:",K,"past fragments length:",A.length),{Dn:!1,reason:"insufficientFragments"});if(!this.fe || !this.Gf)return (this.Qb("makeRequest delayed, first or last fragment not set","first:",! !this.fe,"last:",! !this.Gf),{Dn:!1,reason:"noFirstOrLastFragment"});A=this.Ylb.iFb(z,K,this,G.Mz());this.aqa=A.region;null === (E=this.Zg) || void 0 === E?void 0:E.rJb(A,z);A.tq && 1 === J && this.cn.Cga(C.O,A.Ha);this.I.ON && (A.ON=this.I.ON);void 0 !== z && (A.location=z.location,A.Ld=z.yd,A.Kva=z.ws);if(E=C.P.M$)(J=0 === J && this.I.tla || 1 === J && this.I.ula,K=this.I.qBb && 1 === this.mediaType && this.I.yq,A.rI=J?D:void 0,A.N$=E.Ft({Pp:C.Gh(this.mediaType),U8:this.I.lBb?this.I.U8:void 0,L$a:String(v.default.time.ea()),hU:J?D:void 0,Iia:K?{start:A.offset,size:A.fa}:void 0}));v.default.time.ea();B=this.Pa.gyb(A,B,z);if(!B.lO()){this.Qb("MediaRequest.open error: " + B.mh + " native: " + B.sj);if(7 === B.readyState)return {Dn:!1,reason:"requestAborted"};this.Qb("makeRequest caught:",B.mh);G.Mh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Dn:!1,reason:"openAseMediaRequest"};}null === (F=this.Zg) || void 0 === F?void 0:F.HBb(B,A,z);this.cn.rPb(B);this.iP(B.Ic,A.ZN);this.Ur() && (this.Pa.r8a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {Dn:!0,reason:"success"};};return y;})(m.hv);b.Pda=a;t.wf(r.iB,a);t.wf(r.px,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.h8=b.i8=void 0;c=a(2).__importDefault(a(35)).default.console;b.i8=f;b.h8=l;(function(){var v00;v00=2;for(;v00 !== 4;){switch(v00){case 2:var w5J="1";w5J+="SIYb";w5J+="ZrNJ";w5J+="Cp9";b.i8=f=function(d,h,g,k,n){var x00,v,t,u,w,x,q,p;x00=2;for(;x00 !== 18;){switch(x00){case 12:x00=!v || !w?19:11;break;case 5:x00=k < n?4:18;break;case 6:(v=g.$i[k],t=g.sizes[k]);x00=14;break;case 10:(m(h,q,u.QI[k]),g.upgrade(u,k));x00=20;break;case 13:(u=h[p].U.$w,w=u.$i[k],x=u.sizes[k]);x00=12;break;case 3:x00=-1 === p?9:8;break;case 8:p+=1;x00=7;break;case 7:x00=g.$i[k] < d.SW && p < h.length?6:19;break;case 2:x00=d.SW && 0 < d.SW?1:18;break;case 14:x00=!h[p].U?19:13;break;case 1:q=[];x00=5;break;case 4:p=m(h,q,g.QI[k]);x00=3;break;case 9:var V5J="maybeUp";V5J+="gra";V5J+="deLowVmafFragments: invalid streams";c.error(V5J);x00=18;break;case 19:k++;x00=5;break;case 11:x00=w > v || w === v && x > t?10:20;break;case 20:p++;x00=7;break;}}};b.h8=l=function(d,h,g,k){var y00,n,q,p,v,t,u;y00=2;for(;y00 !== 8;){switch(y00){case 1:y00=d.SW && !(0 >= d.SW)?5:8;break;case 2:y00=1;break;case 5:var l5J="min_fr";l5J+="agme";l5J+="nt_v";l5J+="m";l5J+="af";(t=[],u=k.Jg);d=m(h,t,u.Kf);u=null === (q=null === (n=u.U) || void 0 === n?void 0:n.$w) || void 0 === q?void 0:q.QI[g];void 0 !== u && (n=m(h,t,u),-1 !== n && (n !== d && (k.V2a=d,k.Jg=h[n],k.reason=l5J),(null === (v=null === (p=k.Jg) || void 0 === p?void 0:p.U) || void 0 === v?0:v.get) && k.Jg.U.get(g)));y00=8;break;}}};w5J;v00=4;break;}}function m(d,h,g){var w00,k;w00=2;for(;w00 !== 7;){switch(w00){case 3:k++;w00=5;break;case 1:k=0;w00=5;break;case 4:h[d[k].Kf]=k;w00=3;break;case 5:w00=k < d.length?4:9;break;case 2:w00=0 === h.length?1:9;break;case 9:d=h[g];return void 0 !== d?d:-1;break;}}}})();},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Zw=void 0;r=a(2);c=r.__importStar(a(10));f=a(25);l=a(101);m=r.__importDefault(a(28));d=r.__importDefault(a(35));h=r.__importDefault(a(835));g=a(16);k=a(386);n=d.default.assert;q=d.default.rp;b.Zw=p;(function(){var z00;z00=2;for(;z00 !== 5;){switch(z00){case 2:var Z5J="1S";Z5J+="I";Z5J+="Y";Z5J+="bZrN";Z5J+="JCp9";b.Zw=p=function(w,x,y,z,A,B,D){var y81=a000;var F00,ua,ya,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,C,G;function F(O,T,ja,pa,sa,Qa,Ua){var H00,Za,ab,kb;H00=2;for(;H00 !== 20;){switch(H00){case 6:H00=Za >= O.bitrate * Ua * kb?14:13;break;case 3:H00=!Qa || !ab?9:13;break;case 13:ja=!w.Yja || O === ja || O.yd === ja.yd && B?0:(ja=O.wb) && ja.yj && ja.yj.Ga?ja.yj.Ga + w.Vja * (ja.yj.Zi?Math.sqrt(ja.yj.Zi):0):0;(T=v(w,y,O,T,da,I + ja - K,L,R - K,M - K,H,da.length,N,ka,pa,sa,P,x.gla,x.playbackRate,! !x.x1a)) && T.result && (G.I$b=T.BW);S={k5:T && T.result,Ra:Za,bitrate:O.bitrate};return T && T.result;break;case 7:return !0;break;case 8:H00=Za >= Math.max(O.gA * Ua,O.bitrate * Ua * kb) && O.Rt?7:13;break;case 2:(Za=O.Ra || 0,ab=O.U && O.U.length,kb=Qa?w.Vla:ab?w.j5:w.NVa);H00=1;break;case 4:Qa || ab || (O.V$=!0);H00=3;break;case 1:H00=S && !S.k5 && S.Ra >= Za && S.bitrate <= O.bitrate?5:4;break;case 5:return !1;break;case 14:return !0;break;case 9:H00=ab && !w.bZ?8:6;break;}}}function E(O,T,ja){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 4:return O.U?O.U.fka(T,ja):8;break;G00=1;break;case 2:return O.U?O.U.fka(T,ja):0;break;}}}F00=2;for(;F00 !== 30;){switch(F00){case 33:(ua=E(A,H,w.Eoa),ya=E(A,H + ua,w.Lqa));F00=32;break;case 27:F00=F(A,y[Math.max(z - 1,0)],A,C,U,!1,x.playbackRate)?26:34;break;case 13:(J=A,K=x.buffer.Y,I=x.buffer.Jc,M=x.buffer.Fc,R=x.buffer.im,H=x.Pd);y81.Q2J(0);D=y81.c2J(I,R);(Q=this.tg.N0a || m.default.g0.yh,N=x.state === g.ma.Hc || x.state === g.ma.eh?x.buffer.$k:0,L=w.f8,P=w.Yz?w.Yz:1E3);C=E(A,H,w.Doa);y81.Q2J(1);U=E(A,y81.c2J(C,H),w.Kqa);F00=19;break;case 17:A.U && A.U.length || (A.V$=!0);(da=l.Om.oTa(x.buffer.U),ka=x.buffer.cw - da.fa);Q=y[0];F00=27;break;case 19:F00=Q === m.default.g0.ekb || !A.Ra?18:17;break;case 18:return t.call(this,x,w,y,A);break;case 31:A=Q;F00=22;break;case 14:return (A=u(y,z,A.Ra || 0,w.NVa,x.playbackRate),null !== (C=A.U) && void 0 !== C && C.length || (A.V$=!0),G.Jg=A,G);break;case 7:A=y[z];F00=6;break;case 26:F00=z + 1 < y.length && D > w.Xz && (void 0 === this.I7 || this.mqa && this.mqa > this.I7 || M - this.I7 > w.S7 && D > w.Oqa)?25:22;break;case 25:D=w.mwa && D >= w.kya?y.length:z + 2;(ma=E(A,H,w.Foa),X=E(A,H + ma,w.Mqa));F00=23;break;case 22:G.Jg=A || J;k.h8(w,y,H,G);return G;break;case 34:F00=A.U && A.U.length?33:22;break;case 32:F00=(A=f.hg(y.slice(0,z).reverse(),function(O,T){var J00;J00=2;for(;J00 !== 1;){switch(J00){case 2:return F(O,y[Math.max(z - T - 2,0)],J,ua,ya,!0,x.playbackRate);break;}}})) && A.Kf < Q.Kf || !A?31:22;break;case 2:var f5J="n";f5J+="umbe";f5J+="r";var j5J="n";j5J+="umb";j5J+="er";var k5J="inva";k5J+="lid player fragm";k5J+="entIn";k5J+="d";k5J+="ex";var b5J="Must ";b5J+="have at ";b5J+="least one";b5J+=" selected stream";n(!c.ia(z),b5J);void 0 === x.Pd && (x.Pd=0);n(c.Ba(x.Pd),k5J);n(j5J === typeof x.buffer.cw);n(f5J === typeof x.gla);G=new q();F00=7;break;case 23:A=f.hg(y.slice(z + 1,D),function(O,T){var I00;I00=2;for(;I00 !== 1;){switch(I00){case 2:return F(O,y[z + T],J,ma,X,!1,x.playbackRate);break;}}});F00=22;break;case 6:F00=D?14:13;break;}}};Z5J;z00=5;break;}}function v(w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N){var A00,P,S,U,da,ka;A00=2;for(;A00 !== 15;){switch(A00){case 9:A00=!P || P < y.bitrate * Q * w.Coa || !U?8:7;break;case 12:S=void 0;A00=11;break;case 19:A00=0 < N?18:17;break;case 5:(P=y.Ra,S=E - B,U=y.U && y.U.length,da=z.U && z.U.length);n(A.length === G);w.Pqa && (R=Math.min(R,S));A00=9;break;case 14:A00=N?13:16;break;case 13:N=I;A00=12;break;case 2:var v5J="Sec";v5J+="ond stream u";v5J+="ndefined";var M5J="Fi";M5J+="rst stream u";M5J+="ndefined";n(y,M5J);n(z,v5J);A00=5;break;case 7:da || (z=y);ka=[];A00=14;break;case 11:A00=0 < N?10:20;break;case 20:N=M;A00=19;break;case 10:(S=Math.min(N,y.U.length - C),L(y.U.$w,C,C + S),N-=S,C+=S,C >= y.U.length && (C=0));A00=11;break;case 17:return 0 < I || 0 < M?h.default(A.concat(ka),G + I + M,B,E,D,J,F,G,G + I,H,K,P / Q,R,w.VW,w.bZ):P > y.gA?{result:!0,BW:0,Rt:!0}:{result:!1,BW:0,Rt:!0};break;case 16:(I=Math.max(0,Math.min(I,y.U.length - C)),M=Math.max(0,Math.min(M,z.U.length - C - I)),0 < I && L(y.U.$w,C,C + I),0 < M && L(z.U.$w,C + I,C + I + M));A00=17;break;case 8:return !1;break;case 18:(S=Math.min(N,z.U.length - C),L(z.U.$w,C,C + S),N-=S,C+=S,C >= z.U.length && (C=0));A00=19;break;}}function L(ma,X,ua){var B00;B00=2;for(;B00 !== 5;){switch(B00){case 2:k.i8(w,x,ma,X,ua);ka.push(ma.subarray(X,ua));B00=5;break;}}}}function u(w,x,y,z,A){var D00,B;D00=2;for(;D00 !== 3;){switch(D00){case 4:return w[Math.max(x,y)];break;case 2:a000.x2J(2);B=a000.z2J(y,A,z);y=f.Lp(w,function(D){var E00;E00=2;for(;E00 !== 1;){switch(E00){case 2:return D.bitrate > B;break;case 4:return D.bitrate >= B;break;E00=1;break;}}});y=0 < y?y - 1:0 === y?0:w.length - 1;D00=4;break;case 14:return w[Math.max(x,y)];break;D00=3;break;}}}function t(w,x,y){var C00;C00=2;for(;C00 !== 4;){switch(C00){case 2:w=new q();w.Jg=y[0];return w;break;}}}})();},function(r,b,a){var l,m,d,h,g,k;function c(n,q,p,v){h(!l.ia(v),"Must have at least one selected stream");return new k(v);}function f(n,q,p,v){h(!l.ia(v),"Must have at least one selected stream");return new k(v);}l=a(10);b=a(35);m=b.console;d=b.debug;h=b.assert;g=b.pH;k=b.rp;r.exports={STARTING:function(n,q,p){var t,u,w,x;function v(y,z){var A,B,D,E;A=y.id;B=y.bitrate;D=y.Ra || 0;E=! !D;d && m.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.ku)return (d && !y.iu && m.log("  Not available"),d && y.Cz && m.log("  Failed"),!1);if(B > n.FW)return (d && m.log("  Above maxInitAudioBitrate (" + n.FW + " Kbps)"),!1);if(!(B * n.A8 / 8 < q.buffer.cw))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(E){d && m.log("  Have throughput history = " + E + " : available throughput = " + D + " Kbps");if(B * q.playbackRate < D / u)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.UW;q.wpa && (y=Math.max(y,n.TW));if(B <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.UW + " Kbps) " + (q.wpa?" and also minHCInitAudioBitrate (" + n.TW + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}t=new k();u=n.q8b || 1;for(w=p.length - 1;0 <= w;--w){x=p[w];if(v(x,w)){t.Ie=w;break;}g(x) && (t.Ie=w);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Gt=void 0;c=a(20);f=a(124);l=a(5);b.Gt=function(m,d,h,g,k,n){var q;c.ga && g.trace("AsePlaygraph.createRequestQueue()");q=f.lp.instance.Gt(m,d.J,!0,!1,{gz:h.gz},h);q.Wg.on(q,"networkfailing",function(){var p;c.ga && g.trace("requestQueue OnNetworkFailing: ",q);q.i5 && (l.assert(q.YU),null === (p=d.$p) || void 0 === p?void 0:p.ms(q.YU,void 0,q.mh,q.sj));d.Lm();});q.Wg.on(q,"error",function(){n(q.mh,q.sj);});q.on("transportreport",k);q.xb();return q;};},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.uba=void 0;c=a(2);r=a(17);f=a(20);l=c.__importDefault(a(6));m=a(9);d=a(850);h=a(149);g=a(851);k=a(22);n=a(854);a=(function(q){function p(){var v;v=null !== q && q.apply(this,arguments) || this;v.DOa=0;v.Vga=0;v.H1=0;v.xfa=0;return v;}c.__extends(p,q);p.prototype.Rua=function(v){var t,u;q.prototype.Rua.call(this,v);this.DOa++;this.Vga++;this.YOa=l.default.time.ea();this.MK || (this.MK={Ic:v.Ic,dd:v.dd,index:v.index},this.V1 || (this.V1=this.MK));t=this.i2;u=!1;t && 100 > Math.abs(t.je - v.xd) && (this.H1+=v.je - t.je,this.xfa++,u=!0);u || (this.H1=v.Hr,this.xfa=1);this.i2=v;};p.prototype.stop=function(){q.prototype.stop.call(this);this.Vga=0;this.MK=void 0;};p.prototype.TXa=function(){var v,t,u,w;v=this.WB;t=v.n4;if(t){w=t.eb(this.Rg);w && w.Pa && (u=w.Pa.Hna());return {RM:u,currentBranch:{sId:t.O && t.O.id,cancelled:t.Dh},currentReceivedCount:v && v.Ayb,totalReceivedCount:this.DOa,currentState:v && v.zTa || "Uninitialized",lastRequestPushed:this.i2 && ({contentEndPts:this.i2.Ic,fragmentIndex:this.i2.index}),tslp:this.YOa && l.default.time.ea() - this.YOa,cpts:this.H1,crq:this.xfa,rslp:this.Vga,firstRequestSSPushed:this.MK && ({contentStartPts:this.MK.dd,fragmentIndex:this.MK.index}),firstRequestPushed:this.V1 && ({contentStartPts:this.V1.dd,fragmentIndex:this.V1.index})};}};return p;})((function(q){function p(v,t,u,w,x,y,z,A,B){var D;D=q.call(this) || this;D.Ng=v;D.Rg=t;D.I=w;D.H=x;D.QB=new m.dr(!1);D.PB=new m.dr(k.T.Fb(-Infinity));D.H=m.vq(l.default,D.H,"AsePlayerBuffer [" + t + "]:");D.WB=new d.yza(D.H,u,t);D.resume();y && z && A && (D.Gta=new g.oJa(t,x,y,D.Ng,y.events,z,A,B),v=new n.pCa(null === y || void 0 === y?void 0:y.Bu,k.T.Fb(D.I.WW),x),D.WB.wqb(v));D.Ng.on("requestAppended",function(E){D.QB.set(!0);E.request.we && D.PB.set(E.request.we);D.emit("requestAppended");});return D;}c.__extends(p,q);Object.defineProperties(p.prototype,{hA:{get:function(){return this.QB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{oW:{get:function(){return this.PB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ZJb:{get:function(){return this.WB.Xk;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{RA:{get:function(){return this.Ng.RA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.Rg;},enumerable:!1,configurable:!0}});p.prototype.TXa=function(){};p.prototype.resume=function(){f.ga && this.H.trace("resume");this.twa();};p.prototype.Q_a=function(v){return this.Ng.pna() > v;};Object.defineProperties(p.prototype,{Frb:{get:function(){return this.uK;},enumerable:!1,configurable:!0}});p.prototype.reset=function(v){var t;void 0 === v && (v=!1);f.ga && this.H.trace("reset");this.stop();this.Ng.reset(v);this.QB.set(!1);this.PB.set(k.T.Fb(-Infinity));v || (this.uK=void 0);v || (null === (t=this.Gta) || void 0 === t?void 0:t.reset());};p.prototype.Em=function(v){void 0 === v && (v=!1);f.ga && this.H.trace("restart");this.reset(v);this.twa(!0);};p.prototype.stop=function(){f.ga && this.H.trace("stop");this.WB.H9a();};p.prototype.close=function(){var v;f.ga && this.H.trace("start");null === (v=this.Gta) || void 0 === v?void 0:v.close();};p.prototype.Mb=function(){this.stop();this.close();};p.prototype.mX=function(){this.I.s5 && this.Ng.oWa();this.Ng.ez();};p.prototype.$Cb=function(v){this.Ng.J3a(v,!0);};p.prototype.Ji=function(v){var t;return !(null === (t=this.Gta) || void 0 === t || !t.Ji(v));};p.prototype.twa=function(v){if(!this.WB.Xk || v)(this.WB.KVb(),h.AsyncIterator.ZKb(this.WB,this.C7.bind(this)));};p.prototype.C7=function(v){v.done || this.Rua(v.value);};p.prototype.Rua=function(v){f.ga && this.H.trace("requestReceived: " + v.toString());this.Ng.endOfStream?f.ga && this.H.error("Buffer manager has declared EOS, ignoring request",v.toString()):(this.uK?(this.uK.vLb=v.Ic,this.uK.wLb=v.je,this.uK.Q0a=v.we):this.uK={D9b:v.dd,E9b:v.xd,vLb:v.Ic,wLb:v.je,Q0a:v.we},this.Ng.Erb(v));};return p;})(r.EventEmitter));b.uba=a;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jea=void 0;c=a(2);f=a(17);l=a(9);m=a(20);d=a(72);h=l.T.Fb(1E3);r=(function(){function g(k,n,q,p,v,t,u,w,x){var y,z,A;y=this;this.mediaType=k;this.console=n;this.Fa=q;this.events=v;this.Ov=t;this.Xf=u;this.F_b=w;this.Ro=[];this.Usa=h.add(l.T.Fb(null !== (A=null === (z=t.nP) || void 0 === z?void 0:z.W) && void 0 !== A?A:0));this.listeners=new f.Uh();this.listeners.on(q.V,"skipped",function(){return y.oX();});this.listeners.on(p,"requestAppended",function(B){return y.hA(B.request);});this.fT=!0;this.MU=u.xG(function(){return y.SAb();},"Presentation Emit",x);this.S9=u.xG(function(){return y.HTb();},"Presentation Prune");}g.prototype.oX=function(){this.trace("skipped, scheduler clock " + this.Xf.ya.currentTime.Xd());this.fT=!0;this.MU.Em();};g.prototype.SAb=function(){var k,n;return c.__generator(this,function(q){switch(q.label){case 0:(this.gI=this.XOb(this.fT),k=this.u3a(),q.label=1);case 1:if(!k)return [3,3];n=this.fT?this.Fa.Tg:null === k || void 0 === k?void 0:k.timestamp;this.trace("queuing task for " + k.gJ + (" at player time " + k.timestamp.Xd()) + (" scheduler clock is " + this.Xf.ya.currentTime.Xd()));return [4,d.Ik.TP(k.timestamp)];case 2:return (q.$c(),this.trace("executing task for " + k.gJ + (" at player time " + k.timestamp.Xd()) + (" scheduler clock is " + this.Xf.ya.currentTime.Xd())),this.fT=!1,this.TUa(k,n),this.gI++,k=this.u3a(),n=null === k || void 0 === k?void 0:k.timestamp,[3,1]);case 3:return [2];}});};g.prototype.u3a=function(){if(void 0 !== this.gI)return this.Ro[this.gI];};g.prototype.XOb=function(k){var n,q,v;void 0 === k && (k=!1);for(var p=k?0:null !== (n=this.gI) && void 0 !== n?n:0;p < this.Ro.length;p++){n=this.Ro[p];v=l.T.Fb(null !== (q=this.Ov.rta) && void 0 !== q?q:0);if(n.timestamp.greaterThan(this.Fa.Tg.add(v)))return k && 0 < p?p - 1:p;}return Math.max(this.Ro.length - 1,0);};g.prototype.HTb=function(){var k,n;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.Ro.length))return [3,2];k=c.__read(this.Ro,2);n=k[1];this.trace("queuing pruning task for " + n.gJ + (" at player time " + this.Usa.add(n.timestamp).Xd()) + (" scheduler clock is " + this.Xf.ya.currentTime.Xd()));return [4,d.Ik.TP(this.Usa.add(n.timestamp))];case 1:return (q.$c(),this.trace("executing pruning task for " + n.gJ + (" at player time " + this.Usa.add(n.timestamp).Xd()) + (" scheduler clock is " + this.Xf.ya.currentTime.Xd())),this.Ro.shift(),this.gI && this.gI--,[3,0]);case 2:return [2];}});};g.prototype.reset=function(){this.Ro=[];m.ga && this.trace("reset");this.fT=!0;this.G7=void 0;this.gI=0;this.S9.Em();this.MU.Em();};g.prototype.close=function(){this.MU.Mb();this.S9.Mb();this.listeners.clear();};g.prototype.Ji=function(k){var n;m.ga && this.trace("canSkip() " + k);if(0 === this.Ro.length)return (m.ga && this.trace("canSkip false, no media sequence"),!1);n=this.Ro[0];return n.timestamp.greaterThan(k)?(m.ga && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.G7 || this.G7.lessThan(k)?(m.ga && this.trace("canSkip false, later than last appended at " + this.G7),!1):!0;};g.prototype.trace=function(k){m.ga && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.F_b + ": " + k);};g.prototype.zPa=function(k,n,q){q && (this.G7=q);q=this.Ro.length?this.Ro[this.Ro.length - 1]:void 0;return void 0 === q || q.gJ !== k?(this.Ro.push({gJ:k,timestamp:n}),this.MU.state === d.Vm.complete && this.MU.Em(),this.S9.state === d.Vm.complete && this.S9.Em(),!0):!1;};return g;})();b.jea=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Fba=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(86));l=r.__importDefault(a(6));m=a(855);d=a(16);h=a(242);g=a(9);k=a(5);n=a(22);q=a(347);p=a(382);a=(function(){function v(t,u,w,x,y,z,A,B,D,E){this.rb=t;this.Zh=u;this.H=w;this.iL=x;this.I=A;this.R1=B;this.nOa=D;this.nV=E;this.Qb=this.H.warn.bind(this.H);this.en=this.H.trace.bind(this.H);this.Cg=this.H.log.bind(this.H);this.Wh=[];this.fh={};y.zo?(k.assert(!y.Vo),this.mfa=!0,this.bob(y,y.zo,z)):(this.jo=this.by(y.Vo || "",y,0,void 0,void 0,{},!0),this.jo.cs=!0,this.jo.Ha=Infinity,this.N2=[this.jo]);this.Ud=this.J1(this.jo,void 0,z);this.Ud.active=!0;t=g.vq(l.default,this.H,"BranchQueue::");this.gj=new h.x_(t);this.gj.enqueue(this.Ud);this.Oga=this.HS=void 0;}v.Jma=function(t){return "m" + t;};Object.defineProperties(v.prototype,{Mz:{get:function(){return ! !this.mfa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jk:{get:function(){return this.Ud.Dh;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qe:{get:function(){return this.jo;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{kh:{get:function(){return this.Ud.O.id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Byb:{get:function(){return this.Ud.P.Nb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Tc:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Jb:{get:function(){return this.Wh;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ee:{get:function(){return this.Ud.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Og:{get:function(){return this.rb.Og;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mi:{get:function(){return this.HS?this.HS:this.Jb[0];},enumerable:!1,configurable:!0}});v.prototype.Mb=function(){this.Wh.forEach(function(t){t.Cf();});this.Wh=[];this.gj.clear();};v.prototype.te=function(t){return this.fh[t];};v.prototype.QYa=function(){return this.gj.getIterator();};v.prototype.PYa=function(t,u){var w;w=this.fh[t];if(w)return (t=w.zl[u]) && t.weight;this.Qb("getSegmentWeight, unknown segment:",t);};v.prototype.OGb=function(t){var u;u=this.fh[t];if(u)return u.Y;this.Qb("getSegmentStartPts, unknown segment:",t);};v.prototype.NGb=function(t){var u;u=this.fh[t];if(!u)this.Qb("getSegmentDuration, unknown segment:",t);else if(c.Ba(u.Ha) && isFinite(u.Ha) && c.Ba(u.Y) && isFinite(u.Y))return u.Ha - u.Y;};v.prototype.Cua=function(t){var u;u=-1;this.Wh.some(function(w,x){return w === t?(u=x,!0):!1;});-1 !== u?this.Wh.splice(u,1):this.Qb("Unable to find branch:",t,"in branches array");};v.prototype.jG=function(t,u){var w;w=0;this.Zlb(t).forEach(function(x){(x=x.Qd(u)) && (w+=x.vC);});return w;};v.prototype.aw=function(t,u,w){var x;if(!t.dc(u))return 0;x=t.eb(u);for(x=w?x.Fc:x.Sp;void 0 === x;){if(!t.sg)return 0;t=t.sg;x=t.eb(u);x=w?x.Fc:x.Sp;}t=this.nOa.Pe();return Math.max(x - t,0);};v.prototype.Zla=function(t){return this.Wh.filter(function(u){if(u.P.Nb === t)return !0;});};v.prototype.JCb=function(t,u){return this.WMa(t,!1,u);};v.prototype.ICb=function(t,u){return this.WMa(t,!0,u);};v.prototype.dVb=function(t,u,w){c.lf(this.Wh,function(x){x.P === t && x.R8a(u,w);});c.lf(this.fh,function(x){x.P === t && (x.P=u);});};v.prototype.z7a=function(){var t;t=this;c.lf(this.Wh,function(u){var w;w=t.rb.oh(u.P.Nb);u.hx(n.T.Fb(w.zw));});};v.prototype.Kq=function(t){var u;u=this;c.lf(this.Wh,function(w){w.eb(1).track.Yd.forEach(function(x){var y;y=q.$ha(x.ih,x.bitrate,t,u.H);f.default(y,x);});});};v.prototype.Qt=function(t,u,w,x){var y;for(;u;){y=u.Qt(t,w);if(y)return y;if(x)break;u=u.sg;}};v.prototype.ETa=function(t){var u,w;u=this;void 0 === t && (t=!1);w=this.Wh;t && (w=w.filter(function(x){return x !== u.Ud;}));w.forEach(function(x){x.active=!1;u.gj.remove(x);});t || this.gj.clear();return w;};v.prototype.GTb=function(){var t;for(;0 < this.Wh.length;){t=this.Wh[0];t.eb(0);t.eb(1);if(!t.active)break;if(t === this.Ud)break;if(!t.gIb())break;t.Cf();this.Wh.shift();}};v.prototype.VX=function(t,u,w,x,y){if(w > x){for(w-=x;t;){t.VX(u,w,y);t=t.sg;}return w;}};v.prototype.L1a=function(t,u){for(var w={eU:null,vO:null,xd:null,$k:0,$g:0,U:[]};t;){t.j6(w,u);t=t.sg;}return w;};v.prototype.Pub=function(t){var u,w,x;u=this.Ud;if(u.y1a)w=u.y1a;else {x=this.Ud.Ee;w=this.J1(u.O,u);d.yf.forEach(function(y){var z;z=w.Qd(y);z && (z.FI(0),y=u.Qd(y),z.I$(y.Gf));});w.hx(n.T.Fb(x + t));u.y1a=w;}this.qK(w,u);};v.prototype.vqb=function(t,u,w){var x,y;k.assert(!t.Mz());if(!this.mfa){this.mfa=!0;this.HS=this.mi;x=this.jo.id || v.Jma(0);this.jo.id=x;this.fh[x]=this.jo;this.jo.Ha=this.rb.uFb().VXa();this.jo.ND=!0;}y=void 0 !== t.Vo?t.Vo:v.Jma(t.Nb);t=this.by(y,t,u,w,void 0,{},!0);t.ND=!0;this.N2.forEach(function(z){z.zl={};z.zl[y]={weight:100};z.uU=y;z.av=!1;});this.N2=[t];};v.prototype.Cr=function(t,u){var w,x,y,z;w=this.mi;x=w.cE(u,this.rb.V);y=w.O;z=w.children[t];if(u){if(!y.zl[t])return (this.Ud.Qb("chooseNextSegment, invalid destination:",t,"for current segment:",y.id),!1);if(w.Qk)return w.Qk === t;w.Qk=t;z && w.v5 && this.qK(z,w);return !0;}if(void 0 !== w.Qk)return !1;if(!z)return (x.q3a=!0,!1);x.q3a=!z.tja();this.rb.Wga(void 0,p.OR.cO);w.v5=void 0;w.Qk=t;this.qK(z,w);w.HG();this.rb.dT();return !0;};v.prototype.BIb=function(t,u){var w,x,y,z;w=this;z=t.O;u && !t.Qk && (t.Qk=z.uU,t.cE(!0,this.rb.V,!0));t.children=Object.create(null);c.lf(z.zl,function(A,B){t.Qk && B !== t.Qk || (x=w.fh[B],y=w.qlb(x,t),t.children[B]=y);});t.Qk && (u=t.children[t.Qk]) && this.qK(u,t);t.v5=!0;};v.prototype.y_b=function(){var t;t=0;c.lf(this.Wh,function(u){d.yf.forEach(function(w){u.dc(w) && (w=u.Qd(w),t+=w.Pa.Ip);});});return t;};v.prototype.CZb=function(t,u){var w,x,y;w=this;x=this.Wlb(t,u);if(x){if(x !== this.Ud.O){this.ETa();y=this.J1(x,this.Ud,t);y.sg=void 0;y.Tva(void 0,void 0,!0);this.wkb(this.Ud);this.qK(y,this.Ud);}else this.ETa(!0).forEach(function(z){z.Cf();w.Cua(z);w.gj.remove(z);});x === this.mi.O && (this.mi.fx.shift(),y && (y.fx=this.mi.fx,y.Qk=this.mi.Qk));this.Zh.m2(x,this.Ud.Ee);this.Ud.v5=void 0;}else this.Qb("findSegment no segment for manifestIndex:",u);};v.prototype.J1a=function(t,u){var w;w=t.O;u || (u=w.uU);t.Qk || (t.Qk=u,t.cE(!0,this.rb.V,!0));(u=t.children[t.Qk]) && this.qK(u,t);};v.prototype.w8a=function(t,u){if(this.Ud !== t){if(u)for(u=this.Ud;u && u !== t;){u.active=!1;this.gj.remove(u);u=u.sg;}this.Ud=t;}};v.prototype.Is=function(t,u){var w,x,y,z,A;w=this;if(this.Mz){x=this.I;y=this.mi;z=y.O;A=g.sWb(z.id);!y.Qk && !z.av && y.Ic - u <= x.yD && (this.Qb(A + "updatePts making fork decision at playerPts:",t,"contentPts:",u),this.J1a(y));}d.yf.forEach(function(B){w.Ud.dc(B) && w.Og[B].Is();});};v.prototype.sPb=function(t,u){var w,x;if(this.Mz){w=this.HS;if(!(this.I.aJb && t && this.Oga && t.Y === this.Oga || (t=t.Pa.gb,w && t.O.id === w.O.id))){x=null === w || void 0 === w?void 0:w.Qd(1);x=null === x || void 0 === x?void 0:x.Gf;this.Oga=null === x || void 0 === x?void 0:x.Y;this.HS=t;this.Skb(w);w=w && w.cvb(t);this.Zh.Gnb(t.O,u,w);}}};v.prototype.V8=function(t,u,w){u.cs || (u.Y=this.pYa(t,u.Y,!0),w || (u.Ha=this.pYa(t,u.Ha,!1)),u.cs=!0,!1);};v.prototype.MP=function(t,u){var w;w=this.fh[t];w?c.lf(w.zl,function(x,y){x.weight=u[y] || 0;}):this.Qb("updateChoiceMapEntry, unknown segment:",t);};v.prototype.pYa=function(t,u,w){t=w?t.XVa(u):t.$U(u);if(!t.length)return u;u=t[1];return w?u.Y:u.Ha;};v.prototype.zNa=function(t,u,w){var x;x=u?w.Ic:w.je;return (u?w.w$:w.sta) <= t && t < x;};v.prototype.WMa=function(t,u,w){var A;for(var x=this.rb,y=this.Ud;y;){if((!c.Ba(w) || x.tpa(w,y.P.Nb)) && this.zNa(t,u,y))return y;y=y.sg;}if(u){y=Object.keys(this.Ud.children);for(var z=0;z < y.length;z++){A=this.Ud.children[y[z]];if((!c.Ba(w) || x.tpa(w,A.P.Nb)) && this.zNa(t,u,A))return A;}}};v.prototype.qlb=function(t,u){var w,x;w=this.J1(t,u);x=w.Tva(u,void 0,this.I.tua);d.yf.forEach(function(y){var z,A,B;if(w.dc(y)){z=w.Qd(y);A=u.Qd(y);B=x[y];1 === y && w.hx(n.T.Fb(A.Fc + u.Ee - B));z.FI(B);}});this.Zh.m2(t,w.Ee);return w;};v.prototype.wkb=function(t){for(var u=[t.O.id];t.sg;){t=t.sg;u.unshift(t.O.id);}this.dfa(t);};v.prototype.dfa=function(t){var u,w;u=this;w=t.O;c.lf(t.children,function(x){x && u.dfa(x);});this.gj.remove(t);t.Cf();this.Cua(t);this.Zh.Dga(w);};v.prototype.qK=function(t,u){var w,x,y,z;w=this;x=u.O;u.P !== t.P && this.rb.LNa(t.P.Nb);t.active=!0;this.gj.enqueue(t);t.EL();y=l.default.time.ea();z={};c.lf(u.children,function(A){var B,D;if(A){if(A.ie){B=A.Qd(0);D=A.Qd(1);A.ie.Pp=[B?B.nn.W:0,D?D.nn.W:0];A.ie.xAb=y - A.ie.W6;A.ie.W6=void 0;z[A.O.id]=A.ie;}A.O.id !== t.O.id && w.dfa(A);}});u.children=Object.create(null);u.children[t.O.id]=t;u.CK=void 0;this.w8a(t);this.Zh.Enb(t.O,z);1 < Object.keys(x.zl).length && t.tja();};v.prototype.Skb=function(t){var u,w;if(t){u=l.default.time.ea();w=t.fx[0];w && void 0 === w.A4?w.A4=u - w.Hq:w || (this.Qb("missing metrics for branch:",t.O.id),w={P$:t.O.id,Te:!0,A4:0,ie:{}},t.fx.unshift(w));void 0 === w.startTime && (w.startTime=u);}};v.prototype.Wlb=function(t,u){var x,y,z,A;k.assert(0 <= t);for(var w in this.fh){x=this.fh[w];if(this.rb.tpa(x.P.Nb,u)){if(x.Y <= t && (Infinity === x.Ha || void 0 === x.Ha || t < x.Ha))return x;y=Math.min(Math.abs(t - x.Y),Math.abs(t - x.Ha));if(c.ia(z) || y < z)(z=y,A=x);}}return A;};v.prototype.by=function(t,u,w,x,y,z,A,B,D){u=new m.fKa(t,u,w,x,y,z,A,B,void 0,D);return this.fh[t]=u;};v.prototype.bob=function(t,u,w){var x,y,z;x=this;this.jo=void 0;this.N2=[];y=null;z=null;c.lf(u.segments,function(A,B){var D,E,F,C,G;D=A.startTimeMs;E=A.endTimeMs;F={};c.lf(A.next,function(J,K){F[K]={weight:J.weight || 0,M_b:J.transitionHint || A.transitionHint,q9b:"number" === typeof J.earliestSkipRequestOffset?J.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});C=A.defaultNext;c.ia(C) && (C=Object.keys(F)[0]);G=c.ia(C);C=x.by(B,t,D,E,C,F,G,A.exitZones,A.transitionHint);D <= w && (w < E || c.ia(E))?x.jo=C:D > w && (!y || D < z) && (y=B,z=D);G && x.N2.push(C);});this.jo || (this.jo=y?this.fh[y]:this.fh[u.initialSegment]);};v.prototype.J1=function(t,u,w){var x,y,z,A;x=t.P;y=this.rb.oh(x.Nb);z=y.zw;A=[];[0,1].forEach(function(B){x.dc(B) && A.push(y.iq(B));});t=new p.xEa(this.rb,this.I,this.Zh,this.H,this,this.R1,this.nOa,this.iL,t,A,z,u,w?n.T.Fb(w):void 0,this.nV,this.rb.Og,this.rb.Nv);this.xkb(t);this.Wh.push(t);return t;};v.prototype.xkb=function(t){var w;function u(x){w.rb.emit(x.type,x);}w=this;t.addListener("locationSelected",u);t.addListener("logdata",u);t.addListener("serverSwitch",u);t.addListener("streamSelected",u);t.addListener("lastSegmentPts",u);t.addListener("managerdebugevent",u);t.addListener("requestCreated",function(x){x=x.request;w.rb.$ga(x.mediaType,x.Y);});};v.prototype.Zlb=function(t){for(var u=[t];t.sg;){t=t.sg;u.push(t);}return u;};return v;})();b.Fba=a;},function(r,b,a){var m,d,h;function c(g,k,n){this.MD=k;this.wl=n;this.OA=this.aW=this.Ysa=this.c5a=this.b5a=this.fO=this.Yd=this.fSb=this.wl=this.Im=this.Fc=this.Y=this.jx=this.Xn=this.U=this.G_a=this.IT=void 0;}function f(g,k,n){this.Ha=k;this.i0a=n;this.nQa=this.zbb=this.vr=this.Xn=this.AH=this.jw=void 0;}function l(g,k,n,q,p,v,t){var u;u=new c(n,k,g.wl);g.forEach(function(w){var x,y;x=w.buffer;y=x.U;w.mediaType === m.Ta.Ub?u.IT=y.length?y[0].bitrate:void 0:w.mediaType === m.Ta.Lb && (u.G_a=y.length?y[0].bitrate:void 0,u.U=y,u.Xn=x.im - x.Jc,u.jx=x.$g,u.Y=x.Jc,u.Fc=x.Fc,u.Im=w.Pd,u.wl=w.wl,u.fSb=k - w.wl,u.Yd=w.Yd,u.fO=y.filter(function(z){return u.Y <= z.Sw;}).length);});this.Cj=u;this.Mt=void 0;this.JTa=q;this.Xw=p;this.iRa=v;this.pua=this.X9=this.o4a=this.TA=this.zL=this.UVa=this.kx=this.Yd=this.Mt=void 0;this.Sqb=t;this.xta={};}m=a(28).default;d=a(35).assert;h=a(16).ma;c.prototype.constructor=c;f.prototype.constructor=f;l.prototype.constructor=l;l.prototype.Pt=function(g,k){var n,q,p,v,t,u,w,x,y,z,A,B,D,G,J,K,I,M,R;n=this.Cj;q=[];p=g[m.Ta.Lb];v=g[m.Ta.Ub];if(void 0 === p || void 0 === v)return !1;t=p.buffer;u=v.buffer;w=n.Yd.filter(function(H){return H.V5();});if(void 0 === t || void 0 === u || void 0 === w || 0 === w.length)return !1;x=new f(k?h[k]:"maxbitratechanged",p.Jc,k === h.Nf);y=0;z=0;A=0;B=0;D=n.Y;g=g[m.Ta.Lb].Jc;for(var E=n.U,F=n.fO,C=0;C < F;C++){G=E[C];J=G.offset;K=G.offset + G.fa - 1;I=G.Hr;M=G.yA;R=M + I;G && M <= g && R > D && (I=G.Hr,M=Math.min(I,Math.min(g,R) - Math.max(M,D) + 1),B+=M,y+=M / I * (K - J + 1),z+=G.bitrate * M,A+=G.sb * M);}n.b5a=y;n.c5a=B;n.Ysa=0 < B?z / B:0;n.DRb=0 < B?A / B:0;n.aW || (n.aW=0,w.some(function(H,Q){if(H.bitrate === n.G_a)return (n.aW=Q,!0);}));w.forEach(function(H){var Q,L;H=H.V5();Q=[];n.OA || (n.OA=H.wn(n.Y,void 0,!0));x.jw || (x.jw=H.wn(x.Ha,void 0,!0),x.AH=H.length - 1);n.Im !== n.OA + n.fO && (n.Im=n.OA + n.fO);F=Math.min(x.AH,x.jw + 1);for(var N=n.OA;N <= F;N++){L=H.get(N);Q[N]=L;}q.push(Q);});k === h.Nf && (x.Xn=t.im - t.Jc,x.vr=u.im - u.Jc,x.zbb=p.B6a,x.nQa=v.B6a);this.Mt=x;this.Yd=w;this.kx=q;return this.UVa=!0;};l.prototype.uz=function(){var g,k,n,q,p,v,t,u,w,A,B,D,E,F;if(this.mk)return this.mk;g=this.TA;k=this.Cj;n=this.Mt;q=this.Yd;p=this.o4a;v=this.Sqb;d(void 0 !== g,"throughput object must be defined before retrieving the logdata from PlaySegment");if(g.trace && 0 === g.trace.length || void 0 === g.timestamp){if(n.i0a)(t=!1,u=!0);else n.jw - k.OA + 1 <= k.fO?u=t=!0:(t=!0,u=!1);w=!0;}if(p)for(var x=p.d7,y=p.BM,z=0;z < v.length;z++){A=v[z];(g=p[A]) && g.$ra && (u=!0);}n={bst:k.wl,pst:k.MD,s:k.OA,e:n.jw,prebuf:k.fO,brsi:k.Im,pbdlbytes:k.b5a,pbdur:k.c5a,pbtwbr:k.Ysa,pbvmaf:k.DRb};this.Xw && (n.fragmentsPrebuffered=k.U);w && (n.nt=w);u && (n.nd=u);x && (n.invalid=x);y && (n.exception=y);this.pua && (n.rr=this.pua);this.X9 && (n.ra=this.X9);if(!u && !x && !y && (this.JTa || this.Xw)){n.bitrate=q.map(function(G){return G.bitrate;});g=this.TA;A=g.trace;B=[];E=0;A.forEach(function(G){G=Number(G).toFixed(0);B.push(G - E);E=G;});n.tput={ts:g.timestamp,trace:B,bkms:g.Gy};}if(u || w || x || y)n.feasible=t;else for((n.sols={},n.elapsed=p.MAb,z=0);z < v.length;z++){A=v[z];g=p[A];u={};if(g && g.Nq){u.algelapsed=g.Rqb;u.maxHeapTotal=g.cA;u.f=g && g.fD || !1;u.dltwbr=g.oUa;u.dlvmaf=g.rUa;u.dlvdur=g.qUa;u.dlvbytes=g.pUa;u.dlabytes=g.mUa;if(this.JTa || this.Xw){D=g.Nq.filter(function(G){return G;}).map(function(G){return G.Ie;});E=0;F=[];D.forEach(function(G){F.push(G - E);E=G;});u.strmsel=F;}if(this.Xw){w=[];t=this.Cj.Im;for(var C in D){x=D[C];y=this.kx[x][t];y.Kf=x;w.push(y);t++;}u.fragsel=w;u.streamList=this.Yd;u.pause_dlnd_sec=g.Nq.filter(function(G){return G;}).map(function(G){return G.Vsa;});u.buffer_sec=g.Nq.filter(function(G){return G;}).map(function(G){return G.Qia;});u.buffer_kb=g.Nq.filter(function(G){return G;}).map(function(G){return G.Pia;});u.buffer_frags=g.Nq.filter(function(G){return G;}).map(function(G){return G.mRa;});u.elapsed_secs=g.Nq.filter(function(G){return G;}).map(function(G){return G.PUa;});u.throughput=g.Nq.filter(function(G){return G;}).map(function(G){return G.Ra;});}}n.sols[A]=u;}return this.mk=n;};l.prototype.QCb=function(g){var q;if(void 0 !== this.xta[g])return this.xta[g];for(var k=this.kx[this.Cj.aW],n=0;n < k.length;n++){q=k[n];if(q && q.Y <= g && q.Y + q.duration > g)return this.xta[g]=q;}throw Error("findPlayingFragment: missing");};r.exports=l;},function(r,b,a){var l;function c(m,d,h){this.fa=m;this.Fm=d;this.quality=h;}function f(m,d){this.Uqa=d;void 0 === d && (this.Uqa=!0);this.Ok=m;this.Jkb();}l=a(5).assert;c.prototype.constructor=c;c.prototype.zz=function(){return 8 * this.fa / 1E3 / this.Fm;};f.prototype.constructor=f;f.prototype.Dt=function(m,d,h,g,k){void 0 === d && (d=0);void 0 === h && (h=m.jN());void 0 === g && (g=0);void 0 === k && (k=m.Ok.length);for(var n=[],q,p=g;p < k;p++){g=[];for(var v=d;v < h;v++){q=m.Ok[p][v];g.push(q);}n.push(g);}return new f(n,m.Uqa);};f.prototype.Jkb=function(){var m,d;m=this.Ok[0].length;for(d in this.Ok.slice(1)){l(this.Ok[d].length === m,"expect this.chunkss[chunksIndex].length === n but got " + this.Ok[d].length + " and " + m);}this.Uqa && this.Kkb();this.Lkb();};f.prototype.jN=function(){return this.Ok[0].length;};f.prototype.Kkb=function(){for(var m=0;m < this.Ok.length - 1;m++){for(var d=0;d < this.jN();d++){l(this.Ok[m][d].fa <= this.Ok[m + 1][d].fa,"Chunk size for epoch " + d + " is not monotonic");}}};f.prototype.Lkb=function(){for(var m=0;m < this.Ok.length - 1;m++){for(var d=0;d < this.jN();d++){l(1E-8 > Math.abs(this.Ok[m][d].Fm - this.Ok[m + 1][d].Fm),"Chunk duration for epoch " + d + " is not consistent");}}};f.prototype.zHb=function(){var m;m=[];this.Ok[0].forEach(function(d){m.push(d.Fm);});return m;};r.exports={Kdb:c,Ldb:f};},function(r,b,a){var m;function c(){}function f(d,h,g){void 0 === g && (g=!1);m(d.length === h.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < l(d),"bitrate zero, won't be able to send anything.");this.nC=d;this.LUa=h;this.repeat=g;this.jm=this.Bo=0;}function l(d){return d.reduce(function(h,g){return h + g;},0);}m=a(5).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Dt=function(){var d;d=new f(this.nC,this.LUa,this.repeat);d.Bo=this.Bo;d.jm=this.jm;return d;};f.prototype.loa=function(){return this.nC[this.Bo % this.nC.length];};f.prototype.TC=function(){return this.LUa[this.Bo % this.nC.length];};f.prototype.tAb=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Bo && this.Bo < this.nC.length))throw new c();m(this.jm < this.TC(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var h;;){h=this.TC() - this.jm;h=d < h?d:h;d-=h;this.jm+=h;if(this.jm < this.TC())break;this.jm-=this.TC();this.Bo+=1;if(!this.repeat && this.Bo >= this.nC.length){if(0 < d)throw new c();break;}}};f.prototype.$4a=function(d){this.tAb(d);};f.prototype.uAb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Bo && this.Bo < this.nC.length))throw new c();m(this.jm < this.TC(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var h,g=0;;){h=this.TC() - this.jm;h=d < h * this.loa()?d / this.loa():h;d-=this.loa() * h;g+=h;this.jm+=h;if(this.jm < this.TC())return g;this.jm-=this.TC();this.Bo+=1;if(!this.repeat && this.Bo >= this.nC.length){if(0 < d)throw new c();return g;}}};r.exports={$jb:f,akb:c};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Njb=b.lda=b.Pjb=b.FKa=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(6));l=r.__importDefault(a(35)).default.pH;m=r.__importStar(a(9)).vq;d=r.__importDefault(a(393));h=a(377);g=a(213);k=a(16);n=a(25);q=a(5);p=a(99);v=a(238);a=(function(){function x(y,z,A,B,D,E,F,C,G,J,K){var I;I=this;this.H=y;this.xg=z;this.I=A;this.dc=B;this.V=D;this.eP=E;this.Ob=F;this.Cb=C;this.kg=G;this.A3=J;this.JF=K;this.I2=[];this.eha=[];this.UNa=[];this.tMa=void 0;[0,1].forEach(function(M){I.dc(M) && (I.I2[M]=new w(I.H,M),I.eha[M]=new t(M),I.UNa[M]=new u(M));});this.obb=new p.oF(this.H);this.bB=p.yC(this.I,this.obb);this.qia=p.xC();this.vF=void 0;}Object.defineProperties(x.prototype,{Jf:{get:function(){return this.I2;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{PA:{get:function(){return this.eha;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Gw:{get:function(){return this.UNa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Cy:{get:function(){return this.tMa;},set:function(y){this.tMa=y;},enumerable:!1,configurable:!0}});x.prototype.Kq=function(y,z){this.obb.Kq(y,z);};x.prototype.Tqa=function(y){var z,A,B,D,E,F;z=this.I;A=y.mediaType;B=f.default.Go()[A];D=z.d1b?0 === A?z.CT:z.RZ:1 === A?z.CT:z.RZ;E=this.V.getState();F=this.V.Pe();z=y.Pa.gb;A=this.A3.L1a(z,A);B={cw:B,Y:A.xd,Jc:F,Fc:A.vO || F,im:A.eU || F,$g:A.$g,$k:A.$k,xWa:A.U.length,U:[]};D={state:E,rq:this.V.rq(),Pd:y.Gn,buffer:B,gla:D,x1a:! !this.eP.AW,sM:! !this.eP.ns,Ip:this.Ob && this.Ob.Ip,Y9:y.SGb,playbackRate:this.V.Ho()};void 0 === D.Pd && (D.Pd=y.ama(B.Fc));D.ST=z.ST;B.U=A.U;c.Ba(B.Y)?y.seeking && B.Jc != B.Y && (B.Jc=B.Y):(B.Y=0,B.Fc=0);this.xg.dub(D);this.xg.uqb(D);return D;};x.prototype.sja=function(y,z,A){var C,G;y=this.I2[y];for(var B=y.maxBitrate,D="manifest",E=0,F=z.length - 1;0 <= F;F--){C=z[F];G=C.bitrate;if(l(C)){E=Math.max(E,G);break;}else this.I.bZ && !C.Rt?D="bc":C.iu?C.Cz && (D="hf"):D="av";}if(void 0 === B || E !== B)(y.maxBitrate=E,this.Cb.nPb(B,E,D,A));};x.prototype.QGb=function(y){return this.Una(y).Kf;};x.prototype.Una=function(y){var z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P;z=this.I;A=y.mediaType;B=1 == A;D=0;E=this.I2[A];F=this.eha[A];if(!E.Hf)return {Kf:void 0};C=this.Tqa(y);G=y.tg;J=G.lu;K=y.O7.P;I=y.track.Yd;if(!K.vm.LZ(K.Z,I))return (y.Jk("location selector did not find any urls"),{Kf:void 0});M=v.H9(C.state);R=B?this.bB:this.qia;try{H=R.tn(I,M);}catch(S){this.H.error("StreamFilters: filterStreams: " + S);H=[I[0]];}0 === H.length && (this.H.error("StreamFilters: empty list"),H=[I[0]]);if(this.JF.Jr && (y.HC.length !== H.length || 0 < n.ut(y.HC,H).length || 0 < n.ut(H,y.HC).length)){try{this.vF && this.HCb();}catch(S){this.Cb.Hn("Hindsight: Error when handling maxbitrate chagned: " + S);}y.HC=H;}M=J?J.Kf:E.rma;try{if(J && (D=J.bitrate,J && G.track && !J.track.equals(G.track))){Q=h.dma(H,D) || 0;N=H[Q];if(J.bitrate !== N.bitrate || 1 === A)C.state=k.ma.yh;J=N;M=I.indexOf(N);}}catch(S){this.H.error("StreamFilters: track change: " + S);}if(!B && (D=z.BP,!(D && 0 < D.length) && M && I[M] && J && J.location === I[M].location))return {Kf:M};try{L=this.xg.bN(A);P=y.il.Bva(C,H,void 0,L,E.Hf.config.Ow,K.$p);if(!P)return (y.Jk("stream selector did not find a stream"),{Kf:void 0});}catch(S){this.H.error("StreamFilters: stream selector: " + S);P={Ie:0};}P.Ie=I.indexOf(H[P.Ie]);this.eP.ns && this.eP.ns.yqb(y.mediaType,P,I);B && this.sja(A,H,y.Fc);C=P.Ie;J=I[C];H=J.bitrate;C != M && (B && z.uM && this.kg.lMa(y,H),B || this.xg.fP(H));c.Ba(E.rma) || (E.rma=C);y.Oe || (P.Oe?(q.assert(void 0 !== P.B3),y.F$(P.B3),F.yt=P.B3):(y.pD=P.pD,y.sI=P.sI,y.progress=P.progress));this.ay();if(B)if(P.cz)K.gP(P.cz);else if(!K.x6() && !z.n9a)for(y=0;y < I.length;++y){if((z=I[y],z.ku && !K.Vk(A,z.Oa))){K.gP([z.Oa]);break;}}P.JQa && this.Cb.uPb(P.JQa);return {Oa:J.Oa,Kf:C,wu:P.wu};};x.prototype.ay=function(){var y,z,A,B,D,E;A=this.Jf[0];B=this.Jf[1];D=this.PA[1];E=this.PA[0];A=this.A3.Tc.Ztb(null !== (y=null === B || void 0 === B?void 0:B.Du) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Du) && void 0 !== z?z:0,this.Cy,this.eP.wO);A.yt && (this.eP.Mm && D?D.yt=A.yt:E && (E.yt=A.yt));return A.Oe;};x.prototype.Yla=function(y,z){var A,B,D,E;A=this;if(this.vF){B=this.vF;D=this.V.Pe();E=[];z && (D=z.Ha);g.yf.forEach(function(F){var C,G;C=A.A3.Tc.Qd(F);if(C){G=A.Tqa(C);G.mediaType=F;G.Jc=D;y === k.ma.Nf && (G.B6a=C.Pa.Wha(D));E[F]=G;}});B.UVa || B.Pt(E,y) || this.Wua();return B;}};x.prototype.HCb=function(){var y,z;y=this.vF;z=this.I;y && (this.Yla(void 0),y && !y.zL && this.xg.bua.Mla(y));this.hTa(z);};x.prototype.Wua=function(){this.vF=void 0;};x.prototype.F0b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.vF;B=this.I;y === k.ma.Hc && z !== k.ma.Hc?(A && this.H.warn("override an existing play segment!"),this.hTa(B,z,!0)):y !== k.ma.Hc && z === k.ma.Hc && A && (this.Yla(y),A && !A.zL && this.xg.bua.Mla(A),this.Wua());};x.prototype.hTa=function(y,z,A){var B,D,E;B=this;D=[];g.yf.forEach(function(F){var C,G,J;C=B.A3.Tc.Qd(F);if(C){G=B.Tqa(C);if(A){J=B.Jf[F];J.owa?(G.wl=J.owa,J.owa=void 0):G.wl=J.wl;}else G.wl=f.default.time.ea();G.Yd=C.HC;G.mediaType=F;D[F]=G;}});E=f.default.Go();E={k8b:E[0],mbb:E[1],V$b:y.PN,eA:y.eA};this.vF=new d.default(D,f.default.time.ea(),z,this.JF.OU,y.Xw,E,y.G6);};return x;})();b.FKa=a;t=(function(){function x(y){this.mediaType=y;this.UT=this.pw=this.Hz=this.yt=this.Iz=void 0;}x.prototype.J0b=function(y,z,A){this.Iz=y?y:this.Iz;this.yt=this.yt;this.Hz=z?z:this.Hz;this.pw=A?A:this.pw;};return x;})();b.Pjb=t;u=(function(){return function(x){this.mediaType=x;this.gqa=this.nqa=this.iqa=this.wH=void 0;};})();b.lda=u;w=(function(){return function(x,y){this.mediaType=y;this.H=m(f.default,x,"[" + y + "]");this.Jk=this.H.error.bind(this.H);this.Qb=this.H.warn.bind(this.H);this.en=this.H.trace.bind(this.H);this.Cg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.rma=this.wl=this.uo=this.Hf=void 0;this.KX=this.Du=0;this.UP=!1;this.maxBitrate=void 0;};})();b.Njb=w;},function(r,b,a){var p,v,t,u,w,x,y,z,A,B,D,E,F;function c(){}function f(C,G){var J,K,I,M;J=p.ed(G)?G:c;this.I=C || ({});(function(R,H,Q){this.Vj[R].Ce[H]=Q;}).bind(this);(function(R,H){return this.Vj[R].Ce?this.Vj[R].Ce[H]:void 0;}).bind(this);this.on=this.addEventListener=E.addEventListener;this.removeEventListener=E.removeEventListener;this.emit=this.Va=C.u9b?E.Va:c;K=u.Axb(C);I=this.I.dailyDiskCacheWriteLimit;if(K){this.Fv=K;M=k(C.iac || F,u.PEb());this.sy=function(R){return p.ia(M) || null === M || void 0 === this.Vj[R]?!1:!p.ia(M[R]);};M?(this.Vj={},G=v.Promise.all(Object.keys(M).map(function(R){return new v.Promise(function(H,Q){var N;N=M[R];N.dbb=C.dbb;new w(R,K,N,function(L,P){L?Q(L):H(P);},I);});})).then((function(R){R.map((function(H){var Q;Q=H.Mv;this.Vj[Q]=H;M[Q].uDb=M[Q].cw - H.ry;this.Vj[Q].on(w.Ke.REPLACE,(function(N){N=N || ({});N.partition=Q;N.type="save";this.Va("mediacache",N);}).bind(this));this.Vj[Q].on(w.Ke.aMa,(function(N){N=N || ({});N.partition=Q;N.type="save";this.Va("mediacache",N);}).bind(this));this.Vj[Q].on(w.Ke.Lf,(function(N){N=N || ({});N.partition=Q;N.type=w.Ke.Lf;this.Va("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(R){h(K,v.storage.xR,Object.keys(M));return R;}).bind(this)).then((function(R){Object.keys(R.Vj).map(function(H){R.Vj[H].ina().map(function(Q){R.delete(H,Q);});});R.Bn=!0;J(null,R);}).bind(this)).catch((function(R){t.error("Failed to initialize media cache ",R);this.nH=B.NAa;J(this.nH,this);}).bind(this)),D.Rw(G)):(this.nH=B.Dgb,J(this.nH,this));}else (this.nH=B.NAa,J(this.nH,this));}function l(C,G,J,K,I,M){var R;R=M?"mediacache-error":"mediacache";G={partition:J,type:G,resource:K,time:v.time.now()};M && (G.error=M);I && (p.Ba(I.duration) && (G.duration=I.duration),p.Ba(I.Iy) && (G.bytesRead=I.Iy));try{C.Va(R,G);}catch(H){t.warn("caught exception while emitting basic event",H);}}function m(C,G,J,K,I){var M;M=I?"mediacache-error":"mediacache";G={partition:J,type:G,resources:K,time:v.time.now()};I && (G.error=I);try{C.Va(M,G);}catch(R){t.warn("caught exception while emitting basic event",R);}}function d(C){return !x.yN(C) && !z.rKb(C);}function h(C,G,J){C.query(G,"",function(K,I){K || Object.keys(I).filter(function(M){return 0 > J.indexOf(M.slice(0,M.indexOf(".")));}).map(function(M){C.remove(G,M,c);});});}function g(C,G,J){var I,M;function K(R){C.delete(I,function(H){H?J(H):(delete C.Ce[M],H=Object.keys(R.resourceIndex),H=v.Promise.all(H.map(function(Q){return new v.Promise(function(N,L){C.delete(Q,function(P){P?L(P):N(Q);});});})).then(function(){J();},function(Q){J(Q);}),D.Rw(H));});}if(x.yN(G))(I=G,M=x.h5(G));else (I=x.hka(G),M=G);(G=C.Ce[M])?K(G):C.read(I,function(R,H){R?J(R):K(H);});}function k(C,G){var J,K,I;J={};K=C.partitions.reduce(function(M,R){return M + R.capacity;},0);I=G / K;C.partitions.map(function(M){var R;R=M.key;J[R]={};J[R].cw=Math.floor(I * M.capacity);J[R].Cyb=M.dailyWriteFactor || 1;J[R].Rac=M.owner;J[R].TBb=M.evictionPolicy;});return J;}function n(C,G,J){if(J)return z.$zb(C,G).reduce(function(K,I){Object.keys(I).map(function(M){K[M]=I[M];});return K;},{});J={};J[C]=G;return J;}function q(C,G,J,K,I,M,R,H,Q,N,L){return function(P,S){P?p.isArray(P)?(S=P.map(function(U){return U.error;}),S.some(function(U){return U.code === B.yJ.code;}) && !S.some(function(U){return U.code === B.u1.code;})?L(N,P,function(){Q.save(G,J,K,I,M,R);}):(N.delete(H),delete N.Ce[J],M({error:P[0].error,xu:P[0].xu,type:P[0].type,RPa:P}))):M({error:P,xu:G,type:"save"}):(P=S.items.filter(function(U){return 0 <= Object.keys(C).indexOf(U.key);}).reduce(function(U,da){return U + da.A7;},0),N.Ce[J].N8a(P),P={uDb:S.xn,Z8b:S.fM,Mk:0,items:S},0 < S.Mk && (P.Mk=S.Mk),0 < S.duration && (P.duration=S.duration),M(null,P));};}p=a(10);v=a(126);t=new v.Console("MEDIACACHE","media|asejs");u=a(869);w=a(870);x=a(398);y=a(127);z=a(877);A=a(878);B=a(249);D=a(250);E=a(399).EventEmitter;F={Wac:[]};f.prototype.XX=function(C,G,J){var K;K=p.ed(J)?J:c;this.sy(C)?this.Vj[C].query(G,function(I,M){I?(t.error("Failed to query resources",I),K([])):K(M.filter(d));}):K([]);};f.prototype.read=function(C,G,J){var K,I,M,R;K=p.ed(J)?J:c;if(this.sy(C)){I=this.Vj[C];M=I.Ce[G];if(!x.yN(G) && this.I.MNb){R=(function(H){I.W9(Object.keys(H),(function(Q,N,L){Q?K(B.eK.Tq("Failed to read " + G,Q)):(l(this,"read",C,G,L),K(null,z.KJb(N)));}).bind(this),H);}).bind(this);M?R(M.resourceIndex):this.VTb(C,G,function(H,Q){H?K(B.eK.Tq("Failed to read " + G,H)):R(Q.resourceIndex);});}else I.read(G,(function(H,Q,N){H?K(B.eK.Tq("Failed to read " + G,H)):(M && M.convertToBinaryData && (Q=A.Evb(Q)),l(this,"read",C,G,N),K(null,Q));}).bind(this));}else K(B.qB);};f.prototype.W9=function(C,G,J){var K,I;K=p.ed(J)?J:c;if(this.sy(C)){I={};G=v.Promise.all(G.map((function(M){return new v.Promise((function(R,H){this.read(C,M,function(Q,N){Q?(N={},N[M]=Q,H(N)):(I[M]=N,R());});}).bind(this));}).bind(this))).then(function(){K(null,I);},function(M){K(M);});D.Rw(G);}else K(B.qB);};f.prototype.S7a=function(C,G,J){var K;K=p.ed(J)?J:c;this.sy(C)?"[object Object]" !== Object.prototype.toString.call(G)?K(B.t1.Tq("items must be a map of keys to objects")):(J=new v.Promise((function(I){var M,R;M=this.Vj[C].ina();R=Object.keys(G);(M=M.filter(function(H){return -1 === R.indexOf(H);})) && 0 < M.length?this.YTa(C,M,function(){I();}):I();}).bind(this)).then((function(){return v.Promise.all(Object.keys(G).map((function(I){return new v.Promise((function(M,R){this.save(C,I,G[I].Jq,G[I].Dc,function(H,Q){H?(t.error("Received an error saving",I,H),R(H)):M(Q);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(I){var M,R,H;try{M=Number.MAX_VALUE;R=Number.MAX_VALUE;H=I.reduce(function(Q,N){N.xn && N.xn < M && (M=N.xn);N.fM && N.fM < R && (R=N.fM);M < Number.MAX_VALUE && (Q.freeSize=M);R < Number.MAX_VALUE && (Q.dailyBytesRemaining=R);p.Ba(N.Mk) && (Q.bytesWritten+=N.Mk);p.Ba(N.duration) && (Q.duration+=N.duration);return Q;},{partition:C,type:"saveMultiple",keys:Object.keys(G),time:v.time.now(),bytesWritten:0,duration:0});this.Va("mediacache",H);K(null,H);}catch(Q){K(err);}}).bind(this),(function(I){p.isArray(I.RPa)?I.RPa.forEach((function(M){this.Va("mediacache-error",{partition:C,type:"saveMultiple",error:M.error,resources:M.resources});}).bind(this)):this.Va("mediacache-error",{partition:C,type:"saveMultiple",error:I});K(I);}).bind(this)),D.Rw(J)):(p.ed(J)?J:c)(B.qB);};f.prototype.save=function(C,G,J,K,I,M){var R,H,Q,N,L,P,S,U,da;R=p.ed(I)?I:c;if(this.sy(C)){H=this.Vj[C];Q=x.hka(G);I=H.ina();I=I.filter(function(ka){return ka !== G;});if(p.ia(K) || p.Bb(K) || !p.Ba(K.lifespan))R(B.bhb);else {N=n(G,J,this.I.MNb);L=H.Ce[G] || ({});P=L.resourceIndex;P && Object.keys(P).map(function(ka){p.ia(N[ka]) && H.delete(ka);});K.convertToBinaryData && (J=A.Fvb(N),N=n(G,J,!1));P=v.time.now();S={};S.partition=C;S.resourceIndex=Object.keys(N).reduce(function(ka,ma){ka[ma]=y.goa(N[ma]);return ka;},{});S.creationTime=L.creationTime || P;S.lastRefresh=P;S.lifespan=K.lifespan;S.lastMetadataUpdate=P;S.size=L.size;S.convertToBinaryData=K.convertToBinaryData;U=(function(ka,ma,X){ka.tzb((function(ua,ya){ua && t.error("Evicting","Failed to delete some orphaned records",ua);ya.vua?X():(ua=ka.aFb())?this.delete(ka.Mv,ua,(function(O){O?(M || (p.isArray(ma)?ma.forEach((function(T){m(this,"save",ka.WFb,T.resources,T.error);}).bind(this)):l(this,"save",ka.Mv,G,void 0,ma)),R(ma)):X();}).bind(this)):R(B.yJ);}).bind(this));}).bind(this);da=(function(){var ka,ma,X;ka=this.Vj;ma=0;X=v.time.now();if(!p.ia(ka))for(var ua in ka){ma+=ka[ua].qEb(X);}return ma;}).bind(this);this.YTa(C,I,(function(){H.replace(Q,S,(function(ka,ma){ma?(H.Ce[G]=x.Fma(S),H.eVb(N,q(N,C,G,J,K,R,M,Q,this,H,U),M,da)):ka.code === B.yJ.code?U(H,ka,(function(){this.save(C,G,J,K,R,M);}).bind(this)):R(ka);}).bind(this),M,da);}).bind(this));}}else R(B.qB);};f.prototype.delete=function(C,G,J){var K;K=p.ed(J)?J:c;this.sy(C)?g(this.Vj[C],G,(function(I){l(this,"delete",C,G,void 0,I);K(I);}).bind(this)):K(B.qB);};f.prototype.YTa=function(C,G,J){var K,I;K=p.ed(J)?J:c;if(this.sy(C)){I=this.Vj[C];J=v.Promise.all(G.map((function(M){return new v.Promise((function(R){g(I,M,(function(H){R({$:p.ia(H),error:H,Jq:M});}).bind(this));}).bind(this));}).bind(this))).then((function(M){var L,P;for(var R=[],H=[],Q=[],N=0;N < M.length;N++){L=M[N];L.$?R.push(L.Jq):L.error && H.push(L);}0 < R.length && m(this,"delete",C,R);if(0 < H.length){Q=H.map(function(S){return S.Jq;});M=D.kZa(H);P=M[0];M.forEach((function(S){t.error("Failed to delete resources ",S.error,S.resources);m(this,"delete",C,S.resources,S.error);}).bind(this));}M={};M.lbc=R;0 < Q.length && (M.mbc=Q);P?K(P,M):K(void 0,M);}).bind(this),(function(M){m(this,"delete",C,G,M);K(M);}).bind(this));D.Rw(J);}else K(B.qB);};f.prototype.clear=function(C,G){var J;J=p.ed(G)?G:c;this.sy(C)?this.Vj[C].clear(function(K){J(K.filter(d));}):J(B.qB);};f.prototype.VTb=function(C,G,J){var K,I;K=p.ed(J)?J:c;if(this.sy(C)){I=this.Vj[C];I.read(x.hka(G),function(M,R){var H;if(M)K(B.chb);else {H=x.Fma(R) || ({});I.xYa(Object.keys(H.ava),function(Q){H.size=Q;(Q=I.Ce[G]) && (H.lastMetadataUpdate && Q.lastMetadataUpdate && Q.lastMetadataUpdate <= H.lastMetadataUpdate?I.Ce[G]=H:Q.lastMetadataUpdate && (Q.lastMetadataUpdate > H.lastMetadataUpdate || p.ia(H.lastMetadataUpdate)) && (H=Q));K(null,H);});}});}else K(B.qB);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var m,d;function c(h,g,k,n,q,p){return new l(h,g,k,n,q,p);}function f(h){return h && 0 <= h.indexOf(".__metadata__");}function l(h,g,k,n,q,p){this.partition=h;this.lifespan=k;this.resourceIndex=g;this.size=n;this.creationTime=q;this.lastRefresh=p;return this.T$a();}m=a(10);d=a(126);a(127);new d.Console("MEDIACACHE","media|asejs");l.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.T$a();};l.prototype.N8a=function(h){this.size=h;};l.prototype.BSa=function(){var h;h=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - h) / 1E3;};l.prototype.T$a=function(){this.lastMetadataUpdate=d.time.now();return this;};l.prototype.constructor=l;r.exports={create:c,Fma:function(h){var g;g=h;"string" === typeof h && (g=JSON.parse(h));if(g && g.partition && !m.ia(g.lifespan) && g.resourceIndex && g.creationTime && g.lastRefresh)return (h=c(g.partition,g.resourceIndex,g.lifespan,-1,g.creationTime,g.lastRefresh),g.lastMetadataUpdate && (h.lastMetadataUpdate=g.lastMetadataUpdate),!m.ia(g.size) && 0 <= g.size && h.N8a(g.size),h.BSa(),h.convertToBinaryData=g.convertToBinaryData,h);},hka:function(h){return h + ".__metadata__";},h5:function(h){return f(h)?h.slice(0,h.length - 13):h;},yN:f};},function(r,b,a){r.exports={EventEmitter:a(873),Uh:a(874)};},function(r){r.exports="4.1.1810";},function(r,b,a){var q,p,v;function c(t){return t.Cs - t.Er;}function f(t,u){return Math.exp(-(Math.log(2) / t) * u);}function l(t,u){t=Math.log(2) * u / t;return (1 - Math.exp(-t)) / t;}function m(t,u){var w,x,y,z,A;w=u.Jta;x=u.Ita;y=u.PX;if(0 === u.Yg.length)return {b3:!1};z=u.Yg[0];u=z.Te;A=z.$C;z=z.duration;if(!A || 1 === y)return {b3:!1};p.assert(z,"duration should be defined when immediate probability is included in probabilities array");p.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(w < x)return {b3:!1};x=w - x;w=y + x / z * (1 - y);z-=x;A=A * (1 - w) / (1 - y);t=u * w / y * f(t,z) + A * l(t,z);p.assert(1 >= t);return {b3:!0,Jqb:t};}function d(t){var u,w,x,y,z;u=t.Hr;w=t.R9a;x=t.JA;y=t.Cs;z=t.Er;t=t.iWa;p.assert(void 0 !== w);p.assert(void 0 !== u);x=1 - x;y-=z;t?(z=w - t - y,u-=t,0 >= z?t=Math.max(0,(w - t) / u):(w=u - z,t=0 < w?y / w:0,x*=0 < w?w / u:1)):(z=w - y,0 >= z?t=w / u:(w=u - z,t=0 < w?y / w:0,x*=0 < w?w / u:1));p.assert(0 <= t);p.assert(1 >= t);p.assert(0 <= x);p.assert(1 >= x);return 1 - t * x;}function h(t,u){t=Math.log(2) / t.C6a;return g(u) * Math.exp(-t * c(u));}function g(t){var u;return (null !== (u=t.cH) && void 0 !== u?u:1) * t.Yg.reduce(function(w,x){var y;y=x.$C;return w * (x.Te + (void 0 === y?0:y));},1);}function k(t){var u,w,x,y;if(0 === t.Yg.length)return 0;w=0;if(1 > t.PX){w=t.Jta;x=t.Ita;y=null !== (u=t.Yg[0].duration) && void 0 !== u?u:0;w=Math.max(0,Math.min(y,w - (x - y)));}return t.Yg.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - w;}function n(t){return t.Yg.filter(function(u){return !u.$C;}).reduce(function(u,w){return u * w.Te;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.dja=b.FRa=b.stb=b.ERa=b.wtb=void 0;q=a(16);p=a(5);v=a(20);b.wtb=c;b.ERa=function(t,u,w){var x,y,z,A,B,D,E,F;if(!t.P4 || q.Lo(u.Bf))return h(t,u);y=t.C6a;t=c(u);z=k(u);A=n(u);B=m(y,u);D=B.b3;B=B.Jqb;B=void 0 === B?1:B;E=1 > u.JA?d(u):1;F=(null !== (x=u.cH) && void 0 !== x?x:1) * A * f(y,t - z) * B * E * u.Yg.filter(function(C,G){return C.$C && (0 < G || !D);}).reduce(function(C,G){var J,K;J=G.$C;K=G.duration;K=void 0 === K?0:K;J=void 0 === J?0:J;G=G.Te * f(y,K) + J * l(y,K);return C * G;},1);v.ga && (null === w || void 0 === w?void 0:w.log("{" + u.groupId + "} [" + u.mediaType + "] calculateStreamablePriority: sp: " + (u.JA + ", pssp: ") + (u.PX + ", streamingDuration: ") + (u.R9a + ", duration: ") + (u.Hr + ", seamlessProbability: ") + (A + ", distance: ") + (t + ", immediateDistance: " + z + ", risk:") + (f(y,t - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + E + ", probabilities: ") + (JSON.stringify(u.Yg) + " => " + F)));return F;};b.stb=h;b.FRa=g;b.dja=n;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.eea=void 0;c=a(2);f=a(17);l=a(9);m=a(5);d=a(16);r=(function(){function h(){this.nO=[];this.QB=new l.dr(!1);this.PB=new l.dr(l.T.Fb(-Infinity));this.events=new f.EventEmitter();}Object.defineProperties(h.prototype,{ex:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{playbackRate:{get:function(){return this.Ho();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hA:{get:function(){return this.QB;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oW:{get:function(){return this.PB;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{RA:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dl:{get:function(){return this.kN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Tg:{get:function(){return this.TM();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mj:{get:function(){var g,k;g=this.Tg;k=this.js(g);m.assert(k,"Could not find current branch for " + g.W);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AJb:{get:function(){return this.Jb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sH:{get:function(){return this.kN?this.Jb[this.Jb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mi:{get:function(){var g,k;g=this.Tg;k=this.E5(g);m.assert(k,"Could not find presenting branch for " + g.W);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kN:{get:function(){return 0 < this.Jb.length;},enumerable:!1,configurable:!0}});h.prototype.qZa=function(g){return -1 !== this.Jb.indexOf(g);};h.prototype.o3=function(){return void 0 !== this.pa?!1:!0;};h.prototype.Mb=function(){};h.prototype.MV=function(g){var k,n,q;k=this.Jb.filter(function(p){return p.O.id === g.wa;});if(0 !== k.length){n=this.TM();q=new l.T(Infinity,1);k.forEach(function(p){p=p.cI.add(g.offset);n.iUa(p).lessThan(n.iUa(q)) && (q=p);});return q;}};h.prototype.js=function(g){var k,n,q;k=this.E5(g);if(k){n=k.O;q=n.id;g=g.Qa(n.Lg.add(k.ig));return {wa:q,offset:g};}};h.prototype.reset=function(){};h.prototype.uY=function(){};h.prototype.pause=function(g){void 0 === g && (g=d.yf);this.nO=null === g || void 0 === g?void 0:g.reduce(function(k,n){-1 === k.indexOf(n) && k.push(n);return k;},this.nO);};h.prototype.resume=function(g){var k;k=this;void 0 === g && (g=d.yf);g.forEach(function(n){n=k.nO.indexOf(n);-1 !== n && k.nO.splice(n,1);});};h.prototype.kxa=function(g){var k;m.assert(this.pa);m.assert(g !== this);this.NI();k=g.o3(this.pa,this);k && (g.pause(this.nO),g.Ela.apply(g,c.__spread(this.Jb)),this.Wka(this.pa));return k;};h.prototype.TM=function(){return this.SXa();};h.prototype.SXa=function(){var g,k;m.assert(this.kN,"Attempted to get initial time before any branches were queued");k=c.__read(this.Jb,1)[0];m.assert(k);return null !== (g=k.vj) && void 0 !== g?g:k.Tr;};h.prototype.Ho=function(){return 1;};h.prototype.E5=function(g){var k;if(this.kN){k=this.SXa();return g.lessThan(k)?this.Jb[0]:l.cWa(this.Jb,g);}};h.prototype.DEb=function(){var g,k,p,v,t,u,w,x;k={};try{for(var n=c.__values(this.Jb),q=n.next();!q.done;q=n.next()){p=q.value;v=void 0;t=void 0;u=p.KC();for(v in u){w=v;x=u[w];x && (k[w]=(null !== (t=k[w]) && void 0 !== t?t:0) + x);}if(!p.ul)break;}}catch(z){var y;y={error:z};}finally{try{q && !q.done && (g=n.return) && g.call(n);}finally{if(y)throw y.error;}}return k;};return h;})();b.eea=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka;Object.defineProperties(b,{__esModule:{value:!0}});b.w_=void 0;c=a(2);f=a(17);l=a(215);m=a(16);d=a(888);h=a(9);g=a(889);k=a(893);n=c.__importDefault(a(6));q=a(5);p=a(894);v=a(25);t=a(72);u=a(99);w=a(54);x=a(406);y=a(252);z=a(253);A=a(895);B=a(117);D=c.__importDefault(a(144));E=a(896);F=a(897);C=a(898);G=a(899);J=a(900);K=a(901);I=a(902);M=a(905);R=a(907);H=a(908);Q=a(909);N=a(910);L=a(911);P=a(913);S=a(914);U=a(915);da=a(916);ka=a(917);r=(function(){function ma(X,ua,ya,O,T,ja,pa,sa,Qa,Ua){var Za;Za=this;this.eL=X;this.iPa=ua;this.config=ya;this.id=O;this.COa=ja;this.Ulb=pa;this.Nk=sa;this.xub=Qa;this.aG="2.0";this.ro=void 0;this.Yc=l.Ij.CLOSED;this.Ufa=!0;this.DL=!1;this.dya=this.sia=void 0;this.fRa=new f.Uh();this.FC=0;this.W$=!1;this.FD=function(ab){var kb,Ya;ab=Za.navigator.te(ab.position.wa);if((ab=Za.zna(ab)) && Za.V.Dl){Ya=Za.V.mi;null === (kb=Za.V.ex) || void 0 === kb?void 0:kb.cE({O:Ya.O,get raa() {return Ya.Od.Qa(Ya.O.Lg);}},ab,Za.mj.offset,!0,!1);}Za.Np.start();};this.mX=function(){Za.Nk("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.vi=new B.FB({uD:10,vu:this,source:"AsePlaygraph"});this.I8a(X);this.Jb=new M.LIa();this.Li=new da.NIa(this.console);this.events=new f.EventEmitter();this.ooa=new G.LCa(this.config,h.T.Fb(this.config.f8),{parent:this.TYa.bind(this)},this.events,this.console);this.Jwa=new k.NKa(this.console,this.events);this.RT={iH:ya.qu || Infinity};this.V=new p.Rda(this);this.Bu=new t.VR(this.V.ya,this.console,"playgraph");this.Ks=new t.VR(new y.i1({Xk:!0,currentTime:function(){return h.T.Fb(n.default.time.ea());},speed:1}),this.console,"wallclock");this.Pf=new R.Eza(this.console,ya,T,this.events,this,this.Ks);this.z3=new N.xza(this.Bu,this.Ks,this.config,this.si.bind(this),this.Bf,this.console);this.c9=this.Pf.c9.bind(this.Pf);this.pX=this.Pf.pX.bind(this.Pf);this.l9=this.Pf.l9.bind(this.Pf);this.z$=this.z$.bind(this);this.LO=new w.tea(ya);S.YSa({Pf:this.Pf,Ks:this.Ks},t.Ik.oJ(h.T.Fb(this.config.tA)),function(){Za.V.Dl && Za.V.mi && (Za.Pf.state.value === m.Gc.Nf || Za.Pf.state.value === m.Gc.ud) && Za.qr(Za.V.mi);},"buffering");this.LO.Gi(new z.EB(this.Pf.vi));this.LO.Gi(new A.eIa(this.oGb.bind(this)));this.LO.Gi(new z.EB(this.vi));this.LO.Gi(new E.KIa(this.Jb));this.Q9a=new U.MKa(this,this.console,Ua);this.q1a=new F.cFa(this.Ks,this.console,this.events);this.Np=new ka.PIa(this.a$.bind(this));this.J$(u.yC(this.config),u.xC());}Object.defineProperties(ma.prototype,{state:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{B6:{get:function(){return !(this.V instanceof p.Rda);},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{Ca:{get:function(){return this.eL;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{weight:{get:function(){return this.iPa;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{u$:{get:function(){q.assert(this.lN,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.ro.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{Z7a:{get:function(){q.assert(this.lN,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.VC(this.u$).tG;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{Bf:{get:function(){return this.Pf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{sf:{get:function(){return this.Pf.sf;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{lN:{get:function(){return void 0 !== this.ro;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{mj:{get:function(){return this.V.Dl?this.V.mj:this.u$;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{Tg:{get:function(){return this.V.Dl?this.V.Tg:this.Z7a;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{qia:{get:function(){return this.Nkb;},enumerable:!1,configurable:!0}});Object.defineProperties(ma.prototype,{bB:{get:function(){return this.Epb;},enumerable:!1,configurable:!0}});ma.prototype.open=function(){this.Ufa=!0;this.events.emit("openComplete");if(this.Yc !== l.Ij.CLOSED)return !1;this.Yc=l.Ij.OPEN;return !0;};ma.prototype.Mb=function(){this.Ks.Mb();this.Bu.Mb();this.Yc !== l.Ij.CLOSED && (this.Cf(),this.Np.Mb(),this.Pf.stop(),this.Yc=l.Ij.CLOSED);};ma.prototype.ZD=function(X,ua){var ya,O,T;ya=this;this.sia=X;this.dya=ua;ua=H.AVa(this.Jb,this.z$.bind(this));X=ua.Xtb;ua=ua.Isb;if(0 === X.length)return !0;if(1 !== X.length || 0 !== X[0])return !1;O=this.mj;X.forEach(function(ja){return ya.V.uY(ja);});T=this.VC(O).tG;ua.forEach(function(ja){var pa;pa=ja.gb;pa.ZD(ja.ug,O.wa === pa.O.id?T:void 0,void 0 !== ya.Jb.Fna(pa));});this.Pf.GQb(O,ua[0].ug);return !0;};ma.prototype.xC=function(X){return u.xC(this.config,X);};ma.prototype.yC=function(X){return u.yC(this.config,X);};ma.prototype.ZM=function(X,ua){var ya,O;ya=this.navigator.te(X);O=this.navigator.te(ua);return {lbb:ya.fIb(ua),JL:ua !== X && this.Jb.has(ua) && this.Jb.pz(ua)[0].ki,dd:O.Lg.W,$N:this.zna(ya)};};ma.prototype.si=function(X,ua,ya,O){var T,ja,pa,sa;T=this;void 0 === O && (O=!0);if(!ua)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(O && this.Li.get(X))ya || this.Li.set(X,ua);else {pa=this.Tma(X)[0];sa=this.navigator.te(X);this.mj.wa === X && pa && (null === (ja=this.V.ex) || void 0 === ja?void 0:ja.cE({O:pa.O,get raa() {return pa.Od.Qa(pa.O.Lg);}},ua,this.mj.offset,O,ya));O || (X={offset:h.T.Gb,wa:ua},this.ro={position:X,ki:!0,sab:X});ya?this.Li.XWb(sa.id,ua):this.Li.set(sa.id,ua);this.Np.start();O && sa.Ww && 0 < sa.Ww.length && (q.assert(pa),pa.txa(sa.Ww) && this.Tma(ua).forEach(function(Qa){return T.hx(pa,Qa);}));O || this.Pf.m4a(this.u$);}};ma.prototype.hx=function(X,ua){var ya;ya=this;X=X.we.Qa(ua.O.Lg);ua.hx(X);this.Jb.AEb(ua).forEach(function(O){return ya.hx(ua,O);});};ma.prototype.wi=function(X){this.navigator.wi(X);this.Np.start();};ma.prototype.J$=function(X,ua){this.Nkb=X;this.Epb=ua;this.state === l.Ij.dj && this.Nk("setStreamFilters");};ma.prototype.zI=function(X,ua){var ya,O,T,ja;ya=this;if(C.u0a(this.Ca,X)){ja=this.mva(X);if(void 0 === ja)this.Mh("Invalid seekPosition");else if(void 0 === this.sia || void 0 === this.dya)this.Mh("No track selectors available");else if(this.B6 && this.V.kN || !C.jZa(null === (O=this.ro) || void 0 === O?void 0:O.sab,ja)){this.lN && (O=this.navigator.te(this.mj.wa),null === (T=this.V.ex) || void 0 === T?void 0:T.cE({O:O,raa:O.duration},ja.wa,this.mj.offset,!1),this.mj.wa === X.wa?this.Li.Cub(X.wa):this.Li.Aja());X=this.Jb.map(function(pa){return ya.COa(pa.O.Z).N7;});try{this.Cf(!0);this.Bub();this.ro={position:ja,sab:ja,ki:!1,lSb:ua};this.Pf.m4a();this.Yc=l.Ij.dj;this.Np.start();}finally{X.forEach(function(pa){return pa.release();});}}}else this.Mh("Invalid seekPosition");};ma.prototype.Cf=function(X){var ua,ya,O;O=this.xHb();this.Jb.reset();if(!X && (this.Li.Aja(),O.length))try{for(var T=c.__values(O),ja=T.next();!ja.done;ja=T.next()){ja.value.LUb();}}catch(sa){var pa;pa={error:sa};}finally{try{ja && !ja.done && (ua=T.return) && ua.call(T);}finally{if(pa)throw pa.error;}}this.Bu.reset();this.Ks.reset();this.V.reset();this.ro=void 0;this.z3.reset();null === (ya=this.fRa) || void 0 === ya?void 0:ya.clear();this.Yc === l.Ij.dj && (this.Yc=l.Ij.OPEN);};ma.prototype.Tma=function(X){return this.Jb.pz(X);};ma.prototype.sk=function(X){this.Pf.sk(X);q.assert(this.V.sH,"Must have an appended branch on underflow");this.z3.ixa(this.V.sH,this.Tg);this.Nk("onUnderflow");this.events.emit("underflow");};ma.prototype.Gi=function(X){this.LO.Gi(X);};ma.prototype.kia=function(X){this.Gi(new x.LJa(X));this.Crb(X);};ma.prototype.Crb=function(X){this.V.kxa(X)?(this.V=X,this.Bu.zQa(this.V.ya),this.V.events.on("segmentPresenting",this.FD),this.V.events.on("drmReady",this.mX)):this.Mh("player in use");};ma.prototype.VC=function(X){var ua,ya;ua=X.offset;ya=this.navigator.te(X.wa);X=ya.Z;ua=ya.Lg.add(ua);return {Z:X,tG:ua};};ma.prototype.js=function(X,ua){var ya;ya=this.V.js(X);if(void 0 !== ya)return ya;ya=this.V.sH;return C.js(X,{pa:this,BJb:ya && ({id:ya.O.id,tWb:ya.cI})},ua);};ma.prototype.MV=function(X){return this.V.MV(X);};ma.prototype.mva=function(X){var ua;ua=this.Ca.Aa[X.wa];if(void 0 !== ua)return null === ua.Nc || void 0 === ua.Nc?{wa:X.wa,offset:h.T.max(h.T.Gb,X.offset)}:{wa:X.wa,offset:h.T.max(h.T.Gb,h.T.min(X.offset,h.T.Fb(ua.Nc - ua.xc)))};};ma.prototype.vn=function(X,ua){return this.Ulb(this.Ca.Aa[X].Z,ua);};ma.prototype.d6=function(){return L.SWa(this.Jb,this.h7.bind(this));};ma.prototype.h7=function(X){X=this.Jb.Fna(X);return void 0 === X || X.ul && this.h7(X);};ma.prototype.c6=function(){return this.RT.iH;};ma.prototype.XEb=function(X){return P.XYa(this.Jb,X);};ma.prototype.Gh=function(X){var ua,ya,O;ua=this;this.Jb.fV(function(T){var ja,pa;ja=T.IV(0);pa=T.IV(1);if(T.O.av || !ua.Jb.soa(T) || !T.ul){if(!ya || ja < ya)ya=ja;if(!O || pa < O)O=pa;}return T.ul;});return {zZ:ya?Math.max(ya - X.W,0):0,AZ:O?Math.max(O - X.W,0):0};};ma.prototype.MM=function(){var X,ua,ya,O;ya=this.lN?this.Gh(this.Tg):{zZ:0,AZ:0};O=D.default.instance().get();return {totalabuflmsecs:ya.zZ,totalvbuflmsecs:ya.AZ,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ua=Number(0 < O.confidence) && (null === (X=O.Ra) || void 0 === X?void 0:X.Ga)) && void 0 !== ua?ua:0};};ma.prototype.eN=function(){var X,ua,ya,O,T,ja,pa,sa;X=this;if(this.Cn())return (this.vi.uy({isStreamingFailureReported:!0}),[]);ya=this.Jb.size;this.vi.uy({branchCount:ya});if(!this.lN || 0 === ya)return [];O=this.Tg;T=this.mj;ja=[];ya=this.navigator.te(this.mj.wa);pa=ya.duration;sa=this.Li.get(ya.id)?1:null !== (ua=ya.JA) && void 0 !== ua?ua:1;ua=this.Jb.reduce(function(Qa,Ua,Za){var ab,kb,Ba,Ka,Na;try{for(var Ya=c.__values(Ua.b6()),Sa=Ya.next();!Sa.done;Sa=Ya.next()){Ba=Sa.value;if(!Ba.Ur()){Ka="p" + X.id + "-" + Za + "-" + (null === (kb=Ua.vj) || void 0 === kb?void 0:kb.W);Na=X.SYa(Ba);Qa.push(X.iyb(Ba,Na.W,Ka,pa.W,sa,O.W,T));}!Ba.iD() && X.vi.enabled && ja.push({segmentId:Ba.wa,isDoneStreaming:Ba.Ur(),isNormalized:Ba.ki(),needsHeaderRequest:Ba.track.K8});}}catch(ib){var Wa;Wa={error:ib};}finally{try{Sa && !Sa.done && (ab=Ya.return) && ab.call(Ya);}finally{if(Wa)throw Wa.error;}}return Qa;},[]);this.vi.uy({nonStreamables:ja});return ua;};ma.prototype.SYa=function(X){var ua;if(X.Aha)return X.Aha;ua=this.TYa(X);return !ua || this.config.P4 && this.navigator.dIb(ua.gb.O,X.wa)?X.dU:this.SYa(ua);};ma.prototype.TYa=function(X){var ua;return null === (ua=this.Jb.Fna(X.gb)) || void 0 === ua?void 0:ua.YM(X.mediaType);};ma.prototype.IQb=function(X){var ua,ya;if(!this.Jwa.Cn()){ua=void 0;ya=this.V.mj;ya && (ua=this.navigator.te(ya.wa).Z);this.Mh("BufferingStateTracker: Temporary failure while buffering",ua,"NFErr_MC_StreamingFailure",null === X || void 0 === X?void 0:X.mh,null === X || void 0 === X?void 0:X.ZC,null === X || void 0 === X?void 0:X.sj);}};ma.prototype.Mh=function(X,ua,ya,O,T,ja,pa){void 0 === pa && (pa=!1);this.Jwa.Mh(X,ua,ya,O,T,ja,pa);};ma.prototype.FZ=function(X,ua){ua=this.Z5(ua);this.events.emit("logdata",{type:"logdata",target:X,fields:ua});};ma.prototype.Z5=function(X){var ua;this.q1a.LLb(X);ua=this.LO.Fo(X);X === w.ae.Zp && (X=this.MM(),ua.vbuflmsec=X.totalvbuflmsecs,ua.abuflmsec=X.totalabuflmsecs,ua.vbuflbytes=X.vbuflbytes,ua.abuflbytes=X.abuflbytes);return ua;};ma.prototype.yab=function(X){this.RT=X;this.Nk("updateBudget");};ma.prototype.Cn=function(){return this.Jwa.Cn();};ma.prototype.Pab=function(X){X !== this.weight && (this.iPa=X,this.events.emit("weightUpdated"));};ma.prototype.KZ=function(X){var ua,ya,O,T,ja,Qa,Ua,Za,ab,kb,Ya,Sa,Ba,Ka,Na;O=I.ARa(this.Ca,X);T=O.Wtb;ja=O.g0b;if([O.Eqb,O.IO,T].every(function(ib){return !ib.length;}))return {$:!0,reason:m.Ux.wib};if(0 === T.length && 0 === ja.length)return {$:!1,reason:m.Ux.Jhb};try{for(var pa=c.__values(T),sa=pa.next();!sa.done;sa=pa.next()){Qa=sa.value;Ua=this.Ca.Aa[Qa];Za=Ua.xc;ab=Ua.Nc;kb=Ua.Z;Ya=X.Aa[Qa];Sa=Ya.Nc;Ba=Ya.xc;Ka=Ya.Z;if(this.mj.wa === Qa && Sa !== ab){if(!Sa)return {$:!1,reason:m.Ux.vjb};Na=h.T.Fb(Sa - Ba);if(null === (ya=this.mj.offset) || void 0 === ya?0:ya.greaterThan(Na))return {$:!1,reason:m.Ux.Ybb};}if(Za !== Ba)return {$:!1,reason:m.Ux.jfb};if(kb !== Ka)return {$:!1,reason:m.Ux.kfb};}}catch(ib){var Wa;Wa={error:ib};}finally{try{sa && !sa.done && (ua=pa.return) && ua.call(pa);}finally{if(Wa)throw Wa.error;}}this.I8a(X);this.Np.start();return {$:!0,reason:m.Ux.vib};};ma.prototype.I8a=function(X){this.eL=X;this.navigator=new K.UIa(X);this.CHb=I.ISa(this.navigator);};ma.prototype.Ksa=function(X,ua){this.Z6a(X);X.AM.addListener("criticalNetworkError",this.c9);X.AM.addListener("temporaryNetworkError",this.pX);X.AM.addListener("updatingLastSuccessEvent",this.l9);this.Yc === l.Ij.dj && ua && this.V7a();};ma.prototype.Lsa=function(X){0 === this.Jb.filter(function(ua){return ua.TV && ua.P === X;}).length && this.Z6a(X);};ma.prototype.Z6a=function(X){X.AM.removeListener("criticalNetworkError",this.c9);X.AM.removeListener("temporaryNetworkError",this.pX);X.AM.removeListener("updatingLastSuccessEvent",this.l9);};ma.prototype.oPa=function(X){var ua;q.assert(X.ki,"expected branch to be normalized on addBranchToPlayer");this.V.kN || (null === (ua=this.ro) || void 0 === ua?0:ua.ki) || this.YCb(X);this.Pf.Daa(X.ug);this.V.Ela(X);this.z3.ixa(X,this.Tg);};ma.prototype.YCb=function(X){q.assert(X.Sc,"Normalized branch should have a defined content start timestamp");q.assert(this.ro,"AsePlaygraph should have a seek position on first branch normalization");q.assert(!this.ro.ki,"Seek position should not already be normalized on first branch normalization");this.ro=c.__assign(c.__assign({},this.ro),{position:{wa:X.O.id,offset:X.Sc.Qa(X.O.Lg)},ki:!0});this.Pf.SWb(this.ro.position,X.ug.filter(function(ua){return 0 === ua.mediaType;})[0]);};ma.prototype.Bub=function(){var X;this.z3.reset();this.V.lG();this.ro=void 0;null === (X=this.fRa) || void 0 === X?void 0:X.clear();};ma.prototype.iyb=function(X,ua,ya,O,T,ja,pa){var sa,Qa,Ua,Za;sa=this;Za=null !== (Ua=null === (Qa=X.gb.vj) || void 0 === Qa?void 0:Qa.W) && void 0 !== Ua?Ua:X.gb.Tr.W;Qa=X.gE.W;Ua=this.Li.get(X.wa)?1:X.gb.O.JA;return {identifier:X.wa,mediaType:X.mediaType,Yg:X.Yg,Bf:this.Bf.value,qA:ua,Cs:Qa,Er:ja,iWa:X.GM.W,Jta:pa.offset.W,Ita:O,PX:T,JA:Ua,Hr:X.gb.JU.W,R9a:Math.max(Qa - Za,0),iD:X.iD(),Ur:X.Ur(),groupId:ya,x0a:function(ab,kb){ab=sa.Q9a.Etb(ab,X.mediaType,1 > kb || !sa.h7(X.gb));1 === kb && "global" === m.oua(ab.reason) && sa.Pf.dQb(X.mediaType,sa.Gh(sa.Tg));return ab;},B0a:function(){var ab,kb,Ya,Sa,Ba,Ka,Na,Wa,ib;Sa=X.mediaType;Ba=sa.ooa.yWb(sa.Bf.value,sa.Tg,X.gE,sa.V.playbackRate,X,0 === Sa?sa.qia:sa.bB,sa.DL);Ka=Ba.stream;Na=Ba.rP;Wa=Ba.AWb;ib=Ba.wu;Ba=Ba.reason;if(!Ka)return {Dn:!1,reason:Ba || "selectLocationsAndStream"};if(sa.Bf.value === m.Gc.dj && X.gb && X.gb.P.eH && !X.gb.P.IW && !sa.V.Mo(X.gb.P.Z) && X.gE.W - sa.Tg.W > sa.config.cra)return {Dn:!1,reason:"maxBufferingCompleteBufferInMs"};Ba=1;if(null === (ab=X.gb) || void 0 === ab?0:ab.ug.every(function(Bb){return 0 === Bb.mediaType;}))Ba=0;sa.Pf.og && Sa === Ba && sa.Pf.eXb(X.il.cP,Ka.bitrate,Wa);sa.gP(Na);ab=null === (kb=X.gb.Qq) || void 0 === kb?void 0:kb.W;kb=X.iab(Ka,ib);kb.Dn && (sa.Ufa && (sa.Yl("firstDriveStreaming"),sa.Ufa=!1),0 < sa.FC && (Ka=null === (Ya=X.gb.Qq) || void 0 === Ya?void 0:Ya.W,ab && Ka && (sa.FC-=ab - Ka,0 >= sa.FC && sa.V7a())));return kb;}};};ma.prototype.gP=function(X){var ua;ua=this;X.forEach(function(ya){ya.P.YWb(ya,function(){var O,T;q.assert(ua.lN,"Speculative header callback after streaming is cancelled");O=ua.Tg.W;T=O + ua.config.RW;return {Yg:[],Bf:ua.Pf.state.value,qA:T,Cs:T,Er:O};});});};ma.prototype.V7a=function(){var X;X=this;this.Np.Raa(ka.LE.zx,function(){return X.Np.start();});};ma.prototype.a$=function(){var X,ua,ya,O,T;X=this;if(this.Yc === l.Ij.dj){ua=this.mj;ya=this.navigator.te(ua.wa);O=this.Jb.pHb();T=this.WDb(ua.wa).map(function(ja){return ja.O.id;});ya=J.a$(this.console,this.CHb,ya,O,this.Li,T,h.T.Fb(this.config.Gsb),this.config.Lra,h.T.Fb(this.config.Jia));O=ya.p7a;this.FC=ya.FC || 0;this.Jb.t0b(O,function(ja,pa){var sa;sa=X.navigator.te(ja);ja=ja === ua.wa?sa.Lg.add(ua.offset):sa.Lg;return X.Y_b(sa,ja,pa);}).IO.forEach(function(ja){ja.Cf();X.Li.clear(ja.O.id);X.V.qZa(ja) || X.Np.Raa(ka.LE.zx,function(){return X.Dga(ja.O.id);});});this.M6a();this.RRa();this.Np.Raa(ka.LE.zx,function(){X.Nk("reevaluateBranches");X.Np.PW(ka.LE.NR);});}};ma.prototype.WDb=function(X){var ua;ua=!1;return this.V.Jb.filter(function(ya){ya.O.id === X && (ua=!0);return ua;});};ma.prototype.xHb=function(){return v.pQa(this.Jb.filter(function(X){return X.TV;}).map(function(X){return X.P;}));};ma.prototype.M6a=function(){var X;if(this.Yc === l.Ij.dj){if(!this.V.sH){X=c.__read(this.Jb.pz(this.u$.wa),1)[0];(null === X || void 0 === X?0:X.ki) && this.oPa(X);}if(this.V.sH)for(;;){X=this.zna(this.V.sH.O);if(!X)break;X=c.__read(this.Jb.pz(X),1)[0];if(null === X || void 0 === X || !X.ki)break;else if(this.V.qZa(X))break;this.oPa(X);}}};ma.prototype.zna=function(X){var ua;ua=this.Li.get(X.id);if(void 0 !== ua)return ua;X=this.navigator.OEb(X);if(1 === X.length)return X[0].id;};ma.prototype.RRa=function(){var X;X=0 !== this.RDb();X || this.W$?X && this.W$ && (this.W$=!1):(this.Pf.og && (X=this.Gh(this.Tg),this.Pf.Oe("complete",X.zZ,X.AZ)),this.Inb(),this.W$=!0);};ma.prototype.RDb=function(){return this.Jb.filter(function(X){return !X.ul;}).length;};ma.prototype.qr=function(X){this.h7(X) && this.Pf.vja(this.Tg,this.V.playbackRate,X,{uja:this.ooa.uja.bind(this.ooa,this.Q9a)});};ma.prototype.UPb=function(X,ua){var ya,O;ya=this;if(ua.didNormalizeSegment){O=Q.iKa.wHb(X);q.assert(O,"Segment should be normalized");Promise.resolve().then(function(){return ya.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:X.O.id,normalizedStart:ua.segmentContentStart,normalizedEnd:ua.branchContentEnd,viewableContentEnd:O.T1b,viewableEarliestContentEnd:O.V1b});});}Promise.resolve().then(function(){ya.M6a();});this.Nk("branchNormalized");};ma.prototype.VPb=function(){this.RRa();};ma.prototype.TPb=function(){this.Np.start();};ma.prototype.Y_b=function(X,ua,ya){var O,T,ja,pa,sa;O=this;if(this.xub(X,ua))throw Error("Not implemented");sa=new d.Aza(X.Z,this.COa,function(Qa,Ua,Za){O.state !== l.Ij.CLOSED && (O.Ksa(Ua,Za),O.Np.Raa(ka.LE.NR,function(){O.m2(Qa.O.id,Ua,Qa.ig);}));},this.Lsa.bind(this));X=new g.wza(this.config,this.console,this.events,X,this.z$,ua,null !== (pa=null === (ja=null === (T=this.ro) || void 0 === T?void 0:T.lSb) || void 0 === ja?void 0:ja.Qa(this.Z7a)) && void 0 !== pa?pa:h.T.Gb,function(){return O.Tg.W;},ya,this.Bf,this.Bu,sa);X.events.on("needsRequest",this.Nk.bind(this,"branchNeedsHeader"));X.events.on("branchNormalized",this.UPb.bind(this,X));X.events.on("lastRequestIssued",this.TPb.bind(this,X));X.events.on("branchStreamingComplete",this.VPb.bind(this,X));X.events.on("checkBufferingProgress",this.qr.bind(this,X));void 0 === ya && (this.Yl("createDlTracksStart"),X.events.once("requestQueuesCreated",function(){O.Yl("createDlTracksEnd");}));X.xb();return X;};ma.prototype.oGb=function(X){if(this.V.Dl)return this.V.mi.eb(X);};ma.prototype.z$=function(X){return [[0,this.sia,"audio_tracks"],[1,this.dya,"video_tracks"]].map(function(ua){var ya,O;ya=c.__read(ua,3);O=ya[1];ua=ya[2];q.assert(O,"Expected mediaType " + ya[0] + " track selector to be defined");ya=O.us(X.oa,X.oa[ua]);if(void 0 !== ya)return X.getTrackById(X.oa[ua][ya].JP);}).filter(v.W8);};ma.prototype.m2=function(X,ua,ya){X={type:"segmentStarting",segmentId:X,contentOffset:ya.W,maxBitrates:{audio:ua.Dw[0],video:ua.Dw[1]}};this.events.emit(X.type,X);};ma.prototype.Dga=function(X){X={type:"segmentAborted",segmentId:X};this.events.emit(X.type,X);};ma.prototype.Inb=function(){var X;X={type:"streamerEnd",time:n.default.time.ea()};this.events.emit(X.type,X);};ma.prototype.Yl=function(X){X={type:"startEvent",event:X,time:n.default.time.ea()};this.events.emit(X.type,X);};c.__decorate([B.Zb({methodName:"getStreamables",lm:!0})],ma.prototype,"eN",null);return ma;})();b.w_=r;},function(r,b,a){var l,m,d;function c(h,g,k,n,q){var p,v;k=null !== (p=g.fe) && void 0 !== p?p:g.track.vn(h,k.W,void 0,q);h=null !== (v=g.Gf) && void 0 !== v?v:g.track.lz(h,null === n || void 0 === n?void 0:n.W,g.Zg);return [!g.ki(),k,h];}function f(h,g){var B,D;for(var k=[],n=0,q=h[n],p=null === q || void 0 === q?void 0:q[0],v=null === q || void 0 === q?void 0:q[1],t=g.Gf.index,u=g.track.gp,w=0,x=g.fe.Sc,y=g.fe.Od.W > q[0],z=y,A=g.fe.index;A <= t;++A){B=!1;if(q){D=u.get(A);y && (D.Sc.W >= v?(y=!1,++n >= h.length?v=p=q=void 0:(q=h[n],p=null === q || void 0 === q?void 0:q[0],v=null === q || void 0 === q?void 0:q[1])):z?z=!1:(k.push(new m.a1(w,x,D.Sc)),x=D.Sc,B=!0));!y && q && D.Od.W > p && (y=!0,B=D.Sc,(D=g.track.rN.Uk(A).bWa(p)) && 0 !== D.fl && (B=d.T.Fb(D.Dd)),k.push(new m.a1(w,x,B)),x=B,B=!0);}B && ++w;}k.push(new m.a1(w,x,g.Gf.Od));return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.cNb=b.$1a=b.G3a=b.E3a=b.Kua=void 0;l=a(2);m=a(405);d=a(9);b.Kua=function(h,g,k){var n,q,p;p=g.get(0);g=g.get(1);g=null === g || void 0 === g?void 0:g.track.lz(h,null === k || void 0 === k?void 0:k.W,g.Zg);return [null === p || void 0 === p?void 0:p.track.lz(h,null !== (q=null === (n=null === g || void 0 === g?void 0:g.Od) || void 0 === n?void 0:n.W) && void 0 !== q?q:null === k || void 0 === k?void 0:k.W,p.Zg),g];};b.E3a=function(h,g,k,n,q){var p,v,t,u;p=g.get(0);g=g.get(1);v=l.__read(g?c(h,g,k,n,q):[!1],3);t=v[0];u=v[1];v=v[2];n=l.__read(p?c(h,p,t && void 0 !== (null === u || void 0 === u?void 0:u.Y)?d.T.Fb(u.Y):k,void 0 !== (null === v || void 0 === v?void 0:v.Ha)?d.T.Fb(null === v || void 0 === v?void 0:v.Ha):n,q):[!1],3);h=n[0];k=n[1];n=n[2];h && (null === p || void 0 === p?void 0:p.b7(k,n));t && (null === g || void 0 === g?void 0:g.b7(u,v));return [h,t];};b.G3a=function(h,g,k){return g.track.vn(h,k.W,void 0,!0).Sc;};b.$1a=function(h,g,k){var n;n=g.O;if(!n.gq || 0 === n.gq.length)return [];h=n.gq.map(function(q){return [n.xc + q[0],n.xc + q[1]];});return f(h,k.SX);};b.cNb=f;},function(r,b,a){var f,l;function c(m){return "immediate" === m;}Object.defineProperties(b,{__esModule:{value:!0}});b.ZIa=b.a1=b.W_a=void 0;f=a(9);l=a(5);b.W_a=c;r=(function(){function m(d,h,g){this.region=d;this.Sc=h;this.Od=g;}m.prototype.toJSON=function(){return {region:this.region,Y:this.Sc.dI,Ha:this.Od.dI};};return m;})();b.a1=r;r=(function(){function m(d,h,g){var k,n;k=this;this.id=d;this.O=h;this.ZNa=!1;this.hN=function(q){var p,v,t,u;return (null === (p=k.Ww) || void 0 === p?0:p.length)?"immediate":null !== (u=null === (t=null === (v=k.O.next) || void 0 === v?void 0:v[q]) || void 0 === t?void 0:t.Zd) && void 0 !== u?u:k.Zd;};this.gT=new f.T(h.xc,1E3);this.vS=void 0 !== h.Nc && null !== h.Nc?new f.T(h.Nc,1E3):f.T.bD;this.tpb=null !== (n=h.Zd) && void 0 !== n?n:g;this.E_a();l.assert(this.gT.lessThan(this.vS),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(m.prototype,{Z:{get:function(){return this.O.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cs:{get:function(){return this.ZNa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lg:{get:function(){return this.gT;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sk:{get:function(){return this.vS;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{duration:{get:function(){return this.vS.Qa(this.gT);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y:{get:function(){return this.gT.W;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ha:{get:function(){return this.vS.W;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ND:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{av:{get:function(){return this.mA.length?!this.O.Eh && 0 === this.bO.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{YOb:{get:function(){return this.RB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mA:{get:function(){var d,h;return Object.keys(null !== (h=null === (d=this.O) || void 0 === d?void 0:d.next) && void 0 !== h?h:{});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bO:{get:function(){var d;d=this;return this.mA.filter(function(h){return ! !d.RB[h];});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pwa:{get:function(){var d;return null !== (d=this.UOa) && void 0 !== d?d:this.UOa=this.xtb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y$:{get:function(){var d;return null !== (d=this.VOa) && void 0 !== d?d:this.VOa=this.ytb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{JA:{get:function(){return this.O.weight?this.O.weight / (this.O.weight + this.Y$):1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zd:{get:function(){var d;return (null === (d=this.Ww) || void 0 === d?0:d.length)?"immediate":this.tpb;},enumerable:!1,configurable:!0}});m.prototype.normalize=function(d,h,g){this.gT=d;this.vS=h;this.Ww=g;this.ZNa=!0;this.Gbb();};m.prototype.nXa=function(){var d;return this.bO.length?null !== (d=this.bO.map(this.hN).reduce(function(h,g){return h === g?g:void 0;})) && void 0 !== d?d:this.Zd:this.Zd;};m.prototype.wi=function(d){this.E_a(d);};m.prototype.ntb=function(d){var h,g;if(this.Pwa){h=(this.RB[d] || 0) / this.Pwa;if(void 0 === this.O.weight || 0 === this.Y$)return {Te:h};g=this.JA;return 1 !== g && c(this.hN(d)) && this.RB[d]?{Te:g * h,$C:this.RB[d] / this.Y$ * (1 - g)}:{Te:g * h};}return {Te:(null === (h=this.O.next) || void 0 === h?0:h[d])?1 / this.mA.length:0};};m.prototype.fIb=function(d){return -1 < this.mA.indexOf(d);};m.prototype.E_a=function(d){var h;if(void 0 === this.O.next)this.RB={};else {h=this.O.next;this.RB=Object.keys(h).reduce(function(g,k){var n;n=d?d[k] || 0:h[k].weight;void 0 !== n && null !== n && 0 <= n && (g[k]=n);return g;},{});}this.Gbb();};m.prototype.xtb=function(){var d;d=this;return this.bO.reduce(function(h,g){return h + d.RB[g];},0);};m.prototype.ytb=function(){var d;d=this;return this.bO.filter(function(h){return c(d.hN(h));}).reduce(function(h,g){return h + d.RB[g];},0);};m.prototype.Gbb=function(){this.VOa=this.UOa=void 0;};return m;})();b.ZIa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TWa=b.yYa=b.Sma=b.LJa=void 0;c=a(2);f=a(20);l=a(54);r=(function(){function m(d){this.Fa=d;}Object.defineProperties(m.prototype,{lj:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{BD:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});m.prototype.Fo=function(d){var h,g,q;d=d.Ni;if(d === l.ae.Zp || d === l.ae.Wn)if(d=this.Fa.Pma()){g={};try{for(var k=c.__values(d.gSb),n=k.next();!n.done;n=k.next()){q=n.value;g[q.mediaType]=this.XMb(q);}}catch(v){var p;p={error:v};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(p)throw p.error;}}return {branchQueue:b.TWa(d.RTb),playerIterator:g,driftStats:this.Fa.jya};}};m.prototype.XMb=function(d){return null === d || void 0 === d?void 0:d.TXa();};return m;})();b.LJa=r;b.Sma=function(m){var d,h;if(m){d=m.O;h={};m.kq().forEach(function(g){h[g.mediaType]=b.yYa(g);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.Dh,RM:h};}return m;};b.yYa=function(m){var d;if(m && m.Pa)return c.__assign(c.__assign({},m.Pa.Hna()),{unsentRequests:m.Pa.Hs,lastFragmentContentEndPts:null === (d=m.Gf) || void 0 === d?void 0:d.Ic});};b.TWa=function(m){return m.map(function(d){return b.Sma(d);});};},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.jMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{jMa:{value:{},configurable:!1,enumerable:!1}})).jMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.oea=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.id=m=(m + 1) % l;}d.prototype.get=function(h){return a(h)?c(h)[this.id]:void 0;};d.prototype.set=function(h,g){c(h)[this.id]=g;return this;};d.prototype.has=function(h){return a(h) && void 0 !== c(h)[this.id];};d.prototype.delete=function(h){if(!this.has(h))return !1;c(h)[this.id]=void 0;return !0;};return d;})();b.oea=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tR=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Hha=function(c,f){this[c]+=Math.max(f || 0,0);};return a;})();b.tR=r;0;1;},function(r,b,a){var f,l,m,d;function c(){return f.__awaiter(this,void 0,void 0,function(){var h;return f.__generator(this,function(g){switch(g.label){case 0:return [4,Promise.resolve().then(function(){return f.__importStar(a(251));})];case 1:return (h=g.$c().YG,[2,h()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.CV=void 0;f=a(2);l=a(927);m=f.__importDefault(a(6));b.CV=function(h){var g;g=new m.default.Console("ASEJS","media|asejs");d || (d=new l.hJa(function(){return c();},h,g));return d;};},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,f,l,m,d,h;b=a(59);c=a(412);f=a(957);l=a(410);m=a(256);d=a(962);h=a(415);a=b(c(["filter"],d,function(g,k){return l(k)?m(function(n,q){g(k[q]) && (n[q]=k[q]);return n;},{},h(k)):f(g,k);}));r.exports=a;},function(r,b,a){var c,f;c=a(413);f=a(956);r.exports=function(l,m,d){return function(){var h,g;if(0 === arguments.length)return d();h=Array.prototype.slice.call(arguments,0);g=h.pop();if(!c(g)){for(var k=0;k < l.length;){if("function" === typeof g[l[k]])return g[l[k]].apply(g,h);k+=1;}if(f(g))return m.apply(null,h)(g);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={xb:function(){return this.e_["@@transducer/init"]();},result:function(b){return this.e_["@@transducer/result"](b);}};},function(r,b,a){var c,f,l,m,d;b=a(129);c=a(255);f=a(963);l=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(h){var g,k,n,q;if(Object(h) !== h)return [];g=[];k=d && f(h);for(n in h){!c(n,h) || k && "length" === n || (g[g.length]=n);}if(l)for(k=m.length - 1;0 <= k;){n=m[k];if(q=c(n,h)){a:{for(q=0;q < g.length;){if(g[q] === n){q=!0;break a;}q+=1;}q=!1;}q=!q;}q && (g[g.length]=n);--k;}return g;}:function(h){return Object(h) !== h?[]:Object.keys(h);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=Array(f);c < f;){l[c]=b(a[c]);c+=1;}return l;};},function(r,b,a){var c,f,l;c=a(257);f=a(129);b=a(59);l=a(966);a=b(function(m,d){return 1 === m?f(d):c(m,l(m,[],d));});r.exports=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YCa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IIa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gea="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nR="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lDa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vDa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pDa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.oz=1536;return m;}c.__extends(l,f);l.Na=!0;return l;})(a(178).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ac-3";return l;})(r);b.$aa=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ec-3";return l;})(r);b.eca=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(104);r=a(33);l=f.VE;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.wc();this.fileSize=this.u.Sd();this.S=this.u.Sd();this.duration=this.u.Sd(!1,!0);this.ssa=this.u.Sd();this.u.Sd();this.xsa=this.u.Sd();this.Zra=this.u.xa();this.tsa=this.u.Sd();this.sma=this.u.xa();this.u.CA();this.Se={moof:{offset:this.ssa},sidx:{offset:this.tsa,size:this.sma}};this.Se[f.wR]={offset:this.xsa,size:this.Zra};this.u.offset - this.startOffset <= this.length - 24 && (this.wsa=this.u.Sd(),this.Tra=this.u.xa(),this.usa=this.u.Sd(),this.Rra=this.u.xa(),this.Se[f.Lx]={offset:this.wsa,size:this.Tra},this.Se[f.Kx]={offset:this.usa,size:this.Rra});return !0;};d.Vb=l;d.Na=!1;return d;})(r.Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(104);a=a(33);f=r.WE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.wc();1 <= this.version && this.u.CA();d=this.u.xa();this.Se={};for(var h=this.startOffset + this.length,g=0;g < d;++g){k=this.u.Kl();"uuid" === k && (k=this.u.CA());n=this.u.Sd();this.Se[k]={offset:h,size:n};h+=n;}return !0;};m.Vb=f;m.Na=!1;return m;})(a.Ac);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Bk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Bk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Bk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Bk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);l=a(88);r=(function(m){function d(h,g,k,n,q){k=m.call(this,k,n,q) || this;k.Hia=h;k.Oq=g;k.Ua={};return k;}c.__extends(d,m);d.prototype.parse=function(h){var g,k,n,q,p,v;this.offset=0;g=[];for(h=h || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.xa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=l.ho(this.xa());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.CA();}if(0 === g.length && this.Oq.iV(q,k,n))break;if(k + n > this.view.byteLength)break;p=this.Hia[q];v=void 0;if(p){if((v=new p(this,q,k,n,g[0]),(g[0] || this).st(v),v.parse(h)))this.config.YH && p.Na?g.unshift(v):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=k + n;for(;g.length && this.offset > g[0].byteOffset + g[0].Nn - 8;){v=g.shift();if(!v.Pt(h))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.Nn;}if(0 === g.length && this.Oq.EU(q,k,n,v))break;}return !this.Oq.done && (h=this.Oq.endOffset?this.Oq.endOffset - this.view.byteLength:4096,0 < h)?{done:!1,offset:this.offset,aX:h}:{done:!0,offset:Math.min(this.Oq.endOffset || Infinity,this.offset)};};d.prototype.st=function(h){f.Ac.st(this,h);};return d;})(a(998).Vea);b.wE=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(104);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.iV=function(){return this.done;};l.prototype.EU=function(m,d,h){return this.done=d + h >= this.endOffset;};return l;})();b.AQ=r;r=(function(){function l(m,d,h,g){void 0 === d && (d=[]);void 0 === h && (h=[]);void 0 === g && (g=!1);this.Nh=m;this.bz=d;this.oZ=h;this.yX=g;this.done=!1;this.Se={};}l.prototype.iV=function(m,d,h){-1 !== l.yoa.indexOf(m) && (this.Se[m]={offset:d,size:h});if(-1 !== this.oZ.indexOf(m)){if((this.Se[m]={offset:d,size:h},this.yX))this.endOffset=d + h;else return (this.endOffset=d,this.done=!0);}else this.Nh && -1 !== this.Nh.indexOf(m)?(m=1 < this.Nh.length?4096:0,this.endOffset=Math.max(d + h + m,this.endOffset || 0)):-1 !== this.bz.indexOf(m) && (m=this.Nh?4096:0,this.endOffset=Math.max(d + h + m,this.endOffset || 0));return this.done;};l.prototype.EU=function(m,d,h,g){var k;k=this;if(-1 !== this.oZ.indexOf(m))return this.done=!0;m === f.VE && this.MY(g.Se);m === f.WE && this.MY(g.Se);this.Nh && c(m,this.Nh);c(m,this.bz);return this.Nh && 0 === this.Nh.length && !this.bz.some(function(n){return k.Se[n];})?this.done=!0:this.done;};l.prototype.MY=function(m){var d;d=this;this.Se=m;this.endOffset=(this.Nh || []).concat(this.bz).reduce(function(h,g){return d.Se[g]?(g=d.Se[g],Math.max(g.offset + (g.size || 4096),h)):h;},this.endOffset || 0);};l.yoa=["moov","sidx"];return l;})();b.Aca=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ca="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jAa="CdnPartitionerSymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bca=void 0;f=a(44);l=a(109);c.Tp=function(){var m;m={};m[f.N.LJ]="avc1.4D401E";m[f.N.CE]="avc1.4D401F";m[f.N.qca]="avc1.4D4028";m[f.N.Dfb]="hev1.2.6.L90.B0";m[f.N.Efb]="hev1.2.6.L93.B0";m[f.N.Ffb]="hev1.2.6.L120.B0";m[f.N.Gfb]="hev1.2.6.L123.B0";m[f.N.h0]="hev1.2.6.L90.B0";m[f.N.j0]="hev1.2.6.L93.B0";m[f.N.l0]="hev1.2.6.L120.B0";m[f.N.n0]="hev1.2.6.L123.B0";m[f.N.WQ]="hev1.2.6.L150.B0";m[f.N.YQ]="hev1.2.6.L153.B0";m[f.N.i0]="hev1.2.6.L90.B0";m[f.N.k0]="hev1.2.6.L93.B0";m[f.N.m0]="hev1.2.6.L120.B0";m[f.N.o0]="hev1.2.6.L123.B0";m[f.N.XQ]="hev1.2.6.L150.B0";m[f.N.ZQ]="hev1.2.6.L153.B0";m[f.N.PCa]="hev1.2.6.L90.B0";m[f.N.QCa]="hev1.2.6.L93.B0";m[f.N.RCa]="hev1.2.6.L120.B0";m[f.N.SCa]="hev1.2.6.L123.B0";m[f.N.TCa]="hev1.2.6.L150.B0";m[f.N.UCa]="hev1.2.6.L153.B0";m[f.N.LQ]="hev1.2.6.L90.B0";m[f.N.NQ]="hev1.2.6.L93.B0";m[f.N.NJ]="hev1.2.6.L120.B0";m[f.N.QQ]="hev1.2.6.L123.B0";m[f.N.SQ]="hev1.2.6.L150.B0";m[f.N.UQ]="hev1.2.6.L153.B0";m[f.N.MQ]="hev1.2.6.L90.B0";m[f.N.OQ]="hev1.2.6.L93.B0";m[f.N.PQ]="hev1.2.6.L120.B0";m[f.N.RQ]="hev1.2.6.L123.B0";m[f.N.TQ]="hev1.2.6.L150.B0";m[f.N.VQ]="hev1.2.6.L153.B0";m[f.N.I_]=l.Fd.H_;m[f.N.K_]=l.Fd.Tba;m[f.N.xQ]=l.Fd.Uba;m[f.N.N_]=l.Fd.Vba;m[f.N.P_]=l.Fd.Wba;m[f.N.R_]=l.Fd.Xba;m[f.N.J_]=l.Fd.H_;m[f.N.L_]=l.Fd.Tba;m[f.N.M_]=l.Fd.Uba;m[f.N.O_]=l.Fd.Vba;m[f.N.Q_]=l.Fd.Wba;m[f.N.S_]=l.Fd.Xba;m[f.N.NCa]="avc1.640016";m[f.N.IQ]="avc1.64001E";m[f.N.JQ]="avc1.64001F";m[f.N.pca]="avc1.640028";m[f.N.q1]=l.Fd.ZR;m[f.N.lK]=l.Fd.ZR;m[f.N.mK]=l.Fd.ZR;m[f.N.$R]=l.Fd.ZR;m[f.N.uya]=l.Fd.Gj;m[f.N.vya]=l.Fd.Gj;m[f.N.l_]=l.Fd.Gj;m[f.N.m_]=l.Fd.Gj;m[f.N.n_]=l.Fd.Gj;m[f.N.o_]=l.Fd.Gj;m[f.N.p_]=l.Fd.Gj;m[f.N.q_]=l.Fd.Gj;return m;};b.bca=c;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aca=void 0;f=a(44);c.Tp=function(){var l;l={};l[f.ye.DE]="mp4a.40.2";l[f.ye.VCa]="mp4a.40.2";l[f.ye.EE]="mp4a.40.2";l[f.ye.qF]="mp4a.40.42";l[f.ye.uQ]="ec-3";l[f.ye.Oba]="ec-3";l[f.ye.vQ]="ec-3";return l;};b.aca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.i5b="LogblobBuilderSymbol";b.kR="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dLa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gLa="ThroughputTrackerSymbol";b.eLa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rCa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cAa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fza={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var f,l,m;function c(d,h,g,k){this.config=d;this.qj=h;this.mediaType=g;this.Fw=k;this.wra={};this.wra[f.Oj.Audio]="audio";this.wra[f.Oj.PLa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.sQ=void 0;f=a(26);r=a(110);l=a(181);m=new r.CB().format;c.prototype.$Ya=function(d){return this.Jzb(this.GYa(d));};c.prototype.Ly=function(d){return this.qj.isTypeSupported(d);};c.prototype.mXa=function(){return [l.We.g_,l.We.aDa,l.We.HQ];};c.prototype.ipa=function(){this.On=[];this.Ju=[];this.config().dRb && this.Ju.push(l.We.qF);this.config().C4a && this.Ju.push(l.We.WCa);this.config().B4a && this.Ju.push(l.We.OCa);this.config().A4a && this.Ju.push(l.We.Ps);this.config().XH && this.Ju.push(l.We.gB);this.config().D4a && this.Ju.push(l.We.Vx);this.config().z4a && this.Ju.push(l.We.Gj);this.Ju=this.Ju.concat(this.mXa());!this.config().yBb && this.On.push(l.We.qF);!this.config().XUa && this.On.push(l.We.Rdb);!this.config().WUa && this.On.push(l.We.Sdb);!this.config().NU && this.On.push(l.We.Tdb);!this.config().mBb && this.On.push(/prk$/);this.config().A4a || this.config().YAb || this.On.push(l.We.Ps);this.config().C4a || this.config().$Ab || this.On.push(l.We.WCa);this.config().B4a || this.config().vla || this.On.push(l.We.OCa);this.config().XH || this.config().tM || this.On.push(l.We.gB);this.config().D4a || this.config().wBb || this.On.push(l.We.Vx);this.config().z4a || this.config().UAb || this.On.push(l.We.Gj);!this.config().uBb && this.On.push(l.We.kK);};c.prototype.SVa=function(d){var h,g;h=this;g=d.map(function(k){for(var n=ba(h.Ju),q=n.next();!q.done;q=n.next()){if(q.value.test(k))return Promise.resolve(!0);}n=ba(h.On);for(q=n.next();!q.done;q=n.next()){if(q.value.test(k))return Promise.resolve(!1);}return h.kz(k).catch(function(){return !1;});});return Promise.all(g).then(function(k){return d.filter(function(n,q){return k[q];});});};c.prototype.kz=function(d){return this.config().jBb?this.Fw.kz(d):this.ECb(d);};c.prototype.ECb=function(d){var h;d=this.Uta[d];h="";return d?(Array.isArray(d) && (h=1 < d.length?" " + d[1]:"",d=d[0]),d=m("{0}/mp4;codecs={1};{2}",this.wra[this.mediaType],d,h),d=this.Ly(d),Promise.resolve(d)):Promise.resolve(!1);};c.prototype.Jzb=function(d){var h;h={};this.ipa();return this.SVa(d).then(function(g){return g.map(function(k){return h[k]=1;});}).then(function(){return Object.keys(h);});};Xa.Object.defineProperties(c.prototype,{Uta:{configurable:!0,enumerable:!0,get:function(){this.sOa || (this.sOa=this.Tp());return this.sOa;}}});b.sQ=c;},function(r,b,a){var f,l,m,d,h;function c(g,k,n){n=l.sQ.call(this,g,k,f.Oj.Audio,n) || this;n.config=g;n.qj=k;n.type=f.kv.ov;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.U_=void 0;f=a(26);l=a(442);m=a(109);r=a(110);d=a(435);h=new r.CB().format;na(c,l.sQ);c.prototype.dZ=function(){var g;g=h(c.LP,m.Fd.Qdb);return Promise.resolve(this.config().NU && this.qj.isTypeSupported(g));};c.prototype.Tp=function(){return d.aca.Tp();};c.prototype.GYa=function(g){return g || this.config().kC;};b.U_=c;c.LP="audio/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MFa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QFa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PFa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nJa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v0="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fea="Storage";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DAa="CorruptedStorageValidatorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NEa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iGa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tza="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rza="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qza="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kza="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BFa="ManifestProviderConfigSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Kea=void 0;f=a(11);c.FYa=function(){var l;l=f.wv && f.wv.height;return l?1080 <= l?1080:720:720;};b.Kea=c;},function(r,b){function a(c,f){this.log=c;this.qaa=f;}Object.defineProperty(b,"__esModule",{value:!0});b.sR=void 0;a.prototype.aab=function(c,f){var l,m;l=this;if(!c)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);m=c.map(function(d){var h,g,k,n,q,p,v;v=l.qaa(f,f.type,d.Gr,d.bitrate,d.sb,d.size,l.SEb(d.urls),d.uG,d.BWa / d.AWa,d.Oz);v.EXb(d.t7a,d.s7a,d.n5a,d.m5a);v.UWb(null !== (h=d.yyb) && void 0 !== h?h:void 0,null !== (g=d.zyb) && void 0 !== g?g:void 0,null !== (k=d.xyb) && void 0 !== k?k:void 0,null !== (n=d.wyb) && void 0 !== n?n:void 0,null !== (q=d.n5a) && void 0 !== q?q:void 0,null !== (p=d.m5a) && void 0 !== p?p:void 0);f.pm && (v.pm=f.pm);d.uG && (v.ih=d.uG);return v;});m.sort(function(d,h){return d.bitrate - h.bitrate;});m.forEach(function(d,h){d.lower=m[h - 1];d.wIb=m[h + 1];});return m;};a.prototype.SEb=function(c){return c.reduce(function(f,l){f[l.Rp]=l.url;return f;},{});};b.sR=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JIa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oLa="TrackStreamFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wLa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FFa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EHa="PboLinksManagerSymbol";b.CHa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xFa="ManifestEnricherSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Obb=void 0;c=a(8);f=a(19);b.Obb=function(l){var m,d;if(f.Qz(l)){m=new DOMParser().parseFromString(l,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:l.slice(0,300),fileSize:l.length});}catch(h){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var f;function c(l){var m,d,h,g,k,n,q;d={};d[f.ZP]=l.localName;h={};d[f.Ek]=h;g=[];d[f.YP]=g;k=l.attributes;n=k.length;for(m=0;m < n;m++){q=k[m];h[q.localName]=q.value;}l=l.childNodes;n=l.length;h={};for(m=0;m < n;m++){switch((k=l[m],k.nodeType)){case b.Sbb:k=c(k);q=k[f.ZP];k[f.Waa]=d;g.push(k);d[q]?h[q][f.rE]=k:d[q]=k;h[q]=k;break;case b.Tbb:case b.Qbb:(k=k.text || k.nodeValue,g.push(k),d[f.Ls] || (d[f.Ls]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Rbb=b.Qbb=b.Tbb=b.t2b=b.Sbb=b.u2b=b.Pbb=void 0;f=a(158);b.Pbb=function(l){return c(l.nodeType == b.Rbb?l.documentElement:l);};b.u2b=c;b.Sbb=1;b.t2b=2;b.Tbb=3;b.Qbb=4;b.Rbb=9;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Idb=b.$za=void 0;c=a(12);f=a(24);l=a(19);m=a(90);b.$za=function(d,h,g,k,n,q,p,v,t,u){var w,x;w=this;x={Type:h,Bitrate:k,DownloadableId:g};f.Xb(w,{track:d,type:h,yc:g,bitrate:k,sb:n,ih:v,size:q,hw:p,header:null,EXb:function(y,z,A,B){if(l.Uc(y) || l.Uc(z))(w.width=y,w.height=z,l.Ba(A) && l.Ba(B) && (w.Qha=A / B * y),x.Resolution=(w.width || "") + ":" + (w.height || ""));},UWb:function(y,z,A,B,D,E){l.Uc(y) && l.Uc(z) && l.Uc(A) && l.Uc(B) && (w.rka=y,w.m4=z,w.l4=A,w.k4=B);l.Uc(D) && l.Uc(E) && (w.o5a=D,w.p5a=E);},framerate:t,Oz:u,Oi:x,toJSON:function(){return x;}});};b.Idb=function(d,h,g,k,n){if(d == c.y0 || d === m.Bi.audio)return h;if(d == c.WJ || d === m.Bi.video)return g;if(d == m.Bi.iaa)return k;if(d == m.Bi.pxa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qda="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eBa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,f,l){if(null != l){if(0 < l(c,f))throw a.mTa(c,f);}else if(c.yl && 0 < c.yl(f))throw a.mTa(c,f);this.start=c;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.sea=void 0;a.mTa=function(c,f){return new RangeError("end [" + f + "] must be >= start [" + c + "]");};b.sea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hBa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FAa="CryptoKeysSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oHa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eFa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kGa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GHa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LLa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dya="AppLogSinkSymbol";},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F;function c(C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya){var O;O=this;this.j=C;this.va=G;this.y$a=J;this.Uf=K;this.qra=I;this.Sla=M;this.me=R;this.J4=H;this.gf=Q;this.config=N;this.Ed=L;this.ya=P;this.za=S;this.zq=U;this.Wz=da;this.Ti=ka;this.Kr=ma;this.FH=X;this.tc=ua;this.vD=ya;this.rZ=[];this.Cra=this.eD=this.pY=0;this.oM=[];this.Kha=!1;this.dE=function(T){var ja,pa,sa,Qa,Ua,Za,ab;pa={};try{pa={playdelaysdk:n.Rf(O.j.VT()),applicationPlaydelay:n.Rf(O.j.$ia()),playdelay:n.Rf(O.j.bja()),trackid:O.j.Ej,bookmark:n.Rf(O.j.Zv || 0),pbnum:O.j.index,endianness:d.DXa()};O.config().xBb && (pa.transitiontime=O.j.Km,pa.uiplaystarttime=O.j.bb.HZ,pa.playbackrequestedat=O.j.vk.da(q.ja),pa.clockgettime=O.getTime(),pa.clockgetpreciseepoch=O.ya.ef.da(q.ja),pa.clockgetpreciseappepoch=O.za.Tz.da(q.ja),pa.absolutestarttime=O.j.QG(),pa.relativetime=O.j.Ina());O.B5(pa,"startplay");}catch(kb){O.log.error("error in startplay log fields",kb);}O.j.ci && (pa.blocked=O.j.ci);O.tc.f_a(pa);O.g_a(pa);if(O.config().Qaa && O.j.bb.Dbb){sa={};Object.entries(O.j.bb.Dbb).reverse().forEach(function(kb){var Ya;Ya=ba(kb);kb=Ya.next().value;Ya=Ya.next().value;sa[kb.toLowerCase()]=Ya;});pa.vui=sa;}z.Ba(O.j.eRa) && (pa.bookmarkact=n.Rf(O.j.eRa));Qa=O.j.md.at && O.j.md.ats?O.j.md.at - O.j.md.ats:void 0;Qa && (pa.nccpat=Qa);(Qa=O.j.md.lr && O.j.md.lc?O.j.md.lr - O.j.md.lc:void 0) && (pa.nccplt=Qa);(Qa=O.vAb()) && (pa.downloadables=Qa);nb._cad_global.device && z.Uc(nb._cad_global.device.Z4) && (pa.esnSource=nb._cad_global.device.Z4);n.Xb(pa,O.zq,{prefix:"pi_"});O.j.wo && O.j.wo.initBitrate && (pa.initvbitrate=O.j.wo.initBitrate);O.j.wo && O.j.wo.selector && (pa.selector=O.j.wo.selector);pa.fullDlreports=O.Zab;if(O.j.state.value >= y.Pb.pe)try{Ua=O.j.Et();if(Ua){O.maxBitrate=d.eQ(Ua.map(function(kb){return kb.bitrate;}));O.t2a=d.eQ(Ua.map(function(kb){return kb.height;}));Za=0 < Ua.length?A.f2a(Ua,function(kb){return kb.bitrate;}):void 0;pa.maxbitrate=O.maxBitrate;pa.maxresheight=O.t2a;}}catch(kb){O.log.error("Exception computing max bitrate",kb);}try{ab=d.$G();ab && (pa.pdltime=ab);}catch(kb){}try{n.Xb(pa,O.j.md,{prefix:"sm_"});n.Xb(pa,O.j.p6(),{prefix:"vd_"});}catch(kb){}"undefined" !== typeof nrdp && nrdp.device && (pa.firmware_version=nrdp.device.firmwareVersion);T && O.j.Ku && (pa.pssh=O.j.Ku);O.m_a(O.j,pa);pa.avtp=O.XI.Yt().bxa;(null === (ja=O.j.Ka) || void 0 === ja?0:ja.MB) && O.P6(pa);if(O.j.cc.value)try{pa.ttTrackFields=O.j.cc.value.Oi;}catch(kb){}O.tc.b_a(pa,O.j.ic.value);O.tc.qN(pa,O.j.wg.value);O.j.oa && "boolean" === typeof O.j.oa.uc.jD && (pa.isSupplemental=O.j.oa.uc.jD);O.j.oa && (pa.packageId=O.j.oa.uc.Uo);O.j.oa && O.j.oa.uc.zo && (pa.hasChoiceMap=!0);O.config().pWa && (pa.forceL3WidevineCdm=!0);O.nLb(Za);O.mLb();T && O.Zoa(pa);O.d_a(O.j,pa);O.jH(O.j,pa);O.kH(O.j,pa);O.aD(O.j,pa,O.Kha);O.$oa(pa);O.apa(pa);O.tc.pN(pa);O.j_a(pa);O.c_a(pa);O.tc.R6(pa,O.va);O.k_a(pa);O.Ec(B.ad.dE,T,F.ze | F.Vs | F.yi | F.Xs | F.xE | F.A_ | F.AE | F.kp,pa);};this.WO=function(T,ja,pa){ja={playdelay:n.Rf(T),reason:pa,intrplayseq:O.eD - 1,skipped:ja};"repos" === pa && (ja.prstate=!0 === O.j.paused.value?"paused":"playing");O.kH(O.j,ja);O.Ec(B.ad.WO,!1,F.ze | F.Vs | F.yi,ja);"rebuffer" !== pa && "force_rebuffer" !== pa || O.j.Jl.iqb(Number(n.Rf(T)));};this.SL=function(T,ja,pa,sa){T={moff:n.Eo(pa),moffms:n.Rf(pa),vbitrate:ja.bitrate,vbitrateold:T.bitrate,vdlid:ja.yc,vdlidold:T.yc,vheight:ja.height,vheightold:T.height,vwidth:ja.width,vwidthold:T.width,bw:sa};O.kH(O.j,T);O.aD(O.j,T);O.Ec(B.ad.SL,!1,F.yi,T);};this.Jua=function(T,ja,pa){T={moff:n.Eo(pa),moffms:n.Rf(pa),vdlidold:T.yc,vbitrateold:T.bitrate};O.kH(O.j,T);O.aD(O.j,T);O.tc.oq(T,ja,O.j.hf.value && O.j.hf.value.stream);O.Ec(B.ad.$6a,!1,F.yi,T);};this.lta=function(){var T,ja;T={waittime:n.Rf(O.j.Ina()),abortedevent:"startplay",trackid:O.j.Ej,prstate:O.vz(),paustate:O.j.paused.value};O.B5(T,"endplay");O.Kr.QU && (T.eventlist_version=1,T.eventlist=O.FH.AYa(O.j));O.j.wo && O.j.wo.initBitrate && (T.initvbitrate=O.j.wo.initBitrate);try{ja=d.$G();ja && (T.pdltime=ja);n.Xb(T,O.j.md,{prefix:"sm_"});}catch(pa){}O.Woa(T,!0);O.tc.R6(T,O.va);O.tc.qN(T,O.j.wg.value);O.Zoa(T);O.tc.oq(T,O.j.Ve.value,O.j.hh.value);O.m_a(O.j,T);O.jH(O.j,T);O.Ec(B.ad.E9,!1,F.ze | F.yi | F.xE | F.Xs | F.kp,T);};this.kta=function(T,ja){T={waittime:n.Rf(T),abortedevent:"resumeplay",resumeplayreason:ja};O.j.wo && O.j.wo.initBitrate && (T.initvbitrate=O.j.wo.initBitrate);O.tc.oq(T,O.j.Ve.value,O.j.hh.value);O.Ec(B.ad.E9,!1,F.ze | F.yi | F.kp,T);};this.zwa=function(T,ja){T={newstate:ja?"Paused":"Playing",oldstate:T?"Paused":"Playing"};O.kH(O.j,T);O.aD(O.j,T);O.tc.oq(T,O.j.ke.value && O.j.ke.value.stream,O.j.hf.value && O.j.hf.value.stream);O.Ec(B.ad.G9a,!1,F.ze | F.yi,T);};this.mpa=function(T,ja,pa){var sa,Qa;T=n.Xb({vdlid:O.j.Ve.value.yc,playingms:T,pausedms:ja,intrplayseq:O.eD++,prstate:O.vz(),paustate:O.j.paused.value},pa);O.B5(T,"intrplay");ja=O.j.kc[f.Rb.Ta.Lb].value;pa=O.j.kc[f.Rb.Ta.Ub].value;T.cdnid=T.vcdnid=ja && ja.id;T.acdnid=pa && pa.id;T.locid=O.pW && O.pW.yqa;T.loclv=O.pW && O.pW.p1a;T.avtp=O.XI.Yt().bxa;T.mediabuffered=null === (sa=O.j.Wf) || void 0 === sa?void 0:sa.G5();if(null === (Qa=O.j.Ka) || void 0 === Qa?0:Qa.MB)(O.Woa(T,!0),O.P6(T),O.i_a(T));try{n.Xb(T,O.j.p6(),{prefix:"vd_"});}catch(Ua){}O.kH(O.j,T);O.aD(O.j,T);O.tc.oq(T,O.j.ke.value && O.j.ke.value.stream,O.j.hf.value && O.j.hf.value.stream);O.Ec(B.ad.mpa,!1,F.ze | F.yi,T);};this.MO=function(T,ja,pa){T={moffold:n.Eo(T),reposseq:O.pY++,prstate:O.vz(),paustate:O.j.paused.value};O.aD(O.j,T);O.tc.oq(T,pa && pa.stream,ja && ja.stream);O.Ec(B.ad.MO,!1,F.ze | F.yi,T);};this.ria=function(){var T,ja,pa,sa,Qa;ja=O.j.ic.value;pa=O.j.hh.value.yc;ja=ja?{trackId:ja.trackId,bcp47:ja.Vd,lang:ja.Vd,downloadableId:pa,rank:ja.Vc}:{};sa=O.Rz;Qa=null === (T=O.Ypa) || void 0 === T?void 0:T.yc;T=sa?{trackId:sa.trackId,bcp47:sa.Vd,lang:sa.Vd,downloadableId:Qa,rank:sa.Vc}:{};O.Ec(B.ad.IQa,!1,F.ze | F.yi,{switchdelay:n.Rf(O.getTime() - O.Zpa),newtrackinfo:ja,oldtrackinfo:T,oldAudioDownloadableId:Qa,newAudioDownloadableId:pa});};this.UY=function(T){O.Ec(B.ad.v9a,!1,F.ze | F.yi,{speedold:Math.floor(1E3 * T.oldValue),speed:Math.floor(1E3 * T.newValue)});};this.EP=function(){O.Ec(B.ad.i_b,!1,F.ze | F.yi,{track:O.j.cc.value.Oi});};this.SA=function(T){var ja,pa,sa;pa=O.j.cc.value;if(T.newValue || pa && pa.Vr() && !pa.qq()){sa={};T=null !== (ja=T.newValue) && void 0 !== ja?ja:pa;sa.newtrackinfo=T?{trackId:T.trackId,bcp47:T.Vd,lang:T.Vd,downloadableId:T.yc,rank:T.Vc,isImageBased:T.kk}:{};ja=O.lqa;sa.oldtrackinfo=ja?{trackId:ja.trackId,bcp47:ja.Vd,lang:ja.Vd,downloadableId:ja.yc,rank:ja.Vc,isImageBased:ja.kk}:{};sa.switchDelay=n.Rf(O.getTime() - O.kqa);O.tc.oq(sa,O.j.ke.value && O.j.ke.value.stream,O.j.hf.value && O.j.hf.value.stream);O.Ec(B.ad.J$a,!1,F.ze | F.yi,sa);}};this.Mp=function(T){O.Ec(B.ad.zsb,!1,F.ze | F.yi,T.newValue);};this.Ptb=function(T,ja){var pa,sa;pa=ja.serverid;sa={locid:ja.location,loclv:ja.locationlv,selocaid:pa,selcdnid:pa,selocaname:ja.servername};sa.mediatype=ja.mediatype;sa.selreason=ja.selreason || "unknown";sa.seldetail=ja.seldetail;sa.cdnbwdata=JSON.stringify([{id:pa}]);T && (sa.oldlocid=T.yqa,sa.oldloclv=T.p1a,sa.oldocaid=T.KWb,sa.oldocaname=T.DI);O.Ec(B.ad.JRa,!1,F.A_,sa);};this.lUa=function(){var T,ja,pa;if(O.j.ck)try{T=!1;O.Zab || (T=!0,O.oM=O.oM.filter(function(sa){return !sa.$;}));if(0 < O.oM.length){ja=O.J4.construct(O.oM,O.j.vk.da(q.ja));O.oM=[];ja.erroronly=T;pa={};n.se(ja,function(sa,Qa){pa[sa]=JSON.stringify(Qa);});O.Ec(B.ad.eAb,!1,F.yi,pa);}}catch(sa){O.log.error("Exception in dlreport.",sa);}};this.vz=function(){var T;T=O.j.yb.value;return T === y.cb.Hc?"playing":T === y.cb.eh?"paused":T === y.cb.Vq?"ended":"waiting";};this.wD=function(){var T,ja,pa;if(O.j.state.value == y.Pb.pe){pa=O.GX();O.config().Pua && (pa.avtp=O.XI.Yt().bxa,(null === (T=O.j.Ka) || void 0 === T?0:T.MB) && O.P6(pa));pa.mediabuffered=null === (ja=O.j.Wf) || void 0 === ja?void 0:ja.G5();pa.midplayseq=O.Cra++;pa.prstate=O.vz();pa.paustate=O.j.paused.value;O.config().IWb && O.Z9a("midplay");O.config().Pw && O.bpa(pa);O.$oa(pa);O.apa(pa);O.tc.pN(pa);O.Ec(B.ad.wD,!1,F.ze | F.yi | F.xE | F.Xs,pa);}};this.Z9a=function(T){var ja,pa;ja={};ja.trigger=T;try{pa=O.j.Cna();ja.subtitleqoescore=O.j.Pq.dHb(pa);ja.metrics=JSON.stringify(O.j.Pq.Xna(pa));}catch(sa){O.log.error("error getting subtitle qoe data",sa);}O.Ec(B.ad.pZb,!1,F.ze | F.xE | F.Vs,ja,"info");};this.transition=function(T){O.aD(O.j,T);O.Ec(B.ad.transition,!1,0,T);};this.IG=function(T){var ja,pa,sa,Qa,Ua,Za,ab,kb;pa=O.GX();O.B5(pa,"endplay");pa.prstate=O.vz();pa.paustate=O.j.paused.value;pa.muted=O.j.muted.value;O.j.UA && "downloaded" === O.j.UA.l6() && (pa.trickplay_ms=O.j.EZ.offset,pa.trickplay_res=O.j.EZ.r7a);O.config().gbb && (pa.rtinfo=O.j.JGb());O.config().Pua && (null === (ja=O.j.Ka) || void 0 === ja?0:ja.MB) && O.P6(pa);O.g_a(pa);pa.endreason=T?"error":O.j.yb.value === y.cb.Vq?"ended":"stopped";ja=O.zq;O.fJb(ja);ja && n.Xb(pa,ja,{prefix:"pi_"});ja=O.j.hi;T && ja && p.hca(ja.errorCode) && (sa="info");try{n.Xb(pa,O.j.md,{prefix:"sm_"});}catch(Ba){}O.j.Voa && (pa.inactivityTime=O.j.Voa);O.Woa(pa,"info" !== sa && T);O.i_a(pa);if(O.j.Osb){ja=O.j.Osb;Qa=O.config().IL;Ua=O.j.loadTime;Za={iv:Qa,seg:[]};ab=function(Ba,Ka,Na){return 0 === Ka || void 0 === Na[Ka - 1]?Ba:Ba - Na[Ka - 1];};kb=ja.DT.map(ab);ab=ja.TZ.map(ab);for(var Ya,Sa=0;Sa < kb.length;Sa++){if(kb[Sa] || ab[Sa])Ya?(Ya.ams.push(kb[Sa]),Ya.vms.push(ab[Sa])):Ya={ams:[ja.DT[Sa]],vms:[ja.TZ[Sa]],soffms:ja.startTime + Sa * Qa - Ua};Sa !== kb.length - 1 && kb[Sa] && ab[Sa] || !Ya || (Za.seg.push(Ya),Ya=void 0);}pa.bt=JSON.stringify(Za);}T && O.Zoa(pa);O.Z9a("endplay");O.config().Pw && O.bpa(pa);O.tc.qN(pa,O.j.wg.value);O.d_a(O.j,pa);O.jH(O.j,pa);O.kH(O.j,pa);O.aD(O.j,pa,O.Kha);O.$oa(pa);O.apa(pa);O.tc.pN(pa);O.j_a(pa);O.gJb(pa);O.c_a(pa);O.iJb(pa);O.hJb(pa);O.lJb(pa);O.k_a(pa);O.mJb(pa);O.Ec(B.ad.IG,T,F.ze | F.Vs | F.yi | F.xE | F.Xs | F.AE | F.kp,pa,sa);};this.lAb=function(T){O.oM.push(O.J4.Gvb(T.response));};this.dla=function(T){var ja,pa,sa,Qa,Ua,Za;T=T.response;ja=T.request;pa=T.request.iA;sa=ja.track;if(sa){Qa=!T.$ && T.na != p.L.oB;Ua=sa.type;Za=T.wm;if(Qa || O.va.Dqa){pa={dltype:Ua,url1:ja.url,url2:T.url || "",cdnid:ja.kc && ja.kc.id,tresp:n.Rf(Za.ri - Za.Hq),brecv:n.sWa(Za.aka),trecv:n.Rf(Za.Yo - Za.ri),sbr:pa && pa.bitrate};T.ls && (pa.range=T.ls);switch(Ua){case h.Bi.audio:pa.adlid=ja.stream.yc;break;case h.Bi.video:pa.vdlid=ja.stream.yc;break;case h.Bi.iaa:pa.ttdlid=sa.yc;}(ja=D.yna(T.na)) && (pa.nwerr=ja);T.ik && (pa.httperr=T.ik);O.Ec(B.ad.dla,Qa,F.yi,pa);}}};this.ci=function(){O.Ec(B.ad.bRa,!1,F.ze | F.xE | F.kp,{});};this.Tub=function(T){var ja,pa;ja=T.response.wm;T=q.Kc(ja.ri);pa=q.Kc(ja.Yo);ja=t.fa(ja.aka || 0);ja.y0a() || ja.Cpa() || (T=new u.sea(T,pa),O.XI.bqb(new w.mBa(T,ja)));};this.v9=function(T){var ja;ja=T.newValue;T.km && T.km.esa && ja || ja == O.uH || (O.zwa(O.uH,ja),O.uH=ja);};this.Hy=function(T){function ja(pa){var sa;if(O.j.Tb && O.j.Tb.sourceBuffers){sa=O.j.Tb.sourceBuffers.filter(function(Qa){return Qa.type === pa;}).pop();if(sa)return {busy:sa.Hh(),updating:sa.updating(),ranges:sa.H5()};}}T={cause:T.cause};T.cause && T.cause === m.Uda && (T.mediaTime=O.j.mediaTime.value,T.buf_audio=ja(l.y0),T.buf_video=ja(l.WJ));O.mpa(O.rZ[y.cb.Hc] || 0,O.rZ[y.cb.eh] || 0,T);};this.V$a=function(T){var ja;T=T.oldValue;ja=O.getTime();T === y.cb.Of?O.rZ=[]:O.rZ[T]=(O.rZ[T] || 0) + (ja - O.xLb);O.xLb=ja;};this.dm=function(T){O.Zpa=O.getTime();O.Rz=T.oldValue;};this.Ol=function(T){O.kqa=O.getTime();O.lqa=T.oldValue;};this.FT=function(T){O.Ypa=T.oldValue;};this.Vz=function(T){function ja(pa,sa){var Qa;if(!pa || pa.yqa !== sa.location){Qa={yqa:sa.location,p1a:sa.locationlv,KWb:sa.serverid,DI:sa.servername};O.Ptb(pa,sa);return Qa;}}if("audio" === T.mediatype){if(T=ja(O.tLb,T))O.tLb=T;}else if(T=ja(O.pW,T))O.pW=T;};this.FY=function(T){var ja,pa;ja=T.mediatype;pa=T.reason;"video" === ja?"serverswitchaway" === pa?(O.Dj.summary.Abb++,O.Dj.K7=O.ya.ef.da(q.ja)):"serverswitchback" === pa && (O.Dj.summary.Bbb++,O.Dj.K7 && (O.Dj.summary.Cbb.push(O.ya.ef.da(q.ja) - O.Dj.K7),O.Dj.K7=void 0)):"audio" === ja && ("serverswitchaway" === pa?(O.Dj.summary.vQa++,O.Dj.F7=O.ya.ef.da(q.ja)):"serverswitchback" === pa && (O.Dj.summary.wQa++,O.Dj.F7 && (O.Dj.summary.xQa.push(O.ya.ef.da(q.ja) - O.Dj.F7),O.Dj.F7=void 0)));O.Ec(B.ad.MWb,!1,F.ze | F.yi,{mediatype:T.mediatype,server:T.server,selreason:T.reason,location:T.location,bitrate:T.bitrate,confidence:T.confidence,throughput:T.throughput,oldserver:T.oldserver});};this.BL=function(T){O.Ec(B.ad.prb,!1,F.yi,{strmsel:T.strmsel});};this.zP=function(T){T=v.lP(T);T.details && (T.details=JSON.stringify(T.details));O.Ec(B.ad.oZb,!0,F.ze | F.Vs | F.A_,T);};this.Kha=ka.Wxa || ka.Gaa || ka.qWa;this.XI=J();this.log=g.Ih(C,"LogblobBuilder");this.uH=C.paused.value;this.ba=this.va.ba;this.Dj={summary:{Abb:0,Bbb:0,Cbb:[],vQa:0,wQa:0,xQa:[]},K7:void 0,F7:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.lR=void 0;f=a(47);l=a(12);m=a(58);d=a(50);h=a(90);g=a(8);k=a(21);n=a(24);q=a(4);p=a(3);v=a(30);t=a(52);u=a(472);w=a(1092);x=a(11);y=a(15);z=a(19);A=a(1093);B=a(271);D=a(160);E=a(131);c.prototype.m_a=function(C,G){var J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua;if(this.config().Pw)try{J={};K=this.Ed.getStats(void 0,void 0,C.J);I=C.QG();M=K.WI.dvb || [];J.attempts=K.M9 || 0;J.num_completed_tasks=M.length;R=this.me.BCb;H={};Q=E.Hk.AP;N=E.Hk.Ot;L=E.Hk.ija;K.Bl && (H.scheduled=K.Bl - I);P=C.oa;P && z.Ba(P.qI) && (H.preauthsent=P.qI - C.loadTime,H.preauthreceived=P.PO - C.loadTime);S=M.filter(function(ya){return "manifest" === ya.type;});J.mf_succ=S.filter(R("status",Q)).length;J.mf_fail=S.filter(R("status",N)).length;U=C.md;z.Uc(U.lg) && 0 > U.lg && C.loadTime && (H.ldlsent=U.lc,H.ldlreceived=U.lr);da=M.filter(function(ya){return "ldl" === ya.type;});J.ldl_succ=da.filter(R("status",Q)).length;J.ldl_fail=da.filter(R("status",N)).length;K=!0;I=[];"notcached" === C.iG && (K=!1,I.push("Missing cached manifest"));this.config().PU || (K=!1,I.push("LDL prefetch disabled"));ka=da.filter(R("status",L)).length;this.config().PU && 0 === ka && (!H.ldlreceived || 0 <= H.ldlreceived) && (K=!1,I.push("LDL received after start"));if(this.config().cVa)if(G.isPrefetchItem){ma=G.prefetchedAudioMs / G.bcABufferLevelMs;if(1 > G.prefetchedVideoMs / G.bcVBufferLevelMs || 1 > ma)(K=!1,I.push("Insufficient media fetched"));}else (K=!1,I.push("aseStats not initialized"));X=M.filter(function(ya){return "getHeaders" === ya.type;});J.header_succ=X.filter(R("status",Q)).length;J.header_fail=X.filter(R("status",N)).length;ua=M.filter(function(ya){return "getMedia" === ya.type;});J.media_succ=ua.filter(R("status",Q)).length;J.media_fail=ua.filter(R("status",N)).length;J.hm_succ=J.header_succ + J.media_succ;J.hm_fail=J.header_fail + J.media_fail;n.Xb(G,J,{prefix:"pr_"});this.Kr.QU && (G.eventlist_version=1,G.eventlist=this.FH.AYa(C));(G.prefetchCompleted=K) || (G.prefetchFailed=I,n.Xb(G,H,{prefix:"pe_"}));this.bpa(G);}catch(ya){this.log.warn("error in collecting video prepare data",ya);}};c.prototype.PGb=function(C,G){if(C=C.oV())if(G=C[G])return G.xc;};c.prototype.d_a=function(C,G){C.bb.El && (G.isBranching=!0);};c.prototype.jH=function(C,G){var J,K;K=(null === (J=C.oa) || void 0 === J?void 0:J.$_a) || "videopreparer" === C.hG;G.cachedManifest=C.iG;G.cachedLicense=C.hG;G.usedldl=this.config().PU?K.toString():"not_capable";};c.prototype.kH=function(C,G){var J,K;if(this.config().kJb){J=C.Dna();K=C.ha.oa;J && K && (G.segment=J,K=C.PC(),G.segmenttime=K,C=this.PGb(C,J),null !== K && void 0 !== C && (G.segmentoffset=K - C));}};c.prototype.aD=function(C,G,J){G.pxid=C.I9;(void 0 === J?0:J) && (G.playgraph_trace=C.E5a);};c.prototype.i_a=function(C){var G,J;G=this.j.h$b;J=G && G.ibc;G && G.NIb && (C.htwbr=G.NIb,C.pbtwbr=G.Ysa,C.hptwbr=G.j$b);G && G.VVb && (C.rr=G.VVb,C.ra=G.ebc);G && J && 0 < (J.length || 0) && (C.qe=JSON.stringify(J));};c.prototype.Zoa=function(C){var G,J,K;try{G=this.me.createElement("canvas");J=G.getContext("webgl") || G.getContext("experimental-webgl");if(J){K=J.getExtension("WEBGL_debug_renderer_info");K && (C.WebGLRenderer=J.getParameter(K.UNMASKED_RENDERER_WEBGL),C.WebGLVendor=J.getParameter(K.UNMASKED_VENDOR_WEBGL));}}catch(I){}};c.prototype.lJb=function(C){C.switchAwaySummary={vsa:this.Dj.summary.Abb,vsb:this.Dj.summary.Bbb,vsbt:this.Dj.summary.Cbb,asa:this.Dj.summary.vQa,asb:this.Dj.summary.wQa,asbt:this.Dj.summary.xQa};};c.prototype.Rlb=function(C){var G;G=[];return C?Object.keys(C).map(function(J){return +J;}):G;};c.prototype.vAb=function(){var C,G;C=this;if(this.j.ip && this.j.Hi){G=[];this.j.ip.concat(this.j.Hi).forEach(function(J){J.streams.forEach(function(K){G.push({dlid:K.yc,type:K.type,bitrate:K.bitrate,vmaf:K.sb,cdn_ids:C.Rlb(K.hw)});});});return JSON.stringify(G);}};c.prototype.Otb=function(){var G,J,K;function C(I,M){var R,H,Q;R=I.cdnId + "$" + I.correlationId;H=K[R];H || (H={cdnid:I.cdnId,pbcid:I.correlationId,dls:[]},K[R]=H,J.push(H));k.gM(I.bitrate);k.gM(I.duration);R={bitrate:I.bitrate,tm:x.aj(I.duration)};Q=I.vmaf;Q && (k.gM(I.vmaf),R.vf=Q);R[M]=n.Ge(I.downloadableId);H.dls.push(R);}G=this.j.Jl.aEb();J=[];K={};G.audio.forEach(function(I){C(I,"adlid");});G.video.forEach(function(I){C(I,"dlid");});return JSON.stringify(J);};c.prototype.GX=function(){var C,G,J,K,I,M,R,H,Q,N,L,P,S;C=this.j.Jl;G={totaltime:n.Eo(C.gN()),totalcontenttime:n.Eo(C.eoa()),cdndldist:this.Otb(),reposcount:this.pY,intrplaycount:this.eD};try{J={numskip:0,numlowqual:0};K=this.j.Wf;I=K.MC();z.Ba(I) && (G.totfr=I,J.numren=I);I=K.TG();z.Ba(I) && (G.totdfr=I,J.numrendrop=I);I=K.qV();z.Ba(I) && (G.totcfr=I,J.numrenerr=I);I=K.U5();z.Ba(I) && (G.totfdl=I);G.playqualvideo=JSON.stringify(J);M=this.j.Ve.value;M && (G.videofr=M.framerate.toFixed(3));R=C.Qma();R && (G.abrdel=R);H=C.BZa() && C.QWa();H && (G.tw_vmaf=H);Q=C.OWa();Q && n.Xb(G,Q);G.rbfrs=this.eD;G.maxbitrate=this.maxBitrate;G.maxresheight=this.t2a;N=this.j.bH();for(C=0;C < N.length;C++){L=N[C];P=this.va.SN.Xu(L);if(P){k.kb(S);G.maxbitrate=S?S.bitrate:0;G.maxresheight=S?S.height:0;G.bitratefilters=P.join("|");break;}S=L;}this.j.UA && (G.trickplay=this.j.UA.l6());null !== this.j.Pq.SQa && (G.avg_subt_delay=this.j.Pq.SQa);}catch(U){this.log.error("Exception reading some of the endplay fields",U);}n.Xb(G,this.j.p6(),{prefix:"vd_"});return G;};c.prototype.getTime=function(){return this.za.Wb().da(q.ja);};c.prototype.bpa=function(C){var G;try{G=this.Ed.getStats();C.pr_cache_size=JSON.stringify(G.cache);C.pr_stats=JSON.stringify(G.HDb);}catch(J){}};c.prototype.$oa=function(C){this.log.debug("httpstats",this.gf.Md);n.Xb(C,this.gf.Md,{prefix:"http_"});};c.prototype.Woa=function(C,G){var J,K,I;J=this.config().HTa && !(this.ba % this.config().HTa);K=this.j.Ka;I=null === K || void 0 === K?void 0:K.Yh;J && I && (C.ASEstats=JSON.stringify(K.c7(G)));};c.prototype.P6=function(C){Object.assign(C,this.j.Ka.Ob.jHb());};c.prototype.apa=function(C){var G;try{G=x.vv.memory;z.v0a(G) && (C.totalJSHeapSize=G.totalJSHeapSize,C.usedJSHeapSize=G.usedJSHeapSize,C.jsHeapSizeLimit=G.jsHeapSizeLimit);}catch(J){}};c.prototype.j_a=function(C){var G;G=this.j.mf;this.config().Jtb && G && !this.config().hp && (G=this.j.dPb(G.R9b()),C.keystatuses=G,this.log.trace("keystatuses",G));};c.prototype.c_a=function(C){var G;try{if(this.config().YT){G=this.j.kEb();C.battery=G;this.log.trace("batterystatuses",G);}}catch(J){}};c.prototype.gJb=function(C){this.j.s4 && (C.dqec=this.j.s4);};c.prototype.fJb=function(C){this.j.O3 && n.Xb(C,{cast_interaction_counts:this.j.O3.Y9b()});};c.prototype.k_a=function(C){var G,J,K;(null === (G=this.j.mf) || void 0 === G?0:G.Vt)?C.keysys=this.j.mf.Vt():(null === (K=null === (J=this.j.mf) || void 0 === J?void 0:J.mediaKeys) || void 0 === K?0:K.keySystem)?C.keysys=this.j.mf.mediaKeys.keySystem:this.vD.I0a && (C.keysys=this.vD.I0a);};c.prototype.hJb=function(C){this.Rla && (C.externaldisplay=this.Rla.WU);};c.prototype.iJb=function(C){this.oE && this.oE.jc && (C.media_capabilities_smooth=this.oE.jc.smooth,C.media_capabilities_efficient=this.oE.jc.powerEfficient,C.media_capabilities_bitrate=this.oE.jc.bitrate,C.media_capabilities_height=this.oE.jc.height,C.media_capabilities_width=this.oE.jc.width);};c.prototype.g_a=function(C){var G,J;if(this.j.XL){G=this.j.XL;G.d4 && (C.controllerESN=G.d4);G.Dvb && (C.controllerUiVer=G.Dvb);if(G.Cvb)try{J=JSON.parse(G.Cvb);C.controllerGroupNames=J;}catch(K){this.log.error("Exception parsing controller group names",K);}}};c.prototype.mJb=function(C){C.didHydrateTracks=this.j.E4;};c.prototype.mLb=function(){void 0 === this.Rla && (this.Rla=this.Sla.tCb());};c.prototype.nLb=function(C){void 0 === this.oE && void 0 !== C && (this.oE=this.qra.Xla(C));};c.prototype.B5=function(C,G){(G=this.j.uz(G)) && Object.entries(G).forEach(function(J){var K;K=ba(J);J=K.next().value;K=K.next().value;C[J]=K;});};c.prototype.Ec=function(C,G,J,K,I){this.Cha(K,this.j,G,J);C=this.Wz.Ft(C,I || (G?"error":"info"),K,this.va);this.Uf.Ec(C);};c.prototype.Cha=function(C,G,J,K){var I,M,R,H,Q;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (C.devmod=nrdp.device.deviceModel);this.tc.e_a(C,G);K & F.ze && (k.kb(!C || void 0 === C.moff),this.tc.l_a(C,G));K & F.Vs && this.tc.n_a(C,G);K & F.yi && (null === (I=G.Ka) || void 0 === I?0:I.Yh) && (C.abuflbytes=null !== (M=C.abuflbytes) && void 0 !== M?M:G.lia(),C.abuflmsec=null !== (R=C.abuflmsec) && void 0 !== R?R:G.BT(),C.vbuflbytes=null !== (H=C.vbuflbytes) && void 0 !== H?H:G.aya(),C.vbuflmsec=null !== (Q=C.vbuflmsec) && void 0 !== Q?Q:G.QZ());K & F.Xs && this.tc.o_a(C,G.Ig);K & F.xE && (I=x.jf.hardwareConcurrency,0 <= I && (C.numcores=I),I=this.va.ola) && (M=I.fEb(),C.droppedFrames=JSON.stringify(M),I=I.EV(this.config().FAb),n.se(I,function(N,L){C["droppedFramesP" + N]=JSON.stringify(L);}));if(K & F.A_)try{G.ck && (C.cdninfo=JSON.stringify(G.ck.map(function(N){return {id:N.id,nm:N.name,rk:N.Vc,wt:N.location.weight,lv:N.location.level};})));}catch(N){}J && K & F.AE && (k.kb(G.hi),this.tc.h_a(C,G,G.hi));K & F.kp && this.tc.Yoa(C);};Xa.Object.defineProperties(c.prototype,{Zab:{configurable:!0,enumerable:!0,get:function(){return this.j.gz || this.j.sM;}}});b.lR=c;(function(C){C[C.ze=1]="MOFF";C[C.Vs=2]="PRESENTEDSTREAMS";C[C.yi=4]="BUFFER";C[C.Xs=8]="SCREEN";C[C.xE=16]="CPU";C[C.A_=32]="CDN";C[C.AE=64]="FATALERROR";C[C.kp=128]="BROWSERINFO";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oBa="DownloadReportBuilderSymbol";},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(1);f=a(160);l=a(90);m=a(24);d=a(3);h=a(21);g=a(11);k=a(19);n=a(0);a=a(13);c.prototype.construct=function(p,v){var t,u,w;t=this;u={};p.forEach(function(x){var y;y=x.url;u[y] || (u[y]=[]);u[y].push(x);});w=[];m.se(u,function(x,y){w.push(t.rHb(y,v));});return {urls:w};};c.prototype.rHb=function(p,v){var t,u,w,x;t=this;u=p[0];w={url:u.url,bitrate:u.bitrate,cdnid:k.Jh(u.kc)?u.kc.id:u.kc,dltype:u.gAb,id:u.yc};x={};p.forEach(function(y){var z;z=t.kKb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});m.se(x,function(y,z){"fail" === y?w.failures=t.cFb(z,v):"success" === y && (w.downloads=t.UEb(z,v));});return w;};c.prototype.UEb=function(p,v){var t,u,w;t=this;u={};p.forEach(function(x){var y;y=x.Lub;u[y] || (u[y]=[]);u[y].push(x);});w=[];m.se(u,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);t.WJb(A) && (w.push(t.rXa(z,v,x)),z=[]);});0 < z.length && w.push(t.rXa(z,v,x));});return w;};c.prototype.rXa=function(p,v,t){var u,w,x,y,A;u=p.sort(function(B,D){return B.wm.ri < D.wm.ri?-1:B.wm.ri > D.wm.ri?1:0;});w=u[0].wm;x=w.Hq;y=w.ri;w=w.Yo;for(var z=1;z < p.length;z++){A=p[z].wm;A.Hq < x && (x=A.Hq);A.ri < y && (y=A.ri);A.Yo > w && (w=A.Yo);}z=this.BGb(u);A=u[u.length - 1];return {time:x - v,tcpid:t?parseInt(t):-1,tresp:y - x,first:z,ranges:this.CGb(u,z),dur:w - y,trace:this.RC(p),status:this.l6(A)};};c.prototype.BGb=function(p){var v;v=0;p.forEach(function(t){t.ls && (v=g.np(v,t.ls[0]));});return v;};c.prototype.CGb=function(p,v){var t;t=[];p.forEach(function(u){u.ls?t.push([u.ls[0] - v,u.ls[1] - v]):t.push([0,-1]);});return t;};c.prototype.RC=function(p){var v,t;v=[];p.forEach(function(u){var w;u=u.wm;if(t){w=u.Hq - t.Yo;0 < w && v.push([w,-2]);w=g.bo(t.Yo,u.Hq);w=u.ri - w;0 < w && v.push([w,-3]);}v.push([u.Yo - u.ri,u.aka || 0]);t=u;});return v;};c.prototype.WJb=function(p){if(p.na === d.L.oB || p.na === d.L.FE)return !0;};c.prototype.l6=function(p){if(p.$)return "complete";if(p.na === d.L.oB)return "abort";if(p.na === d.L.FE)return "stall";h.kb(!1,"download status should never be: other");return "other";};c.prototype.cFb=function(p,v){var t,u;t=this;u=[];p.forEach(function(w){var x;x=w.wm;w={time:x.ri - v,tresp:x.ri - x.Hq,dur:x.Yo - x.ri,range:w.ls,reason:t.EGb(w),httpcode:w.ik,nwerr:f.yna(w.na)};u.push(w);});return u;};c.prototype.EGb=function(p){return p.ik || p.na === d.L.aR?"http":p.na === d.L.cR?"timeout":"network";};c.prototype.kKb=function(p){return p.$ || void 0 === p.$ || p.na === d.L.oB || p.na === d.L.FE?!1:!0;};c.prototype.Gvb=function(p){var v,t,u,w,x,y;v=p.request;t=v.stream;u=v.track;w=v.url;x=this.REb(u,w);switch(x){case l.Bi.audio:case l.Bi.video:y=v.stream.yc;break;case l.Bi.iaa:case l.Bi.pxa:y=u.yc;}p={bitrate:t && t.bitrate,gAb:x,yc:y,wm:p.wm,kc:v.kc,url:w,nf:p.nf,ik:p.ik,na:p.na,$:p.$,Lub:this.gCb(p)};void 0 !== v.offset && void 0 != v.length && (p.ls=[v.offset,v.offset + v.length - 1]);return p;};c.prototype.REb=function(p,v){if(p)return p.type;if(0 <= v.indexOf("netflix.com")){if(0 <= v.indexOf("nccp"))return "nccp";if(0 <= v.indexOf("api"))return "api";}return "other";};c.prototype.gCb=function(p){if(p.headers && (p=p.headers["X-TCP-Info"] || p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(v){return 0 == v.indexOf("port=");}).map(function(v){return v.split("=")[1];})[0])?m.Ge(p):p;};q=c;q=r.__decorate([n.R(),r.__param(0,n.l(a.Xc))],q);b.nBa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nR="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iMa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BGa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ACa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yDa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lHa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,h,g,k,n,q;function c(p){var v;p=new g.yQ(p);if(1481462272 != p.Fq())throw Error("Invalid header");v={XMR:{Version:p.Fq(),RightsID:p.Vw(16)}};f(p,v.XMR,p.buffer.length);return v;}function f(p,v,t){var u,w,x,y,z;for(;p.position < t;){u=p.th();w=p.Fq();w-=8;switch(u){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:l(u)};z=v[x];z?q.isArray(z)?z.push(y):(v[x]=[],v[x].push(z),v[x].push(y)):v[x]=y;switch(u){case 1:case 2:case 4:case 7:case 9:case 54:f(p,y,p.position + w);break;case 5:y.Reserved1=p.th();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.th();y.MinimumAnalogVideoOutputProtectionLevel=p.th();y.Reserved2=p.th();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.th();break;case 10:y.Reserved=p.Vw(16);y.SymmetricCipherType=p.th();y.AsymmetricCipherType=p.th();w=p.th();y.EncryptedKeyLength=w;u=p.Vw(w);y.EncryptedKeyData=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 11:y.SignatureType=p.Vw(2);w=p.th();u=p.Vw(w);y.SignatureData=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 13:y.Reserved=p.th();break;case 18:y.BeginDate=p.Fq();y.EndDate=p.Fq();break;case 42:y.CurveType=p.Vw(2);w=p.th();u=p.Vw(w);y.Key=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 48:y.ExpireAfterFirstPlay=p.Fq();break;case 50:y.Sequence=p.Fq();break;case 51:y.LicenseProcessingIndicator=p.th();break;case 52:y.MinimumSecurityLevel=p.th();break;case 57:y.PlayEnablerType=m(p.Vw(16));break;case 85:break;default:y.OtherData=p.Vw(w);}}}function l(p){return "0x" + p.toString(16);}function m(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Syb=b.Tyb=b.Ryb=b.Qyb=b.Pyb=void 0;d=a(12);h=a(8);g=a(165);k=a(158);n=a(278);q=a(19);b.Pyb=function(p,v,t){switch(v){case d.X_:p && (p=h.UQa(p),n.pya(p,function(u){u.$ && (u=u.object) && (u=k.oXa(u,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (u=k.W4a(u)) && (u=h.Ar(u)) && (u=c(u)) && t(u);}));}};b.Qyb=c;b.Ryb=f;b.Tyb=l;b.Syb=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZHa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qHa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CIa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kda={nW:"keepAlive",splice:"splice"};b.wHa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SHa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BBa="DxDisplaySymbol";},function(r,b,a){var f,l,m,d,h;function c(g,k,n){this.$d=g;this.is=k;this.prefix=n;this.QX=this.isVisible=!1;this.jb=new d.vLa(k);}Object.defineProperty(b,"__esModule",{value:!0});b.UR=b.zJ=b.Wza=b.Vza=b.Uza=void 0;r=a(1);f=a(0);l=a(29);m=a(27);d=a(1124);h=a(11);b.Uza="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.Vza="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.Wza="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.zJ="";c.prototype.show=function(){this.isVisible || (this.svb(),this.YL && h.Ae.body.appendChild(this.YL),this.Ig && h.Ae.body.appendChild(this.Ig),this.OT && h.Ae.body.appendChild(this.OT),this.RI && h.Ae.getElementsByTagName("head")[0].appendChild(this.RI),this.isVisible=!0,this.refresh());};c.prototype.Qr=function(){this.isVisible && (this.Ig && h.Ae.body.removeChild(this.Ig),this.OT && h.Ae.body.removeChild(this.OT),this.YL && h.Ae.body.removeChild(this.YL),this.RI && h.Ae.getElementsByTagName("head")[0].removeChild(this.RI),this.RI=this.lZ=this.YL=this.OT=this.Ig=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.Qr():this.show();};c.prototype.u_b=function(){(this.QX=!this.QX) || this.refresh();};c.prototype.rEb=function(g){return "table." + g + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (g + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (g + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (g + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (g + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (g + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (g + "-display-indexheader {margin-left:5px;}span.") + (g + "-display-indexvalue {margin-left:5px;}span.") + (g + "-display-keyheader {margin-left:5px;}span.") + (g + "-display-keyvalue {margin-left:5px;}span.") + (g + "-display-valueheader {margin-left:5px;}ul.") + (g + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (g + "-display-tree li {list-style-type: none; position: relative;}ul.") + (g + "-display-tree li ul {display: none;}ul.") + (g + "-display-tree li.open > ul {display: block;}ul.") + (g + "-display-tree li a {color: black;text-decoration: none;}ul.") + (g + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (g + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (g + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (g + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (g + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (g + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (g + "-display-item-inline {margin:0;padding:0}.") + (g + "-display-btn:hover, ." + g + "-display-btn:focus, ." + g + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (g + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (g + "-display-btn-inline:hover, ." + g + "-display-btn-inline:focus, ." + g + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.svb=function(){var g;g=this;this.RI=h.Ae.createElement("style");this.RI.type="text/css";this.RI.innerHTML=this.rEb(this.prefix);this.OT=this.$d.createElement("div",b.Uza,void 0,{"class":this.prefix + "-display-blur"});this.Ig=this.$d.createElement("div",b.Vza,void 0,{"class":this.prefix + "-display"});this.YL=this.$d.createElement("div",b.Wza,void 0,{"class":this.prefix + "-display"});this.iXa().forEach(function(k){return g.YL.appendChild(k);});};c.prototype.uvb=function(g){g=this.$d.createElement("div","",g,{"class":this.prefix + "-display-tree1"});for(var k=g.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < k.length;n++){k[n].addEventListener("click",function(q){var p,v;if(q=q.target.parentElement){p=q.classList;if(p.contains("open")){p.remove("open");try{v=q.querySelectorAll(":scope .open");for(q=0;q < v.length;q++){v[q].classList.remove("open");}}catch(t){}}else p.add("open");}});}return g;};c.prototype.refresh=function(){var g;g=this;return !this.isVisible || this.QX?Promise.resolve():this.N6a().then(function(k){if(k && (k=g.uvb(k),g.Ig)){g.lZ && (g.Ig.removeChild(g.lZ),g.lZ=void 0);g.lZ=k;g.Ig.appendChild(g.lZ);k=g.Ig.querySelectorAll("button." + g.prefix + "-display-btn-inline");for(var n=0;n < k.length;++n){k[n].addEventListener("click",g.M7a);}(k=g.Ig.querySelector("#" + g.prefix + "-display-close-btn")) && k.addEventListener("click",function(){g.toggle();});}});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.bg)),r.__param(1,f.l(m.ag)),r.__param(2,f.ll())],a);b.UR=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EBa="DxManagerSymbol";b.DBa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eMa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kIa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kJa="PreparerManifestFetcherSymbol";b.jJa="PreparerLicenseFetcherSymbol";b.iJa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var f,l,m,d;function c(h){this.Bm=h;}Object.defineProperty(b,"__esModule",{value:!0});b.gea=b.YIa=void 0;r=a(1);f=a(14);l=a(0);m=a(120);d=a(67);c.prototype.W1a=function(h){var g,k;g=this;if(h.oe.key.Ca)return Promise.resolve(h.oe.key.Ca);k=h.oe.key.Z;return h.oe.Fj.zn(k).fv.then(function(n){n=n.oa;return n.zo?d.tC(n.zo,{config:f.config}):d.II(k,g.Bm.Lr(k));});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.cK))],a);b.YIa=a;b.gea="PlaygraphResolverSymbol";},function(r,b){function a(){this.nJ=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Xea=void 0;a.prototype.store=function(c,f){this.iPb(c);this.nJ.set(c,f);};a.prototype.zn=function(c){return this.nJ.get(c);};a.prototype.has=function(c){return this.nJ.has(c) && !this.nJ.get(c).Nt;};a.prototype.clear=function(){this.nJ.clear();};a.prototype.iPb=function(c){var f;this.nJ.has(c) && (c=this.nJ.get(c),null === (f=c.events) || void 0 === f?void 0:f.emit("viewableEvicted",{type:"viewableEvicted"}),c.c$a=!0);};b.Xea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VFa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QGa="OpenConnectSideChannelSymbol";b.bGa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Fa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uHa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tLa="TransportFactorySymbol";b.tGa="MslTransportSymbol";b.AKa="SslTransportSymbol";},function(r,b,a){var g,k;function c(n){return !(!n || !n.JD && !n.pboc || !n.code && !n.code);}function f(n){return !(!n || !n.zc);}function l(n){return ! !(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.L.dib;case "STREAM_QUOTA_EXCEEDED":return k.L.hib;case "INSUFFICICENT_MATURITY":return k.L.kib;case "TITLE_OUT_OF_WINDOW":return k.L.rib;case "CHOICE_MAP_ERROR":return k.L.gib;case "BadRequest":return k.L.mib;case "Invalid_SemVer_Format":return k.L.lib;case "RESTRICTED_TO_TESTERS":return k.L.pib;case "AGE_VERIFICATION_REQUIRED":return k.L.eib;case "BLACKLISTED_IP":return k.L.fib;case "DEVICE_EOL_WARNING":return k.L.zda;case "DEVICE_EOL_FINAL":return k.L.SGa;case "INCORRECT_PIN":return k.L.WGa;case "MOBILE_ONLY":return k.L.oib;case "MDX_CONTROLLER_CTICKET_INVALID":return k.L.nib;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.L.sib;case "RESET_DEVICE":return k.L.VGa;case "RELOAD_DEVICE":return k.L.UGa;case "EXIT_DEVICE":return k.L.TGa;case "FREE_PREVIEW_ENDED":return k.L.jib;case "STREAMING_LOCATION_DISALLOWED":return k.L.qib;default:return k.L.GCa;}}function d(n,q){var p;p=q.bladeRunnerCode?Number(q.bladeRunnerCode):void 0;return new g.od(n,m(q.code),"BadRequest" === q.code?k.s0.Pcb:void 0,q.code,void 0,q.display,void 0,q.detail,q.display,p,q.alert,q.alertTag);}function h(n,q){return new g.od(n,q.zc,q.Jd,void 0,q.kA,q.message,q.details,q.data);}Object.defineProperty(b,"__esModule",{value:!0});b.sRa=b.tRa=b.wDb=b.ADb=b.yn=b.zDb=b.iKb=b.dKb=b.e0a=void 0;g=a(41);k=a(3);b.e0a=c;b.dKb=f;b.iKb=l;b.zDb=m;b.yn=function(n,q){return f(q)?h(n,q):c(q)?d(n,q):l(q)?g.od.Ema(n,q):new g.od(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,q);};b.ADb=d;b.wDb=h;b.tRa=function(n,q,p,v,t){var u,w,x,y;u=q.m8a[p];if(void 0 === u)throw {JD:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no configuration information",detail:q};w=u.version;if(void 0 === w)throw {JD:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no version information",detail:q};x=u.service;if(void 0 === x)throw {JD:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no service information",detail:q};y=u.orgOverride;if(void 0 === y && (y=q.organization,void 0 === y))throw {JD:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no organization information",detail:q};return u.isPlayApiDirect?n.pGb(v) + "/" + y + "/" + x + "/" + w:n.eGb(v) + "/" + y + "/" + x + "/" + w + "/" + (void 0 === t?"router":t);};b.sRa=function(n,q){var p;p={"Content-Type":"text/plain"};q=q();n.KPa && q && (p["X-Esn"]=q.Tk);return p;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aIa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ALa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vp=void 0;r=b.vp || (b.vp={});r[r.H0=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.JE=2]="LOADED";r[r.hR=3]="LOAD_FAILED";r[r.RGa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kza="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uIa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KJa="RepositionTraceSymbol";b.IJa="RepositionTraceFactorySymbol";},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya;function c(O,T,ja,pa,sa,Qa,Ua,Za,ab,kb,Ya,Sa,Ba,Ka,Na,Wa,ib,Bb,Eb,Ib,Ob,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd,qc,ec,hc,Xb){var tb,Vc;function nc(qb){qb.newValue !== P.cb.Of && qb.newValue !== P.cb.eh && (tb.yb.removeListener(nc),tb.mH=tb.ya.EY,tb.Sb.Cc(P.ca.Bq));}function dc(qb){qb.newValue !== P.cb.Of && (tb.yb.removeListener(dc),tb.HX=tb.ya.ef.da(F.ja),tb.Sb.Cc(P.ca.Aq));}tb=this;this.fb=sa;this.Dk=Qa;this.Ez=Ua;this.za=ab;this.iC=kb;this.ya=Ya;this.EW=Sa;this.Xqa=Na;this.KN=Wa;this.Ed=ib;this.li=Bb;this.Ti=Eb;this.GL=Ib;this.IX=Ob;this.nk=Cb;this.oxa=Kb;this.Uf=Ub;this.me=mc;this.mta=Ec;this.Am=Md;this.f7a=se;this.eia=Nd;this.FH=gd;this.Wsa=qc;this.AL=ec;this.O3=hc;this.E5a=[];this.gs=new Map();this.ic=new v.ac(null);this.wg=new v.ac(null);this.cc=new v.ac(null);this.ai=new v.ac(null);this.bv=new v.ac(void 0);this.Ve=new v.ac(null);this.hh=new v.ac(null);this.mediaTime=new v.ac(void 0);this.playbackRate=new X.yIa(1,t.config.ira);this.Dxa=function(qb){return tb.ic.set(qb.newValue);};this.T0b=function(qb){return tb.wg.set(qb.newValue);};this.Q0b=function(qb){return tb.cc.set(qb.newValue);};this.r0b=function(qb){return tb.ai.set(qb.newValue);};this.P0b=function(qb){return tb.bv.set(qb.newValue);};this.S0b=function(qb){return tb.Ve.set(qb.newValue);};this.s0b=function(qb){return tb.hh.set(qb.newValue);};this.H0b=function(qb){return tb.ke.set(qb.newValue);};this.G0b=function(qb){return tb.hf.set(qb.newValue);};this.D0b=function(qb){return tb.mediaTime.set(qb.newValue);};this.Baa=function(qb){return tb.playbackRate.set(qb.newValue);};this.mk={};this.bva=this.hxa=0;this.Sb=new u.Fk();this.SZ={};this.YY=this.x5a=!1;this.state=new v.ac(P.Pb.ZJ);this.wj=new v.ac(!1);this.paused=new v.ac(!1);this.muted=new v.ac(!1);this.volume=new v.ac(t.config.mzb / 100);this.yb=new v.ac(P.cb.Of);this.Bf=new v.ac(P.xf.ud);this.zr=new v.ac(P.xf.ud);this.Jm=new v.ac(P.xf.ud);this.hf=new v.ac(null);this.ke=new v.ac(null);this.Xia=new v.ac(null);this.L6=q.wDa(this);this.kc=[new v.ac(null),new v.ac(null)];this.Fia={};this.sM=!1;this.Ra=this.yj=-1;this.Ona=function(qb,Sb){var bc;qb=void 0 === qb?null:qb;return M.Ba(qb)?Sb && !tb.rm(Sb).oa?qb:(null === (bc=tb.Ka) || void 0 === bc?0:bc.Yh)?tb.Ka.Ct(qb):qb:null;};this.b4a=function(){tb.swa();};this.cM=O;this.addEventListener=this.Sb.addListener;this.removeEventListener=this.Sb.removeListener;this.fireEvent=this.Sb.Cc;this.CPa({Z:O,wa:pa,bb:ja || ({})},t.config.Pw?this.Ed.yz(O):void 0,T);this.log=E.Ih(this);this.C4=Za(this);this.ksb=Ba(this);this.Ig=N.createElement("DIV",p.rea,void 0,{id:this.J});this.vJb();Vc=Ka(F.uh(1));this.kd=this.log.kka("Playback");this.XRb=d.hIa(this);y.xB.g3a=this;y.xB.oma || (y.xB.oma=this);this.kd.info("Playback created",this.Oi);this.Dqa?this.kd.info("Playback selected for trace playback info logging"):this.kd.trace("Playback not selected for trace playback info logging");t.config.Pw && (this.Ed.QHb(this.J),this.addEventListener(P.ca.Bq,function(){tb.Ed.RHb(tb.J);tb.cc.addListener(function(){tb.Ed.oZa();});tb.ic.addListener(function(){tb.Ed.oZa();});}),this.addEventListener(P.ca.jg,function(){tb.Ed.PHb(tb.J);}));this.state.addListener(function(qb){tb.kd.info("Playback state changed",{From:qb.oldValue,To:qb.newValue});G.kb(qb.newValue > qb.oldValue);});x.ue.addListener(x.Cl,this.b4a,p.N0);this.mediaTime.addListener(function(){tb.WCb();Vc.Ml(function(){return tb.eWa();});});this.yb.addListener(function(qb){tb.kd.info("PresentingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:J.bj(tb.mediaTime.value)},tb.ru());});this.yb.addListener(function(){tb.wj.set(tb.yb.value === P.cb.Hc);});this.Bf.addListener(function(qb){tb.kd.info("BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:J.bj(tb.mediaTime.value)},tb.ru());});this.zr.addListener(function(qb){tb.kd.info("AV BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:J.bj(tb.mediaTime.value)},tb.ru());});this.Jm.addListener(function(qb){tb.kd.info("Text BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:J.bj(tb.mediaTime.value)},tb.ru());});this.ic.addListener(function(qb){G.kb(qb.newValue && qb.newValue.ji);tb.kd.info("AudioTrack changed",qb.newValue && ({ToBcp47:qb.newValue.Vd,To:qb.newValue.trackId}),qb.oldValue && ({FromBcp47:qb.oldValue.Vd,From:qb.oldValue.trackId}),{MediaTime:J.bj(tb.mediaTime.value)});});this.cc.addListener(function(qb){G.kb(!qb.newValue || qb.newValue.ji);tb.kd.info("TimedTextTrack changed",qb.newValue?{ToBcp47:qb.newValue.Vd,To:qb.newValue.trackId}:{To:"none"},qb.oldValue?{FromBcp47:qb.oldValue.Vd,From:qb.oldValue.trackId}:{From:"none"},{MediaTime:J.bj(tb.mediaTime.value)});});this.yb.addListener(dc,p.$E);this.yb.addListener(nc);this.addEventListener(P.ca.Bq,function(){tb.YY=!0;tb.z9a=tb.VT();tb.Cd("start");tb.a7=tb.ke.value.stream.bitrate;});D.qIa(this);y.co.push(this);t.config.mY && (this.B9=this.mta(this),this.D9=new A.AIa(this));y.Zda.forEach(function(qb){qb(tb);});this.rqb=function(){tb.addEventListener(P.ca.pI,function(qb){var Sb;qb=qb.cause;qb !== P.Be.Dx && qb !== P.Be.gK && (null === (Sb=tb.Ka) || void 0 === Sb?void 0:Sb.stop());});tb.addEventListener(P.ca.wk,function(qb){var Sb,bc,rc,Wc,fc,vc,Od,Xc,hd,te;tb.f7a.wk(qb);rc=qb.cause;Wc=qb.skip;fc=qb.Q8;vc=qb.zsa;Od=qb.J;Xc=qb.ek;tb.ha.Jl.ksa(vc,fc);if(rc !== P.Be.gK && (t.config.eDb && rc === P.Be.SR && tb.Ka.I3(),rc !== P.Be.Dx))if(Wc){if(null !== (Sb=tb.Ka) && void 0 !== Sb && Sb.Ji(fc)){tb.kd.trace("Repositioned. Skipping from " + vc + " to " + fc);qb=function(Yb){tb.log.error("streamingSession.skipped threw an exception",Yb);Yb=S.od.Ema(C.M.dcb,Yb);tb.Cq(Yb.code,Yb);};try{tb.Ka.Sn(fc).then(function(Yb){var Yc;Yb.tN || (null === (Yc=tb.Ka) || void 0 === Yc?void 0:Yc.play());}).catch(qb);}catch(Yb){qb(Yb);}}else tb.log.error("can skip returned false");}else {tb.kd.trace("Repositioned. Seeking from " + vc + " to " + fc);try{hd=tb.fb.h6(tb.ha);te=Object.keys(hd.Aa).find(function(Yb){var Yc;Yb=hd.Aa[Yb];return Yb.Z === Od && Yb.xc <= Xc && (null !== (Yc=Yb.Nc) && void 0 !== Yc?Yc:Infinity) > Xc;});null === (bc=tb.Ka) || void 0 === bc?void 0:bc.ss(Xc,te);}catch(Yb){tb.log.error("streamingSession.seekByContentPts threw an exception",Yb);fc=S.od.Ema(C.M.bcb,Yb);tb.Cq(fc.code,fc);}}});};this.playbackRate.addListener(function(){var qb,Sb;if(null === (qb=tb.Ka) || void 0 === qb?0:qb.Yh)null === (Sb=tb.Ka) || void 0 === Sb?void 0:Sb.ota();});this.addEventListener(P.ca.Hy,function(qb){var Sb;qb.cause == y.Vda && (tb.Bf.set(P.xf.ud),null === (Sb=tb.Ka) || void 0 === Sb?void 0:Sb.Wn(tb.Wf.AXa()));});Xb && (this.ha.oa=Xb,this.nk.aZ(O,Xb));}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=void 0;f=a(1);l=a(47);m=a(293);d=a(295);h=a(133);g=a(523);k=a(1171);n=a(1172);q=a(526);p=a(12);v=a(80);t=a(14);u=a(73);w=a(527);x=a(60);y=a(58);z=a(106);A=a(529);B=a(1175);D=a(533);E=a(8);F=a(4);C=a(3);G=a(21);J=a(92);K=a(24);I=a(61);M=a(19);R=a(534);H=a(128);Q=a(300);N=a(30);L=a(103);P=a(15);S=a(41);U=a(296);da=a(536);ka=a(130);ma=a(1178);X=a(1179);ua=a(67);ya=a(51);c.prototype.Cd=function(O,T){var ja;T=void 0 === T?this.cM:T;null === (ja=this.gs.get(T)) || void 0 === ja?void 0:ja.Cd(O);};c.prototype.Fz=function(O){this.ha.Fz(O);};c.prototype.vJb=function(){var O;O=this;this.ic.addListener(function(T){return O.ha.ic.set(T.newValue);});this.wg.addListener(function(T){return O.ha.wg.set(T.newValue);});this.cc.addListener(function(T){return O.ha.cc.set(T.newValue);});this.ai.addListener(function(T){return O.ha.ai.set(T.newValue);});this.bv.addListener(function(T){return O.ha.bv.set(T.newValue);});this.Ve.addListener(function(T){return O.ha.Ve.set(T.newValue);});this.hh.addListener(function(T){return O.ha.hh.set(T.newValue);});this.ke.addListener(function(T){return O.ha.ke.set(T.newValue);});this.hf.addListener(function(T){return O.ha.hf.set(T.newValue);});this.kc[l.Rb.Ta.Ub].addListener(function(T){return O.ha.kc[l.Rb.Ta.Ub].set(T.newValue);});this.kc[l.Rb.Ta.Lb].addListener(function(T){return O.ha.kc[l.Rb.Ta.Lb].set(T.newValue);});this.mediaTime.addListener(function(T){return O.ha.mediaTime.set(T.newValue);});this.playbackRate.addListener(function(T){return O.ha.playbackRate.set(T.newValue);});this.K7a();};c.prototype.K7a=function(){var O;O=this;this.ha !== this.zva && (this.ha.mediaTime.set(this.mediaTime.value),this.ha.playbackRate.set(this.playbackRate.value),this.Sq(function(T){return T.ic;},this.Dxa),this.Sq(function(T){return T.wg;},this.T0b),this.Sq(function(T){return T.bv;},this.P0b),this.Sq(function(T){return T.cc;},this.Q0b),this.Sq(function(T){return T.ai;},this.r0b),this.Sq(function(T){return T.Ve;},this.S0b),this.Sq(function(T){return T.hh;},this.s0b),this.Sq(function(T){return T.hf;},this.G0b),this.Sq(function(T){return T.ke;},this.H0b),this.Sq(function(T){return T.kc[l.Rb.Ta.Ub];},function(T){return O.kc[l.Rb.Ta.Ub].set(T.newValue);}),this.Sq(function(T){return T.kc[l.Rb.Ta.Lb];},function(T){return O.kc[l.Rb.Ta.Lb].set(T.newValue);}),this.Sq(function(T){return T.mediaTime;},this.D0b),this.Sq(function(T){return T.playbackRate;},this.Baa),this.cc.set(this.ha.cc.value),this.ic.set(this.ha.ic.value,{XPa:!0}),this.wg.set(this.ha.wg.value),this.ai.set(this.ha.ai.value),this.bv.set(this.ha.bv.value),this.Ve.set(this.ha.Ve.value),this.hh.set(this.ha.hh.value),this.zva=this.ha);};c.prototype.Sq=function(O,T){this.zva && O(this.zva).removeListener(T);O(this.ha).addListener(T);};c.prototype.load=function(O){var T,ja;T=this;this.load=function(){};this.H5a=O;if(this.state.value == P.Pb.ZJ){this.kd.info("Playback loading",this);this.kPb();this.Cd("asl_load_start");O=this.iC;ja=O.endTime;M.Uc(O.startTime)?M.Uc(ja)?this.Cd("asl_ended"):this.Cd("asl_in_progress"):this.Cd("asl_not_started");this.iC.IN(function(pa){T.Cd("asl_load_complete");pa.$?T.vxb():T.Cq(pa.errorCode || C.M.Dca,pa);});}};c.prototype.ySb=function(){var O;try{if(this.state.value === P.Pb.LOADING){O={width:1,height:1,Qha:1};this.bH().forEach(function(T){O.width * O.height < T.width * T.height && (O.width=T.width,O.height=T.height,O.Qha=T.Qha);});this.aB=O;this.Zv=this.GL.Iqb({jJ:F.Kc(this.Y),J:this.J,A9:this.Sy,bb:this.bb}).da(F.ja);this.bia();this.uyb();}}catch(T){this.Cq(C.M.rgb,{na:C.L.Kj,ub:K.vd(T)});}};c.prototype.Kw=function(){var O,T;T=this.fb.h6(this);this.iTa(T);null === (O=this.Ka) || void 0 === O?void 0:O.KZ(T);};c.prototype.SH=function(O){var T,ja;G.kb(this.Ka,"ASE should be initialized");ja=this.fb.BV(O);ja?O === this.fb.kh?this.Ka.Cr(ja,!0,!0) || this.LV(ja,{}):null === (T=this.Ka) || void 0 === T?void 0:T.si(O,ja,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.LV=function(O,T,ja){var pa,sa,Qa,Ua,Za;pa=this;ja=void 0 === ja?!0:ja;Ua=this.fb.te(O);if(this.Ti.Gaa && this.fb.ha.Z === Ua.Z)return Promise.resolve(this.Wf.seek(Ua.xc,P.Be.zB,void 0));T=H.r8(this.Dk.iN(Ua.Z).Db,T);if(null === (sa=this.Ka) || void 0 === sa || !sa.Yh)throw (this.log.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.log.debug("going to next segment: " + this.fb.kh + " -> " + O);this.ZF("Transition " + this.fb.kh + "->" + O);Za=this.rm(O);Za.Km=this.za.Wb().da(F.ja);Za.bb=T;return "seamless" !== (null !== (Qa=this.fb.te(O).Zd) && void 0 !== Qa?Qa:"seamless") || ja?(this.Ka.ZM(O).JL?this.BHb(O,Za.J):this.zY(O,Za.J)).then(function(){pa.nDb(Za.J);}):Promise.resolve();};c.prototype.zY=function(O,T){var ja;ja=this.fb.cl.Aa[O].xc;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.ZF("NO DATA " + O + ", SEEKING " + ja + ", viewableId: " + T);return Promise.resolve(this.Wf.seek(ja,P.Be.zB,O,!0));};c.prototype.BHb=function(O,T){var ja,pa,sa,Qa,Ua;ja=this;pa=this.Ka;if(null === pa || void 0 === pa || !pa.Yh)throw Error("No streaming session");sa=new Promise(function(Za){function ab(){ja.log.debug("Stopped ASE");pa.removeEventListener("stop",ab);Za();}pa.addEventListener("stop",ab);});Qa=!1;Ua=new Promise(function(Za){function ab(Ya){ja.log.debug("Repositioned");ja.removeEventListener(P.ca.wk,ab);Qa=Ya.skip;Za();}function kb(){ja.log.debug("Repositioning");ja.removeEventListener(P.ca.pI,kb);pa.stop();}ja.addEventListener(P.ca.pI,kb);ja.addEventListener(P.ca.wk,ab);});sa=Promise.all([sa,Ua]).then(function(){var Za;Za=!1;Qa && (Za=pa.Cr(O,!1,!0));if(!Za)return (ja.ZF("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ja.zY(O,T));});Ua=pa.ZL(O,this.fb.cl.Aa[O].xc);this.log.debug("Calling seek on internal player to " + Ua);this.Wf.seek(Ua,P.Be.gK,O,!0);return sa;};c.prototype.CPa=function(O,T,ja){var pa,sa,Qa,Ua;T=void 0 === T?this.Ez.Uy():T;ja=void 0 === ja?this.za.Wb():ja;sa=! !t.config.nbb && !(T % t.config.nbb);Qa=O.Z;Ua=O.wa;O=O.bb;this.gs.has(Qa)?this.gs.get(Qa):(T=this.IX(y.xB.index++,Qa,Ua,O,T,ja,sa,this.ha,this.Ona),this.gs.set(Qa,T),1 < this.gs.size && (T.yW=this.KN.create(this,T,!1)),T.SN=new z.eGa(this,T),null === (pa=this.Ka) || void 0 === pa?void 0:pa.mU(T.wa,{ba:T.ba,ds:T.Eg}));};c.prototype.aN=function(O){if(!this.gs.has(O))throw Error("Playback segment not found: " + O);return this.gs.get(O);};c.prototype.rm=function(O){var T;O=this.fb.te(O);return null !== (T=this.gs.get(null === O || void 0 === O?void 0:O.Z)) && void 0 !== T?T:this.ha;};c.prototype.tGb=function(O){for(var T,ja,pa=ba(this.JX),sa=pa.next();!sa.done;sa=pa.next()){if((sa=sa.value,(null === (ja=null === (T=sa.mf) || void 0 === T?void 0:T.Ib) || void 0 === ja?void 0:ja.sessionId) === O))return sa;}return this.ha;};c.prototype.OTb=function(O){var T,ja;T=this;ja=O.J;this.Dk.cXb(ja);return this.DY(O).then(function(pa){T.Pta(pa,O);return (O.kD?T.Tb.Fl.g7a(O):Promise.resolve()).then(function(){return T.Dk.x8a(ja);});}).catch(function(pa){T.log.error("queueManifest failed",pa);T.Dk.bXb(ja,pa);throw T.li(pa.code,pa);});};c.prototype.cEb=function(){if(M.Ba(this.md.ats) && M.Ba(this.md.at))return this.md.at - this.md.ats;};c.prototype.VWa=function(){var O,T;O=this.QZ();T=this.BT();return Math.min(O,T);};c.prototype.uP=function(){this.background || (this.kd.info("Starting inactivity monitor for movie " + this.J),new w.$Da(this));};c.prototype.close=function(O){O && (this.state.value == P.Pb.CLOSED?O():this.addEventListener(P.ca.closed,function(){O();}));this.swa();};c.prototype.Wd=function(O,T,ja){O=this.li(O,T,ja);this.nG(O,void 0);};c.prototype.nG=function(O,T){var ja,pa,sa,Qa;ja=this;if(this.state.value == P.Pb.ZJ)this.hi || (this.hi=O,this.load());else {T && (this.state.value == P.Pb.CLOSED?T():this.addEventListener(P.ca.closed,function(){T();}));pa=function(){ja.swa(O);};sa=t.config.WTa && O && t.config.WTa[O.errorCode];Qa=-1;M.Qz(sa) && (Qa=K.Ge(sa));this.kd.error("Fatal playback error",{Error:"" + O,HandleDelay:"" + sa});0 <= Qa?setTimeout(pa,Qa):pa();}};c.prototype.ZF=function(O){var T;T=void 0 === T?this.wa:T;this.E5a.push(this.za.Wb().da(F.ja) + "-" + T + "-" + O);};c.prototype.fDb=function(){this.eWa();};c.prototype.Dna=function(){var O;if(null === (O=this.Ka) || void 0 === O?0:O.Yh)if((O=this.Ka.Io().id,void 0 !== O))return O;return null;};c.prototype.PC=function(){var O,T;T=null === (O=this.Ka) || void 0 === O?void 0:O.Yh;return void 0 === this.ha.gU || T?this.Ona(this.mediaTime.value):this.ha.gU;};c.prototype.Cna=function(){var O;O=this.Ona(this.Wf.AXa());return null === O?null:Math.min(this.Sy.da(F.ja),Math.max(0,O));};c.prototype.oV=function(){var O,T;return null === (T=null === (O=this.oa) || void 0 === O?void 0:O.uc.zo) || void 0 === T?void 0:T.Aa;};c.prototype.Aaa=function(O){this.bb=H.r8(this.bb,O);this.bia();};c.prototype.YDb=function(){return this.ic.value?this.ic.value.streams:[];};c.prototype.bH=function(O){O=void 0 === O?this.J:O;return (O=this.aN(O).wg) && O.value?O.value.streams:[];};c.prototype.XHb=function(O){for(var T=ba(this.JX),ja=T.next();!ja.done;ja=T.next()){if(ja=(ja=ja.value.ck) && ja.find(function(pa){return pa.id === O;}))return ja;}};c.prototype.LSb=function(O){O=void 0 === O?this.ha:O;O.cc.value?this.Pq.ISb(O.cc.value):Promise.resolve();};c.prototype.pZa=function(O){for(var T=ba(this.JX),ja=T.next();!ja.done;ja=T.next()){ja=ba(ja.value.Hi);for(var pa=ja.next();!pa.done;pa=ja.next()){if(pa=pa.value.streams.find(function(sa){return sa.yc === O;}))return pa;}}};c.prototype.AZa=function(O){for(var T=ba(this.JX),ja=T.next();!ja.done;ja=T.next()){ja=ba(ja.value.ip);for(var pa=ja.next();!pa.done;pa=ja.next()){if(pa=(pa=pa.value) && pa.streams.find(function(sa){return sa.yc === O;}))return pa;}}};c.prototype.Et=function(){var O,T,ja;return null !== (ja=null === (T=null === (O=this.D9) || void 0 === O?void 0:O.iU) || void 0 === T?void 0:T.call(O)) && void 0 !== ja?ja:this.Fxb().HC;};c.prototype.P8a=function(O){var T,ja;null !== (T=this.Ka) && void 0 !== T && T.Yh && this.gs.has(O) && ((null === (ja=this.D9) || void 0 === ja?0:ja.iU)?this.D9.wab():(T=this.qka(O),this.Ka.Kq(T,O)));};c.prototype.PKb=function(){return "trailer" === this.xe;};c.prototype.aKb=function(){return ! !this.xe && 0 <= this.xe.indexOf("billboard");};c.prototype.UKb=function(){return ! !this.xe && 0 <= this.xe.indexOf("video-merch");};c.prototype.vKb=function(){return ! !this.xe && 0 <= this.xe.indexOf("mini-modal");};c.prototype.jD=function(){return this.PKb() || this.aKb() || this.UKb() || this.vKb();};c.prototype.L5=function(){var sa,Qa,Ua;if(this.ip){for(var O,T=0;T < this.ip.length;T++){for(var ja=this.ip[T],pa=0;pa < ja.streams.length;pa++){sa=ja.streams[pa];if(M.Ba(sa.rka) && M.Ba(sa.m4) && M.Ba(sa.l4) && M.Ba(sa.k4) && (0 < sa.rka || 0 < sa.m4)){Qa=1;Ua=1;M.Ba(sa.o5a) && M.Ba(sa.p5a) && (Qa=sa.o5a,Ua=sa.p5a);sa=sa.k4 * Ua / (sa.l4 * Qa);O=M.Ba(O)?Math.min(O,sa):sa;}}}return O;}};c.prototype.JGb=function(){return {tr:this.hxa,rt:this.bva};};c.prototype.uz=function(O){return this.mk[O];};c.prototype.$ia=function(){return this.Km?this.za.Wb().da(F.ja) - this.Km:this.ya.ef.da(F.ja) - this.QG();};c.prototype.VT=function(){var O;if(this.Km)return this.za.Wb().da(F.ja) - this.Km;O=this.za.Tz;return this.HX - (this.vk.da(F.ja) + O.da(F.ja));};c.prototype.bja=function(){return this.Km?this.za.Wb().da(F.ja) - this.Km:this.HX - this.QG();};c.prototype.dPb=function(O){var T,ja;T=this.loadTime;ja={};K.se(O,function(pa,sa){ja[pa]=sa.map(function(Qa){return Qa - T;});});return ja;};c.prototype.kEb=function(){var O,T;O=this.loadTime;T={};K.se(this.Fia,function(ja,pa){T[ja]=pa.map(function(sa){return sa - O;});});return g.Yv?{level:g.Yv.XXa(),charging:g.Yv.Wma(),statuses:T}:null;};c.prototype.p6=function(){this.dWa();return this.SZ;};c.prototype.QG=function(){var O;O=this.bb.HZ;O=M.Ba(O)?O:this.vk.da(F.ja) + this.za.Tz.da(F.ja);G.kb(M.Pz(O));return O;};c.prototype.Ina=function(){return this.za.Wb().da(F.ja) - this.vk.da(F.ja);};c.prototype.Q8a=function(O,T){this.SZ[O]=T;};c.prototype.Z1b=function(){this.dYb=!0;};c.prototype.Z8=function(){this.P6a();};c.prototype.QZ=function(){var O;O=this.m3();return O && O.vbuflmsec || 0;};c.prototype.BT=function(){var O;O=this.m3();return O && O.abuflmsec || 0;};c.prototype.aya=function(){var O;O=this.m3();return O && O.vbuflbytes || 0;};c.prototype.lia=function(){var O;O=this.m3();return O && O.abuflbytes || 0;};c.prototype.DY=function(O,T,ja){var pa,sa,Qa,Ua;pa=this;O=void 0 === O?this.ha:O;ja=void 0 === ja?!0:ja;sa=! !T;Qa=!sa && O !== this.ha;Ua=t.config.T9.enabled?L.Sm.fjb:Qa?L.Sm.bF:this.jD()?L.Sm.e1:L.Sm.qp;sa=this.jD() || sa?void 0:this.Tb.Fl.Y5(Qa);return this.nk.WM({ba:O.ba,bb:O.bb,Z:O.J,St:Ua,Tf:sa,oaa:T},ja).then(function(Za){Za.Z_a && pa.fireEvent(P.ca.HN,{J:O.J});return Za;});};c.prototype.Pta=function(O,T,ja){var pa;T=void 0 === T?this.ha:T;ja=void 0 === ja?!1:ja;pa=this.EW.create(this);ja?(pa=pa.QIb(T.oa,T.Oc,O),O=pa.oa,pa=pa.Oc):pa=pa.V4a(O);T.oa=O;T.Oc=pa;ja || (T.wg.set(pa.y4),T.ic.set(pa.tU),T.cc.set(pa.vU));};c.prototype.nDb=function(O){this.BI(O,!1);};c.prototype.sZa=function(O,T){if(!this.Ti.Wxa)return !0;O=this.Au.da(F.ja) - O;return 0 > O || O > T;};c.prototype.LVb=function(){this.Wf.seek(this.PC() || 0,P.Be.b0);};c.prototype.VZa=function(O,T){var ja,pa;ja=this;pa=this.ha;pa.E4=!0;return this.DY(pa,{VQb:pa.Ri,xVb:O,AVb:T},!1).then(function(sa){var Qa;ja.Pta(sa,pa,!0);ja.nk.aZ(pa.J,pa.oa);return null === (Qa=ja.Ka) || void 0 === Qa?void 0:Qa.ix(ja.D5a);}).then(function(){var sa,Qa;sa=pa.Hi.find(function(Ua){return Ua.trackId === O;});Qa=pa.Ph.find(function(Ua){return Ua.trackId === T;});if(!(sa && sa.ji && Qa && Qa.ji))throw Error("Track hydration failed: requiredAudioTrackId=" + O + " requiredTextTrackId=" + T);ja.fireEvent(P.ca.Z$a);return {ic:sa,pZ:Qa};});};c.prototype.BI=function(O,T){var ja,pa;if(this.yO){if(O === this.cM){this.yO=O;return;}ja=this.aN(O);pa=ja.oa;pa && M.Uc(pa.qI) && M.Uc(pa.PO) && ja.Fz({pr_ats:pa.qI,pr_at:pa.PO});this.fireEvent(P.ca.Vqa,{J:this.cM});this.cM=O;this.bia();T || this.K7a();this.mH=this.ya.EY;this.ha.Km || (this.ha.Km=this.za.Wb().da(F.ja));}("boolean" === typeof this.bb.vM?this.bb.vM:t.config.vM) && !T && this.oxa.vM(this);T={J:O,m7:T,yO:this.yO};this.yO=O;this.fireEvent(P.ca.yH,T);};c.prototype.vxb=function(){try{this.Tb=new k.TFa(this);this.c4=new U.AAa(this);this.yW=this.KN.create(this,this.ha,!0);t.config.Ktb && new da.oCa(this,this.Uf,this.log);t.config.YT && this.YT(this);this.B1b();}catch(O){this.Cq(C.M.qgb,{na:C.L.Kj,ub:K.vd(O)});}};c.prototype.B1b=function(){this.hi?this.nG(this.hi):M.Ipa(this.J)?this.hub():this.Cq(C.M.cgb,{ub:"" + this.J});};c.prototype.hub=function(){var O;O=m.OI.p8a;O?O.$?this.Ija():this.Cq(C.M.WDa,O):(G.kb(!t.config.T4),this.xha());};c.prototype.Ija=function(){var O;O=this;!this.background && t.config.Ija?y.Yda(function(){O.xha();},this):this.xha();};c.prototype.xha=function(){var O;O=this;this.state.value == P.Pb.LOADING && (t.config.Dla && !this.jD()?m.OI.ty(y.pIa,function(T){T.$?(O.T7=T.T7,t.config.A$?O.tia():O.Fva()):O.Cq(C.M.VDa);},!0):t.config.A$?this.tia():this.Fva());};c.prototype.Fva=function(){var O;O=this;this.state.value == P.Pb.LOADING && (this.Cd("ic"),this.XRb.EWb(function(T){T.error && O.log.error("Error sending persisted playdata",C.Ss(T));try{O.tia();}catch(ja){O.log.error("playback.authorize threw an exception",ja);O.Cq(C.M.ncb,{na:C.L.Kj,ub:K.vd(ja)});}}));};c.prototype.tia=function(){var O,T,ja;O=this;if(this.state.value == P.Pb.LOADING){this.log.info("Authorizing",this);T=this.za.Wb().da(F.ja);this.Cd("ats");G.gM(this.J);G.gM(this.Ej);ja=this.vTb.bind(this,T);Promise.all([this.oa,t.config.Pw && this.nk.roa(this.J)?this.nk.I5(this.J).catch(function(){}):void 0]).then(function(pa){var sa,Qa;sa=ba(pa);pa=sa.next().value;sa=sa.next().value;pa && sa?Qa=sa.uc.expiration > pa.uc.expiration?sa:pa:pa?Qa=pa:sa && (Qa=sa);Qa && 18E5 > Qa.uc.expiration - ya.T3() && (Qa=void 0);return Qa?(O.iG=Qa === pa?"ui":"videopreparer",Qa):O.DY();}).then(function(pa){try{O.Pta(pa);ja(p.Xe);O.x5a || (O.x5a=!0,O.Wsa.ap(O));}catch(sa){O.log.error("Exception processing authorization response",sa);ja({$:!1,na:C.L.Qib});}}).catch(ja);}};c.prototype.vTb=function(O,T){var ja,pa;ja=this;if(this.state.value == P.Pb.LOADING){this.Cd("at");pa=this.oa;this.Fz({pr_ats:pa && M.Uc(pa.qI)?pa.qI:O,pr_at:pa && M.Uc(pa.PO)?pa.PO:this.za.Wb().da(F.ja)});T.$?0 < this.Oc.ck.length && this.Oc.tU && this.Oc.y4 && this.Oc.vU?this.H5a?(this.log.info("Processing post-authorize",this),this.H5a(this,function(sa){sa.$?ja.Aab():ja.Cq(C.M.vgb,sa);})):this.Aab():this.Cq(C.M.Xgb,this.Xqa(this.Oc)):this.Cq(C.M.pR,T);}};c.prototype.Aab=function(){var O,T;f.__awaiter(this,void 0,void 0,function pa(){var sa;sa=this;return Ia(pa,function(Qa){if(sa.state.value != P.Pb.LOADING)return Qa.return();(null === (O=sa.ha.oa) || void 0 === O?0:O.uc.zo) && sa.fb.reset(ua.tC(null === (T=sa.ha.oa) || void 0 === T?void 0:T.uc.zo,{config:t.config}));sa.Ka=sa.eia(sa.fb,sa);sa.Ka.HXb({hn:h.hn,config:t.config,me:sa.me,kd:sa.kd,ru:sa.ru.bind(sa),Mi:E.Mi,IY:sa.IY.bind(sa),BI:sa.BI.bind(sa)});sa.ySb();Qa.OH=0;});});};c.prototype.uyb=function(){var O,T,ja,pa,sa,Qa;O=this;try{if(this.state.value === P.Pb.LOADING){this.Tb.open();T=new Promise(function(Ua){O.Tb.addEventListener(Q.Nj.u9a,Ua);});this.Wf=new R.YFa(this);ja=this.Oc.tU.kl === ka.up.NONE;pa={Ug:!1,AW:!1,di:!this.kD,wO:! !this.bb.t7,Ha:this.bb.Ha,pE:this.Oc.tU.Vr || ja};sa={ba:this.ba,ds:this.Eg,gz:this.gz};try{if(this.state.value !== P.Pb.LOADING)return;Qa=this.Ka;Qa.b7({flags:pa,fw:sa,wa:this.D5a,qka:this.qka.bind(this)});this.iTa(this.fb.h6(this));this.rqb();Qa.xsb({mk:this.mk,loadTime:this.loadTime});}catch(Ua){throw (this.log.error("Failed to initialize ASE streaming",{error:Ua,startPts:this.Y,flags:pa}),Ua);}T.then(function(){var Ua;O.state.value !== P.Pb.CLOSING && O.state.value !== P.Pb.CLOSED && (null === (Ua=O.Ka) || void 0 === Ua?void 0:Ua.open());});this.mediaTime.set(this.Y);this.Pq=new n.jLa(this);if("boolean" === typeof this.bb.c$?this.bb.c$:t.config.c$)this.sZ=new B.kLa(this);this.uP();y.$da.forEach(function(Ua){Ua(O);});this.jPb();}}catch(Ua){this.Cq(C.M.sgb,{na:C.L.Kj,ub:K.vd(Ua)});}};c.prototype.kPb=function(){G.kb(this.state.value == P.Pb.ZJ);this.loadTime=this.za.Wb().da(F.ja);this.state.set(P.Pb.LOADING);};c.prototype.Cq=function(O,T){this.done || (this.done=!0,T instanceof S.od?this.Wd(T.code,T):this.Wd(O,T));};c.prototype.YT=function(O){var ja,pa;function T(){var sa,Qa;sa=g.Yv.Wma() + "";Qa=O.Fia[sa];Qa || (Qa=O.Fia[sa]=[]);Qa.push(ja.za.Wb().da(F.ja));ja.log.trace("charging change event",{level:g.Yv.XXa(),charging:g.Yv.Wma()});}ja=this;pa=g.Yv.qdb;g.Yv.addEventListener(pa,T);O.addEventListener(P.ca.jg,function(){g.Yv.removeEventListener(pa,T);});};c.prototype.swa=function(O){var T,ja;T=this;if(this.state.value == P.Pb.ZJ || this.state.value == P.Pb.LOADING || this.state.value == P.Pb.pe){this.kd.info("Playback closing",this,O?{ErrorCode:O.G4}:void 0);this.ZF("Closing");x.ue.removeListener(x.Cl,this.b4a);this.hi=O;this.ha.gU=this.PC();this.dWa();(null === (ja=this.Ka) || void 0 === ja?0:ja.Yh) && this.Ka.flush();try{this.Sb.Cc(P.ca.jg,{movieId:this.cM});}catch(pa){this.kd.error("Unable to fire playback closing event",pa);}this.state.set(P.Pb.CLOSING);this.acb();this.dYb || I.Qf(function(){return T.P6a();});}};c.prototype.WCb=function(){this.Sb.Cc(P.ca.uab);};c.prototype.eWa=function(){var O;O=this.mediaTime.value;this.BLb != O && (!1,this.BLb=O,this.Sb.Cc(P.ca.$wa));};c.prototype.P6a=function(){var O,T;O=this;G.kb(this.state.value == P.Pb.CLOSING);T=this.T7;this.T7=void 0;T?m.OI.release(T,function(ja){G.kb(ja.$);O.Pja();}):this.Pja();};c.prototype.acb=function(){var O;null === (O=this.Ka) || void 0 === O?void 0:O.cd();delete this.Ka;delete this.Tbc;delete this.Sbc;};c.prototype.Pja=function(){var O;this.Pja=p.ol;G.kb(this.state.value == P.Pb.CLOSING);O=y.co.indexOf(this);G.kb(0 <= O);y.co.splice(O,1);this.state.set(P.Pb.CLOSED);this.Sb.Cc(P.ca.closed,void 0,!0);this.Sb.Fh();delete this.mf;this.ha.Z8();};c.prototype.bia=function(){this.bb.playbackState && ("number" === typeof this.bb.playbackState.volume && this.volume.set(J.op(this.bb.playbackState.volume,0,1)),"boolean" === typeof this.bb.playbackState.muted && this.muted.set(this.bb.playbackState.muted),"number" === typeof this.bb.playbackState.playbackRate && this.playbackRate.set(this.bb.playbackState.playbackRate));};c.prototype.dWa=function(){this.Sb.Cc(P.ca.d9a,{SZ:this.SZ});};c.prototype.IY=function(O,T,ja){var pa;O=this.rm(O);pa=O.ck.filter(function(sa){return sa.id === T;})[0];pa && O.kc[ja].set(pa);};c.prototype.ru=function(){return {AudioBufferLength:this.BT(),VideoBufferLength:this.QZ()};};c.prototype.m3=function(){var O;if(null === (O=this.Ka) || void 0 === O?0:O.Yh)return this.Ka.c7(!1);};c.prototype.jPb=function(){this.state.value == P.Pb.LOADING && this.state.set(P.Pb.pe);};c.prototype.Fxb=function(){var O,T,ja;O=void 0 === O?this.J:O;T=this.bH(O);ja=this.aN(O);return ma.Et(T,function(pa){return ja.SN.Xu(pa);});};c.prototype.qka=function(O){var T,ja;O=void 0 === O?this.J:O;T=this.bH(O);ja=this.aN(O);return ma.gZa(T,function(pa){return ja.SN.Xu(pa);});};c.prototype.iTa=function(O){var T;T=this;Object.keys(O.Aa).filter(function(ja){return !T.gs.has(T.fb.te(ja).Z);}).forEach(function(ja){var pa,sa,Qa;sa=T.fb.te(ja);Qa=sa.Z;sa=Object.assign(null !== (pa=T.Dk.iN(Qa).Db) && void 0 !== pa?pa:{},{Y:sa.xc,Ha:sa.Nc,El:!1,HZ:Date.now(),t7:!0});T.CPa({Z:Qa,wa:ja,bb:sa});});};Xa.Object.defineProperties(c.prototype,{JX:{configurable:!0,enumerable:!0,get:function(){return this.gs.values();}},ha:{configurable:!0,enumerable:!0,get:function(){return this.gs.get(this.cM);}},Y:{configurable:!0,enumerable:!0,get:function(){var O,T;return void 0 !== this.Zv?this.Zv:null !== (T=null === (O=this.JX.next()) || void 0 === O?void 0:O.value.bb.Y) && void 0 !== T?T:0;}},Oc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Oc;},set:function(O){this.ha.Oc=O;}},t5:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb.t5;}},u5:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb.u5;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},wa:{configurable:!0,enumerable:!0,get:function(){return this.ha.wa;}},D5a:{configurable:!0,enumerable:!0,get:function(){return this.fb.Xxa?this.fb.kh:this.ha.wa;}},mf:{configurable:!0,enumerable:!0,get:function(){return this.ha.mf;},set:function(O){this.ha.mf=O;}},Km:{configurable:!0,enumerable:!0,get:function(){return this.ha.Km;},set:function(O){this.ha.Km=O;}},iG:{configurable:!0,enumerable:!0,get:function(){return this.ha.iG;},set:function(O){this.ha.iG=O;}},hG:{configurable:!0,enumerable:!0,get:function(){return this.ha.hG;},set:function(O){this.ha.hG=O;}},a7:{configurable:!0,enumerable:!0,get:function(){return this.ha.a7;},set:function(O){this.ha.a7=O;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ha.oa;},set:function(O){this.ha.oa=O;}},Zv:{configurable:!0,enumerable:!0,get:function(){return this.ha.Zv;},set:function(O){this.ha.Zv=O;}},jZ:{configurable:!0,enumerable:!0,get:function(){return this.ha.jZ;},set:function(O){this.ha.jZ=O;}},bb:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb;},set:function(O){this.ha.bb=O;}},yW:{configurable:!0,enumerable:!0,get:function(){return this.ha.yW;},set:function(O){this.ha.yW=O;}},Jl:{configurable:!0,enumerable:!0,get:function(){return this.ha.Jl;}},J:{configurable:!0,enumerable:!0,get:function(){return this.ha.J;}},xe:{configurable:!0,enumerable:!0,get:function(){return this.ha.xe;}},Hi:{configurable:!0,enumerable:!0,get:function(){return this.ha.Hi;}},ip:{configurable:!0,enumerable:!0,get:function(){return this.ha.ip;}},VA:{configurable:!0,enumerable:!0,get:function(){return this.ha.VA;}},Ph:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ph;}},Ri:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ri;}},kD:{configurable:!0,enumerable:!0,get:function(){return this.ha.kD;}},Ku:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ku;}},pm:{configurable:!0,enumerable:!0,get:function(){return this.ha.pm;}},ck:{configurable:!0,enumerable:!0,get:function(){return this.ha.ck;}},Sy:{configurable:!0,enumerable:!0,get:function(){return this.ha.Sy;},set:function(O){this.ha.Sy=O;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.ha.ba;}},Ej:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ej;}},vk:{configurable:!0,enumerable:!0,get:function(){return this.ha.vk;}},mH:{configurable:!0,enumerable:!0,get:function(){return this.ha.mH;},set:function(O){this.ha.mH=O;}},Eg:{configurable:!0,enumerable:!0,get:function(){return this.ha.Eg;}},EI:{configurable:!0,enumerable:!0,get:function(){return this.ha.EI;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(O){this.ha.background=O;}},vka:{configurable:!0,enumerable:!0,get:function(){return this.ha.vka;}},md:{configurable:!0,enumerable:!0,get:function(){return this.ha.md;}},Mp:{configurable:!0,enumerable:!0,get:function(){return this.ha.Mp;}},ola:{configurable:!0,enumerable:!0,get:function(){return this.ha.ola;}},SN:{configurable:!0,enumerable:!0,get:function(){return this.ha.SN;}},gz:{configurable:!0,enumerable:!0,get:function(){return 0 !== t.config.K4 && 0 === this.ha.ba % t.config.K4;}},E4:{configurable:!0,enumerable:!0,get:function(){return this.ha.E4;}},Oi:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.J,TrackingId:this.Ej,Xid:this.ba};}},I9:{configurable:!0,enumerable:!0,get:function(){return this.fb.I9;}}});b.tIa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.L9a=void 0;c=a(12);f=a(8);l=a(3);a(24);b.L9a=function(m){var d;f.Mi("Storage");d={};m({$:!0,storage:{load:function(h,g){var k;if(d.hasOwnProperty(h)){k=d[h];!1;g({$:!0,data:k,T$:h});}else (!1,g({na:l.L.BB}));},save:function(h,g,k,n){k && d.hasOwnProperty(h)?n({$:!1}):(d[h]=g,!1,n && n({$:!0,T$:h}));},remove:function(h,g){delete d[h];!1;g && g(c.Xe);}}});};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.J9a=void 0;c=a(8);f=a(79);l=a(29);m=a(521);b.J9a=function(d){c.ka.get(f.hB).create().then(function(h){d({$:!0,storage:new m.Qca(h,c.ka.get(l.bg))});}).catch(function(h){d(h);});};},function(r,b){function a(c,f){this.Wv=c;this.me=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Qca=void 0;a.prototype.load=function(c,f){var l;l=this;this.Wv.load(c).then(function(m){f && f(a.a$a(m));}).catch(function(m){f && f(l.Kla(c,m));});};a.prototype.save=function(c,f,l,m){var d;d=this;this.Wv.save(c,f,l).then(function(){m && m(a.a$a({key:c,value:f}));}).catch(function(h){m && m(d.Kla(c,h));});};a.prototype.remove=function(c,f){var l;l=this;this.Wv.remove(c).then(function(){f && f({$:!0,T$:c});}).catch(function(m){f && f(l.Kla(c,m));});};a.a$a=function(c){return {$:!0,data:c.value,T$:c.key};};a.prototype.Kla=function(c,f){return {$:!1,T$:c,na:f.na,ub:f.cause?this.me.vd(f.cause):void 0};};b.Qca=a;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.K9a=void 0;c=a(521);f=a(8);l=a(451);m=a(29);b.K9a=function(d){d({$:!0,storage:new c.Qca(f.ka.get(l.NEa),f.ka.get(m.bg))});};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.Yv=void 0;c=a(12);f=a(14);r=a(3);l=a(8);m=a(30);d=a(11);h=a(31);g=a(19);k=a(64);n=a(4);a=l.ka.get(h.dh);q=l.ka.get(k.Px);a.register(r.M.FDa,function(p){var w,x;function v(){p(c.Xe);v=m.ol;}function t(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!g.ed(y[z]))throw z + " is not a function";});}function u(){return Promise.resolve().then(function(){var y;y=d.jf.getBattery();if(!g.ed(y.then))throw "getBattery did not return a promise";return y;});}w=l.Mi("BatteryManager");b.Yv={qdb:"chargingchange",XXa:function(){return x?x.level:null;},Wma:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};f.config.YT && g.ed(d.jf.getBattery)?q.Iq(n.Kc(f.config.jEb),u()).then(function(y){t(y);x=y;}).catch(function(y){w.error("getBattery failed",y);}).then(v):v();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HEa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,f){var l;l=this;this.kYa=c;this.$3a=f;this.fxa=!1;this.kO=function(){l.ep=void 0;l.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;a.prototype.update=function(c){var f,l,m,d,h;m=this.kYa();if(this.Rab !== m){d=null === (l=null === (f=this.Qo) || void 0 === f?void 0:f.SG(m)) || void 0 === l?void 0:l[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){h=d;this.Fab(d.endTime - m);}else this.Fab(d.startTime - m);this.Rab=m;this.zha !== h && (this.zha=h,!c && this.$3a && this.$3a());}};a.prototype.start=function(){this.fxa=!0;this.update();};a.prototype.D8a=function(c){this.Qo=c;this.zha=this.Rab=void 0;c || this.stop();};a.prototype.stop=function(){this.fxa=!1;this.Bs();};a.prototype.SDb=function(){this.update(!0);return this.zha;};a.prototype.Fab=function(c){this.Bs();this.fxa && 0 < c && (this.ep=setTimeout(this.kO,c + a.Ehb));};a.prototype.Bs=function(){this.ep && (clearTimeout(this.ep),this.ep=void 0);};b.lLa=a;a.Ehb=10;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.wDa=void 0;c=a(15);f=a(74);b.wDa=function(l){function m(d){l.fireEvent(c.ca.DG,{response:d,J:l.ha.J});}return {download:function(d,h){d.j=l;d=f.gf.download(d,h);d.Bha(m);return d;}};};},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.$Da=void 0;c=a(14);f=a(51);l=a(3);m=a(528);d=a(11);h=a(19);g=a(15);k=a(8);n=a(207);b.$Da=function(q){var v,t,u,w;function p(){q.state.value !== g.Pb.pe || q.yb.value !== g.cb.eh && q.yb.value !== g.cb.Vq?t.Bs():t.JG();}v=c.config.xRb;if(!q.jD() && v){t=k.ka.get(n.m1)(v,function(){q.fireEvent(g.ca.oN,l.M.O0);});q.yb.addListener(p);q.state.addListener(p);if(c.config.Uoa){u=f.kj();w=new m.AJa(c.config.Uoa,function(){var x,y;x=f.kj();y=x - u;y > v && (q.fireEvent(g.ca.oN,l.M.t0),w.eSa());y > 2 * c.config.Uoa && (q.Voa=d.bo(y,q.Voa || 0));u=x;});w.zXb();}q.addEventListener(g.ca.jg,function(){t.Bs();h.Uc(w) && w.eSa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJa=void 0;b.AJa=function(a,c){var f;this.zXb=function(){f || (f=setInterval(c,a));};this.eSa=function(){f && (clearInterval(f),f=void 0);};};},function(r,b,a){var f,l,m,d,h,g,k;function c(n){var q,p,v,t;q=this;this.j=n;this.iU=void 0;this.Jfa=m.createElement("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.yfa=m.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.ofa=m.createElement("DIV","width:100%;text-align:center");this.Mkb=this.Afa("Audio Bitrate");this.qha=this.Afa("Video Bitrate");this.rfa=this.Afa("CDN");this.RS={};this.s6=d.ka.get(h.Qm);this.Jfa.appendChild(this.yfa);this.yfa.appendChild(this.ofa);p=m.createElement("BUTTON",void 0,"Override");p.addEventListener("click",this.Gkb.bind(this),!1);this.ofa.appendChild(p);p=m.createElement("BUTTON",void 0,"Reset");p.addEventListener("click",this.Pob.bind(this),!1);this.ofa.appendChild(p);v=this.Xnb.bind(this);l.ue.addListener(l.UC,v);n.addEventListener(k.ca.yH,function(){q.RS={};});n.addEventListener(k.ca.jg,function(){l.ue.removeListener(l.UC,v);});t=this.Cob.bind(this);n.kc.forEach(function(u){u.addListener(t);});n.ic.addListener(t);n.wg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;f=a(47);l=a(60);m=a(30);d=a(8);h=a(40);g=a(132);k=a(15);c.prototype.show=function(){this.mT || (this.BOa(),document.body.appendChild(this.Jfa),this.mT=!0);};c.prototype.Qr=function(){this.mT && (document.body.removeChild(this.Jfa),this.mT=!1);};c.prototype.toggle=function(){this.mT?this.Qr():this.show();};c.prototype.wab=function(){var p,v,t,u;function n(w,x,y){var z,A,B;A=[];x.filter(function(D){return D.ih === w;}).forEach(function(D){0 <= y.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function q(w,x,y){var z;z=[];x.filter(function(A){return A.ih === w;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.Et();t=this.j.bH().sort(function(w,x){return w.bitrate - x.bitrate;});u=t.reduce(function(w,x){0 > w.indexOf(x.ih) && w.push(x.ih);return w;},[]).map(function(w){return {profile:w,ranges:n(w,t,v),disallowed:q(w,t,v)};});!1;null === (p=this.j.Ka) || void 0 === p?void 0:p.Kq(u,this.j.J);};c.prototype.Gkb=function(){var p,v;this.RS={};for(var n=this.qha.options,q=n.length;q--;){p=n[q];p.selected && (this.RS[p.value]=1);}this.iU=this.klb.bind(this);this.wab();if(n=this.j.ck){v=this.rfa.value;n=n.filter(function(t){return t.id == v;})[0];q=this.j.kc[f.Rb.Ta.Lb].value;n && n != q && (n.JRa={testreason:"streammanager",selreason:"userselection"},this.j.kc[f.Rb.Ta.Lb].set(n));}this.Qr();};c.prototype.Pob=function(){this.iU=void 0;this.j.P8a(this.j.J);this.Qr();};c.prototype.klb=function(){var n;n=this;return this.j.bH().filter(function(q){return n.RS[q.bitrate];});};c.prototype.BOa=function(){var n,q,p,v;n=this;q=this.j.ic.value;p=this.j.wg.value;v=this.j.ck;q && (v=v.slice(),v.sort(function(t,u){return t.Vc - u.Vc;}),this.aha(this.Mkb,q.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.hh.value};})));p && (this.aha(this.qha,p.streams.map(function(t){var u,w;u=n.j.SN.Xu(t);t=t.bitrate;w="" + t;u && (w+=" (" + u.join("|") + ")");return {value:t,caption:w,selected:n.iU?n.RS[t]:!u};})),this.qha.removeAttribute("disabled"));v && (this.aha(this.rfa,v.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.kc[f.Rb.Ta.Lb].value};})),this.rfa.removeAttribute("disabled"));};c.prototype.Cob=function(){this.mT && this.BOa();};c.prototype.Afa=function(n){var q,p;q=m.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");n=m.createElement("DIV",void 0,n);p=m.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});q.appendChild(n);q.appendChild(p);this.yfa.appendChild(q);return p;};c.prototype.aha=function(n,q){n.innerHTML="";q.forEach(function(p){var v;v={title:p.caption};p.selected && (v.selected="selected");v=m.createElement("option",void 0,p.caption,v);v.value=p.value;n.appendChild(v);});};c.prototype.Xnb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == g.rv.qjb && this.s6.Ppa && this.toggle();};b.AIa=c;},function(r,b,a){var f,l,m,d,h;function c(g,k){this.tma=g;this.GG={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.y8a(k);this.mWa=this.gFb(this.tma);}Object.defineProperty(b,"__esModule",{value:!0});b.iLa=void 0;f=a(30);l=a(531);m=a(532);d=a(11);h=a(24);c.prototype.An=function(){return this.element;};c.prototype.PWb=function(g){this.gia=g;};c.prototype.ZWb=function(g){this.entry=g;this.JO();};c.prototype.fXb=function(g){this.y8a(g);this.JO();};c.prototype.JO=function(){var g,k,n,q,p,v,t,u,w,x,y,A,B,D;g=this;k=this.An();n=k.parentElement;q=n && n.clientWidth || 0;p=n && n.clientHeight || 0;v=n=0;t={width:q,height:p};if(0 < q && 0 < p && this.entry){this.gia && (t=f.HM(q,p,this.gia),n=Math.round((q - t.width) / 2),v=Math.round((p - t.height) / 2));w=this.utb(t);x=f.HM(w.width,w.height,this.gia);w=(u=this.entry.blocks) && u.map(function(E){var F;F=m.Fla(E,x,g.tma,g.mWa);E=m.rVa(E) + ";position:absolute";return f.createElement("div",E,F,c.Pba);});}Object.assign(this.GG,{left:n + "px",right:n + "px",top:v + "px",bottom:v + "px"});k.style.display="none";k.style.direction=this.GG.direction;k.innerHTML="";if(w && w.length){q=t.width;n=t.height;y=t;this.PT && (y=this.Rpb(t,this.PT,p,v));this.GG.margin=this.Zr?this.K3(t,"top") + "px " + this.K3(t,"right") + "px " + this.K3(t,"bottom") + "px " + this.K3(t,"left") + "px ":void 0;w.forEach(function(E){return k.appendChild(E);});p=f.vG(this.GG);k.style.cssText=p + ";visibility:hidden;z-index:-1";v=[];for(var z=w.length - 1;0 <= z;z--){A=w[z];B=u[z];D=this.D3a(A,B,q,n);D.width > q && (A.innerHTML=m.Fla(B,t,this.tma,this.mWa,q / D.width),D=this.D3a(A,B,q,n));v[z]=D;}v=l.oab(v,y);if(z=u && u[0] && u[0].textNodes && u[0].textNodes[0] && u[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (t=m.tVa(u,v,Math.round(n / 50),y,t),t=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,c.Pba),k.insertBefore(t,k.firstChild)));k.style.display="none";for(t=v.length - 1;0 <= t;t--){y=w[t].style;z=m.sVa(u[t].region,v[t],q,n,0);Object.assign(y,z);}k.style.cssText=p;}};c.prototype.Yva=function(g){this.PT=g;this.JO();};c.prototype.boa=function(){return this.PT;};c.prototype.Zva=function(g){this.Zr=g;this.JO();};c.prototype.coa=function(){return this.Zr;};c.prototype.doa=function(){return "block" === this.GG.display;};c.prototype.$va=function(g){var k;k=g?"block":"none";this.element.style.display=k;this.GG.display=k;g && this.JO();};c.prototype.gFb=function(g){var k,n;k=this;n={};h.se(g,function(q,p){n[q]=k.KNb(p);});return n;};c.prototype.y8a=function(g){this.GG.direction="boolean" === typeof g?g?"ltr":"rtl":"inherit";};c.prototype.K3=function(g,k){if(this.Zr){if("left" === k || "right" === k)return g.width * (this.Zr[k] || 0);if("top" === k || "bottom" === k)return g.height * (this.Zr[k] || 0);}return 0;};c.prototype.utb=function(g){return this.Zr?{height:g.height * (1 - (this.Zr.top || 0) - (this.Zr.bottom || 0)),width:g.width * (1 - (this.Zr.left || 0) - (this.Zr.right || 0))}:g;};c.prototype.KNb=function(g){var k;g=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + g + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Pba);d.Ae.body.appendChild(g);k={fontSize:1E3,height:g.clientHeight,width:g.clientWidth / 52,lineHeight:g.clientHeight / 1E3};d.Ae.body.removeChild(g);return k;};c.prototype.D3a=function(g,k,n,q){var p,v,t,u,w;p=k.region;v=(p.marginTop || 0) * q;t=(p.marginBottom || 0) * q;u=(p.marginLeft || 0) * n;w=(p.marginRight || 0) * n;k=g.clientWidth || 1;g=g.clientHeight || 1;switch(p.verticalAlignment){case "top":q=v;break;case "center":q=(v + q - t - g) / 2;break;default:q=q - t - g;}switch(p.horizontalAlignment){case "left":n=u;break;case "right":n=n - w - k;break;default:n=(u + n - w - k) / 2;}return {top:q,left:n,width:k,height:g};};c.prototype.Rpb=function(g,k,n,q){return {height:n - Math.max(q,k.bottom || 0) - Math.max(q,k.top || 0),width:g.width};};b.iLa=c;c.Pba={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.oab=void 0;c=a(11);b.oab=function(f,l){function m(g,k,n){var t,w,x,y,z;if(g && 1 < g.length){for(var q=[],p=[],v=0;v < g.length;v++){q[v]=0;p[v]=0;}t=!1;for(v=0;v < g.length;v++){for(var u=v + 1;u < g.length;u++){w=g[v];x=g[u];if(0 > w.width || 0 > x.width || x.left > w.left + w.width || x.left + x.width < w.left || x.top > w.top + w.height?0:x.top + x.height >= w.top){y=c.bo(w.left,x.left);z=c.bo(w.top,x.top);y={width:c.bo(c.np(w.left + w.width,x.left + x.width) - y,0),height:c.bo(c.np(w.top + w.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,w=d(g[v]),x=d(g[u]),z && k || !z && !k))(y=c.bo(y.width / 2,.25),w.x <= x.x?(p[v]-=y,p[u]+=y):(p[u]-=y,p[v]+=y));else if(z && !k || !z && k)(w=c.bo(y.height / 2,.25),q[v]-=w,q[u]+=w);}}for(v=0;v < g.length;v++){if(-.25 > p[v] && 0 <= g[v].left + p[v] || .25 < p[v] && g[v].left + g[v].width + p[v] <= n.width)(g[v].left+=p[v],t=!0);if(-.25 > q[v] && 0 <= g[v].top + q[v] || .25 < q[v] && g[v].top + g[v].height + q[v] <= n.height)(g[v].top+=q[v],t=!0);}return t;}}function d(g){return {x:g.left + g.width / 2,y:g.top + g.height / 2};}f=f.map(function(g){return {top:g.top,left:g.left,width:g.width,height:g.height};});(function(g,k){g.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=c.np(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=c.np(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=c.np(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=c.np(n.top + n.height - k.height,n.top));});})(f,l);for(var h=0;50 > h && m(f,!0,l);h++){;}for(h=0;50 > h && m(f,!1,l);h++){;}return f;};},function(r,b,a){var h,g,k;function c(n,q,p,v,t){var u;u={};"right" == n.horizontalAlignment?u.right=100 * (p - q.left - q.width - t) / p + "%":u.left=100 * (q.left - t) / p + "%";"bottom" == n.verticalAlignment?u.bottom=100 * (v - q.top - q.height - t) / v + "%":u.top=100 * (q.top - t) / v + "%";return u;}function f(n,q){var p;if(n && q){40 === q.x && 19 === q.y?p=4 / 3 / (40 / 19):52 === q.x && 19 === q.y && (p=16 / 9 / (52 / 19));if(p)return n.width / n.fontSize / p;}}function l(n,q,p,v,t){var u,w;u=n.style;w=g.VV(n.text);for(n=n.lineBreaks;n--;){w="<br />" + w;}return m(w,u,q,p,v,t);}function m(n,q,p,v,t,u){var w;w=q.characterStyle;t=t[w];w=0 <= w.indexOf("MONOSPACE")?f(t,q.cellResolution) || t.lineHeight:t.lineHeight;v=q.characterSize * v.height / (w || 1);v=0 < u?k.Ix(v * u):k.aj(v);u={"font-size":v + "px","line-height":"normal","font-weight":"normal"};q.characterItalic && (u["font-style"]="italic");q.characterUnderline && (u["text-decoration"]="underline");q.characterColor && (u.color=q.characterColor);q.backgroundColor && 0 !== q.backgroundOpacity && (u["background-color"]=d(q.backgroundColor,q.backgroundOpacity));v=q.characterEdgeColor || "#000000";switch(q.characterEdgeAttributes){case "DROP_SHADOW":u["text-shadow"]=v + " 0px 0px 7px";break;case "UNIFORM":u["text-shadow"]="-1px 0px " + v + ",0px 1px " + v + ",1px 0px " + v + ",0px -1px " + v;break;case "RAISED":u["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":u["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}u=h.vG(u);(p=p[q.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (u+=";" + p);q=q.characterOpacity;0 < q && 1 > q && (n='<span style="opacity:' + q + '">' + n + "</span>");return '<span style="' + u + '">' + n + "</span>";}function d(n,q){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== q?q:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.rVa=b.LBb=b.JBb=b.MBb=b.KBb=b.sVa=b.tVa=b.Fla=void 0;h=a(50);g=a(24);k=a(11);b.Fla=function(n,q,p,v,t){var u;u="";n.textNodes.forEach(function(w){u+=l(w,p,q,v,t);});return u;};b.tVa=function(n,q,p,v,t){var u,w,y,z,A;u="";w=t.width;t=t.height;for(var x=q.length;x--;){y=q[x];z=n[x];z=z && z.region;A="position:absolute;background:" + v + ";width:" + k.aj(y.width + 2 * p) + "px;height:" + k.aj(y.height + 2 * p) + "px;";y=c(z,y,w,t,p);g.se(y,function(B,D){A+=B + ":" + D + ";";});u+='<div style="' + A + '"></div>';}return u;};b.sVa=c;b.KBb=f;b.MBb=l;b.JBb=m;b.LBb=d;b.rVa=function(n){var q;q={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":q["text-align"]="left";break;case "right":q["text-align"]="right";break;default:q["text-align"]="center";}return h.vG(q);};},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;c=a(12);f=a(14);l=a(51);m=a(92);d=a(11);h=a(61);g=a(19);k=a(15);b.qIa=function(n){var t,u,w,x,y,z;function q(){return n.state.value === k.Pb.LOADING || n.state.value === k.Pb.pe && n.yb.value === k.cb.Of;}function p(){q()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,h.Qf(v));}function v(){var A,B,D,E,F,C,G,J;A=l.kj();B=t.value;D=B?B.progress:0;E=n.state.value == k.Pb.LOADING || q() && A - u > f.config.Xsb;if(E && n.state.value == k.Pb.pe){if(n.Bf.value === k.xf.VJa)(F=D,C=!0);else {G=A;w=w || A;x=x || w + f.config.mOb + 1;g.Ba(G) && (G=d.bo(G,x),F=d.aj(1E3 * m.op((A - w) / (G - w),0,.99)) / 1E3);}if(F < D)if(D - F < f.config.CTb / 100)(F=D,y=void 0);else if(y){if(A - y > f.config.BTb){J=!0;y=void 0;}else F=D;}else (y=A,F=D);}else y=x=w=void 0;A=E?{As:C,progress:F,DTb:J}:null;(!A || !t || !B || g.Ba(A.progress) && !g.Ba(B.progress) || g.Ba(A.progress) && g.Ba(B.progress) && .01 < d.PE(A.progress - B.progress) || A.As !== B.As) && t.set(A);}t=n.Xia;u=0;n.state.addListener(function(){p();v();},c.N0);n.yb.addListener(function(A){if(A.oldValue !== k.cb.Of || A.newValue !== k.cb.Of)u=l.kj();p();});n.Bf.addListener(function(){p();});n.zr.addListener(function(){p();});n.Jm.addListener(function(){p();});z || (z=setInterval(v,100));};},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I;function c(M){var R;R=this;this.j=M;this.Tb=this.j.Tb;this.log=n.Ih(this.j,"MediaPresenterASE");this.N8=this.r4=0;this.X=this.Tb.X;this.r5a=this.i5a=this.v7=this.nta=!1;this.FZb=n.ka.get(D.iK)(B.Kc(z.c1));this.AL=void 0;this.Zo=n.ka.get(F.cKa)(this.j);this.lx={};this.F2a={};this.KV={};this.qg=new G.KFa(this.j);this.DZb=function(){var H,Q,N;R.j.jZ=k.kj();if(!R.jk() && R.Bn){H=R.Tb.OYa();H || (R.HRb(),R.qg.rxa(R.mediaTime));R.j.paused.value || !R.qg.Jka(R.mediaTime) || !R.Uia() || H || R.Zo.Fpa?R.gva():R.nta || R.hva();R.GRb();if(!R.Tb.OYa() && !R.v7){H=R.Tb.rV(!0);Q=R.j.yb.value;N=R.fvb();Q !== N && !1;N === x.cb.Vq?(R.mediaTime=R.j.Au.da(B.ja),R.gva()):N !== x.cb.Of && R.E0b(H);R.Jab();R.qg.qja(R.mediaTime);R.j.yb.set(N);N !== x.cb.Of || Q !== x.cb.Hc && Q !== x.cb.eh || R.uQb();}}};this.Nl=C.d6a(this.DZb);this.mediaTime=M.Y;this.j.ci=!1;this.Tb.addEventListener(A.Nj.t9a,function(){R.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{R.xb();}catch(H){R.log.error("Exception while initializing",H);R.Wd(q.M.xib);}});}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;f=a(47);l=a(12);m=a(14);d=a(58);h=a(60);g=a(50);k=a(51);n=a(8);a(98);q=a(3);p=a(329);v=a(21);t=a(92);u=a(30);w=a(61);x=a(15);y=a(19);z=a(184);A=a(300);B=a(4);D=a(111);E=a(207);F=a(535);C=a(1176);G=a(1177);J=a(261);K=a(206);I=a(11);c.prototype.AXa=function(){return this.Tb.rV(!1);};c.prototype.P5=function(){return this.Tb.P5();};c.prototype.MC=function(){return this.Tb.MC();};c.prototype.TG=function(){return this.Tb.TG();};c.prototype.qV=function(){return this.Tb.qV();};c.prototype.U5=function(){return this.Tb.U5();};c.prototype.xb=function(){var M;M=this;this.log.trace("Video element initializing");this.Tb.sourceBuffers.forEach(function(R){return M.qg.uXb(R);});this.wJb(this.j.kD);};c.prototype.wJb=function(M){var R,H;R=this;M?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.J}),null === (H=this.j.Ka) || void 0 === H?void 0:H.ez(this.j.J));this.log.trace("Waiting for loadedmetadata");this.Tb.addEventListener(A.Nj.a1a,function(Q){var N;Q=Q.Z;R.j.Cd("ld",Q);null === (N=R.j.Ka) || void 0 === N?void 0:N.ez(Q);R.j.fireEvent(x.ca.Y0a);});g.HPa(this.X,"loadedmetadata",function(){R.log.trace("Video element event: loadedmetadata");R.j.Cd("md");});h.ue.addListener(h.Cl,this.KV[h.Cl]=function(){return R.close();},l.$E);this.j.addEventListener(x.ca.jg,function(){return R.close();},l.$E);this.j.addEventListener(x.ca.R7a,function(){return R.hva();});this.j.addEventListener(x.ca.yH,function(){return R.hQb();});this.j.paused.addListener(function(){return R.Nl();});this.j.muted.addListener(function(){return R.Oxa();});this.j.volume.addListener(function(){return R.Oxa();});this.j.playbackRate.addListener(function(){return R.Baa();});this.j.zr.addListener(function(){return R.Nl();});this.j.Jm.addListener(function(){return R.Nl();});this.Oxa();this.Baa();this.qg.G$(function(){return R.l8();});this.l8();this.X_b();};c.prototype.h3=function(M){var R;R=this;!1;this.qg.grb(M);this.Utb(M).then(function(){R.l8();R.j.fireEvent(x.ca.k8);}).catch(function(H){R.Wd(q.M.Bib,{ub:u.vd(H)});});};c.prototype.Yha=function(M,R,H){H=void 0 === H?{}:H;R=this.KAb(M,R);this.qg.erb(M,R,H);this.l8();this.i5a || M.type !== f.Rb.ml.Lb || (this.Zo.Fpa || this.seek(this.j.Y,x.Be.Dx),this.i5a=!0);};c.prototype.X_b=function(){var M;M=this;this.Tb.addEventListener(A.Nj.AY,this.lx[A.Nj.AY]=function(){return M.zQb();});this.Tb.addEventListener(A.Nj.Vp,this.lx[A.Nj.Vp]=function(){return M.d9();});this.X.addEventListener("ended",this.lx.ended=function(){return M.cQb();});this.X.addEventListener("play",this.lx.play=function(){return M.lQb();});this.X.addEventListener("pause",this.lx.pause=function(){return M.jQb();});this.X.addEventListener("playing",this.lx.playing=function(){return M.rQb();});this.Bn=!0;this.qg.rxa(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Cd("vi");m.config.XTa?setTimeout(function(){M.ysa=!0;M.Nl();},m.config.XTa):this.ysa=!0;this.BYb();w.Qf(function(){return M.Nl();});};c.prototype.BYb=function(){var H;function M(){var Q;H.j.yb.value !== x.cb.Hc || 0 !== (null === (Q=H.j.Wf) || void 0 === Q?void 0:Q.P5()) || I.Ae.hidden?(H.C3a.Bs(),Q="stopTimer"):(H.C3a.JG(),Q="ensureTimer");H.log.trace("No render timer update: " + Q,{presentingState:x.cb[H.j.yb.value],hidden:I.Ae.hidden});}function R(Q){var N,L;Q=void 0 === Q?!0:Q;N=H.j.Ka;L=(null === N || void 0 === N?void 0:N.Yh) && N.A6();H.j.yb.value == x.cb.Of && H.j.state.value == x.Pb.pe && H.j.zr.value == x.xf.pe && H.j.Jm.value == x.xf.pe && !H.j.ci && L?(Q && H.t4.Bs(),H.t4.JG(),N="ensureTimer"):(H.t4.Bs(),N="stopTimer");H.log.trace("Timer update: " + N,{presentingState:x.cb[H.j.yb.value],playbackState:x.Pb[H.j.state.value],avBufferingState:x.xf[H.j.zr.value],textBufferingState:x.xf[H.j.Jm.value],autoplayWasBlocked:H.j.ci,hasLicense:L,restartTimer:Q});}H=this;m.config.MTa && (v.kb(!this.t4),this.t4=n.ka.get(E.m1)(m.config.MTa,function(){var Q;Q=n.ka.get(p.$ba).fUa(H.j);H.Wd(Q.code,Q);}),this.j.yb.addListener(function(){return R();}),this.j.zr.addListener(function(){return R();}),this.j.Jm.addListener(function(){return R();}),this.j.state.addListener(function(){return R();}),this.j.addEventListener(x.ca.Y0a,function(){return R();}),this.j.addEventListener(x.ca.ci,function(){return R();}),this.j.addEventListener(x.ca.wia,function(){return R();}),this.j.addEventListener(x.ca.pI,function(){return R(!0);}),R());m.config.B3a && (this.C3a=n.ka.get(E.m1)(m.config.B3a,function(){var Q;0 === (null === (Q=H.j.Wf) || void 0 === Q?void 0:Q.MC()) && (Q=n.ka.get(p.$ba).fUa(H.j),H.Wd(Q.code,Q));H.j.yb.removeListener(M);h.ue.removeListener(h.Nr,H.KV[h.Nr]);}),this.j.yb.addListener(M),h.ue.addListener(h.Nr,this.KV[h.Nr]=M),M());};c.prototype.KAb=function(M,R){var H;H=this.j.mf;(H=K.rpa(H)?H.VM():void 0) && M.type === f.Rb.ml.Lb && ((M=new J.RJ(this.log,{mediaType:J.Oj.Lb,url:"http://some-url"},R).ta(H))?R=M:!1);return R;};c.prototype.l8=function(){this.Bn?this.Nl():m.config.frb && this.qg.rxa(this.mediaTime);this.qg.QRa();};c.prototype.HYb=function(){!1;this.j.yb.set(x.cb.Of);this.v7=!0;this.Nl();};c.prototype.bvb=function(){var M;M=this;this.v7 && (!1,this.v7=!1,w.Qf(function(){return M.vPb();}));};c.prototype.G5=function(){return this.qg.G5();};c.prototype.vPb=function(){var M,R;M=this.j.PC() || 0;if(this.j.bb.El){if(m.config.Jsb){M=M - (this.Tb.wva + 1) - m.config.vva;R=this.j.Ka.Io().dd;M=Math.max(M,R);}}else (M-=m.config.oWb,M=Math.max(M,this.Zo.fqa));this.seek(M,x.Be.SR);};c.prototype.a9=function(M){var R;R=this;this.qg.wXb(M);w.Qf(function(){return R.Nl();});};c.prototype.zFb=function(){return {r4:this.r4,N8:this.N8};};c.prototype.Utb=function(M){var R;R=this.Tb && this.Tb.jYa();this.j.Au && R && Infinity !== M.$7a && (M=M.$7a + M.Lu,M > this.j.Au.K5a(B.ja) && (this.j.Au=B.Kc(M)));return Promise.resolve();};c.prototype.GRb=function(){var M;M=this;this.Zo.w9 && (!1,this.Uia() && this.qg.Jka(this.mediaTime) && (this.Tb.seek(this.mediaTime),this.Zo.w9=!1,w.Qf(function(){return M.Nl();})));};c.prototype.E0b=function(M){var R;if(M < this.mediaTime){R=this.mediaTime - M;m.config.IRb && M && R > z.c1 && (M={ElementTime:t.bj(M),MediaTime:t.bj(this.mediaTime)},R > z.wJa?this.Wd(q.M.Lib,{ub:Object.assign({Trace:this.Tb.RC()},M)}):this.log.warn("VIDEO.currentTime became smaller",M));}else this.mediaTime=t.op(M,0,this.j.Au.da(B.ja));};c.prototype.Uia=function(){return this.j.zr.value === x.xf.pe && this.j.Jm.value === x.xf.pe;};c.prototype.fvb=function(){var M,R,H;M=this;R=this.j.yb.value;H=R;this.Zo.Fpa?H=x.cb.Of:this.X && this.X.ended?R === x.cb.Hc && (H=x.cb.Vq):this.Uia() && this.qg.Jka(this.mediaTime)?this.Tb.Mzb()?H=this.X && this.X.paused?x.cb.eh:x.cb.Hc:this.FZb.Ml(function(){return M.EZb();}):H=this.j.Au?this.j.sZa(this.mediaTime,this.qg.q4())?x.cb.Of:x.cb.Vq:x.cb.Of;return H;};c.prototype.uQb=function(){var M;if(this.j.yb.value === x.cb.Of){M=this.qg.m_b() > this.qg.q4();this.j.Jm.value !== x.xf.pe?this.j.ai.value?(this.j.fireEvent(x.ca.Hy,{cause:d.oIa}),this.log.warn("rebuffer due to timed text",this.j.ai.value.Oi)):this.j.fireEvent(x.ca.EP):M?(this.r4++,this.j.fireEvent(x.ca.Hy,{cause:d.Uda})):(this.N8++,this.j.fireEvent(x.ca.Hy,{cause:d.Vda}));}};c.prototype.EZb=function(){this.jk() || (m.config.zPb && this.qg.yPb(),this.Nl());};c.prototype.zQb=function(){this.Nl();};c.prototype.d9=function(){this.Nl();this.j.fireEvent(x.ca.Vp);};c.prototype.cQb=function(){this.log.trace("Video element event: ended");this.Nl();};c.prototype.lQb=function(){this.log.trace("Video element event: play");this.Nl();};c.prototype.jQb=function(){this.log.trace("Video element event: pause");this.Nl();};c.prototype.rQb=function(){this.log.trace("Video element event: playing");this.Nl();};c.prototype.Oxa=function(){this.jk() || (this.X && this.X.volume !== this.j.volume.value && (this.X.volume=this.j.volume.value),this.X && this.X.muted !== this.j.muted.value && (this.X.muted=this.j.muted.value));};c.prototype.Baa=function(){!this.jk() && this.X && (this.X.playbackRate=this.j.playbackRate.value);};c.prototype.hva=function(){var M;M=this;this.jk() || !y.Uc(this.X) || this.X.ended || !this.ysa || !this.PP && void 0 !== this.PP || (this.log.trace("Calling play on element"),Promise.resolve(this.X.play()).then(function(){M.closed || (M.PP=!1,M.nta=!1,M.X.style.display=null,M.j.ci=!1,M.j.fireEvent(x.ca.wia,{j:M.j}));}).catch(function(R){"NotAllowedError" === R.name?(M.log.warn("Playback is blocked by the browser settings",R),M.j.ci=!0,M.closed || (M.nta=!0,M.X.style.display="none",M.j.fireEvent(x.ca.ci,{player:{play:function(){return M.hva();}}}))):M.closed || (M.PP=!1,M.r5a || (M.r5a=!0,M.log.error("Play promise rejected",R)));}));};c.prototype.hQb=function(){this.Zo.fqa=this.j.PC() || 0;};c.prototype.gva=function(){this.jk() || !y.Uc(this.X) || this.X.ended || !this.ysa || this.PP && void 0 !== this.PP || (this.log.trace("Calling pause on element"),this.X.pause(),this.PP=!0);};c.prototype.Jab=function(M){this.j.mediaTime.set(this.mediaTime);M && this.j.fDb();};c.prototype.seek=function(M,R,H,Q){var N,L;H=void 0 === H?this.j.wa:H;Q=void 0 === Q?!1:Q;L=null === (N=this.j.Ka) || void 0 === N?void 0:N.Yh;!this.jk() && L && (this.j.fireEvent(x.ca.pI,{cause:R}),this.Zo.CX={time:M,cause:R,wa:H,lDb:Q},this.j.yb.set(x.cb.Of),this.Nl());};c.prototype.HRb=function(){var M,R,H,Q,N,L,P,S;if(this.Zo.CX){M=this.Zo.CX;R=M.time;H=M.cause;Q=M.wa;N=M.lDb;if(!this.qg.Hh() || H === x.Be.Dx){M=this.j.rm(Q).J;L=this.qg.Hh()?void 0:this.qg.oEb();L=this.Zo.YFb(R,H,Q,N,L);Q=L.Q8;N=L.ek;P=L.jSb;L=L.Ji;this.qg.qja(this.mediaTime);S=this.mediaTime;R=t.bj(R);this.j.ZF("SEEKING: Requested: (" + M + ":" + H + ":" + R + ") - Actual: (contentPts: " + N + ",playerPts: " + (P + ", newMediaTime: " + Q + ")"));this.log.info("Seeking",{Requested:R,Actual:t.bj(Q),Cause:H,Skip:L});H === x.Be.Dx || L || (this.qg.w7a(),this.qg.rXb());this.mediaTime=Q;this.Zo.fqa=N;R=this.j.hf.value;P=this.j.ke.value;this.j.hf.set(null);this.j.ke.set(null);this.Jab(!0);this.Zo.CX=void 0;this.Zo.w9=!0;this.j.fireEvent(x.ca.wk,{zsa:S,Q8:Q,ek:N,cause:H,skip:L,hf:R,ke:P,J:M});L && this.qg.skip(Q);}}};c.prototype.Wd=function(M,R,H){this.closed || this.j.Wd(M,R,H);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.qg.close();this.Tb.removeEventListener(A.Nj.AY,this.F2a[A.Nj.AY]);this.Tb.removeEventListener(A.Nj.Vp,this.F2a[A.Nj.Vp]);this.X.removeEventListener("ended",this.lx.ended);this.X.removeEventListener("play",this.lx.play);this.X.removeEventListener("pause",this.lx.pause);this.X.removeEventListener("playing",this.lx.playing);h.ue.removeListener(h.Cl,this.KV[h.Cl]);h.ue.removeListener(h.Nr,this.KV[h.Nr]);this.closed=!0;try{m.config.NOb && (this.X.volume=0,this.X.muted=!0);this.gva();this.Tb.close();}catch(M){}this.X=void 0;this.qg.w7a();}};c.prototype.jk=function(){return this.closed?!0:y.Uc(this.X)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.YFa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cKa="SeekManagerFactorySymbol";},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;c=a(14);f=a(60);l=a(24);m=a(3);d=a(15);b.oCa=function(h,g,k){function n(p){var v,t;v=p.error || p;t=l.vd(v);k.error("uncaught exception",v,t);(v=(v=v && v.stack) && c.config.qab && c.config.h0b?0 <= v.indexOf(c.config.qab):void 0) && (p && p.stopImmediatePropagation && p.stopImmediatePropagation(),h.Wd(m.M.ELa));}function q(){f.ue.removeListener(f.t6,n);h.removeEventListener(d.ca.jg,q);h.removeEventListener(d.ca.Bq,q);}try{f.ue.addListener(f.t6,n);h.addEventListener(d.ca.jg,q);c.config.bJb && h.addEventListener(d.ca.Bq,q);}catch(p){k.error("exception in exception handler ",p);}};},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.G1a=void 0;c=a(14);f=a(12);l=a(51);r=a(3);m=a(11);d=a(19);h=a(8);a=a(31);h.ka.get(a.dh).register(r.M.JDa,function(g){var n,q,p,v,t;function k(){var u;u=m.Ix(l.kj() / p);if(u != t){for(var w=m.np(u - t,30);w--;){v.push(0);}(w=m.bo(v.length - 31,0)) && v.splice(0,w);t=u;}v[v.length - 1]++;}n=c.config.JMb;q=-6 / (n - 2 - 2);p=f.nl;v=[];t=m.Ix(l.kj() / p);d.Ipa(n) && (setInterval(k,1E3 / n),b.G1a={qFb:function(){var x;for(var u=[],w=v.length - 1;w--;){x=v[w];u.unshift(0 >= x?9:1 >= x?8:x >= n - 1?0:m.aj((x - 2) * q + 7));}return u;}});g(f.Xe);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bea="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IHa="PboManifestRequestTransformerSymbol";},function(r,b,a){var f,l,m,d,h;function c(g,k){this.Tb=g;this.j=k;this.uW=[];}Object.defineProperty(b,"__esModule",{value:!0});b.kQ=void 0;r=a(1);f=a(3);l=a(0);m=a(19);d=a(30);h=a(8);c.prototype.p5=function(g){this.uW.forEach(function(k){return k(g);});};c.prototype.Wd=function(g,k,n){this.j.Wd(g,k,n);};c.prototype.kqb=function(g){-1 === this.uW.indexOf(g) && this.uW.push(g);};c.prototype.TUb=function(g){g=this.uW.indexOf(g);0 <= g && this.uW.splice(g,1);};c.prototype.fZa=function(g){var k,n;k={};m.Uc(g.code)?k.na=f.lCa(g.code):k.na=f.L.Kj;try{n=g.message.match(/\((\d*)\)/)[1];k.nf=h.Eia(n,4);}catch(q){}k.ub=d.vd(g);return k;};a=r.__decorate([l.R()],c);b.kQ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WIa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ia="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DEa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var f;function c(l,m,d,h,g){var k;k=this;this.fb=l;this.Dk=m;this.Vu=d;this.Sb=h;this.Bm=g;this.N9=new Map();this.JXb();this.Sb.addListener(f.Da.loaded,function(){return k.Q5a();});}Object.defineProperty(b,"__esModule",{value:!0});b.TE=void 0;f=a(15);c.prototype.JPa=function(l){var m,d;m=this;d=Object.keys(this.fb.cl.Aa).find(function(h){return m.fb.cl.Aa[h].Z === l.J;});l.id || (l.id=null !== d && void 0 !== d?d:this.Bm.Lr(l.J));d || (this.fb.cl=this.Bm.hrb(this.fb.cl,l));d=this.fI(l.id);l.pj && this.fb.K0b(l.id,l.pj);return d;};c.prototype.kab=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.noa=function(l,m){var d;d=this;m=void 0 === m?{}:m;return this.Vu.transition(l,m).then(function(){d.fb.kh=l;});};c.prototype.close=function(l){return this.Vu.close(l);};c.prototype.isReady=function(){return this.Vu.DGb();};c.prototype.An=function(){return this.Vu.An();};c.prototype.ZG=function(){return this.Vu.ZG();};c.prototype.fI=function(l){this.N9.has(l) || this.N9.set(l,this.Vu.vo(this.Wsb(l)));return this.N9.get(l);};c.prototype.JXb=function(){var l;l=this;this.Vu.addListener(f.fF.BY,function(){return l.Sb.Cc(f.fF.BY);});Object.values(f.Da).forEach(function(m){l.Vu.addListener(m,function(d){return l.Sb.Cc(m,d);});});};c.prototype.Kw=function(){this.Q5a();};c.prototype.Hsa=function(l){this.Vu.I0b({id:l,J:this.fb.te(l).Z,pj:this.fb.VGb(l)});};c.prototype.SH=function(){};c.prototype.Q5a=function(){var l,m;if(this.isReady()){l=this.fb.kh;m=this.fb.BV(l);m && !this.N9.has(m) && (this.Hsa(l),this.fI(m));}};c.prototype.Wsb=function(l){var m,d,h,g;d=this.fb.te(l);h=this.Dk.iN(d.Z);g=null === h || void 0 === h?void 0:h.Db;h=null === h || void 0 === h?void 0:h.oa;return {id:l,J:d.Z,Y:d.xc,pj:null !== (m=null === g || void 0 === g?void 0:g.pj) && void 0 !== m?m:d.Nc,Db:g,oa:h};};b.TE=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.cea=void 0;a.prototype.Yqa=function(c){c=void 0 === c?{}:c;return {Ej:c.trackingId,u3:c.authParams,Gm:c.sessionParams,xe:c.uiLabel,Iaa:c.uxLabels,bla:c.disableTrackStickiness,HZ:c.uiPlayStartTime,t5:c.forceAudioTrackId,u5:c.forceTimedTextTrackId,El:c.isBranching,Dbb:c.vuiCommand,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,vM:c.enableTrickPlay,Boa:c.heartbeatCooldown,t7:c.isPlaygraph,P7:c.loadImmediately || !1,k5a:c.pin,LX:c.preciseSeeking,Y:c.startPts,Ha:c.endPts,pj:c.logicalEnd,c$:c.renderTimedText,FVa:c.extraManifestParams,iia:c.assetId,Mrb:c.audioLanguages,TZb:c.textLanguages,rbb:c.videoLanguage,Uo:c.packageId,bUa:c.desiredDownloadables,Sua:c.requestReference};};b.cea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;b.FCa=function(a){var l,m,d,h;function c(){if(d)for(var g;g=l.pop();){g(h);}}function f(g){d=!0;h=g;c();}l=[];return function(g){l.push(g);m || (m=!0,a(f));c();};};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});b.W$a=void 0;c=a(74);f=a(12);l=a(14);m=a(50);d=a(51);h=a(8);g=a(3);k=a(24);n=a(71);q=a(11);p=a(122);v=a(31);t=a(39);u=a(34);w=a(18);b.W$a=(function(){var z,A,B,D;function x(E){var F,C,G;F="info";C="";G=h.ka.get(n.lF).aYa();E.$ || (F="error",C+="&errorcode=" + (E.errorCode || ""),C+="&errorsubcode=" + (E.na || ""));C="type=startup&sev=" + F + C + "&" + m.hO(k.Xb({},G,{prefix:"m_"}));!1;y("startup",C,z);}function y(E,F,C){C && A && l.config.Y$a[E] && (E=B + "&jsoffms=" + d.kj() + "&do=" + q.jf.onLine + "&" + F + "&" + m.hO(k.Xb({},D.md,{prefix:"im_"})),!1,c.gf.download({url:C,zta:E,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},AC:"track"},f.ol));}A=!1;B="";h.Mi("TrackingLog");D=h.ka.get(v.dh);D.register(g.M.ODa,function(E){var F,C,G;if(A=l.config.X$a && ! !l.config.jxa){z=h.ka.get(p.uJ).host + l.config.jxa;F=h.ka.get(u.Gk);C=h.ka.get(u.wB);G=h.ka.get(w.fd).id;B="cat=cadplayback&dev=" + encodeURIComponent(F.dz) + "&ep=" + encodeURIComponent(C.$_) + "&ver=" + encodeURIComponent("6.0033.278.911") + "&jssid=" + G + "&browserua=" + q.vB;l.config.Az && (B+="&groupname=" + encodeURIComponent(l.config.Az));l.config.hJ && (B+="&uigroupname=" + encodeURIComponent(l.config.hJ));F=B;C=h.ka.get(t.IR);C=k.Xb({},C,{prefix:"pi_"});C="&" + m.hO(C);B=F + C;D.IN(x);}E(f.Xe);});return y;})();},function(r,b,a){var f,l,m,d,h;function c(g){var k;f.Mi("MediaSourceASE").trace("Inside MediaSourceASE");k=g.zV();this.readyState=h.Pc.CLOSED;this.sourceBuffers=k.sourceBuffers;this.addSourceBuffer=function(n){return k.addSourceBuffer(n);};this.Z2=function(n){return k.Z2(n);};this.removeSourceBuffer=function(n){return k.removeSourceBuffer(n);};this.Xp=function(n){return k.Xp(n);};this.TY=d++;this.duration=void 0;k.OWb(this.TY);this.readyState=h.Pc.OPEN;this.jc=l.ka.get(m.bg).HH(h.jc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;f=a(8);l=a(8);m=a(29);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Sj;},set:function(g){var k;this.Sj=g || Infinity;k=Math.floor(1E3 * g) || Infinity;this.sourceBuffers.forEach(function(n){n.Sj=k;});}});h={Pc:{CLOSED:0,OPEN:1,Vq:2,name:["CLOSED","OPEN","ENDED"]},jc:{kSa:!0,l3a:!0}};b.cGa=Object.assign(c,h);},function(r,b,a){var g,k,n,q,p,v,t,u;function c(w){return w.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function f(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function l(w,x,y){var z;if("string" === typeof w)return l.call(this,c(w),x,y);z=0;Object.keys(w).forEach(function(A){var B,D,E;B=p[A];D=w[A];if(B){if(E=v[A] || u[typeof g[B]])try{D=E(D);}catch(F){y && y.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}E=q[B];this[B]=D;q[B] !== E && (y && y.debug("Config changed for '" + A + "' from " + f(E) + " (" + typeof E + ") to " + f(D) + " (" + typeof D + ")"),++z);}else x?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),t[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && q.emit("changed");return z;}function m(){return Object.keys(p).reduce(function(w,x){var y,z;y=p[x];z=w[y];z?(z.push(x),w[y]=z.sort(function(A,B){return B.length - A.length;})):w[y]=[x];return w;},{});}function d(w,x){return w.hasOwnProperty(x)?f(w[x]):void 0;}function h(w,x){return "undefined" === typeof w?x:w;}b=a(86);a=a(1260).EventEmitter;g={};k=Object.create(g);n=Object.create(k);q=Object.create(n);p={};v={};t={};q.declare=function(w){Object.keys(w).forEach(function(x){var y,z,A,B;y=w[x];z=y[0];A=y[1];B=y[2];if(g.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var E;if(p.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");g.hasOwnProperty(x) || ("function" === typeof A && (A=A()),g[x]=A);p[D]=x;"function" === typeof B && (v[D]=B);if(E=t[D])(E.forEach(function(F){var C,G;C=F[0];G={};G[D]=F[1];l.call(C,G,!1);}),delete t[D]);});});return q;};u={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};q.set=l.bind(k);q.uX=l.bind(n);q.dump=function(w,x){var z,A,B,D;function y(){D && w && w.log("===========================================");}z=Object.keys(t).sort();A={};B=m();x=h(x,!0);Object.keys(p).sort().forEach(function(E){var F,C,G;E=p[E];if(!A[E]){A[E]=!0;F=d(k,E);C=d(n,E);if(x || "undefined" !== typeof F || "undefined" !== typeof C){G=B[E].join(",");G+=" = " + f(q[E]) + " (" + typeof q[E] + ") [";G+=h(C,"<unset>") + ",";G+=h(F,"<unset>") + ",";G+=d(g,E) + "]";D || (D=!0,w && w.log("Current config values"),y());w && w.log(G);}}});(x || z.length) && w && w.log("<undeclared> :",z);y();};q.Dt=function(w){var x,y;x={};y={};Object.keys(p).forEach(function(z){z=p[z];y[z] || (y[z]=!0,x[z]=q[z]);});w && l.call(x,w);return x;};q.j5a=function(){var w;w=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[w[y][0]]=k[y];return x;},{});};q.reset=function(){Object.keys(k).forEach(function(w){delete k[w];});};q.zd={};b(a,q);r.exports=Object.freeze(q);},function(r,b,a){var f;function c(l){for(var m="",d=0;d < l.length;d++){m+=l[d].Z + "|";}return m;}f=a(305);r.exports={assert:function(l,m){if(!l)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},s$b:function(l,m,d){Array.prototype.splice.apply(l,[m,0].concat(d));},EEb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.gR.Hdb){m=l[d].list;break;}}return m;},lEb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.gR.ycb){m=l[d].list;break;}}return m;},Hzb:function(l,m){for(var d=0,h,g,k,n=0,q=l.length - 1;n < q;n++){h=c(l[n].list || []);k=!1;for(var p=0,v=m.length;p < v;p++){if((g=c(m[p].list || []),g == h)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},OPb:function(l,m,d){for(var h=[],g,k=0;k < Math.min(m,l.length);k++){g=l[k].list || [];h=h.concat(g.slice(0,d));}return h;},NPb:function(l,m){for(var d=[],h,g=0;g < l.length && (h=l[g].list || [],h=h.slice(0,Math.min(h.length,m)),m-=h.length,d=d.concat(h),0 !== m);g++){;}return d;},MPb:function(l,m,d){var h;m < l.length && 0 <= m && (l=l[m].list || [],d < l.length && (h=l[d]));return h;},$Va:function(l){for(var m={},d=l.length,h,g=0;g < d;g++){h=l[g].list || [];for(var k=0;k < h.length;k++){if(h[k].property === f.QJ.CR || h[k].property === f.QJ.KAa){m.xk=g;m.gm=k;break;}}}void 0 === m.xk && void 0 === m.gm && (m.xk=0,m.gm=0);return m;}};},function(r,b,a){var m;function c(d,h,g,k,n,q,p){this.PZ=k;this.Ubb=d;this.z3a=h;this.Nra=g;this.WKb=q;this.VD=p;this.split=n;}function f(){this.K={};this.K["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.K["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.K["3"]=new c("7","8","7","10","1.5",0,0);this.K["7"]=new c("15","16","15","9","4.5",0,0);this.K["15"]=new c("31","32","31","2","5.5",0,0);this.K["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.K["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.K["123"]=new c("123","124","123","0","0",1,.207298);this.K["124"]=new c("123","124","123","0","0",1,.49076);this.K["64"]=new c("125","126","125","4","40.5",0,0);this.K["125"]=new c("125","126","125","0","0",1,-.00157835);this.K["126"]=new c("125","126","125","0","0",1,.934205);this.K["32"]=new c("65","66","65","135","5.5",0,0);this.K["65"]=new c("127","128","128","4","1272.5",0,0);this.K["127"]=new c("127","128","128","0","0",1,-.510333);this.K["128"]=new c("127","128","128","0","0",1,.18363);this.K["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.K["129"]=new c("129","130","129","0","0",1,-.0464542);this.K["130"]=new c("129","130","129","0","0",1,.458833);this.K["16"]=new c("33","34","34","10","2.00001",0,0);this.K["33"]=new c("67","68","67","0","29.5",0,0);this.K["67"]=new c("131","132","131","2","39.5",0,0);this.K["131"]=new c("131","132","131","0","0",1,-.37577);this.K["132"]=new c("131","132","131","0","0",1,.512087);this.K["68"]=new c("133","134","134","140","1.5",0,0);this.K["133"]=new c("133","134","134","0","0",1,.321272);this.K["134"]=new c("133","134","134","0","0",1,-.675396);this.K["34"]=new c("69","70","70","2","24.5",0,0);this.K["69"]=new c("135","136","136","9","28.5",0,0);this.K["135"]=new c("135","136","136","0","0",1,-.0573845);this.K["136"]=new c("135","136","136","0","0",1,-.507455);this.K["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.K["137"]=new c("137","138","137","0","0",1,-.503909);this.K["138"]=new c("137","138","137","0","0",1,.450886);this.K["8"]=new c("17","18","17","4","44189.5",0,0);this.K["17"]=new c("35","36","35","2","21.5",0,0);this.K["35"]=new c("71","72","72","0","19.5",0,0);this.K["71"]=new c("139","140","140","9","2.5",0,0);this.K["139"]=new c("139","140","140","0","0",1,.00403497);this.K["140"]=new c("139","140","140","0","0",1,-.312656);this.K["72"]=new c("141","142","141","135","96",0,0);this.K["141"]=new c("141","142","141","0","0",1,-.465786);this.K["142"]=new c("141","142","141","0","0",1,.159633);this.K["36"]=new c("73","74","73","130","89.5",0,0);this.K["73"]=new c("143","144","144","10","4.5",0,0);this.K["143"]=new c("143","144","144","0","0",1,-.76265);this.K["144"]=new c("143","144","144","0","0",1,-.580804);this.K["74"]=new c("145","146","146","10","16.5",0,0);this.K["145"]=new c("145","146","146","0","0",1,.296357);this.K["146"]=new c("145","146","146","0","0",1,-.691659);this.K["18"]=new c("37","38","38","9","1.5",0,0);this.K["37"]=new c("37","38","38","0","0",1,.993951);this.K["38"]=new c("75","76","75","0","19",0,0);this.K["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.K["147"]=new c("147","148","147","0","0",1,-.346535);this.K["148"]=new c("147","148","147","0","0",1,-.995745);this.K["76"]=new c("147","148","147","0","0",1,-.99978);this.K["4"]=new c("9","10","9","5","4.5",0,0);this.K["9"]=new c("19","20","19","2","4.5",0,0);this.K["19"]=new c("39","40","39","140","7.5",0,0);this.K["39"]=new c("77","78","78","134","6.5",0,0);this.K["77"]=new c("149","150","150","7","11.5",0,0);this.K["149"]=new c("149","150","150","0","0",1,.729843);this.K["150"]=new c("149","150","150","0","0",1,.383857);this.K["78"]=new c("151","152","151","133","4.5",0,0);this.K["151"]=new c("151","152","151","0","0",1,.39017);this.K["152"]=new c("151","152","151","0","0",1,.0434342);this.K["40"]=new c("79","80","79","133","3.5",0,0);this.K["79"]=new c("153","154","154","8","4.5",0,0);this.K["153"]=new c("153","154","154","0","0",1,-.99536);this.K["154"]=new c("153","154","154","0","0",1,-.00943396);this.K["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.K["155"]=new c("155","156","155","0","0",1,.266272);this.K["156"]=new c("155","156","155","0","0",1,.959904);this.K["20"]=new c("41","42","42","10","65.5",0,0);this.K["41"]=new c("81","82","82","7","10.5",0,0);this.K["81"]=new c("157","158","158","2","37.5",0,0);this.K["157"]=new c("157","158","158","0","0",1,-.701873);this.K["158"]=new c("157","158","158","0","0",1,.224649);this.K["82"]=new c("159","160","159","133","9.5",0,0);this.K["159"]=new c("159","160","159","0","0",1,.0955181);this.K["160"]=new c("159","160","159","0","0",1,-.58962);this.K["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.K["83"]=new c("161","162","161","135","31",0,0);this.K["161"]=new c("161","162","161","0","0",1,-.229692);this.K["162"]=new c("161","162","161","0","0",1,.88595);this.K["84"]=new c("163","164","164","1","13.5",0,0);this.K["163"]=new c("163","164","164","0","0",1,-.992157);this.K["164"]=new c("163","164","164","0","0",1,.922159);this.K["10"]=new c("21","22","22","4","486",0,0);this.K["21"]=new c("43","44","44","133","4.5",0,0);this.K["43"]=new c("85","86","86","10","4.5",0,0);this.K["85"]=new c("165","166","166","4","158.5",0,0);this.K["165"]=new c("165","166","166","0","0",1,-.127778);this.K["166"]=new c("165","166","166","0","0",1,.955189);this.K["86"]=new c("165","166","166","0","0",1,-.994012);this.K["44"]=new c("87","88","88","1","3.5",0,0);this.K["87"]=new c("167","168","168","135","7",0,0);this.K["167"]=new c("167","168","168","0","0",1,-.997015);this.K["168"]=new c("167","168","168","0","0",1,.400821);this.K["88"]=new c("169","170","169","130","36",0,0);this.K["169"]=new c("169","170","169","0","0",1,-.898638);this.K["170"]=new c("169","170","169","0","0",1,.56129);this.K["22"]=new c("45","46","45","9","2.5",0,0);this.K["45"]=new c("89","90","90","9","1.5",0,0);this.K["89"]=new c("171","172","171","10","10.5",0,0);this.K["171"]=new c("171","172","171","0","0",1,.573986);this.K["172"]=new c("171","172","171","0","0",1,-.627266);this.K["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.K["173"]=new c("173","174","173","0","0",1,.925273);this.K["174"]=new c("173","174","173","0","0",1,-.994805);this.K["46"]=new c("91","92","91","136","5.5",0,0);this.K["91"]=new c("175","176","175","10","10.5",0,0);this.K["175"]=new c("175","176","175","0","0",1,.548352);this.K["176"]=new c("175","176","175","0","0",1,-.879195);this.K["92"]=new c("177","178","178","8","14.5",0,0);this.K["177"]=new c("177","178","178","0","0",1,.457305);this.K["178"]=new c("177","178","178","0","0",1,-.998992);this.K["2"]=new c("5","6","5","10","2.5",0,0);this.K["5"]=new c("11","12","11","9","4.5",0,0);this.K["11"]=new c("23","24","24","10","4.00001",0,0);this.K["23"]=new c("47","48","48","133","5.5",0,0);this.K["47"]=new c("93","94","93","3","13.5",0,0);this.K["93"]=new c("179","180","179","138","15.5",0,0);this.K["179"]=new c("179","180","179","0","0",1,.658398);this.K["180"]=new c("179","180","179","0","0",1,-.927007);this.K["94"]=new c("181","182","182","3","15.5",0,0);this.K["181"]=new c("181","182","182","0","0",1,-.111351);this.K["182"]=new c("181","182","182","0","0",1,-.99827);this.K["48"]=new c("95","96","95","7","167",0,0);this.K["95"]=new c("183","184","183","132","36.5",0,0);this.K["183"]=new c("183","184","183","0","0",1,.895161);this.K["184"]=new c("183","184","183","0","0",1,-.765217);this.K["96"]=new c("185","186","186","137","6.00001",0,0);this.K["185"]=new c("185","186","186","0","0",1,-.851095);this.K["186"]=new c("185","186","186","0","0",1,.674286);this.K["24"]=new c("49","50","49","137","5.5",0,0);this.K["49"]=new c("97","98","97","5","23.5",0,0);this.K["97"]=new c("187","188","187","3","28.5",0,0);this.K["187"]=new c("187","188","187","0","0",1,.951654);this.K["188"]=new c("187","188","187","0","0",1,-.993808);this.K["98"]=new c("187","188","187","0","0",1,-.99705);this.K["50"]=new c("187","188","187","0","0",1,-.997525);this.K["12"]=new c("25","26","25","8","8.5",0,0);this.K["25"]=new c("51","52","52","10","4.00001",0,0);this.K["51"]=new c("99","100","100","133","5.5",0,0);this.K["99"]=new c("189","190","190","7","40.5",0,0);this.K["189"]=new c("189","190","190","0","0",1,.151839);this.K["190"]=new c("189","190","190","0","0",1,-.855517);this.K["100"]=new c("191","192","192","133","14.5",0,0);this.K["191"]=new c("191","192","192","0","0",1,.86223);this.K["192"]=new c("191","192","192","0","0",1,.544394);this.K["52"]=new c("101","102","101","135","47.5",0,0);this.K["101"]=new c("193","194","194","4","24.5",0,0);this.K["193"]=new c("193","194","194","0","0",1,.946185);this.K["194"]=new c("193","194","194","0","0",1,.811859);this.K["102"]=new c("193","194","194","0","0",1,-.991561);this.K["26"]=new c("53","54","54","132","6.5",0,0);this.K["53"]=new c("103","104","103","131","85",0,0);this.K["103"]=new c("195","196","196","134","16.5",0,0);this.K["195"]=new c("195","196","196","0","0",1,.0473538);this.K["196"]=new c("195","196","196","0","0",1,-.999401);this.K["104"]=new c("197","198","198","8","15.5",0,0);this.K["197"]=new c("197","198","198","0","0",1,.816129);this.K["198"]=new c("197","198","198","0","0",1,-.99322);this.K["54"]=new c("105","106","105","133","3.5",0,0);this.K["105"]=new c("105","106","105","0","0",1,-.998783);this.K["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.K["199"]=new c("199","200","199","0","0",1,.528588);this.K["200"]=new c("199","200","199","0","0",1,-.998599);this.K["6"]=new c("13","14","14","10","7.5",0,0);this.K["13"]=new c("27","28","28","133","7.5",0,0);this.K["27"]=new c("55","56","56","10","4.5",0,0);this.K["55"]=new c("107","108","107","3","3.5",0,0);this.K["107"]=new c("201","202","201","4","17.5",0,0);this.K["201"]=new c("201","202","201","0","0",1,-.379512);this.K["202"]=new c("201","202","201","0","0",1,.15165);this.K["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.K["203"]=new c("203","204","203","0","0",1,-.884606);this.K["204"]=new c("203","204","203","0","0",1,.265406);this.K["56"]=new c("109","110","109","136","6.5",0,0);this.K["109"]=new c("205","206","205","4","157.5",0,0);this.K["205"]=new c("205","206","205","0","0",1,-.0142737);this.K["206"]=new c("205","206","205","0","0",1,.691279);this.K["110"]=new c("205","206","205","0","0",1,-.998086);this.K["28"]=new c("57","58","58","138","11.5",0,0);this.K["57"]=new c("111","112","112","2","6.5",0,0);this.K["111"]=new c("207","208","208","7","67.5",0,0);this.K["207"]=new c("207","208","208","0","0",1,.763925);this.K["208"]=new c("207","208","208","0","0",1,-.309645);this.K["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.K["209"]=new c("209","210","209","0","0",1,-.306635);this.K["210"]=new c("209","210","209","0","0",1,.556696);this.K["58"]=new c("113","114","113","138","50.5",0,0);this.K["113"]=new c("211","212","212","8","25.5",0,0);this.K["211"]=new c("211","212","212","0","0",1,.508234);this.K["212"]=new c("211","212","212","0","0",1,.793551);this.K["114"]=new c("211","212","212","0","0",1,-.998438);this.K["14"]=new c("29","30","29","134","27.5",0,0);this.K["29"]=new c("59","60","60","7","17.5",0,0);this.K["59"]=new c("115","116","115","135","5.5",0,0);this.K["115"]=new c("213","214","214","137","5.5",0,0);this.K["213"]=new c("213","214","214","0","0",1,.401747);this.K["214"]=new c("213","214","214","0","0",1,.0367503);this.K["116"]=new c("215","216","216","8","5.5",0,0);this.K["215"]=new c("215","216","216","0","0",1,-.0241984);this.K["216"]=new c("215","216","216","0","0",1,-.999046);this.K["60"]=new c("117","118","117","0","12.5",0,0);this.K["117"]=new c("217","218","218","132","5.5",0,0);this.K["217"]=new c("217","218","218","0","0",1,-.997294);this.K["218"]=new c("217","218","218","0","0",1,.210398);this.K["118"]=new c("219","220","219","137","1.5",0,0);this.K["219"]=new c("219","220","219","0","0",1,-.55763);this.K["220"]=new c("219","220","219","0","0",1,.074493);this.K["30"]=new c("61","62","62","133","42.5",0,0);this.K["61"]=new c("119","120","119","135","5.5",0,0);this.K["119"]=new c("221","222","222","4","473.5",0,0);this.K["221"]=new c("221","222","222","0","0",1,-.920213);this.K["222"]=new c("221","222","222","0","0",1,-.17615);this.K["120"]=new c("223","224","224","5","144",0,0);this.K["223"]=new c("223","224","224","0","0",1,-.954295);this.K["224"]=new c("223","224","224","0","0",1,-.382538);this.K["62"]=new c("121","122","121","133","50",0,0);this.K["121"]=new c("225","226","226","10","18.5",0,0);this.K["225"]=new c("225","226","226","0","0",1,-.0731343);this.K["226"]=new c("225","226","226","0","0",1,.755454);this.K["122"]=new c("227","228","228","0","30",0,0);this.K["227"]=new c("227","228","228","0","0",1,.25);this.K["228"]=new c("227","228","228","0","0",1,-.997101);}function l(d,h,g,k,n,q){this.o$=n;this.V3=q;}b=a(549);m=a(304);a={};a.Hrb=new (function(){this.Xlb=m();this.G=0;this.update=function(){this.G=m() - this.Xlb;};this.getValue=function(){return this.G;};this.type="num";})();a.PLb=new (function(){this.getValue=function(d,h,g){return this.G="becauseYouAdded" === g.Ya[d].context || null;};this.type="cat";})();a.QLb=new (function(){this.getValue=function(d,h,g){return this.G="becauseYouLiked" === g.Ya[d].context || null;};this.type="cat";})();a.SLb=new (function(){this.getValue=function(d,h,g){return this.G="billboard" === g.Ya[d].context || null;};this.type="cat";})();a.TLb=new (function(){this.getValue=function(d,h,g){return this.G="continueWatching" === g.Ya[d].context || null;};this.type="cat";})();a.RLb=new (function(){this.getValue=function(d,h,g){return this.G="bigRow" === g.Ya[d].context || null;};this.type="cat";})();a.ULb=new (function(){this.getValue=function(d,h,g){return this.G="genre" === g.Ya[d].context || null;};this.type="cat";})();a.VLb=new (function(){this.getValue=function(d,h,g){return this.G="netflixOriginals" === g.Ya[d].context || null;};this.type="cat";})();a.WLb=new (function(){this.getValue=function(d,h,g){return this.G="newRelease" === g.Ya[d].context || null;};this.type="cat";})();a.XLb=new (function(){this.getValue=function(d,h,g){return this.G="popularTitles" === g.Ya[d].context || null;};this.type="cat";})();a.YLb=new (function(){this.getValue=function(d,h,g){return this.G="queue" === g.Ya[d].context || null;};this.type="cat";})();a.ZLb=new (function(){this.getValue=function(d,h,g){return this.G="recentlyAdded" === g.Ya[d].context || null;};this.type="cat";})();a.$Lb=new (function(){this.getValue=function(d,h,g){return this.G="similars" === g.Ya[d].context || null;};this.type="cat";})();a.bMb=new (function(){this.getValue=function(d,h,g){return this.G="trendingNow" === g.Ya[d].context || null;};this.type="cat";})();a.cMb=new (function(){this.getValue=function(d,h,g){return this.G="ultraHD" === g.Ya[d].context || null;};this.type="cat";})();a.dMb=new (function(){this.getValue=function(d,h,g){return this.G="watchAgain" === g.Ya[d].context || null;};this.type="cat";})();a.aMb=new (function(){this.getValue=function(d,h,g){return this.G="topTen" === g.Ya[d].context || null;};this.type="cat";})();a.qsb=new (function(){this.update=function(d){for(var h in d.Ya){if("becauseYouAdded" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.rsb=new (function(){this.update=function(d){for(var h in d.Ya){if("becauseYouLiked" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.usb=new (function(){this.update=function(d){for(var h in d.Ya){if("billboard" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Bvb=new (function(){this.update=function(d){for(var h in d.Ya){if("continueWatching" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.tsb=new (function(){this.update=function(d){for(var h in d.Ya){if("bigRow" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.PDb=new (function(){this.update=function(d){for(var h in d.Ya){if("genre" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.QOb=new (function(){this.update=function(d){for(var h in d.Ya){if("netflixOriginals" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.SOb=new (function(){this.update=function(d){for(var h in d.Ya){if("newRelease" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.wSb=new (function(){this.update=function(d){for(var h in d.Ya){if("popularTitles" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Xo=new (function(){this.update=function(d){for(var h in d.Ya){if("queue" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.fUb=new (function(){this.update=function(d){for(var h in d.Ya){if("recentlyAdded" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.kYb=new (function(){this.update=function(d){for(var h in d.Ya){if("similars" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.O_b=new (function(){this.update=function(d){for(var h in d.Ya){if("trendingNow" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.f0b=new (function(){this.update=function(d){for(var h in d.Ya){if("ultraHD" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.c2b=new (function(){this.update=function(d){for(var h in d.Ya){if("watchAgain" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.x_b=new (function(){this.update=function(d){for(var h in d.Ya){if("topTen" === d.Ya[h].context){this.G=Math.max(d.Ya[h].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Mvb=new (function(){this.getValue=function(d,h,g){return this.G="AR" === g.Xa || null;};this.type="cat";})();a.Nvb=new (function(){this.getValue=function(d,h,g){return this.G="AT" === g.Xa || null;};this.type="cat";})();a.Ovb=new (function(){this.getValue=function(d,h,g){return this.G="AU" === g.Xa || null;};this.type="cat";})();a.Pvb=new (function(){this.getValue=function(d,h,g){return this.G="AZ" === g.Xa || null;};this.type="cat";})();a.Qvb=new (function(){this.getValue=function(d,h,g){return this.G="BB" === g.Xa || null;};this.type="cat";})();a.Rvb=new (function(){this.getValue=function(d,h,g){return this.G="BE" === g.Xa || null;};this.type="cat";})();a.Svb=new (function(){this.getValue=function(d,h,g){return this.G="BO" === g.Xa || null;};this.type="cat";})();a.Tvb=new (function(){this.getValue=function(d,h,g){return this.G="BR" === g.Xa || null;};this.type="cat";})();a.Uvb=new (function(){this.getValue=function(d,h,g){return this.G="BS" === g.Xa || null;};this.type="cat";})();a.Vvb=new (function(){this.getValue=function(d,h,g){return this.G="CA" === g.Xa || null;};this.type="cat";})();a.Wvb=new (function(){this.getValue=function(d,h,g){return this.G="CH" === g.Xa || null;};this.type="cat";})();a.Xvb=new (function(){this.getValue=function(d,h,g){return this.G="CL" === g.Xa || null;};this.type="cat";})();a.Yvb=new (function(){this.getValue=function(d,h,g){return this.G="CO" === g.Xa || null;};this.type="cat";})();a.Zvb=new (function(){this.getValue=function(d,h,g){return this.G="CR" === g.Xa || null;};this.type="cat";})();a.$vb=new (function(){this.getValue=function(d,h,g){return this.G="CW" === g.Xa || null;};this.type="cat";})();a.awb=new (function(){this.getValue=function(d,h,g){return this.G="DE" === g.Xa || null;};this.type="cat";})();a.bwb=new (function(){this.getValue=function(d,h,g){return this.G="DK" === g.Xa || null;};this.type="cat";})();a.cwb=new (function(){this.getValue=function(d,h,g){return this.G="DM" === g.Xa || null;};this.type="cat";})();a.dwb=new (function(){this.getValue=function(d,h,g){return this.G="DO" === g.Xa || null;};this.type="cat";})();a.ewb=new (function(){this.getValue=function(d,h,g){return this.G="EC" === g.Xa || null;};this.type="cat";})();a.fwb=new (function(){this.getValue=function(d,h,g){return this.G="EE" === g.Xa || null;};this.type="cat";})();a.gwb=new (function(){this.getValue=function(d,h,g){return this.G="EG" === g.Xa || null;};this.type="cat";})();a.hwb=new (function(){this.getValue=function(d,h,g){return this.G="ES" === g.Xa || null;};this.type="cat";})();a.iwb=new (function(){this.getValue=function(d,h,g){return this.G="FI" === g.Xa || null;};this.type="cat";})();a.jwb=new (function(){this.getValue=function(d,h,g){return this.G="FR" === g.Xa || null;};this.type="cat";})();a.kwb=new (function(){this.getValue=function(d,h,g){return this.G="GB" === g.Xa || null;};this.type="cat";})();a.lwb=new (function(){this.getValue=function(d,h,g){return this.G="GF" === g.Xa || null;};this.type="cat";})();a.mwb=new (function(){this.getValue=function(d,h,g){return this.G="GP" === g.Xa || null;};this.type="cat";})();a.nwb=new (function(){this.getValue=function(d,h,g){return this.G="GT" === g.Xa || null;};this.type="cat";})();a.owb=new (function(){this.getValue=function(d,h,g){return this.G="HK" === g.Xa || null;};this.type="cat";})();a.pwb=new (function(){this.getValue=function(d,h,g){return this.G="HN" === g.Xa || null;};this.type="cat";})();a.qwb=new (function(){this.getValue=function(d,h,g){return this.G="HR" === g.Xa || null;};this.type="cat";})();a.rwb=new (function(){this.getValue=function(d,h,g){return this.G="HU" === g.Xa || null;};this.type="cat";})();a.swb=new (function(){this.getValue=function(d,h,g){return this.G="ID" === g.Xa || null;};this.type="cat";})();a.twb=new (function(){this.getValue=function(d,h,g){return this.G="IE" === g.Xa || null;};this.type="cat";})();a.uwb=new (function(){this.getValue=function(d,h,g){return this.G="IL" === g.Xa || null;};this.type="cat";})();a.vwb=new (function(){this.getValue=function(d,h,g){return this.G="IN" === g.Xa || null;};this.type="cat";})();a.wwb=new (function(){this.getValue=function(d,h,g){return this.G="IT" === g.Xa || null;};this.type="cat";})();a.xwb=new (function(){this.getValue=function(d,h,g){return this.G="JE" === g.Xa || null;};this.type="cat";})();a.ywb=new (function(){this.getValue=function(d,h,g){return this.G="JM" === g.Xa || null;};this.type="cat";})();a.zwb=new (function(){this.getValue=function(d,h,g){return this.G="JP" === g.Xa || null;};this.type="cat";})();a.Awb=new (function(){this.getValue=function(d,h,g){return this.G="KE" === g.Xa || null;};this.type="cat";})();a.Bwb=new (function(){this.getValue=function(d,h,g){return this.G="KN" === g.Xa || null;};this.type="cat";})();a.Cwb=new (function(){this.getValue=function(d,h,g){return this.G="KR" === g.Xa || null;};this.type="cat";})();a.Dwb=new (function(){this.getValue=function(d,h,g){return this.G="LU" === g.Xa || null;};this.type="cat";})();a.Ewb=new (function(){this.getValue=function(d,h,g){return this.G="MK" === g.Xa || null;};this.type="cat";})();a.Fwb=new (function(){this.getValue=function(d,h,g){return this.G="MU" === g.Xa || null;};this.type="cat";})();a.Gwb=new (function(){this.getValue=function(d,h,g){return this.G="MX" === g.Xa || null;};this.type="cat";})();a.Hwb=new (function(){this.getValue=function(d,h,g){return this.G="MY" === g.Xa || null;};this.type="cat";})();a.Iwb=new (function(){this.getValue=function(d,h,g){return this.G="NI" === g.Xa || null;};this.type="cat";})();a.Jwb=new (function(){this.getValue=function(d,h,g){return this.G="NL" === g.Xa || null;};this.type="cat";})();a.Kwb=new (function(){this.getValue=function(d,h,g){return this.G="NO" === g.Xa || null;};this.type="cat";})();a.Lwb=new (function(){this.getValue=function(d,h,g){return this.G="NZ" === g.Xa || null;};this.type="cat";})();a.Mwb=new (function(){this.getValue=function(d,h,g){return this.G="OM" === g.Xa || null;};this.type="cat";})();a.Nwb=new (function(){this.getValue=function(d,h,g){return this.G="PA" === g.Xa || null;};this.type="cat";})();a.Owb=new (function(){this.getValue=function(d,h,g){return this.G="PE" === g.Xa || null;};this.type="cat";})();a.Pwb=new (function(){this.getValue=function(d,h,g){return this.G="PF" === g.Xa || null;};this.type="cat";})();a.Qwb=new (function(){this.getValue=function(d,h,g){return this.G="PH" === g.Xa || null;};this.type="cat";})();a.Rwb=new (function(){this.getValue=function(d,h,g){return this.G="PK" === g.Xa || null;};this.type="cat";})();a.Swb=new (function(){this.getValue=function(d,h,g){return this.G="PL" === g.Xa || null;};this.type="cat";})();a.Twb=new (function(){this.getValue=function(d,h,g){return this.G="PT" === g.Xa || null;};this.type="cat";})();a.Uwb=new (function(){this.getValue=function(d,h,g){return this.G="PY" === g.Xa || null;};this.type="cat";})();a.Vwb=new (function(){this.getValue=function(d,h,g){return this.G="QA" === g.Xa || null;};this.type="cat";})();a.Wwb=new (function(){this.getValue=function(d,h,g){return this.G="RO" === g.Xa || null;};this.type="cat";})();a.Xwb=new (function(){this.getValue=function(d,h,g){return this.G="RS" === g.Xa || null;};this.type="cat";})();a.Ywb=new (function(){this.getValue=function(d,h,g){return this.G="RU" === g.Xa || null;};this.type="cat";})();a.Zwb=new (function(){this.getValue=function(d,h,g){return this.G="SA" === g.Xa || null;};this.type="cat";})();a.$wb=new (function(){this.getValue=function(d,h,g){return this.G="SE" === g.Xa || null;};this.type="cat";})();a.axb=new (function(){this.getValue=function(d,h,g){return this.G="SG" === g.Xa || null;};this.type="cat";})();a.bxb=new (function(){this.getValue=function(d,h,g){return this.G="SV" === g.Xa || null;};this.type="cat";})();a.cxb=new (function(){this.getValue=function(d,h,g){return this.G="SX" === g.Xa || null;};this.type="cat";})();a.dxb=new (function(){this.getValue=function(d,h,g){return this.G="TH" === g.Xa || null;};this.type="cat";})();a.exb=new (function(){this.getValue=function(d,h,g){return this.G="TR" === g.Xa || null;};this.type="cat";})();a.fxb=new (function(){this.getValue=function(d,h,g){return this.G="TT" === g.Xa || null;};this.type="cat";})();a.gxb=new (function(){this.getValue=function(d,h,g){return this.G="TW" === g.Xa || null;};this.type="cat";})();a.hxb=new (function(){this.getValue=function(d,h,g){return this.G="US" === g.Xa || null;};this.type="cat";})();a.ixb=new (function(){this.getValue=function(d,h,g){return this.G="UY" === g.Xa || null;};this.type="cat";})();a.jxb=new (function(){this.getValue=function(d,h,g){return this.G="VE" === g.Xa || null;};this.type="cat";})();a.kxb=new (function(){this.getValue=function(d,h,g){return this.G="ZA" === g.Xa || null;};this.type="cat";})();a.hUb=new (function(){this.getValue=function(d,h,g){return this.G=1 === g.oi || null;};this.type="cat";})();a.iUb=new (function(){this.getValue=function(d,h,g){return this.G=10 === g.oi || null;};this.type="cat";})();a.jUb=new (function(){this.getValue=function(d,h,g){return this.G=11 === g.oi || null;};this.type="cat";})();a.kUb=new (function(){this.getValue=function(d,h,g){return this.G=12 === g.oi || null;};this.type="cat";})();a.lUb=new (function(){this.getValue=function(d,h,g){return this.G=13 === g.oi || null;};this.type="cat";})();a.mUb=new (function(){this.getValue=function(d,h,g){return this.G=14 === g.oi || null;};this.type="cat";})();a.nUb=new (function(){this.getValue=function(d,h,g){return this.G=15 === g.oi || null;};this.type="cat";})();a.oUb=new (function(){this.getValue=function(d,h,g){return this.G=16 === g.oi || null;};this.type="cat";})();a.pUb=new (function(){this.getValue=function(d,h,g){return this.G=17 === g.oi || null;};this.type="cat";})();a.qUb=new (function(){this.getValue=function(d,h,g){return this.G=18 === g.oi || null;};this.type="cat";})();a.rUb=new (function(){this.getValue=function(d,h,g){return this.G=19 === g.oi || null;};this.type="cat";})();a.sUb=new (function(){this.getValue=function(d,h,g){return this.G=2 === g.oi || null;};this.type="cat";})();a.tUb=new (function(){this.getValue=function(d,h,g){return this.G=20 === g.oi || null;};this.type="cat";})();a.uUb=new (function(){this.getValue=function(d,h,g){return this.G=21 === g.oi || null;};this.type="cat";})();a.vUb=new (function(){this.getValue=function(d,h,g){return this.G=22 === g.oi || null;};this.type="cat";})();a.wUb=new (function(){this.getValue=function(d,h,g){return this.G=23 === g.oi || null;};this.type="cat";})();a.xUb=new (function(){this.getValue=function(d,h,g){return this.G=3 === g.oi || null;};this.type="cat";})();a.yUb=new (function(){this.getValue=function(d,h,g){return this.G=4 === g.oi || null;};this.type="cat";})();a.zUb=new (function(){this.getValue=function(d,h,g){return this.G=5 === g.oi || null;};this.type="cat";})();a.AUb=new (function(){this.getValue=function(d,h,g){return this.G=6 === g.oi || null;};this.type="cat";})();a.BUb=new (function(){this.getValue=function(d,h,g){return this.G=7 === g.oi || null;};this.type="cat";})();a.CUb=new (function(){this.getValue=function(d,h,g){return this.G=8 === g.oi || null;};this.type="cat";})();a.DUb=new (function(){this.getValue=function(d,h,g){return this.G=9 === g.oi || null;};this.type="cat";})();a.qZb=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.sZb=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.rZb=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.tZb=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.ANb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.BNb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.Lja);};this.getValue=function(){return this.G;};this.type="num";})();a.INb=new (function(){this.oS=this.G=0;this.update=function(d){this.oS++;this.G=1 * (this.G + d.rowIndex) / this.oS;};this.getValue=function(){return this.G;};this.type="num";})();a.JNb=new (function(){this.oS=this.G=0;this.update=function(d){this.oS++;return this.G=1 * (this.G + d.Lja) / this.oS;};this.getValue=function(){return this.G;};this.type="num";})();a.bTb=new (function(){this.getValue=function(d,h,g){return this.G=g.Lja + h;};this.type="num";})();a.cTb=new (function(){this.getValue=function(d,h,g){return this.G=g.rowIndex + d;};this.type="num";})();f.prototype.VD=function(d){return this.JOa(this.K["0"].W7a(d),d);};f.prototype.JOa=function(d,h){return "string" == typeof d?this.JOa(this.K[d].W7a(h),h):d;};c.prototype.W7a=function(d){switch(this.WKb){case 0:switch(d.features[this.PZ].type){case "cat":return null === d.features[this.PZ].value?this.z3a:"missing" == d.features[this.PZ].value?this.Nra:this.Ubb;case "num":return null === d.features[this.PZ].value?this.Nra:d.features[this.PZ].value < this.split?this.Ubb:this.z3a;default:return this.Nra;}case 1:return this.VD;default:return this.VD;}};b.declare({XW:["modelSelector","modelone"],Sub:["colEpisodeList",5],CIb:["holdDuration",15E3],L7a:["rowFirst",2],mSa:["colFirst",5],N7a:["rowScroll",2],nSa:["colScroll",6],UVb:["rowScrollHorizontal",6],lWb:["searchTop",3],DTa:["cwFirst",2],UV:["horizontalItemsFocusedMode",3],YKb:["itemsPerRank",1],qNb:["maxNumberPayloadsStored",10],o2a:["maxNumberTitlesScheduled",5],t9b:["enableDetailedLogging",!0],qbc:["rowStep",20],T8b:["colStep",15],Tac:["pageRows",100],Sac:["pageColumns",75],ara:["maskParamsList",new (function(){var d,h;this.ara=[];this.Se={};this.o$=20;this.V3=15;for(d=0;100 > d;d++){for(h=0;75 > h;h++){(Math.floor(d / this.o$) + "_" + Math.floor(h / this.V3) in this.Se) || (this.Se[Math.floor(d / this.o$) + "_" + Math.floor(h / this.V3)]=1,this.ara.push(new l("grid",10,5,5,Math.floor(d / this.o$),Math.floor(h / this.V3))));}}})().ara],K:["nodes",new f().K],mapping:["mapping",{BNb:"0",JNb:"1",ANb:"2",INb:"3",Hrb:"4",tZb:"5",rZb:"6",sZb:"7",qZb:"8",cTb:"9",bTb:"10",PLb:"11",QLb:"12",SLb:"13",TLb:"14",RLb:"15",ULb:"16",VLb:"17",WLb:"18",XLb:"19",YLb:"20",ZLb:"21",$Lb:"22",aMb:"23",bMb:"24",cMb:"25",dMb:"26",hUb:"27",iUb:"28",jUb:"29",kUb:"30",lUb:"31",mUb:"32",nUb:"33",oUb:"34",pUb:"35",qUb:"36",rUb:"37",sUb:"38",tUb:"39",uUb:"40",vUb:"41",wUb:"42",xUb:"43",yUb:"44",zUb:"45",AUb:"46",BUb:"47",CUb:"48",DUb:"49",Mvb:"50",Nvb:"51",Ovb:"52",Pvb:"53",Qvb:"54",Rvb:"55",Svb:"56",Tvb:"57",Uvb:"58",Vvb:"59",Wvb:"60",Xvb:"61",Yvb:"62",Zvb:"63",$vb:"64",awb:"65",bwb:"66",cwb:"67",dwb:"68",ewb:"69",fwb:"70",gwb:"71",hwb:"72",iwb:"73",jwb:"74",kwb:"75",lwb:"76",mwb:"77",nwb:"78",owb:"79",pwb:"80",qwb:"81",rwb:"82",swb:"83",twb:"84",uwb:"85",vwb:"86",wwb:"87",xwb:"88",ywb:"89",zwb:"90",Awb:"91",Bwb:"92",Cwb:"93",Dwb:"94",Ewb:"95",Fwb:"96",Gwb:"97",Hwb:"98",Iwb:"99",Jwb:"100",Kwb:"101",Lwb:"102",Mwb:"103",Nwb:"104",Owb:"105",Pwb:"106",Qwb:"107",Rwb:"108",Swb:"109",Twb:"110",Uwb:"111",Vwb:"112",Wwb:"113",Xwb:"114",Ywb:"115",Zwb:"116",$wb:"117",axb:"118",bxb:"119",cxb:"120",dxb:"121",exb:"122",fxb:"123",gxb:"124",hxb:"125",ixb:"126",jxb:"127",kxb:"128",c2b:"129",fUb:"130",kYb:"131",Xo:"132",Bvb:"133",PDb:"134",O_b:"135",x_b:"136",usb:"137",SOb:"138",f0b:"139",wSb:"140",qsb:"141",tsb:"142",rsb:"143",QOb:"144"}],features:["features",a],b8b:["_modelName","tree"],X7b:["_format","xgboost"],a8b:["_itemsToKeep",5],$7b:["_itemsThreshold",null],E8b:["cacheLimit",20]});r.exports={config:b,P$b:l,Y8b:c};},function(r,b,a){r.exports=a(553);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(554);nb._cad_global={};nb.DEBUG=!1;a(12);a(11);a(19);a(24);a(50);a(92);a(1246);a(546);a(61);a(51);a(21);a(73);a(60);a(1247);a(299);a(333);a(1248);a(528);a(1249);a(525);a(532);a(530);a(531);a(547);a(519);a(520);a(522);a(294);a(293);a(1250);a(14);a(537);a(1251);a(192);a(74);a(526);a(158);a(466);a(467);a(278);a(1252);a(1253);a(490);a(1254);a(483);a(296);a(481);a(295);a(518);a(1255);a(298);a(534);a(189);a(548);a(133);a(1256);a(106);a(1263);a(1264);a(1265);a(1266);a(1268);a(1270);a(533);a(58);a(1271);a(529);a(469);a(527);a(536);a(1272);a(1273);a(303);a(163);a(1274);a(1275);a(1276);a(1278);a(1279);a(523);},function(r,b,a){(function(c){var f;(function(l){var C,G,J,K,I,M,R,H,Q;function m(N,L,P){var S;S=Q.get(N);if(!S){if(!P)return;S=new R();Q.set(N,S);}N=S.get(L);if(!N){if(!P)return;N=new R();S.set(L,N);}return N;}function d(N,L,P){if(h(N,L,P))return !0;L=w(L);return null !== L?d(N,L,P):!1;}function h(N,L,P){L=m(L,P,!1);return void 0 !== L && ! !L.has(N);}function g(N,L,P){if(h(N,L,P))return k(N,L,P);L=w(L);return null !== L?g(N,L,P):void 0;}function k(N,L,P){L=m(L,P,!1);return void 0 === L?void 0:L.get(N);}function n(N,L){var P,U;P=q(N,L);N=w(N);if(null === N)return P;L=n(N,L);if(0 >= L.length)return P;if(0 >= P.length)return L;N=new H();for(var S=0;S < P.length;S++){U=P[S];N.add(U);}for(P=0;P < L.length;P++){U=L[P];N.add(U);}return z(N);}function q(N,L){var P;N=m(N,L,!1);P=[];N && y(N,function(S,U){return P.push(U);});return P;}function p(N){return void 0 === N;}function v(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function t(N){return "object" === typeof N?null !== N:"function" === typeof N;}function u(N){return "symbol" === typeof N?N:String(N);}function w(N){var L,P;L=Object.getPrototypeOf(N);if("function" !== typeof N || N === M || L !== M)return L;P=N.prototype;P=P && Object.getPrototypeOf(P);if(null == P || P === Object.prototype)return L;P=P.constructor;return "function" !== typeof P || P === N?L:P;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,L,P){var S,U,da;S=N.entries;if("function" === typeof S){S=S.call(N);try{for(;U=x(S);){da=U.value;L.call(P,da[1],da[0],N);}}finally{U && (N=S["return"]) && N.call(S);}}else (S=N.forEach,"function" === typeof S && S.call(N,L,P));}function z(N){var L;L=[];y(N,function(P,S){L.push(S);});return L;}function A(N,L,P){var S;S=0;return {next:function(){var U;if((N || L) && S < (N || L).length){U=S++;switch(P){case "key":return {value:N[U],done:!1};case "value":return {value:L[U],done:!1};case "key+value":return {value:[N[U],L[U]],done:!1};}}L=N=void 0;return {value:void 0,done:!0};},"throw":function(U){if(N || L)L=N=void 0;throw U;},"return":function(U){if(N || L)L=N=void 0;return {value:U,done:!0};}};}function B(){var N;N={};return (function(){function L(){this.af=[];this.Af=[];this.Bv=N;this.Zs=-2;}Object.defineProperty(L.prototype,"size",{get:function(){return this.af.length;},enumerable:!0,configurable:!0});L.prototype.has=function(P){return 0 <= this.ey(P,!1);};L.prototype.get=function(P){P=this.ey(P,!1);return 0 <= P?this.Af[P]:void 0;};L.prototype.set=function(P,S){P=this.ey(P,!0);this.Af[P]=S;return this;};L.prototype.delete=function(P){var S;S=this.ey(P,!1);if(0 <= S){P=this.af.length;for(S+=1;S < P;S++){this.af[S - 1]=this.af[S];this.Af[S - 1]=this.Af[S];}this.af.length--;this.Af.length--;this.Bv=N;this.Zs=-2;return !0;}return !1;};L.prototype.clear=function(){this.af.length=0;this.Af.length=0;this.Bv=N;this.Zs=-2;};L.prototype.keys=function(){return A(this.af,void 0,"key");};L.prototype.values=function(){return A(void 0,this.Af,"value");};L.prototype.entries=function(){return A(this.af,this.Af,"key+value");};L.prototype.ey=function(P,S){var U;if(this.Bv === P)return this.Zs;U=this.af.indexOf(P);0 > U && S && (U=this.af.length,this.af.push(P),this.Af.push(void 0));return (this.Bv=P,this.Zs=U);};return L;})();}function D(){return (function(){function N(){this.Qg=new R();}Object.defineProperty(N.prototype,"size",{get:function(){return this.Qg.size;},enumerable:!0,configurable:!0});N.prototype.has=function(L){return this.Qg.has(L);};N.prototype.add=function(L){return (this.Qg.set(L,L),this);};N.prototype.delete=function(L){return this.Qg.delete(L);};N.prototype.clear=function(){this.Qg.clear();};N.prototype.keys=function(){return this.Qg.keys();};N.prototype.values=function(){return this.Qg.values();};N.prototype.entries=function(){return this.Qg.entries();};return N;})();}function E(){var S,U;function N(da,ka){for(var ma=0;ma < ka;++ma){da[ma]=255 * Math.random() | 0;}return da;}function L(){var da,X;do {da="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);da[6]=da[6] & 79 | 64;da[8]=da[8] & 191 | 128;for(var ka="",ma=0;16 > ma;++ma){X=da[ma];if(4 === ma || 6 === ma || 8 === ma)ka+="-";16 > X && (ka+="0");ka+=X.toString(16).toLowerCase();}da="@@WeakMap@@" + ka;}while(I.has(S,da));S[da]=!0;return da;}function P(da,ka){if(!C.call(da,U)){if(!ka)return;Object.defineProperty(da,U,{value:K()});}return da[U];}S=K();U=L();return (function(){function da(){this.ht=L();}da.prototype.has=function(ka){ka=P(ka,!1);return void 0 !== ka?I.has(ka,this.ht):!1;};da.prototype.get=function(ka){ka=P(ka,!1);return void 0 !== ka?I.get(ka,this.ht):void 0;};da.prototype.set=function(ka,ma){P(ka,!0)[this.ht]=ma;return this;};da.prototype.delete=function(ka){ka=P(ka,!1);return void 0 !== ka?delete ka[this.ht]:!1;};da.prototype.clear=function(){this.ht=L();};return da;})();}function F(N){N.U7b=1;delete N.V7b;return N;}C=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;J=(function(){var L;function N(){}L={};N.prototype=L;return new N().__proto__ === L;})();K=G?function(){return F(Object.create(null));}:J?function(){return F({__proto__:null});}:function(){return F({});};(function(N){var L;L=!G && !J;N.has=L?function(P,S){return C.call(P,S);}:function(P,S){return (S in P);};N.get=L?function(P,S){return C.call(P,S)?P[S]:void 0;}:function(P,S){return P[S];};})(I || (I={}));M=Object.getPrototypeOf(Function);R="function" === typeof Map?Map:B();H="function" === typeof Set?Set:D();Q=new ("function" === typeof WeakMap?WeakMap:E())();l.Fr=function(N,L,P,S){var da;if(p(S)){if(p(P)){if(!v(N))throw new TypeError();if("function" !== typeof L)throw new TypeError();for(P=N.length - 1;0 <= P;--P){if((S=(0,N[P])(L),!p(S))){if("function" !== typeof S)throw new TypeError();L=S;}}return L;}if(!v(N))throw new TypeError();if(!t(L))throw new TypeError();P=u(P);for(S=N.length - 1;0 <= S;--S){(0,N[S])(L,P);}}else {if(!v(N))throw new TypeError();if(!t(L))throw new TypeError();if(p(P))throw new TypeError();if(!t(S))throw new TypeError();P=u(P);for(var U=N.length - 1;0 <= U;--U){da=(0,N[U])(L,P,S);if(!p(da)){if(!t(da))throw new TypeError();S=da;}}return S;}};l.Dc=function(N,L){return function(P,S){if(p(S)){if("function" !== typeof P)throw new TypeError();m(P,void 0,!0).set(N,L);}else {if(!t(P))throw new TypeError();S=u(S);m(P,S,!0).set(N,L);}};};l.z4=function(N,L,P,S){if(!t(P))throw new TypeError();p(S) || (S=u(S));m(P,S,!0).set(N,L);};l.eIb=function(N,L){var P;if(!t(L))throw new TypeError();p(P) || (P=u(P));return d(N,L,P);};l.woa=function(N,L){var P;if(!t(L))throw new TypeError();p(P) || (P=u(P));return h(N,L,P);};l.getMetadata=function(N,L,P){if(!t(L))throw new TypeError();p(P) || (P=u(P));return g(N,L,P);};l.wYa=function(N,L){if(!t(N))throw new TypeError();p(L) || (L=u(L));return k("mappingConfigKey",N,L);};l.S9b=function(N,L){if(!t(N))throw new TypeError();p(L) || (L=u(L));return n(N,L);};l.U9b=function(N,L){if(!t(N))throw new TypeError();p(L) || (L=u(L));return q(N,L);};l.a9b=function(N,L,P){var S;if(!t(L))throw new TypeError();p(P) || (P=u(P));S=m(L,P,!1);if(p(S) || !S.delete(N))return !1;if(0 < S.size)return !0;N=Q.get(L);N.delete(P);if(0 < N.size)return !0;Q.delete(L);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== l)for(var L in l){C.call(l,L) && (N.Reflect[L]=l[L]);}}else N.Reflect=l;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(f || (f={}));}).call(this,a(193));},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v;c=this && this.__awaiter || (function(t,u,w,x){return new (w || (w=Promise))(function(y,z){function A(E){try{D(x.next(E));}catch(F){z(F);}}function B(E){try{D(x["throw"](E));}catch(F){z(F);}}function D(E){E.done?y(E.value):new w(function(F){F(E.value);}).then(A,B);}D((x=x.apply(t,u || [])).next());});});f=this && this.__generator || (function(t,u){var y,z,A,B,D;function w(E){return function(F){return x([E,F]);};}function x(E){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[E[0] & 2?"return":E[0]?"throw":"next"]) && !(B=B.call(A,E[1])).done))return B;if((A=0,B))E=[0,B.value];switch(E[0]){case 0:case 1:B=E;break;case 4:return (y.label++,{value:E[1],done:!1});case 5:y.label++;A=E[1];E=[0];continue;case 7:E=y.Ln.pop();y.Vn.pop();continue;default:if(!(B=y.Vn,B=0 < B.length && B[B.length - 1]) && (6 === E[0] || 2 === E[0])){y=0;continue;}if(3 === E[0] && (!B || E[1] > B[0] && E[1] < B[3]))y.label=E[1];else if(6 === E[0] && y.label < B[1])(y.label=B[1],B=E);else if(B && y.label < B[2])(y.label=B[2],y.Ln.push(E));else {B[2] && y.Ln.pop();y.Vn.pop();continue;}}E=u.call(t,y);}catch(F){E=[6,F];A=0;}finally{z=B=0;}}if(E[0] & 5)throw E[1];return {value:E[0]?E[1]:void 0,done:!0};}y={label:0,$c:function(){if(B[0] & 1)throw B[1];return B[1];},Vn:[],Ln:[]};return (D={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});l=a(556);m=a(55);d=a(76);a(43);h=a(306);g=a(557);k=a(564);n=a(566);q=a(107);p=a(134);a(569);v=a(570);r=(function(){function t(u){u=u || ({});if("object" !== typeof u)throw Error("" + m.Gdb);if(void 0 === u.AG)u.AG=d.Os.o1;else if(u.AG !== d.Os.Dea && u.AG !== d.Os.o1 && u.AG !== d.Os.Request)throw Error("" + m.Edb);if(void 0 === u.JT)u.JT=!1;else if("boolean" !== typeof u.JT)throw Error("" + m.Ddb);if(void 0 === u.JI)u.JI=!1;else if("boolean" !== typeof u.JI)throw Error("" + m.Fdb);this.options={JT:u.JT,AG:u.AG,JI:u.JI};this.id=q.id();this.yK=new v.Wgb();this.gpb=[];this.parent=this.zga=null;this.Xmb=new h.mda();}t.prototype.load=function(){var y,z;for(var u=[],w=0;w < arguments.length;w++){u[w]=arguments[w];}w=this.eNa();for(var x=0;x < u.length;x++){y=u[x];z=w(y.id);y.yua(z.WQa,z.nab,z.z0a,z.z6a);}};t.prototype.IN=function(){for(var u=[],w=0;w < arguments.length;w++){u[w]=arguments[w];}c(this,void 0,void 0,function(){var x,y,z,A,B;return f(this,function(D){switch(D.label){case 0:(x=this.eNa(),y=0,z=u,D.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.yua(B.WQa,B.nab,B.z0a,B.z6a)];case 2:(D.$c(),D.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};t.prototype.bind=function(u){var w;w=new l.Rcb(u,this.options.AG || d.Os.o1);this.yK.add(u,w);return new n.Tcb(w);};t.prototype.bUb=function(u){this.mab(u);return this.bind(u);};t.prototype.mab=function(u){try{this.yK.remove(u);}catch(w){throw Error(m.pdb + " " + p.dN(u));}};t.prototype.P_a=function(u){var w;w=this.yK.tZa(u);!w && this.parent && (w=this.parent.P_a(u));return w;};t.prototype.restore=function(){var u;u=this.gpb.pop();if(void 0 === u)throw Error(m.Khb);this.yK=u.NT;this.zga=u.hOb;};t.prototype.rxb=function(){var u;u=new t(this.options);u.parent=this;return u;};t.prototype.get=function(u){return this.dNa(!1,!1,d.Tx.Uea,u);};t.prototype.getAll=function(u){return this.dNa(!0,!0,d.Tx.Uea,u);};t.prototype.resolve=function(u){var w;w=this.rxb();w.bind(u).P$a();return w.get(u);};t.prototype.eNa=function(){var z;function u(A){return function(B){B=z.bUb.bind(z)(B);B.Bc.COb=A;return B;};}function w(){return function(A){return z.P_a.bind(z)(A);};}function x(){return function(A){z.mab.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.Bc.COb=A;return B;};}z=this;return function(A){return {WQa:y(A),z0a:w(A),z6a:u(A),nab:x(A)};};};t.prototype.dNa=function(u,w,x,y){var z;z=null;u={esb:u,Avb:function(A){return A;},wKb:w,key:void 0,Kg:y,MZb:x,value:void 0};if(this.zga){if((z=this.zga(u),void 0 === z || null === z))throw Error(m.Cgb);}else z=this.iob()(u);return z;};t.prototype.iob=function(){var u;u=this;return function(w){var x;x=g.rO(u.Xmb,u,w.wKb,w.MZb,w.Kg,w.key,w.value,w.esb);x=w.Avb(x);return k.resolve(x);};};return t;})();b.F_=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);f=a(107);r=(function(){function l(m,d){this.id=f.id();this.yha=!1;this.Kg=m;this.scope=d;this.type=c.Jj.Ogb;this.rG=function(){return !0;};this.qM=this.Jw=this.xA=this.CM=this.cache=this.sm=null;}l.prototype.clone=function(){var m;m=new l(this.Kg,this.scope);m.yha=!1;m.sm=this.sm;m.qM=this.qM;m.scope=this.scope;m.type=this.type;m.CM=this.CM;m.xA=this.xA;m.rG=this.rG;m.Jw=this.Jw;m.cache=this.cache;return m;};return l;})();b.Rcb=r;},function(r,b,a){var d,h,g,k,n,q,p,v,t,u,w,x;function c(y,z,A,B,D){var E,F;E=m(A.$a,D.Kg);F=[];E.length === d.Dba.CGa && A.$a.options.JT && "function" === typeof D.Kg && y.hXa(D.Kg).tSa && (A.$a.bind(D.Kg).P$a(),E=m(A.$a,D.Kg));F=z?E:E.filter(function(C){var G;G=new w.Request(C.Kg,A,B,C,D);return C.rG(G);});f(D.Kg,F,D,A.$a);return F;}function f(y,z,A,B){switch(z.length){case d.Dba.CGa:if(A.d0a())return z;y=q.dN(y);z=h.Ihb;z+=q.OLb(y,A);z+=q.d1a(B,y,m);throw Error(z);case d.Dba.$hb:if(!A.isArray())return z;default:if(A.isArray())return z;y=q.dN(y);z=h.Xbb + " " + y;z+=q.d1a(B,y,m);throw Error(z);}}function l(y,z,A,B,D,E){var F;if(null === D){z=c(y,z,B,null,E);F=new w.Request(A,B,null,z,E);A=new t.Xib(B,F);B.qqb(A);}else (z=c(y,z,B,D,E),F=D.pPa(E.Kg,z,E));z.forEach(function(C){var G,J,K;G=null;if(E.isArray())G=F.pPa(C.Kg,C,E);else {if(C.cache)return;G=F;}if(C.type === g.Jj.Instance && null !== C.sm){J=u.KEb(y,C.sm);if(!B.$a.options.JI){K=u.hEb(y,C.sm);if(J.length < K)throw (C=h.Zbb(u.getFunctionName(C.sm)),Error(C));}J.forEach(function(I){l(y,!1,I.Kg,B,G,I);});}});}function m(y,z){var A,B;A=[];B=y.yK;B.tZa(z)?A=B.get(z):null !== y.parent && (A=m(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(558);h=a(55);g=a(76);k=a(43);n=a(307);q=a(134);p=a(559);v=a(65);t=a(560);u=a(561);w=a(563);x=a(309);b.N9b=function(y){return y.yK;};b.rO=function(y,z,A,B,D,E,F,C){void 0 === C && (C=!1);z=new p.yAa(z);A=new v.Metadata(A?k.NE:k.eR,D);B=new x.l1(B,"",D,A);void 0 !== E && (E=new v.Metadata(E,F),B.Dc.push(E));try{return (l(y,C,D,z,null,B),z);}catch(G){throw (n.l0a(G) && z.rO && q.uub(z.rO.fva),G);}};b.U8b=function(y,z,A,B){A=new x.l1(g.Tx.Uea,"",z,new v.Metadata(A,B));y=new p.yAa(y);return new w.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dba={v5b:2,CGa:0,$hb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);r=(function(){function f(l){this.id=c.id();this.$a=l;}f.prototype.qqb=function(l){this.rO=l;};return f;})();b.yAa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xib=(function(){return function(a,c){this.mO=a;this.fva=c;};})();},function(r,b,a){var d,h,g,k,n,q;function c(p,v,t,u){var w,x,y,z,B,D,E,F,C,G,J,K;w=p.hXa(t);x=w.tSa;if(void 0 === x)throw Error(h.fhb + " " + v + ".");w=w.s1b;y=Object.keys(w);z=0 === t.length && 0 < y.length?y.length:t.length;y=[];for(var A=0;A < z;A++){B=A;D=u;E=v;F=x;C=w[B.toString()] || [];G=m(C);J=!0 !== G.ll;F=F[B];K=G.l || G.KH;F=K?K:F;F instanceof d.Pca && (F=F.p0b());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!D && J)throw Error(h.ghb + " argument " + B + " in class " + E + ".");B=new q.l1(g.Tx.wAa,G.nZ,F);B.Dc=C;C=B;}else C=null;null !== C && y.push(C);}p=f(p,t);return y.concat(p);}function f(p,v){var y,z,A;for(var t=p.yGb(v),u=[],w=0,x=Object.keys(t);w < x.length;w++){y=x[w];z=t[y];A=m(t[y]);y=new q.l1(g.Tx.nAa,A.nZ || y,A.l || A.KH);y.Dc=z;u.push(y);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (p=f(p,v),u=u.concat(p));return u;}function l(p,v){var t,u;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){t=n.getFunctionName(v);t=c(p,t,v,!0);u=t.map(function(w){return w.Dc.filter(function(x){return x.key === k.XR;});});u=[].concat.apply([],u).length;t=t.length - u;return 0 < t?t:l(p,v);}return 0;}function m(p){var v;v={};p.forEach(function(t){v[t.key.toString()]=t.value;});return {l:v[k.eR],KH:v[k.NE],nZ:v[k.C0],ll:v[k.XR]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(308);h=a(55);g=a(76);k=a(43);n=a(134);b.getFunctionName=n.getFunctionName;q=a(309);b.KEb=function(p,v){var t;t=n.getFunctionName(v);return c(p,t,v,!1);};b.hEb=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.xP=c;}a.prototype.startsWith=function(c){return 0 === this.xP.indexOf(c);};a.prototype.endsWith=function(c){var f;f=c.split("").reverse().join("");c=this.xP.split("").reverse().join("");return this.startsWith.call({xP:c},f);};a.prototype.contains=function(c){return -1 !== this.xP.indexOf(c);};a.prototype.equals=function(c){return this.xP === c;};a.prototype.value=function(){return this.xP;};return a;})();b.gjb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);r=(function(){function f(l,m,d,h,g){this.id=c.id();this.Kg=l;this.mO=m;this.pA=d;this.target=g;this.xja=[];this.NT=Array.isArray(h)?h:[h];this.sVb=null === d?new Map():null;}f.prototype.pPa=function(l,m,d){l=new f(l,this.mO,this,m,d);this.xja.push(l);return l;};return f;})();b.Request=r;},function(r,b,a){var l,m,d,h,g;function c(k){return function(n){var q,p,v,t,u;q=n.NT;p=n.xja;v=n.target && n.target.isArray();t=!n.pA || !n.pA.target || !n.target || !n.pA.target.fNb(n.target.Kg);if(v && t)return p.map(function(w){return c(k)(w);});v=null;if(!n.target.d0a() || 0 !== q.length){u=q[0];q=u.scope === m.Os.Dea;t=u.scope === m.Os.Request;if(q && u.yha)return u.cache;if(t && null !== k && k.has(u.id))return k.get(u.id);if(u.type === m.Jj.uAa)v=u.cache;else if(u.type === m.Jj.Function)v=u.cache;else if(u.type === m.Jj.vAa)v=u.sm;else if(u.type === m.Jj.FBa && null !== u.qM)v=f("toDynamicValue",u.Kg,function(){return u.qM(n.mO);});else if(u.type === m.Jj.mca && null !== u.CM)v=f("toFactory",u.Kg,function(){return u.CM(n.mO);});else if(u.type === m.Jj.sJa && null !== u.xA)v=f("toProvider",u.Kg,function(){return u.xA(n.mO);});else if(u.type === m.Jj.Instance && null !== u.sm)v=g.EVb(u.sm,p,c(k));else throw (p=h.dN(n.Kg),Error(l.ygb + " " + p));"function" === typeof u.Jw && (v=u.Jw(n.mO,v));q && (u.cache=v,u.yha=!0);t && null !== k && !k.has(u.id) && k.set(u.id,v);return v;}};}function f(k,n,q){try{return q();}catch(p){if(d.l0a(p))throw Error(l.sdb(k,n.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(76);d=a(307);h=a(134);g=a(565);b.resolve=function(k){return c(k.rO.fva.sVb)(k.rO.fva);};},function(r,b,a){var l,m,d;function c(h,g,k){var n;g=g.filter(function(q){return null !== q.target && q.target.type === m.Tx.nAa;});n=g.map(k);g.forEach(function(q,p){q=q.target.name.value();h[q]=n[p];});return h;}function f(h,g){var k;if(Reflect.eIb(d.ER,h)){k=Reflect.getMetadata(d.ER,h);try{g[k.value]();}catch(n){throw Error(l.Oib(h.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(76);d=a(43);b.EVb=function(h,g,k){var n;n=null;0 < g.length?(n=g.filter(function(q){return null !== q.target && q.target.type === m.Tx.wAa;}).map(k),n=new (h.bind.apply(h,[void 0].concat(n)))(),n=c(n,g,k)):n=new h();f(h,n);return n;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(76);l=a(567);m=a(310);r=(function(){function d(h){this.Bc=h;}d.prototype.to=function(h){this.Bc.type=f.Jj.Instance;this.Bc.sm=h;return new l.nza(this.Bc);};d.prototype.P$a=function(){if("function" !== typeof this.Bc.Kg)throw Error("" + c.Egb);this.to(this.Bc.Kg);};d.prototype.Yi=function(h){this.Bc.type=f.Jj.uAa;this.Bc.cache=h;this.Bc.qM=null;this.Bc.sm=null;new m.uE(this.Bc);};d.prototype.kE=function(h){this.Bc.type=f.Jj.FBa;this.Bc.cache=null;this.Bc.qM=h;this.Bc.sm=null;return new l.nza(this.Bc);};d.prototype.q_b=function(h){this.Bc.type=f.Jj.vAa;this.Bc.sm=h;new m.uE(this.Bc);};d.prototype.uf=function(h){this.Bc.type=f.Jj.mca;this.Bc.CM=h;new m.uE(this.Bc);};d.prototype.r_b=function(h){if("function" !== typeof h)throw Error(c.Bgb);this.Yi(h);this.Bc.type=f.Jj.Function;};d.prototype.N$a=function(h){this.Bc.type=f.Jj.mca;this.Bc.CM=function(g){return function(){return g.$a.get(h);};};new m.uE(this.Bc);};d.prototype.wZ=function(h){this.Bc.type=f.Jj.sJa;this.Bc.xA=h;new m.uE(this.Bc);};d.prototype.s_b=function(h){this.kE(function(g){return g.$a.get(h);});};return d;})();b.Tcb=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(568);f=a(196);l=a(197);r=(function(){function m(d){this.Bc=d;this.fS=new l.Eba(this.Bc);this.kfa=new f.y_(this.Bc);this.uMa=new c.Scb(d);}m.prototype.aa=function(){return this.uMa.aa();};m.prototype.Toa=function(){return this.uMa.Toa();};m.prototype.when=function(d){return this.fS.when(d);};m.prototype.$Z=function(){return this.fS.$Z();};m.prototype.Jw=function(d){return this.kfa.Jw(d);};return m;})();b.nza=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);f=a(310);r=(function(){function l(m){this.Bc=m;}l.prototype.aa=function(){this.Bc.scope=c.Os.Dea;return new f.uE(this.Bc);};l.prototype.Toa=function(){this.Bc.scope=c.Os.o1;return new f.uE(this.Bc);};return l;})();b.Scb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v3b=(function(){function a(){}a.of=function(c,f){var l;l=new a();l.NT=c;l.hOb=f;return l;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);r=(function(){function f(){this.Qg=new Map();}f.prototype.add=function(l,m){var d;if(null === l || void 0 === l)throw Error(c.yR);if(null === m || void 0 === m)throw Error(c.yR);d=this.Qg.get(l);void 0 !== d?(d.push(m),this.Qg.set(l,d)):this.Qg.set(l,[m]);};f.prototype.get=function(l){if(null === l || void 0 === l)throw Error(c.yR);l=this.Qg.get(l);if(void 0 !== l)return l;throw Error(c.pEa);};f.prototype.remove=function(l){if(null === l || void 0 === l)throw Error(c.yR);if(!this.Qg.delete(l))throw Error(c.pEa);};f.prototype.tZa=function(l){if(null === l || void 0 === l)throw Error(c.yR);return this.Qg.has(l);};f.prototype.clone=function(){var l;l=new f();this.Qg.forEach(function(m,d){m.forEach(function(h){return l.add(d,h.clone());});});return l;};return f;})();b.Wgb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);b.pd=(function(){return function(f){this.id=c.id();this.yua=f;};})();b.bza=(function(){return function(f){this.id=c.id();this.yua=f;};})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);b.R=function(){return function(l){var m;if(Reflect.woa(f.yda,l))throw Error(c.Meb);m=Reflect.getMetadata(f.keb,l) || [];Reflect.z4(f.yda,m,l);return l;};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(65);f=a(93);b.l$a=function(l,m){return function(d,h,g){var k;k=new c.Metadata(l,m);"number" === typeof g?f.UI(d,h,g,k):f.mZ(d,h,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.o3a=function(m){return function(d,h,g){var k;k=new f.Metadata(c.tB,m);"number" === typeof g?l.UI(d,h,g,k):l.mZ(d,h,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.optional=function(){return function(m,d,h){var g;g=new f.Metadata(c.LGa,!0);"number" === typeof h?l.UI(m,d,h,g):l.mZ(m,d,g);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.ll=function(){return function(m,d,h){var g;g=new f.Metadata(c.XR,!0);l.UI(m,d,h,g);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.KH=function(m){return function(d,h,g){var k;k=new f.Metadata(c.NE,m);"number" === typeof g?l.UI(d,h,g,k):l.mZ(d,h,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.nZ=function(m){return function(d,h,g){var k;k=new f.Metadata(c.C0,m);l.UI(d,h,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);l=a(65);b.I5a=function(){return function(m,d){d=new l.Metadata(f.ER,d);if(Reflect.woa(f.ER,m.constructor))throw Error(c.thb);Reflect.z4(f.ER,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.k3a=function(a){return function(c){return function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.forEach(function(m){return a.bind(m).s_b(c);});};};};},function(r,b,a){var d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D;function c(E,F){E=E.uw || E.vN?t.xXa(F):E.gW?w.HXa(F):E.r7?u.sYa(F):E.AN?x.KYa(F):v.dXa(F);this.$_=E.$_;this.Qba=E.Qba;}function f(E){this.ee=E;}function l(E){var F;F=k.Sda.call(this) || this;E.xN?Object.assign(F,x.RXa()):E.gW?Object.assign(F,w.GXa()):E.r7?Object.assign(F,u.rYa()):E.uw || E.vN?Object.assign(F,t.wXa()):E.AN?Object.assign(F,x.JYa()):Object.assign(F,v.cXa(E));return F;}function m(E){this.data=E.gW?w.JXa(E):E.r7?u.uYa(E):E.uw || E.vN?t.zXa(E):E.AN?x.MYa(E):v.fXa(E);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.ldb=b.kdb=b.jdb=b.hdb=void 0;r=a(1);d=a(0);h=a(34);g=a(135);k=a(582);n=a(164);q=a(313);p=a(199);v=a(583);t=a(584);u=a(585);w=a(586);x=a(587);y=a(588);z=a(589);Xa.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},I8:{configurable:!0,enumerable:!0,get:function(){return this.data.I8;}},aq:{configurable:!0,enumerable:!0,get:function(){return this.data.aq;}},Do:{configurable:!0,enumerable:!0,get:function(){return this.data.Do;}},LM:{configurable:!0,enumerable:!0,get:function(){return this.data.LM;}},dz:{configurable:!0,enumerable:!0,get:function(){return this.data.dz;}},Yka:{configurable:!0,enumerable:!0,get:function(){return this.data.Yka;}},STa:{configurable:!0,enumerable:!0,get:function(){return this.data.STa;}},Eqa:{configurable:!0,enumerable:!0,get:function(){return this.data.Eqa;}},zU:{configurable:!0,enumerable:!0,get:function(){return this.data.zU;}},Zxa:{configurable:!0,enumerable:!0,get:function(){return this.data.Zxa;}},e3:{configurable:!0,enumerable:!0,get:function(){return this.data.e3;}},iY:{configurable:!0,enumerable:!0,get:function(){return this.data.iY;}}});A=m;A=r.__decorate([d.R(),r.__param(0,d.l(n.kB))],A);b.hdb=A;na(l,k.Sda);B=l;B=r.__decorate([d.R(),r.__param(0,d.l(n.kB))],B);b.jdb=B;f.prototype.apply=function(){this.ee.gW?Object.assign(this,w.IXa(this.ee)):this.ee.r7?Object.assign(this,u.tYa(this.ee)):this.ee.uw || this.ee.vN?Object.assign(this,t.yXa(this.ee)):this.ee.AN?Object.assign(this,x.LYa(this.ee)):Object.assign(this,v.eXa(this.ee));return this;};D=f;D=r.__decorate([d.R(),r.__param(0,d.l(n.kB))],D);b.kdb=D;c=r.__decorate([d.R(),r.__param(0,d.l(n.kB)),r.__param(1,d.l(h.Gk))],c);b.ldb=c;b.platform=new d.pd(function(E){E(h.Gk).to(A).aa();E(g.HR).to(B).aa();E(q.fIa).to(D).aa();E(h.wB).to(c).aa();E(p.Tda).uf(function(F){return function(){var C;C=F.$a.get(n.kB);return C.uw || C.vN?{Yb:function(G,J,K){return new z.$ea(G,J,K);},request:y.fMa}:C.AN?{Yb:function(G,J,K){return new (a(590))(G,J,K);},request:a(591)}:{};};});});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Sda=void 0;c=a(4);f=a(52);l=a(198);m=a(44);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Sda=function(){this.NQa=this.FL=l.qx.w0;this.Iva=!0;this.kC=[];this.ev=[];this.XH=this.tM=!1;this.cv=[m.Wm.Rba,m.Wm.zjb,m.Wm.YJ];this.um=void 0;this.Dla=!0;this.T4=!1;this.yT=f.fa(288E4);this.zT=f.fa(335544320);this.bA=c.Kc(15E3);this.nNb=f.fa(6291456);this.JN=1E3;this.fja=!0;this.dxa=d;this.FP=f.fa(0);this.kaa=c.Kc(0);this.YV=!0;this.Eaa=!1;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.dXa=b.eXa=b.cXa=b.fXa=void 0;c=a(26);f=a(44);l=a(136);b.fXa=function(m){return Object.assign(Object.assign({},l.SM()),{aq:m.p0a?"T":m.uN?"C":"M",Do:m.p0a?"NFCDTS-01-":m.x7?"NFCDCH-02-":m.zpa?"NFCDCH-MC-":m.uN?"NFCDCH-01-":m.f7?"NFCDCH-AP-":m.e7?"NFCDCH-AT-":m.xN?"NFCDCH-PH-":"NFCDCH-LX-",dz:m.uN?"chromeos-cadmium":"chrome-cadmium",iY:m.uN});};b.cXa=function(m){var d;d=Object.assign(Object.assign({},l.PM()),{tM:!0,XH:!0});m.uN && (d.ev=[].concat(ea(f.N.oca),ea(f.N.mba),ea(f.N.MLa),ea(f.N.Qea),ea(f.N.Rea),ea(f.N.sca),ea(f.N.rca)));return d;};b.eXa=function(m){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.fj.AJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= m.Op && (d=Object.assign(Object.assign({},d),{enableVP9:!0}));80 <= m.Op && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0}));m.uN && 89 <= m.Op && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));94 <= m.Op && m.x7 && (d=Object.assign(Object.assign({},d),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));return d;};b.dXa=function(m){return l.QM(m);};},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.xXa=b.yXa=b.wXa=b.zXa=void 0;c=a(26);f=a(108);l=a(44);m=a(198);d=a(136);h=a(109);b.zXa=function(g){return Object.assign(Object.assign({},d.SM()),{aq:g.uw?"D":"H",Do:g.uw?g.zpa?"NFCDIE-04-":g.f7?"NFCDIE-AP-":g.e7?"NFCDIE-AT-":g.xN?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",dz:"edge-cadmium",e3:!1,iY:!1});};b.wXa=function(){return Object.assign(Object.assign({},d.PM()),{FL:nb.crypto?m.qx.w0:m.qx.oEa,NQa:nb.crypto?m.qx.w0:m.qx.oEa,kC:[l.ye.DE,l.ye.EE,l.ye.uQ,l.ye.vQ],ev:[].concat(ea(l.N.oca),ea(l.N.mba),ea(l.N.MLa),ea(l.N.Qea),ea(l.N.Rea),ea(l.N.sca),ea(l.N.rca),ea(l.N.SAa),ea(l.N.RAa),ea(l.N.Gj)),um:void 0,YV:!1});};b.yXa=function(g){var k,n,q,p,v,t,u;q={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.kv.Jx,videoCapabilityDetectorType:c.fj.Jx,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};p=g.vN;v=g.uw;t=g.x7;u=null === (k=nb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(f.Hb.Td,h.Fd.Era);k=u || (null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.Hb.cF,h.Fd.Era));n={prepareCadmium:!0,enableLdlPrefetch:!k || u,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:c.kv.ov,videoCapabilityDetectorType:c.fj.AJ,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.Hb.bMa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[l.ye.DE,l.ye.EE],videoProfiles:[l.N.LJ,l.N.CE,l.N.IQ,l.N.JQ],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};p && (14 <= g.Op && (q=Object.assign(Object.assign(Object.assign({},q),n),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= g.Op && (q=Object.assign(Object.assign({},q),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= g.Op && (q=Object.assign(Object.assign({},q),{microsoftHwdrmRequiresHevc:!1})),17 <= g.Op && (q=Object.assign(Object.assign({},q),{enableDDPlusAtmos:!0})));v && (q=Object.assign(Object.assign({},q),n),t && (q=Object.assign(Object.assign({},q),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),k?(q=Object.assign(Object.assign({},q),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.Hb.Zib,f.Hb.lIa]}),94 === g.Op && (q=Object.assign(Object.assign({},q),{enableHWDRM:!1})),95 <= g.Op && (q=Object.assign(Object.assign({},q),{enableHWDRM:!0}))):q=Object.assign(Object.assign({},q),u));return q;};b.xXa=function(g){return d.QM(g);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sYa=b.tYa=b.rYa=b.uYa=void 0;c=a(26);f=a(136);b.uYa=function(l){return Object.assign(Object.assign({},f.SM()),{aq:"O",Do:l.f7?"NFCDOP-AP-":l.e7?"NFCDOP-AT-":l.xN?"NFCDOP-PH-":"NFCDOP-01-",dz:"opera-cadmium"});};b.rYa=function(){return Object.assign(Object.assign({},f.PM()),{tM:!0,XH:!0});};b.tYa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.fj.AJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= l.Op && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};b.sYa=function(l){return f.QM(l);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.HXa=b.IXa=b.GXa=b.JXa=void 0;c=a(26);f=a(136);b.JXa=function(l){return Object.assign(Object.assign({},f.SM()),{aq:"F",Do:l.zpa?"NFCDFF-MC-":l.x7?"NFCDFF-02-":l.f7?"NFCDFF-AP-":l.e7?"NFCDFF-AT-":l.xN?"NFCDFF-PH-":"NFCDFF-LX-",dz:"firefox-cadmium"});};b.GXa=function(){return Object.assign(Object.assign({},f.PM()),{tM:!0,XH:!0});};b.IXa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.fj.AJ,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};58 <= l.Op && (m=Object.assign(Object.assign({},m),{enableVP9:!0,preciseSeeking:!0}));return m;};b.HXa=function(l){return f.QM(l);};},function(r,b,a){var f,l,m,d,h;function c(){return Object.assign(Object.assign({},h.PM()),{kC:[d.ye.DE,d.ye.EE,d.ye.qF],ev:[].concat(ea(d.N.oca),ea(d.N.mba),ea(d.N.Qea),ea(d.N.Rea),ea(d.N.sca),ea(d.N.rca),ea(d.N.SAa),ea(d.N.RAa)),um:m.Hb.ufb,bA:f.Kc(7E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.KYa=b.LYa=b.JYa=b.RXa=b.MYa=void 0;f=a(4);l=a(26);m=a(108);d=a(44);h=a(136);b.MYa=function(g){return Object.assign(Object.assign({},h.SM()),{aq:"S",Do:g.xN?"NFCDSF-PH-":"NFCDSF-01-",dz:"safari-cadmium"});};b.RXa=function(){return Object.assign(Object.assign({},c()),{Eaa:!0,cv:[d.Wm.s1]});};b.JYa=c;b.LYa=function(g){var k;k={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:l.fj.ov,enableSeamless:!0};h.iW(g,10,12,2) && (k=Object.assign(Object.assign({},k),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));h.iW(g,10,13,6) && (k=Object.assign(Object.assign({},k),{enableLdlPrefetch:!0}));h.iW(g,10,15,5) && (k=Object.assign(Object.assign({},k),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));h.iW(g,10,15,6) && (k=Object.assign(Object.assign({},k),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));h.w0a(g,9) && (k=Object.assign(Object.assign({},k),{maxDecoderBufferMilliseconds:31E3}));return k;};b.KYa=function(g){return h.QM(g);};},function(r,b,a){var f;function c(l,m,d,h){this.log=l;this.XG=m;this.DA=d;this.context=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;f=a(3);c.prototype.Gg=function(l){var m;m=this;(this.context.pf || this.context.Wk) && this.log.trace("Requesting license",{drmType:l.Co});return this.XG(l).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.ncc)throw d;throw {$:!1,code:f.M.SJ,zc:d.zc,Jd:d.Jd,rn:d.rn,hk:d.message || d.hk,zM:d.data,message:"Unable to send the Playready license request. " + (d.message || d.hk)};});};c.prototype.release=function(l){var m;m=this;this.log.trace("Requesting stop data");return this.DA(l).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.zc,extCode:d.Jd,edgeCode:d.rn,message:d.message || d.hk});throw {$:!1,code:f.M.qea,zc:d.zc,Jd:d.Jd,rn:d.rn,hk:d.message || d.hk,message:"Unable to release the PlayReady license. " + (d.message || d.hk)};});};b.fMa=c;nb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.$ea=void 0;c=a(3);f=a(195);l=a(200);m=a(29);d=a(77);h=a(36);g=a(26);k=a(62);(function(){var z;function n(A,B,D){var E;E=this;this.log=A;this.Kn=B || y.bind(this);this.context=D;this.AX=this.challenge=this.keySystem=this.keySessionId=this.Ib=this.mediaKeys=void 0;this.md={};this.sqa=this.Cwa=!1;this.nX=t.bind(this);this.AX=void 0;this.fya=new Promise(function(F,C){E.Zua=F;E.Aua=C;});this.fya.catch(function(F){E.log.error("wait for license rejected",F);});f.$b.get(g.wx).Q5().then(function(F){(E.context.pf || E.context.Wk) && E.log.debug("DRIVERINFO: ",F);}).catch(function(F){E.log.error("DRIVERINFO",F);});this.Jn=function(F,C){E.Aua(F,C);E.context.onerror(F,C);};this.Esa=function(){E.Zua();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function q(){return f.$b.get(h.zi);}function p(){return f.$b.get(m.bg);}function v(A){var B,D;B=f.$b.get(l.Jea);D="";A.forEach(function(E){D+="<KeyID>" + E + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.U9a(A));(this.context.pf || this.context.Wk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:q().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ib.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.$f.fr,z.DB.Rs,B);this.Ib=void 0;}function u(A,B,D){var F,C,G;for(var E=2;E < arguments.length;++E){;}E="";C=A.length;for(F=0;F < C;F++){G=A[F];0 < G && (E+=String.fromCharCode(G));}C="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){G=arguments[F];if(0 > E.search(G))return;G="(?:[^:].*:|)" + G;C="[\\s\\S]*<" + G + "[^>]*>" + C + "</" + G + ">[\\s\\S]*";}if(E=E.match(new RegExp(C)))return E[1];}function w(A,B,D,E){var F,C;F=A.target && A.target.sessionId;C=q().decode(u(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.pf || D.context.Wk || D.context.$A) && D.log.debug("LICENSE: License challenge",q().encode(C));D.keySessionId=F;A={Tf:B,messageType:"license-request",Co:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",dk:[{data:C,sessionId:F}]};12 === D.state && (D.Kn("lc"),C={data:C,Co:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.$H || (D.AX=C));D.context.Ll.Gg(A).then(function(G){if(12 === D.state && (D.Kn("lr"),D.Esa(),!D.context.$H))(D.BX=G.oj[0].data,D.state=13,E({$:!0,state:D.state}));else if(D.Ib)return x(D,G.oj[0].data,D.Ib).then(function(){D.state=30;E({$:!0,state:D.state});});}).catch(function(G){E(p().HH(G,{state:D.state}));});}function x(A,B,D){A.j7() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:q().encode(B)});return new Promise(function(E,F){try{A.Ib.update(B);E(void 0);A.j7() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(C){F({$:!1,code:z.$f.P0,message:"Unable to update the EME.",ub:p().vd(C)});}});}function y(A){this.context.ya && (this.md[A]=this.context.ya.getTime(),this.log.trace("Milestone: " + A + ", " + this.md[A]));}z={};z.$f=c.M;z.DB=c.L;n.prototype.Vt=function(){return this.keySystem;};n.prototype.Kab=function(A,B){A.log && (this.log=A.log);A.Kn && (this.Kn=A.Kn);B.Ll && (this.context.Ll=B.Ll);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):f.$b.get(g.wx).Vt()).then(function(D){B.Kn("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;if(B.context.TX)D=Promise.reject({$:!1,code:z.$f.DQ,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(D);}catch(E){D=Promise.reject({$:!1,code:z.$f.XGa,message:"create MSMediaKeys(" + D + ") failed",ub:p().vd(E)});break a;}try{B.context.X && B.context.X.msSetMediaKeys(B.mediaKeys);}catch(E){D=Promise.reject({$:!1,code:z.$f.aK,message:"set MSMediaKeys failed",ub:p().vd(E)});break a;}D=Promise.resolve({$:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){if(this.Ib){this.log.info("Closing the session",{sessionId:this.Ib.sessionId});this.Ib.removeEventListener("mskeyerror",this.nX);try{this.Ib.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ib=void 0;}};n.prototype.Gg=function(A,B,D){var E;if(1 < B.length)return Promise.reject({code:z.$f.bHa});if(0 === B.length)return Promise.reject({code:z.$f.aHa});B=B[0];E=this;E.context.pf && E.log.trace("LICENSE: Setting license");return E.context.TX?Promise.reject({$:!1,code:z.$f.MBa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,C){var G,J,K,I,M,R,H;try{J=function(Q){E.Ib && (E.Ib.removeEventListener("mskeymessage",I),E.Ib.removeEventListener("mskeyadded",M),E.Ib.removeEventListener("mskeyerror",R),E.Ib.addEventListener("mskeyerror",E.nX));Q.state=11;Q.$?F(Q):(E.close(),C(Q));};K=function(Q){var N,L;N=[];L=Array.prototype.map.call(Q,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(L)N.push(L[1]);else {Q=u(Q,"KIDS");L=/VALUE="(.+?)">/g;for(var P=L.exec(Q);null != P;){N.push(P[1]);P=L.exec(Q);}}return N;};I=function(Q){G && clearTimeout(G);w(Q,A,E,J);};M=function(Q){(E.context.pf || E.context.Wk) && E.log.trace("LICENSE: Received " + Q.type + " event",{keySystem:Q.target.keySystem,sessionId:Q.target.sessionId});J({$:!0});};R=function(Q){var N,L;G && clearTimeout(G);if(Q.target && Q.target.error)(N=Q.target.error.systemCode,L=Q.target.error.code);N={code:z.$f.fr,zc:z.DB.Rs,Jd:N?f.$b.get(d.rx).PG(N,4):L,details:p().vd(Q),cause:Q.target && Q.target.error,caa:N,d5:L};E.log.error("LICENSE: Received " + Q.type + " event",{sessionId:E.Ib && E.Ib.sessionId,keySystem:Q.target.keySystem,systemCode:N.caa,code:N.d5});E.Kn("le");E.Jn && E.Jn(z.$f.fr,N);J({$:!1,code:z.$f.fr,zc:z.DB.Rs,Jd:N.Jd,message:"Received a key error.",ub:N.details,cause:N.cause});};E.log.trace("LICENSE: Executing prefix based EME");(E.context.pf || E.context.Wk) && E.log.debug("LICENSE: PSSH",q().encode(B));E.vw || (E.vw=K(B));if(D){H=v.call(E,E.vw);E.Ib=E.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else E.Ib=E.mediaKeys.createSession("video/mp4",B,null);(E.context.pf || E.context.Wk) && E.log.debug("LICENSE: Created the media keys sessions",{keySystem:E.Ib.keySystem,sessionId:E.Ib.sessionId});E.Ib.addEventListener("mskeymessage",I);E.Ib.addEventListener("mskeyadded",M);E.Ib.addEventListener("mskeyerror",R);E.context.ILb && (G=setTimeout(function(){J({$:!1,code:z.$f.DR,zc:z.DB.hfb});},E.context.ILb));}catch(Q){C({code:z.$f.DR,zc:z.DB.Kj});}});})();};n.prototype.nI=function(){var A;(this.context.pf || this.context.Wk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Gg(k.$n.Oca.qp,A,!0);};n.prototype.i3=function(A){this.BX || this.log.error("pending license must exist at this point");this.context.$H=!0;try{A && (this.context.X=A,this.context.X.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({$:!1,code:z.$f.aK,message:"setMediaKeys failed",ub:p().vd(B)});}return x(this,this.BX,this.Ib);};n.prototype.EVa=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={ba:A.ba,ve:A.ve};return new Promise(function(E,F){(function(){B.context.Ll.release.call(B.context.Ll,D).then(function(){var C;B.log.trace("successfully released the license",JSON.stringify(A));C={$:!0};B.close();C.$?E(C):F(C);}).catch(function(C){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:C.code,subCode:C.zc,extCode:C.Jd,edgeCode:C.rn,message:C.hk});B.close();C.$?E(C):F(C);});})();});};n.prototype.j7=function(){return this.context.pf || this.context.Wk;};b.$ea=n;nb._cad_global.WindowsEmeSession=b.$ea;})();},function(r,b,a){var w,x,y,z,A,B,D,E,F,C,G,J;function c(K,I,M){var R;R=this;this.log=K;this.Kn=I || u.bind(this);this.context=M;this.AX=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.md={};this.qj=void 0;this.url="";this.sqa=this.Cwa=!1;this.nX=k.bind(this);this.Ig=this.AX=void 0;this.fya=new Promise(function(H,Q){R.Zua=H;R.Aua=Q;});this.Jn=function(H,Q){R.Aua(H,Q);R.context.onerror(H,Q);};this.Esa=function(){R.Zua();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function f(){return w.ka.get(A.zv);}function l(){return w.ka.get(z.zi);}function m(){return w.ka.get(x.bg);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function h(K){var I;K=(function(M){var H,Q;function R(N,L,P,S){var U,da;U=new Uint8Array("piff" == L?88:72);da=new C.yQ(U);da.fB(12);da.eB("frma");da.eB(N);da.fB(20);da.eB("schm");da.d_(0);da.d_(0);da.eB(L);da.fB(P);"piff" == L?(da.fB(56),da.eB("schi"),da.fB(48),da.eB("uuid"),da.c_([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(da.fB(40),da.eB("schi"),da.fB(32),da.eB("tenc"));da.d_(0);da.d_(0);da.fB(264);da.c_(S);return U;}H=R("avc1","piff",65537,M);H=f().decode(l().encode(H));M=R("avc1",G.ux,65536,M);M=f().decode(l().encode(M));Q=new Uint8Array(7 + H.length + 8 + M.length + 5);Q.set([91,10,32,32,32,32,34],0);Q.set(H,7);Q.set([34,44,10,32,32,32,32,34],7 + H.length);Q.set(M,7 + H.length + 8);Q.set([34,10,32,32,93],7 + H.length + 8 + M.length);return Q;})(K);I=new Uint8Array(13 + K.length + 2);I.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);I.set(K,13);I.set([10,125],13 + K.length);return I;}function g(K){var I;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=l().decode(K);K=K.subarray(4);I=new Uint8Array(16);I.set(K);return I;}function k(K){var I;I=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.Ib?this.Ib.sessionId:void 0,keySystem:K.target.keySystem,systemCode:I.caa,code:I.d5});this.Jn && this.Jn(J.$f.fr,I);this.Ib=void 0;}function n(K){var I,M;if(K.target.error)(I=K.target.error.systemCode,M=K.target.error.code);return {code:J.$f.fr,zc:J.DB.Rs,Jd:I?w.ka.get(y.rx).PG(I,4):M,details:m().vd(K),cause:K.target.error,caa:I,d5:M};}function q(K,I,M,R){var H,Q,N;H=K.target.sessionId;Q=K.message;N=m().At(Q,f().decode("certificate"));M.sqa=I === F.$n.Oca.ao;M.state=N?2:12;M.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:H});(M.context.pf || M.context.Wk || M.context.$A) && M.log.debug("LICENSE: License challenge",l().encode(Q));M.keySessionId=H;K={nj:M.nj,Tf:I,messageType:"license-request",Co:(/clearkey/i).test(M.keySystem)?"clearkey":"fps",dk:[{data:Q,sessionId:H}]};12 === M.state && (M.Kn("lc"),Q={data:Q,Co:(/clearkey/i).test(M.keySystem)?"clearkey":"fps"},M.context.$H || (M.AX=Q));M.context.Ll.Gg(K).then(function(L){if(12 === M.state && (M.Kn("lr"),M.Esa(),!M.context.$H))(M.BX=L.oj[0].data,M.state=13,R({$:!0,state:M.state}));else if(M.Ib)return (L=t(M,N,L.oj[0].data,M.Ib),2 === M.state?L:L.then(function(){M.state=30;R({$:!0,state:M.state});}));}).catch(function(L){R(m().HH(L,{state:M.state}));});}function p(K,I,M){I.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});M({$:!0});}function v(K,I,M){var R;R=n(K);I.Jn && I.Jn(J.$f.fr,R);I.log.error("LICENSE Error: Received event: " + K.type,{sessionId:I.Ib?I.Ib.sessionId:void 0,keySystem:K.target.keySystem,systemCode:R.caa,code:R.d5});M({$:!1,code:J.$f.fr,zc:J.DB.Rs,Jd:R.Jd,message:"Received a key error.",ub:R.details,cause:R.cause});}function t(K,I,M,R){R={sessionId:R.sessionId};K.j7() && (R.license=l().encode(M));K.log.trace("calling keysession update",R);return new Promise(function(H,Q){function N(){K.Ib.removeEventListener("webkitkeyadded",N);H(void 0);}try{I || K.Ib.addEventListener("webkitkeyadded",N);K.Ib.update(M);I && H(void 0);}catch(L){Q({$:!1,code:J.$f.P0,message:"Unable to update the EME.",e:L});}});}function u(K){this.md[K]=w.ka.get(B.fd).Wb().da(D.ja);this.log.trace("Milestone: " + K + ", " + this.md[K]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(8);b=a(3);x=a(29);y=a(77);z=a(36);A=a(78);B=a(18);D=a(4);E=a(11);F=a(62);C=a(165);G=a(63);J={};J.$f=b.M;J.DB=b.L;c.prototype.Vt=function(){return this.keySystem;};c.prototype.Kab=function(K,I){K.log && (this.log=K.log);K.Kn && (this.Kn=K.Kn);I.Ll && (this.context.Ll=I.Ll);I.onerror && (this.context.onerror=I.onerror);};c.prototype.create=function(K){var I;I=this;I.Kn("lg");I.log.trace("CREATE: Creating the media keys",{keySystem:K});I.keySystem=K;return I.context.TX?Promise.reject({$:!1,code:J.$f.DQ,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function M(){var R,H;R=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=R.lastChild;I.Ig=R;I.context.X=E.Ae.createElement("VIDEO");H?I.Ig.insertBefore(I.context.X,H):I.Ig.appendChild(I.context.X);}return new Promise(function(R,H){function Q(N){(I.context.pf || I.context.Wk || I.context.$A) && I.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{I.mediaKeys=new nb.WebKitMediaKeys(K);I.context.X.webkitSetMediaKeys(I.mediaKeys);R({$:!0,mediaKeys:I.mediaKeys});}catch(L){I.log.error("CREATE: Exception on webkitSetMediaKeys",L);H({$:!1,code:J.$f.DR,ub:m().vd(L)});}}if(d(I.keySystem))try{I.mediaKeys=new nb.WebKitMediaKeys(K);I.context.X && (I.log.trace("LICENSE: calling setmediakeys on video element"),I.context.X.webkitSetMediaKeys(I.mediaKeys));R({$:!0,mediaKeys:I.mediaKeys});}catch(N){H({$:!1,code:J.$f.DR,ub:m().vd(N)});}else (I.mediaKeys=new nb.WebKitMediaKeys(K),I.context.X?(I.log.trace("LICENSE: calling setmediakeys on video element"),I.context.X.webkitSetMediaKeys(I.mediaKeys)):(M(),I.qj=new E.XE(),I.qj.addEventListener("sourceopen",Q),I.url=URL.createObjectURL(I.qj),I.context.X.src=I.url),R({$:!0,mediaKeys:I.mediaKeys}));});})();};c.prototype.close=function(){this.Ib && (this.log.info("Closing the session",{sessionId:this.Ib.sessionId}),this.Ib.removeEventListener("webkitkeyerror",this.nX),this.Ib.close(),this.Ib=void 0);};c.prototype.Gg=function(K,I){var M;if(1 < I.length)return Promise.reject({code:J.$f.bHa});if(0 === I.length)return Promise.reject({code:J.$f.aHa});I=I[0];M=this;M.context.pf && M.log.trace("LICENSE: Setting license",{initData:l().encode(I)});return M.context.TX?Promise.reject({$:!1,code:J.$f.MBa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(R,H){var N,L,P;function Q(S){M.Ib && (M.Ib.removeEventListener("webkitkeymessage",N),M.Ib.removeEventListener("webkitkeyadded",L),M.Ib.removeEventListener("webkitkeyerror",P),M.Ib.addEventListener("webkitkeyerror",M.nX));S.$?R(S):(M.close(),H(S));}N=function(S){q(S,K,M,Q);};L=function(S){p(S,M,Q);};P=function(S){v(S,M,Q);};d(M.keySystem) && (M.nj=g(I),I=h(M.nj));M.log.trace("LICENSE: Executing prefix based EME");M.context.pf | M.context.Wk && M.log.debug("LICENSE: PSSH",l().encode(I));M.Ib=M.mediaKeys.createSession("video/mp4",I,null);(M.context.pf || M.context.Wk) && M.log.debug("LICENSE: Created the media keys sessions",{keySystem:M.Ib.keySystem,sessionId:M.Ib.sessionId});M.Ib.addEventListener("webkitkeymessage",N);M.Ib.addEventListener("webkitkeyadded",L);M.Ib.addEventListener("webkitkeyerror",P);});})();};c.prototype.nI=function(){var K;K=this;return K.Cwa?Promise.resolve({$:!0}):new Promise(function(I,M){var H,Q,N;function R(L){K.Ib && (K.Ib.removeEventListener("webkitkeymessage",H),K.Ib.removeEventListener("webkitkeyadded",Q),K.Ib.removeEventListener("webkitkeyerror",N));L.$?I(L):(M(L),K.close());}H=function(L){q(L,F.$n.Oca.qp,K,R);};Q=function(L){p(L,K,R);I({$:!0});};N=function(L){v(L,K,R);};K.sqa=!1;K.Ib.addEventListener("webkitkeymessage",H);K.Ib.addEventListener("webkitkeyadded",Q);K.Ib.addEventListener("webkitkeyerror",N);K.Ib.update(f().decode("renew"));});};c.prototype.i3=function(K){this.BX || this.log.error("pending license must exist at this point");this.context.$H=!0;try{K && (this.context.X=K,this.log.trace("calling setmediakeys on video element"),this.context.X.webkitSetMediaKeys(this.mediaKeys));}catch(I){return new Promise(function(M,R){R({$:!1,code:J.$f.aK,message:"setMediaKeys failed",ub:m().vd(I)});});}return t(this,!1,this.BX,this.Ib);};c.prototype.EVa=function(K){var I,M;I=this;I.log.trace("Releasing the license of the current session",JSON.stringify(K));I.Cwa=!0;M={ba:K.ba,ve:K.ve};return new Promise(function(R,H){(function(){I.context.Ll.release.call(I.context.Ll,M).then(function(){var Q;I.log.trace("successfully released the license",JSON.stringify(K));Q={$:!0};Q.$?R(Q):(I.close(),H(Q));}).catch(function(Q){I.log.error("RELEASE: Unable to get the release the license",{sessionId:I.Ib?I.Ib.sessionId:void 0,code:Q.code,subCode:Q.zc,extCode:Q.Jd,edgeCode:Q.rn,message:Q.hk});Q.$?R(Q):(I.close(),H(Q));});})();});};c.prototype.j7=function(){return this.context.pf || this.context.Wk;};r.exports=c;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q,p){this.log=k;this.XG=n;this.DA=q;this.context=p;}Object.defineProperty(b,"__esModule",{value:!0});f=a(3);l=a(8);m=a(29);d=a(78);h=a(36);g=a(63);c.prototype.Gg=function(k){var n,q;n=this;(this.context.pf || this.context.Wk) && this.log.debug("Requesting a license",k);if(l.ka.get(m.bg).At(l.ka.get(d.zv).decode("certificate"),k.dk[0].data)){n.log.trace("Requesting Fairplay cert data.");q=Promise.resolve({oj:[{sessionId:k.dk[0].sessionId,data:l.ka.get(h.zi).decode(g.a0)}]});}else q=l.ka.get(m.bg).At(l.ka.get(d.zv).decode("content"),k.dk[0].data)?Promise.resolve({oj:[{sessionId:k.dk[0].sessionId,data:k.nj}]}):(function(){n.log.trace("Requesting license",{drmType:k.Co});return n.XG(k).catch(function(p){n.log.error("Unable to get the Fairplay license",p);throw {code:f.M.SJ,zc:p.zc,Jd:p.Jd,rn:p.rn,hk:p.message || p.hk,zM:p.data,message:"Unable to send the Fairplay license request. " + (p.message || p.hk),cause:p};});})();return q;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.DA(k).catch(function(q){n.log.error("Unable to release the FairPlay license",{code:q.code,subCode:q.zc,extCode:q.Jd,edgeCode:q.rn,message:q.message || q.hk});throw {$:!1,code:f.M.qea,zc:q.zc,Jd:q.Jd,rn:q.rn,hk:q.message || q.hk,message:"Unable to release the FairPlay license. " + (q.message || q.hk),cause:q};});};r.exports=c;},function(r,b,a){var m,d,h,g,k,n,q,p;function c(v,t,u){var w;w=this;this.is=v;this.Tn=t;this.config=u;this.dx=function(){return {version:w.version,drmData:w.M4.map(function(x){return x.dx();})};};this.Gma=function(x){var y;w.is.gn(x) && (x=f(x));1 === x.version && (x=l(w.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new p.V_(z);});}catch(z){throw new k.od(h.M.PJ,h.L.lB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !w.is.Fi(x.version))throw new k.od(h.M.PJ,h.L.lB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.od(h.M.PJ,h.L.Fza,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.xs=new n.Gca(2,this.config.HU,this.is.gn(this.config.HU),this.Tn,this.dx);}function f(v){v=JSON.parse(v);v={xid:v.xid,movieId:v.movieId,keySessionIds:v.keySessionIds,licenseContextId:v.licenseContextId};if(!v.licenseContextId || !v.xid || !v.movieId)throw new k.od(h.M.PJ,h.L.lB);return {version:1,drmData:[v]};}function l(v,t){if(v.zy(t.drmData))return {version:2,drmData:t.drmData.map(function(u){var w;w=u.keySessionIds;return new p.V_({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(x){return {id:x,licenseContextId:u.licenseContextId,licenseId:void 0};}),xid:u.xid,movieId:u.movieId}).dx();})};throw new k.od(h.M.PJ,h.L.lB);}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=void 0;r=a(1);m=a(0);d=a(69);h=a(3);g=a(27);k=a(41);n=a(315);q=a(79);p=a(202);c.prototype.t6a=function(){return this.FYb();};c.prototype.sPa=function(v){return this.xs.add(v);};c.prototype.kY=function(v){return this.xs.remove(v,function(t,u){return t.ba === u.ba;});};c.prototype.toString=function(){return JSON.stringify(this.dx(),null,"  ");};c.prototype.FYb=function(){var v;v=this;this.x6a || (this.x6a=new Promise(function(t,u){v.xs.load(v.Gma).then(function(){t();}).catch(function(w){w.na && w.cause?u(new k.od(h.M.PJ,w.na,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):u(w);});}));return this.x6a;};Xa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.xs.version;}},M4:{configurable:!0,enumerable:!0,get:function(){return this.xs.$v;}}});a=c;a=r.__decorate([m.R(),r.__param(0,m.l(g.ag)),r.__param(1,m.l(q.hB)),r.__param(2,m.l(d.qv))],a);b.Zza=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.e6a=void 0;c=a(3);f=a(95);l=a(121);m=a(201);b.e6a=function(h){m.rM.parent=h.$a;return function(){d || (d=new Promise(function(g,k){try{g(m.rM.get(l.yBa));}catch(n){k(new f.Mg(c.M.fgb,c.L.Agb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;a.prototype.vZa=function(){return void 0 !== this.mediaKeys;};a.prototype.setMediaKeys=function(c){this.mediaKeys=c;};a.prototype.UUb=function(){this.vZa() && (this.mediaKeys=void 0);};b.XFa=a;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v,t,u){this.FG=q;this.Rc=p;this.RN=t;this.pk=u;this.log=v.hb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;r=a(1);f=a(0);l=a(121);m=a(36);d=a(7);h=a(138);g=a(70);k=a(137);n=a(596);c.prototype.Qna=function(q){var p;p=this;return Promise.all([this.FG(),this.sFb()]).then(function(v){var t;t=ba(v);v=t.next().value;t=t.next().value;return v.JDb({type:q,initData:t},p.RN());}).then(function(v){var t;t=ba(v);v=t.next().value;t=t.next().value;t=p.Rc.encode(t.data[0]);p.log.trace("Challenge generated",t);return {Yb:v,nja:t};});};c.prototype.sFb=function(){var q;q=this;return this.pk.Ut().then(function(p){switch(p){case k.Zn.LG:return n.vfb;case k.Zn.OD:return n.Yib;default:return n.nkb;}}).then(function(p){return p.map(q.Rc.decode);});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.W_)),r.__param(1,f.l(m.zi)),r.__param(2,f.l(d.qb)),r.__param(3,f.l(h.rR)),r.__param(4,f.l(g.Us))],a);b.aAa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nkb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.vfb=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.Yib=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(0);c=a(13);f=a(598);l=a(37);m=a(40);d=a(599);h=a(317);g=a(601);k=a(167);n=a(602);q=a(69);p=a(603);b.config=new r.pd(function(v){v(c.Xc).uf(function(){return function(){return nb._cad_global.config;};});v(l.Nba).to(f.tAa).aa();v(l.Tl).to(f.NLa).aa();v(l.fR).to(f.fEa).aa();v(m.Qm).to(d.ICa).aa();v(h.zGa).to(g.yGa).aa();v(k.CCa).to(n.BCa).aa();v(q.qv).to(p.XBa).aa();});},function(r,b,a){var m,d,h,g,k;function c(){this.Wy={};this.J7a=0;}function f(n,q,p,v,t){this.debug=n;this.Gz=q;this.hX=p;this.Vf=v;this.U9=t;}function l(n,q,p){this.Gz=n;this.hX=q;this.U9=p;}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=b.NLa=b.tAa=void 0;r=a(1);m=a(0);d=a(96);h=a(7);g=a(139);k=a(316);a=a(37);l=r.__decorate([m.R(),r.__param(0,m.l(a.fR)),r.__param(1,m.l(g.k1)),r.__param(2,m.l(k.nea))],l);b.tAa=l;f=r.__decorate([m.R(),r.__param(0,m.l(d.nv)),r.__param(1,m.l(a.fR)),r.__param(2,m.l(g.k1)),r.__param(3,m.l(h.qb)),r.__param(4,m.l(k.nea))],f);b.NLa=f;c.prototype.XNb=function(n){this.Wy=Object.assign({},this.Wy,n);this.J7a++;};Xa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Wy;}},n$:{configurable:!0,enumerable:!0,get:function(){return this.J7a;}}});a=r.__decorate([m.R()],c);b.fEa=a;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v){q=d.Ye.call(this,q,void 0 === v?"GeneralConfigImpl":v) || this;q.mm=p;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=b.yM=void 0;r=a(1);f=a(4);l=a(0);m=a(45);d=a(46);h=a(40);g=a(37);a=a(135);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.yM=function(q,p){return q.u6a(k[p] || p,h.Ax);};na(c,d.Ye);Xa.Object.defineProperties(c.prototype,{yM:{configurable:!0,enumerable:!0,get:function(){return h.Ax.ejb;}},Dwa:{configurable:!0,enumerable:!0,get:function(){return f.uh(8);}},Az:{configurable:!0,enumerable:!0,get:function(){return "";}},OL:{configurable:!0,enumerable:!0,get:function(){return "";}},hJ:{configurable:!0,enumerable:!0,get:function(){return "";}},q$a:{configurable:!0,enumerable:!0,get:function(){return !1;}},j3:{configurable:!0,enumerable:!0,get:function(){return !0;}},YV:{configurable:!0,enumerable:!0,get:function(){return this.mm.YV;}},WBb:{configurable:!0,enumerable:!0,get:function(){return !1;}},ee:{configurable:!0,enumerable:!0,get:function(){return {};}},H7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ppa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qaa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Js:{configurable:!0,enumerable:!0,get:function(){return !1;}},QU:{configurable:!0,enumerable:!0,get:function(){return !0;}},fE:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},kw:{configurable:!0,enumerable:!0,get:function(){return 0 <= [h.Ax.$Ka,h.Ax.jEa].indexOf(this.yM);}}});n=c;r.__decorate([m.config(b.yM,"environment")],n.prototype,"yM",null);r.__decorate([m.config(m.Yk,"storageTimeout")],n.prototype,"Dwa",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"Az",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"OL",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"hJ",null);r.__decorate([m.config(m.bd,"testIndexDBForCorruptedDatabase")],n.prototype,"q$a",null);r.__decorate([m.config(m.bd,"applyIndexedDbOpenWorkaround")],n.prototype,"j3",null);r.__decorate([m.config(m.bd,"ignoreIdbOpenError")],n.prototype,"YV",null);r.__decorate([m.config(m.bd,"executeStorageMigration")],n.prototype,"WBb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"ee",null);r.__decorate([m.config(m.bd,"retryAllMslRequestsOnError")],n.prototype,"H7a",null);r.__decorate([m.config(m.bd,"isTestAccount")],n.prototype,"Ppa",null);r.__decorate([m.config(m.bd,"vuiCommandLogging")],n.prototype,"Qaa",null);r.__decorate([m.config(m.bd,"useRangeHeader")],n.prototype,"Js",null);r.__decorate([m.config(m.bd,"enableMilestoneEventList")],n.prototype,"QU",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"fE",null);n=r.__decorate([l.R(),r.__param(0,l.l(g.Tl)),r.__param(1,l.l(a.HR)),r.__param(2,l.l(g.tQ)),r.__param(2,l.optional())],n);b.ICa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.xda=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.xda=a;},function(r,b,a){var f,l,m,d;function c(h,g){return m.Ye.call(this,h,void 0 === g?"NetworkMonitorConfigImpl":g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;r=a(1);f=a(0);l=a(45);m=a(46);a=a(37);na(c,m.Ye);Xa.Object.defineProperties(c.prototype,{cbb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([l.config(l.bd,"useNetworkMonitor")],d.prototype,"cbb",null);d=r.__decorate([f.R(),r.__param(0,f.l(a.Tl)),r.__param(1,f.l(a.tQ)),r.__param(1,f.optional())],d);b.yGa=d;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v){n=d.Ye.call(this,n,void 0 === v?"FtlProbeConfigImpl":v) || this;n.Bh=q;n.ya=p;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;r=a(1);f=a(38);l=a(0);m=a(4);d=a(46);h=a(122);g=a(45);a=a(37);na(c,d.Ye);Xa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Ima + (-1 === this.Ima.indexOf("?")?"?":"&") + "monotonic=" + this.ya.f3a + "&device=web";}},y9a:{configurable:!0,enumerable:!0,get:function(){return m.Gb;}},yma:{configurable:!0,enumerable:!0,get:function(){return "";}},Ima:{configurable:!0,enumerable:!0,get:function(){return this.Bh.endpoint + "/ftl/probe" + (this.yma?"?force=" + this.yma:"");}}});k=c;r.__decorate([g.config(g.bd,"ftlEnabled")],k.prototype,"enabled",null);r.__decorate([g.config(g.Yk,"ftlStartDelay")],k.prototype,"y9a",null);r.__decorate([g.config(g.string,"ftlEndpointForceParam")],k.prototype,"yma",null);r.__decorate([g.config(g.url,"ftlEndpoint")],k.prototype,"Ima",null);k=r.__decorate([l.R(),r.__param(0,l.l(a.Tl)),r.__param(1,l.l(h.uJ)),r.__param(2,l.l(f.Sh)),r.__param(3,l.l(a.tQ)),r.__param(3,l.optional())],k);b.BCa=k;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q){k=l.Ye.call(this,k,void 0 === q?"EmeConfigImpl":q) || this;k.ee=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;r=a(1);f=a(0);l=a(46);m=a(37);d=a(4);h=a(45);a=a(164);na(c,l.Ye);Xa.Object.defineProperties(c.prototype,{D_a:{configurable:!0,enumerable:!0,get:function(){return this.ee.R_a || this.ee.gW || this.ee.AN?!0:!1;}},nD:{configurable:!0,enumerable:!0,get:function(){return d.uh(5);}},gta:{configurable:!0,enumerable:!0,get:function(){return d.uh(10);}},HU:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},gV:{configurable:!0,enumerable:!0,get:function(){return !1;}},Pw:{configurable:!0,enumerable:!0,get:function(){return !0;}},bQa:{configurable:!0,enumerable:!0,get:function(){return d.uh(30);}},cQa:{configurable:!0,enumerable:!0,get:function(){return d.uh(30);}},fQa:{configurable:!0,enumerable:!0,get:function(){return d.uh(30);}},dQa:{configurable:!0,enumerable:!0,get:function(){return d.uh(30);}},gQa:{configurable:!0,enumerable:!0,get:function(){return d.uh(30);}},Jva:{configurable:!0,enumerable:!0,get:function(){return "";}},w4a:{configurable:!0,enumerable:!0,get:function(){return this.ee.uw?!1:!0;}},x4a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});g=c;r.__decorate([h.config(h.bd,"initializeKeySystemAtStartup")],g.prototype,"D_a",null);r.__decorate([h.config(h.Yk,"licenseRenewalRequestDelay")],g.prototype,"nD",null);r.__decorate([h.config(h.Yk,"persistedReleaseDelay")],g.prototype,"gta",null);r.__decorate([h.config(h.string,"drmPersistKey")],g.prototype,"HU",null);r.__decorate([h.config(h.bd,"forceLimitedDurationLicense")],g.prototype,"gV",null);r.__decorate([h.config(h.bd,"prepareCadmium")],g.prototype,"Pw",null);r.__decorate([h.config(h.Yk,"apiCloseTimeout")],g.prototype,"bQa",null);r.__decorate([h.config(h.Yk,"apiCreateMediaKeysTimeout")],g.prototype,"cQa",null);r.__decorate([h.config(h.Yk,"apiSetServerCertificateTimeout")],g.prototype,"fQa",null);r.__decorate([h.config(h.Yk,"apiGenerateRequestTimeout")],g.prototype,"dQa",null);r.__decorate([h.config(h.Yk,"apiUpdateTimeout")],g.prototype,"gQa",null);r.__decorate([h.config(h.string,"serverCertificate")],g.prototype,"Jva",null);r.__decorate([h.config(h.bd,"outputRestrictedIsFatal")],g.prototype,"w4a",null);r.__decorate([h.config(h.bd,"outputRestrictedIsFatalForUhd")],g.prototype,"x4a",null);g=r.__decorate([f.R(),r.__param(0,f.l(m.Tl)),r.__param(1,f.l(a.kB)),r.__param(2,f.l(m.tQ)),r.__param(2,f.optional())],g);b.XBa=g;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.QUa=void 0;r=a(0);c=a(121);f=a(605);l=a(70);m=a(606);d=a(319);h=a(614);b.QUa=new r.pd(function(g){g(c.yBa).to(f.xBa).aa();g(l.Us).to(m.WFa).aa();g(d.ZBa).to(h.YBa);});},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w;function c(x,y,z,A,B,D,E,F,C,G){var J;J=this;this.Lc=y;this.xA=z;this.config=A;this.Kr=B;this.NAb=D;this.NL=E;this.pk=F;this.RN=C;this.Am=G;this.hZb=function(K,I){var M;J.Am.mark(w.Ia.e0,K.Qi.ba,"generate-challenge");M=!1;I.gXb(function(R){M || (M=!0,J.Am.mark(w.Ia.d0,K.Qi.ba,"generate-challenge"));J.XG(K,I,R).then(function(H){I.wPa(H);J.$sb(I);}).catch(function(H){return I.lqb(H);});});};this.log=x.hb("DrmServices");this.Kr().hp && this.NL.t6a().then(function(){J.HUb();}).catch(function(K){J.log.error("Unable to load the persisted DRM data",K);});this.config.D_a && this.pk.rw().then(function(K){return J.eTa(C(),K,g.Vh.qp).then(function(I){return I.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;r=a(1);f=a(0);l=a(7);m=a(48);d=a(318);h=a(71);g=a(57);k=a(69);n=a(203);q=a(202);p=a(319);v=a(13);t=a(70);u=a(138);w=a(62);c.prototype.JDb=function(x,y){return this.wG(y,x.type,x.context).then(function(z){return z.MDb(x.initData).then(function(A){return [z,{Co:z.Ut(),data:A.dk}];});});};c.prototype.Gg=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.YXa(x,x.type));return this.wG(y,x.type,x.context).then(function(A){z.d3a(x,A);return A.NDb(x.initData).then(function(){return A;});});};c.prototype.d3a=function(x,y){y.nXb(x.Qi);this.hZb(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.RYa(x));return this.FGb(x).then(function(){var A;A=Object.assign({active:!1,ve:[]},x.Qi);z.NL.kY(A);y.UUb();return x;});};c.prototype.YXa=function(x,y){return {movieId:x.Qi.J,xid:x.Qi.ba,type:g.qqa(y)};};c.prototype.RYa=function(x){return {movieId:x.Qi?x.Qi.J:void 0,xid:x.Qi?x.Qi.ba:void 0,keySessionId:x.rz()};};c.prototype.XG=function(x,y,z){this.log.info("Sending license request",this.YXa(x,z.Tf));return this.xA.Gg({ba:x.Qi.ba,Ri:x.Qi.Ri,L4:[x.Qi.pm],dk:[{sessionId:y.rz() || "session",data:z.dk}],Tf:z.Tf,Co:y.Ut(),LRa:z.LRa,KW:x.Qi.KW,lk:x.Qi.lk});};c.prototype.FGb=function(x){this.log.info("Sending release request",this.RYa(x));return this.xA.release({ba:x.Qi.ba,ve:x.ve});};c.prototype.wG=function(x,y,z){var A;A=this;return this.pk.rw().then(function(B){return A.eTa(x,B,y,z);});};c.prototype.eTa=function(x,y,z,A){return this.NAb.create().then(function(B){return B.createSession(y,x,z,A).then(function(){return B;});});};c.prototype.GUb=function(x){var y;y=this;return this.xA.release({ba:x.ba,ve:x.ve}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.HUb=function(){var x;x=this;this.Lc.zk(this.config.gta,function(){x.log.trace("Removing cached sessions",{"count:":x.NL.M4.length});x.NL.M4.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.GUb(z);}).then(function(){return x.NL.kY(z);});},Promise.resolve(void 0));});};c.prototype.$sb=function(x){var y;if(x.rz() && x.Qi){y=new q.V_();y.ve=x.ve;y.ba=x.Qi.ba;y.J=x.Qi.J;this.NL.sPa(y);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.Pj)),r.__param(2,f.l(d.wBa)),r.__param(3,f.l(k.qv)),r.__param(4,f.l(v.Xc)),r.__param(5,f.l(p.ZBa)),r.__param(6,f.l(n.Kba)),r.__param(7,f.l(t.Us)),r.__param(8,f.l(u.rR)),r.__param(9,f.l(h.uR))],a);b.xBa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E;function c(F,C,G,J,K,I,M,R,H,Q){this.Yr=F;this.me=C;this.Rh=G;this.jj=J;this.Rc=K;this.is=I;this.ZW=M;this.config=R;this.Yp=H;this.sh=Q;this.log=this.Yr.hb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(1);f=a(0);l=a(3);m=a(7);d=a(95);h=a(137);g=a(607);k=a(608);n=a(609);q=a(205);p=a(29);v=a(77);t=a(36);u=a(27);w=a(39);x=a(610);y=a(612);z=a(78);A=a(13);B=a(108);D=a(69);a=a(66);c.prototype.rw=function(){this.promise || (this.promise=this.XVb());return this.promise;};c.prototype.Mxb=function(F){var C;C=this;return new Promise(function(G,J){var K,I;K=B.Hb.fna(F);I=C.BXa(K);K=C.uXa(K);I.nVb(F,K.Kna()).then(function(M){C.log.trace("Created the media keys system access",{keySystem:F,supportedconfig:M.getConfiguration?JSON.stringify(M.getConfiguration()):void 0});C.keySystem=M.keySystem;G(M);}).catch(function(M){C.log.error("Unable to create the media key system access object",{keySystem:F,error:M.message});J(new d.Mg(l.M.HBa,l.L.Kj,void 0,"Unable to create media keys system access. " + M.message,M));});});};c.prototype.Ut=function(){var F;F=this;return this.rw().then(function(C){return F.vXa(C);});};c.prototype.VEb=function(){var F,C;F=this;C=this.config().J0a || [this.config().um];if(1 < C.length)return this.rw().then(function(G){return F.vXa(G);}).then(function(G){return B.Hb.tXa(G);});C=B.Hb.fna(C[0]);return Promise.resolve(B.Hb.tXa(C));};c.prototype.WEb=function(){var F;F=this;return this.Ut().then(function(C){return F.uXa(C);});};c.prototype.YEb=function(){var F;F=this;return this.Ut().then(function(C){return F.BXa(C);});};c.prototype.vXa=function(F){return B.Hb.fna(F.keySystem);};c.prototype.uXa=function(F){switch(F){case h.Zn.OD:return new g.VBa(this.jj,this.Rc);case h.Zn.LG:return new y.$Ja(this.jj,this.Rc,this.Rh,this.sh);default:return new n.lAa(this.jj,this.Yp,this.config);}};c.prototype.BXa=function(F){switch(F){case h.Zn.OD:return new k.dJa(this.ZW,this.is,this.Rc,this.me,this.Yp,this.Rh);case h.Zn.LG:return new x.wCa(this.ZW,this.is,this.Rc,this.me,this.Yp,this.Rh);default:return new q.yv(this.ZW,this.is,this.Rc,this.me,this.Yp,this.Rh);}};c.prototype.XVb=function(){var F,C;F=this;C=(this.config().J0a || [this.config().um]).map(function(G){return function(){return F.Mxb(G);};});return this.YVb(C);};c.prototype.YVb=function(F){return F.reduce(function(C,G){return C.then(function(J){return Promise.resolve(J);}).catch(function(){return G();});},Promise.reject(Error("keySystem missing")));};Xa.Object.defineProperties(c.prototype,{I0a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem;}}});E=c;E=r.__decorate([f.R(),r.__param(0,f.l(m.qb)),r.__param(1,f.l(p.bg)),r.__param(2,f.l(z.zv)),r.__param(3,f.l(v.rx)),r.__param(4,f.l(t.zi)),r.__param(5,f.l(u.ag)),r.__param(6,f.l(w.$J)),r.__param(7,f.l(A.Xc)),r.__param(8,f.l(D.qv)),r.__param(9,f.l(a.Ws))],E);b.WFa=E;},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v){this.jj=p;this.Rc=v;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;r=a(1);f=a(0);l=a(3);m=a(77);d=a(36);h=a(204);g=a(95);k=a(64);n=a(41);q=a(63);c.prototype.Y3=function(){return !0;};c.prototype.uia=function(){return !1;};c.prototype.gja=function(){return !1;};c.prototype.wV=function(){return q.ux;};c.prototype.Vma=function(){return q.Cda;};c.prototype.Kna=function(){return [{initDataTypes:[this.wV()],audioCapabilities:[{contentType:h.VJ}],videoCapabilities:[{contentType:h.Hx}],sessionTypes:["temporary"]}];};c.prototype.kpa=function(){Promise.reject(new n.od(l.M.fca));};c.prototype.dka=function(p){var v;v=new Uint8Array(p.message);v=this.Tla(v,"PlayReadyKeyMessage","Challenge");v=this.Rc.decode(v);return {type:p.type,sessionId:p.target.sessionId,DH:[v],messageType:p.messageType};};c.prototype.Ty=function(p){var v,t,u;v=new g.Mg(l.M.fr);t=p.code;null != t && void 0 !== t?(t=parseInt(t,10),v.zc=1 <= t && 9 >= t?l.L.Rs + t:l.L.Rs):v.zc=p instanceof k.hr?l.L.EQ:l.L.Kj;try{u=(/\((\d+)\)/).exec(p.message);v.Jd=this.jj.PG(Number(u && u[1]),4);}catch(w){}v.yU(p);return v;};c.prototype.Tla=function(p,v){var u,w,x;for(var t=1;t < arguments.length;++t){;}for(t=1;t < arguments.length;t++){;}t="";w=p.length;for(u=0;u < w;u++){x=p[u];0 < x && (t+=String.fromCharCode(x));}w="\\s*(.*)\\s*";for(u=arguments.length - 1;0 < u;u--){x=arguments[u];if(0 > t.search(x))return "";x="(?:[^:].*:|)" + x;w="[\\s\\S]*<" + x + "[^>]*>" + w + "</" + x + ">[\\s\\S]*";}return (t=t.match(new RegExp(w)))?t[1]:"";};c.prototype.VM=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.rx)),r.__param(1,f.l(d.zi))],a);b.VBa=a;},function(r,b,a){var f,l,m,d;function c(){return l.yv.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;r=a(1);f=a(0);l=a(205);m=a(95);d=a(3);na(c,l.yv);c.prototype.i4=function(h,g,k,n,q){this.V6a(k);this.T6a(n);this.R6a(q);this.Hmb=this.rb;this.rb=h.createSession(g);this.APa(k);this.vPa(n);this.tPa(q);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var g;function h(k){return k && k.sessionId?k.close().then(function(){return k=void 0;}):Promise.resolve();}g=this;this.Jja=void 0;return this.rb?h(this.rb).then(function(){h(g.Hmb);}):Promise.reject(new m.Mg(d.M.GBa,d.L.HJ,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(h,g){this.initDataType=h;this.initData=g;return l.yv.prototype.generateRequest.call(this,h,g);};a=r.__decorate([f.R()],c);b.dJa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v,t,u){this.jj=v;this.Yp=t;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;r=a(1);f=a(0);l=a(3);m=a(77);d=a(204);h=a(95);g=a(64);k=a(69);n=a(13);q=a(41);p=a(63);c.prototype.Y3=function(){return !0;};c.prototype.uia=function(){return !0;};c.prototype.gja=function(){return !0;};c.prototype.wV=function(){return p.ux;};c.prototype.Vma=function(){return this.Yp.Jva?this.Yp.Jva:p.$La;};c.prototype.Kna=function(){var v,t;v=[{contentType:d.Hx,robustness:p.OJ},{contentType:d.Hx,robustness:p.zea},{contentType:d.Hx,robustness:p.f1}];t=[{contentType:d.Hx,robustness:p.f1}];return [{initDataTypes:[this.wV()],persistentState:"required",videoCapabilities:this.config().pWa?t:v}];};c.prototype.kpa=function(){Promise.reject(new q.od(l.M.fca));};c.prototype.dka=function(v){return {type:v.type,sessionId:v.target.sessionId,DH:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.Ty=function(v){var t,u,w;t=new h.Mg(l.M.fr);u=v.code;null != u && void 0 !== u?(u=parseInt(u,10),t.zc=1 <= u && 9 >= u?l.L.Rs + u:l.L.Rs):t.zc=v instanceof g.hr?l.L.EQ:l.L.Kj;try{w=v.message.match(/\((\d*)\)/)[1];t.Jd=this.jj.PG(w,4);}catch(x){}t.yU(v);return t;};c.prototype.VM=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.rx)),r.__param(1,f.l(k.qv)),r.__param(2,f.l(n.Xc))],a);b.lAa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u,w,x,y,z){t=l.yv.call(this,t,u,w,x,y,z) || this;t.Rc=w;t.$d=x;t.Yp=y;t.Rh=z;t.MZa=new m.vCa(t.Rc,t.$d,t.Rh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;r=a(1);f=a(0);l=a(205);m=a(611);d=a(39);h=a(27);g=a(36);k=a(29);n=a(69);q=a(78);p=a(320);v=a(321);na(c,l.yv);c.prototype.generateRequest=function(t,u){var w,x,y;w=this;try{x=u.map(function(z){return w.MZa.EFb(z);});this.s_a=x.map(function(z){return w.Rc.encode(z);});y=this.MZa.tvb(x);return l.yv.prototype.generateRequest.call(this,t,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(t,u,w){var x,y,z,A,B;x=this;if(w)try{y=this.Rh.encode(t[0]);z=JSON.parse(y).RESPONSES.map(function(D){var E;E=v.g1.V9a(D.ID);return {keyID:u === p.nF.CJa?x.s_a[x.s_a.length - 1]:w[E],payload:D.PAYLOAD};});if(u === p.nF.Request){A=z.map(function(D){return D.keyID;});w.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);t=[this.Rh.decode(B)];}catch(D){return Promise.reject(D);}return l.yv.prototype.update.call(this,t,u);};c.prototype.nI=function(){return l.yv.prototype.update.call(this,[this.Rh.decode("renew")],p.nF.Request);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(d.$J)),r.__param(1,f.l(h.ag)),r.__param(2,f.l(g.zi)),r.__param(3,f.l(k.bg)),r.__param(4,f.l(n.qv)),r.__param(5,f.l(q.zv))],a);b.wCa=a;},function(r,b){function a(c,f,l){var m;m=this;this.Rc=c;this.$d=f;this.Rh=l;this.EFb=function(d){var h;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.Rc.decode(d);d=d.subarray(4);h=new Uint8Array(16);h.set(d);return h;};this.wfb={ux:1667591779,n3b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;a.prototype.tvb=function(c){var f;f=this.wfb.ux;c=c.map(function(l){return {B$b:"",lLb:l,iia:l,xYb:l,H1b:[1]};});return this.MMb(f,c);};a.prototype.LMb=function(c){var f;f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,c);return this.Sqa("fpsi",[f]);};a.prototype.KMb=function(c,f,l,m){c=[this.Sqa("fkri",[c])];f.byteLength && c.push(this.DW("fkai",[f]));l.byteLength && c.push(this.DW("fkcx",[l]));m.length && c.push(this.DW("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.DW("fpsk",c);};a.prototype.MMb=function(c,f){var l,d;l=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.LMb(c)];for(var m in f){d=f[m];c.push(this.KMb(d.lLb,d.iia,d.xYb,d.H1b));}f=this.DW("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,f.byteLength);return this.Sqa("pssh",[l,m,f]);};a.prototype.Sqa=function(c,f){var l,m,d;l=0;for(d in f){l+=f[d].byteLength;}l=new Uint8Array(12 + l);m=new DataView(l.buffer);d=0;m.setUint32(d,l.byteLength);d+=4;l.set(this.Rh.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var h in f){c=f[h];l.set(c,d);d+=c.byteLength;}return l;};a.prototype.DW=function(c,f){var l,m;l=0;for(m in f){l+=f[m].byteLength;}l=new Uint8Array(8 + l);m=0;new DataView(l.buffer).setUint32(m,l.byteLength);m+=4;l.set(this.Rh.decode(c),m);m+=4;for(var d in f){c=f[d];l.set(c,m);m+=c.byteLength;}return l;};b.vCa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t;function c(u,w,x,y){this.jj=u;this.Rc=w;this.Rh=x;this.sh=y;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=void 0;r=a(1);f=a(0);l=a(3);m=a(77);d=a(78);h=a(95);g=a(64);k=a(36);n=a(63);q=a(322);p=a(41);v=a(66);t=a(321);c.prototype.Y3=function(){return !1;};c.prototype.uia=function(){return !1;};c.prototype.gja=function(){return !0;};c.prototype.wV=function(){return n.ux;};c.prototype.Vma=function(){return n.a0;};c.prototype.Kna=function(){return [{initDataTypes:[n.ux],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.kpa=function(u){u.nI();};c.prototype.dka=function(u){var w,x;w=[];if(u.messageType === q.cda || u.messageType === q.bda){if(u.messageType === q.cda){x=this.Rh.encode(new Uint8Array(u.message));w=JSON.parse(x);x=w.map(function(y){return y.keyID;});w=w.map(function(y){return y.payload;});}else w=[this.Rc.encode(new Uint8Array(u.message))];if(0 === w.length || !w.every(function(y){return y && y.length;}))throw new p.od(l.M.LBa);w=this.o_b(w);w=this.Rh.decode(JSON.stringify(w));}else w=new Uint8Array(u.message);return {type:u.type,sessionId:u.target.sessionId,DH:[w],messageType:u.messageType,vw:x};};c.prototype.Ty=function(u){var w,x,y,z;x=null === (w=u.target) || void 0 === w?void 0:w.error;if(x)(y=x.systemCode,z=x.code);w=new h.Mg(l.M.fr,u instanceof g.hr?l.L.EQ:l.L.Rs,y?this.jj.PG(y,4):z,"",x);w.yU(u);return w;};c.prototype.o_b=function(u){u=u.map(function(w,x){return {ID:t.g1.sJb(x),PAYLOAD:w};});return {VERSION:this.sh.X3?3:1,CHALLENGES:u};};c.prototype.VM=function(u,w){var x,y;x=this;if(w && this.sh.X3)try{y=this.Rh.encode(w[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.g1.V9a(z.ID);z=x.Rc.decode(z.DHB).subarray(4,12);A=x.Rc.decode(u[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new h.Mg(l.M.Cib,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.rx)),r.__param(1,f.l(k.zi)),r.__param(2,f.l(d.zv)),r.__param(3,f.l(v.Ws))],a);b.$Ja=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.T0=void 0;b.T0=function(){var a;a=this;this.promise=new Promise(function(c,f){a.resolve=c;a.reject=f;});};},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v,t,u,w){this.Yr=q;this.za=p;this.Rc=v;this.config=t;this.Wo=u;this.pk=w;}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;r=a(1);f=a(0);l=a(7);m=a(18);d=a(36);h=a(69);g=a(64);k=a(322);a=a(70);c.prototype.create=function(){var q;q=this;return Promise.all([this.pk.YEb(),this.pk.WEb(),this.pk.Ut()]).then(function(p){var v,t;v=ba(p);p=v.next().value;t=v.next().value;v=v.next().value;return new k.$Ba(q.Yr,q.za,q.Rc,q.config,p,t,v,q.Wo);});};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.fd)),r.__param(2,f.l(d.zi)),r.__param(3,f.l(h.qv)),r.__param(4,f.l(g.Px)),r.__param(5,f.l(a.Us))],n);b.YBa=n;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L;Object.defineProperty(b,"__esModule",{value:!0});b.f1a=void 0;c=a(616);f=a(641);l=a(650);m=a(653);d=a(659);h=a(976);g=a(1014);k=a(1017);n=a(1029);q=a(1039);p=a(1043);v=a(1045);t=a(1076);u=a(1078);w=a(1082);x=a(1097);y=a(1105);z=a(1112);A=a(1115);B=a(1122);D=a(201);E=a(1130);F=a(1131);C=a(1138);G=a(1151);J=a(1157);K=a(1159);I=a(1166);M=a(1195);R=a(1217);H=a(1221);Q=a(1225);N=a(1239);L=a(1242);b.f1a=function(P){P.load(c.Qy,g.XI,f.v1a,k.pn,l.c3a,m.Aa,d.sbb,h.QZa,n.storage,q.GL,p.wRa,v.Q1a,t.AD,u.gk,w.u1a,x.r3a,y.CWa,z.f6a,A.bI,B.MUa,D.eme,E.crypto,F.me,C.Ed,G.Ka,J.i3a,K.d5a,I.j,M.qSa,R.transports,H.Fl,Q.Xg,N.DQa,L.oa);};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya,O,T,ja,pa,sa,Qa,Ua,Za,ab,kb,Ya,Sa,Ba,Ka,Na,Wa,ib,Bb,Eb,Ib,Ob;Object.defineProperty(b,"__esModule",{value:!0});b.Qy=void 0;r=a(0);c=a(39);f=a(38);l=a(48);m=a(81);d=a(140);h=a(617);g=a(618);k=a(619);n=a(620);q=a(78);p=a(77);v=a(36);t=a(29);u=a(27);w=a(97);x=a(64);y=a(325);z=a(621);A=a(326);B=a(622);D=a(623);E=a(624);F=a(194);C=a(327);G=a(625);J=a(200);K=a(110);I=a(626);M=a(18);R=a(328);H=a(627);Q=a(628);N=a(96);L=a(629);P=a(7);S=a(324);U=a(630);da=a(71);ka=a(631);ma=a(329);X=a(632);ua=a(633);ya=a(111);O=a(11);T=a(634);ja=a(331);pa=a(332);sa=a(635);Qa=a(333);Ua=a(13);Za=a(34);ab=a(141);kb=a(334);Ya=a(164);Sa=a(636);Ba=a(335);Ka=a(336);Na=a(207);Wa=a(637);ib=a(337);Bb=a(638);Eb=a(208);Ib=a(639);Ob=a(640);b.Qy=new r.pd(function(Cb){Cb(c.IR).kE(function(){return {};}).aa();Cb(c.IE).Yi(JSON);Cb(c.cMa).Yi(nb);Cb(d.RKa).Yi(Math);Cb(c.OEa).Yi(O.F0);Cb(c.Oda).Yi(O.vv);Cb(c.HLa).Yi(O.vB);Cb(c.TAa).Yi(Date);Cb(c.$J).Yi(O.jf);Cb(c.whb).Yi(O.XE);Cb(S.pAa).to(U.oAa).aa();Cb(M.fd).to(I.Fya).aa();Cb(f.Sh).to(n.qAa).aa();Cb(l.Pj).to(h.aKa).aa();Cb(m.Ex).to(g.ZDa).aa();Cb(x.Px).to(E.rJa).aa();Cb(d.$0).to(k.yJa).aa();Cb(kb.jda).to(Ob.SFa).aa();Cb(N.nv).to(Q.ZAa).aa();Cb(N.XAa).to(L.WAa).aa();Cb(q.zv).to(z.ILa).aa();Cb(p.rx).to(A.Cba).aa();Cb(v.zi).to(B.mza).aa();Cb(t.bg).to(D.JLa).aa();Cb(u.ag).Yi(F.HE);Cb(Ba.GQ).to(Ka.nCa).aa();Cb(w.kca).to(C.Fk).Toa();Cb(w.T_).to(C.Fk).aa();Cb(w.iBa).to(C.Fk).aa();Cb(w.nca).to(C.Fk).aa();Cb(J.Jea).to(K.CB).aa();Cb(R.HAa).to(H.GAa).aa();Cb(da.lF).to(ka.Oea).aa();Cb(da.uR).to(ka.Oea).aa();Cb("Factory<LoggerFactory>").N$a(P.qb);Cb(ma.$ba).to(X.$Aa).aa();Cb(ya.iK).uf(function(Kb){return function(Ub){return new ua.bLa(Kb.$a.get(M.fd),Kb.$a.get(l.Pj),Ub);};});Cb(ib.UAa).uf(function(Kb){return function(Ub){return new Bb.VAa(Kb.$a.get(l.Pj),Ub);};});Cb(T.lea).q_b(ja.kea);Cb(T.cjb).uf(function(Kb){var Ub;Ub=Kb.$a.get(T.lea);return function(){return new Ub(!1);};});Cb(T.djb).uf(function(Kb){var Ub;Ub=Kb.$a.get(T.lea);return function(){return new Ub(!0);};});Cb(pa.FLa).uf(function(){return function(Kb){return new sa.GLa(Kb);};});Cb(ab.JR).uf(function(Kb){return function(Ub,mc,Ec){return new Qa.GIa(Kb.$a.get(N.nv),Kb.$a.get(Ua.Xc),Kb.$a.get(Za.Gk),Kb.$a.get(kb.jda),Ub,mc,Ec);};});Cb(y.NGa).uf(function(){return function(Kb){return new G.OGa(Kb);};});Cb(Ya.kB).to(Sa.Cza);Cb(Na.m1).uf(function(Kb){return function(Ub,mc){return new Wa.mLa(Kb.$a.get(l.Pj),Ub,mc);};});Cb(Eb.gCa).to(Ib.fCa).aa();});},function(r,b,a){var l,m,d,h;function c(g){this.HP=g;m.Po(this,"timers");}function f(g,k){this.HP=g;this.Htb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;r=a(1);l=a(0);m=a(56);d=a(39);h=a(4);f.prototype.cancel=function(){this.Htb(this.HP);};c.prototype.Ml=function(g){return this.zk(h.Gb,g);};c.prototype.zk=function(g,k){var n;n=this.HP.setTimeout(k,g.da(h.ja));return new f(this.HP,function(q){q.clearTimeout(n);});};c.prototype.r$=function(g,k){var n;n=this.HP.setInterval(k,g.da(h.ja));return new f(this.HP,function(q){q.clearInterval(n);});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(d.cMa))],a);b.aKa=a;},function(r,b,a){var f,l,m,d,h;function c(g,k){this.ya=g;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;r=a(1);l=a(0);m=a(4);d=a(38);a=a(140);c.prototype.Uy=function(){return this.ya.ef.da(m.eo) * f.Sza + Math.floor(this.random.random() * f.Sza);};h=f=c;h.Sza=1E8;h=f=r.__decorate([l.R(),r.__param(0,l.l(d.Sh)),r.__param(1,l.l(a.$0))],h);b.ZDa=h;},function(r,b,a){var f,l;function c(m){this.HZb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;r=a(1);f=a(0);a=a(140);c.prototype.random=function(){return this.HZb.random();};c.prototype.n6a=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.RKa))],l);b.yJa=l;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v){var t;t=this;this.config=n;this.Eyb=q;this.Sb=p;this.performance=v;this.BQb=function(u){t.i8a=u.Qa(t.ef);};f.Po(this,"date");f.Po(this,"performance");this.brb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.i8a=l.Gb;this.Sb.addListener(k.Ica.l8a,this.BQb);}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;r=a(1);f=a(56);l=a(4);m=a(0);d=a(39);h=a(324);g=a(97);k=a(15);Xa.Object.defineProperties(c.prototype,{ef:{configurable:!0,enumerable:!0,get:function(){return this.f3a?l.timestamp(this.performance.timing.navigationStart + this.performance.now()):l.Kc(this.Eyb.now());}},EY:{configurable:!0,enumerable:!0,get:function(){return this.ef.add(this.i8a);}},f3a:{configurable:!0,enumerable:!0,get:function(){return this.config.ebb && this.brb;}}});a=c;a=r.__decorate([m.R(),r.__param(0,m.l(h.pAa)),r.__param(1,m.l(d.TAa)),r.__param(2,m.l(g.nca)),r.__param(3,m.l(d.Oda)),r.__param(3,m.optional())],a);b.qAa=a;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ILa=void 0;r=a(1);a=a(0);c.prototype.encode=function(m){return f.zla(m);};c.prototype.decode=function(m){return f.Ika(m);};c.zla=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,h,g=m.length,k="";d < g;){h=m[d++];if(!(0 <= h && 255 >= h))throw Error("bad utf8");if(h & 128)if(192 === (h & 224))h=((h & 31) << 6) + (m[d++] & 63);else if(224 === (h & 240))h=((h & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(h);}return k;};c.Ika=function(m){var d,h,g,k,n;d=m.length;h=0;k=0;if(!(0 <= d))throw Error("bad string");for(g=d;g--;){n=m.charCodeAt(g);128 > n?h++:h=2048 > n?h + 2:h + 3;}h=new Uint8Array(h);for(g=0;g < d;g++){n=m.charCodeAt(g);128 > n?h[k++]=n:(2048 > n?h[k++]=192 | n >>> 6:(h[k++]=224 | n >>> 12,h[k++]=128 | n >>> 6 & 63),h[k++]=128 | n & 63);}return h;};l=f=c;l=f=r.__decorate([a.R()],l);b.ILa=l;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mza=void 0;r=a(1);a=a(0);l=Array.prototype.slice;m=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");l=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};h={};g={};k={};n=/\s+/g;[m,l].forEach(function(q){var v;for(var p=q.length;p--;){v=q[p];d[v]=p << 18;h[v]=p << 12;g[v]=p << 6;k[v]=p;}});c.prototype.encode=function(q){return f.zla(q,m,"=");};c.prototype.decode=function(q){return f.Ika(q);};c.Ika=function(q){var p,v,t;q=q.replace(n,"");p=q.length;v=q.charAt(p - 1);"=" !== v && "." !== v || p--;v=q.charAt(p - 1);"=" !== v && "." !== v || p--;v=3 * (p >> 2);t=0;switch(p % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(v + t);for(var u=0,w=0,x;w < v;){x=d[q[u++]] + h[q[u++]] + g[q[u++]] + k[q[u++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");p[w++]=x >>> 16;p[w++]=x >>> 8 & 255;p[w++]=x & 255;}if(0 < t && (x=d[q[u++]] + h[q[u++]],p[w++]=x >>> 16,1 < t && (x+=g[q[u++]],p[w++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < t?255:65535)))))throw Error("bad base64");return p;};c.zla=function(q,p,v){for(var t="",u=0,w=q.length,x=w - 2,y;u < x;){y=(q[u++] << 16) + (q[u++] << 8) + q[u++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");t+=p[y >>> 18] + p[y >>> 12 & 63] + p[y >>> 6 & 63] + p[y & 63];}if(u == x){y=(q[u++] << 8) + q[u++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");t+=p[y >>> 10] + p[y >>> 4 & 63] + p[y << 2 & 63] + v;}else if(u == w - 1){y=q[u++];if(!(0 <= y && 255 >= y))throw Error("not bytes");t+=p[y >>> 2] + p[y << 4 & 63] + v + v;}return t;};l=f=c;l=f=r.__decorate([a.R()],l);b.mza=l;},function(r,b,a){var f,l,m,d;function c(h,g){this.is=h;this.jj=g;}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;r=a(1);f=a(0);a(3);l=a(27);m=a(77);d=a(11);c.prototype.HH=function(h,g,k){var n,q,p,v;n=this;if(g)if(k){q=k.LN;p=k.prefix;v=k.nA;this.GC(g,function(t,u){if(!v || n.is.Fg(u))h[(p || "") + (q?t.toLowerCase():t)]=u;});}else this.GC(g,function(t,u){h[t]=u;});return h;};c.prototype.GC=function(h,g){for(var k in h){h.hasOwnProperty(k) && g(k,h[k]);}};c.prototype.At=function(h,g){if(h.length == g.length){for(var k=h.length;k--;){if(h[k] != g[k])return !1;}return !0;}return !1;};c.prototype.KSa=function(h,g){if(h.length != g.length)return !1;h.sort();g.sort();for(var k=h.length;k--;){if(h[k] !== g[k])return !1;}return !0;};c.prototype.vd=function(h){var g,k,n;if(h){g=h.stack;k=h.number;n=h.message;n || (n="" + h);g?(h="" + g,0 !== h.indexOf(n) && (h=n + "\n" + h)):h=n;k && (h+="\nnumber:" + k);return h;}};c.prototype.getFunctionName=function(h){return (h=(/function (.{1,})\(/).exec(h.toString())) && 1 < h.length?h[1]:"";};c.prototype.Xma=function(h){return this.getFunctionName(h.constructor);};c.prototype.qsa=function(h){var g,k;g=this;k="";this.is.zy(h) || this.is.ZPa(h)?k=Array.prototype.reduce.call(h,function(n,q){return n + (32 <= q && 128 > q?String.fromCharCode(q):".");},""):this.is.Hp(h)?k=h:this.GC(h,function(n,q){k+=(k?", ":"") + "{" + n + ": " + (g.is.W2(q)?g.getFunctionName(q) || "function":q) + "}";});return "[" + this.Xma(h) + " " + k + "]";};c.prototype.createElement=function(h,g,k,n){var q;q=d.Ae.createElement(h);g && (q.style.cssText=g);k && (q.innerHTML=k);n && this.GC(n,function(p,v){q.setAttribute(p,v);});return q;};c.prototype.BCb=function(h,g){return function(k){return k[h] === g;};};c.prototype.xX=function(h){var g;g={};(h || "").split("&").forEach(function(k){var n,q;k=k.trim();n=k.indexOf("=");if(0 <= n){q=decodeURIComponent(k.substr(0,n)).toLowerCase();g[q]=decodeURIComponent(k.substr(n + 1));}else g[k.toLowerCase()]=void 0;});return g;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.ag)),r.__param(1,f.l(m.rx))],a);b.JLa=a;},function(r,b,a){var f,l,m;function c(d){this.Lc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.rJa=void 0;r=a(1);f=a(0);l=a(48);m=a(64);c.prototype.Iq=function(d,h){var g;g=this;return new Promise(function(k,n){var q;q=g.Lc.zk(d,function(){n(new m.hr(d));});h.then(function(p){k(p);q.cancel();}).catch(function(p){n(p);q.cancel();});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Pj))],a);b.rJa=a;},function(r,b,a){var f;function c(l){this.TDb=l;this.w6=!1;this.N6=this.Zf=this.CP=0;this.ZV=!1;this.O6=0;}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;f=a(19);c.prototype.pqb=function(l){l < this.CP && (this.Zf+=this.CP);this.CP=l;this.w6=!0;};c.prototype.FEb=function(){if(this.w6)return this.ZV?this.O6 - this.N6:this.Zf + this.CP - this.N6;};c.prototype.refresh=function(){var l;l=this.TDb();f.Ba(l) && this.pqb(l);};c.prototype.zYb=function(){this.ZV || (this.w6 && (this.O6=this.Zf + this.CP),this.ZV=!0);};c.prototype.MYb=function(){this.ZV && (this.w6 && (this.N6+=this.Zf + this.CP - this.O6),this.O6=0,this.ZV=!1);};b.OGa=c;},function(r,b,a){var f,l,m,d;function c(h,g){this.ya=h;this.A5=this.ya.ef.da(m.ja) - 1;this.zMb=this.J7=0;this.id="" + g.Uy();}Object.defineProperty(b,"__esModule",{value:!0});b.Fya=void 0;r=a(1);f=a(0);l=a(38);m=a(4);a=a(81);c.prototype.Wb=function(){var h,g;h=this.ya.ef.da(m.ja) - this.A5;if(h < this.J7){g=this.J7 + 1;this.A5-=g - h;h=g;}this.J7=h;return m.Kc(this.J7);};c.prototype.MFb=function(){return this.zMb++;};Xa.Object.defineProperties(c.prototype,{Tz:{configurable:!0,enumerable:!0,get:function(){return m.Kc(this.A5);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.Sh)),r.__param(1,f.l(a.Ex))],d);b.Fya=d;},function(r,b,a){var f,l,m,d;function c(h,g){this.is=h;this.me=g;}Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;r=a(1);l=a(0);m=a(27);a=a(29);c.prototype.encode=function(h){var g,k;g=this;k="";this.me.GC(h,function(n,q){n=g.jVa(n) + "=" + g.jVa(q);k=k?k + ("," + n):n;});return k;};c.prototype.jVa=function(h){return this.is.BG(h)?this.is.Fi(h)?"" + h:this.is.Hp(h)?(h=h.replace(f.wua,this.Zqa.bind(this)),!f.STb.test(h) && f.OOb.test(h) && (h='"' + h + '"'),h):this.is.nT(h)?"" + h:this.is.tha(h)?"NaN":"":"";};c.prototype.Zqa=function(h){return f.map[h];};d=f=c;d.map={'"':'""',"\r":"","\n":" "};d.wua=/(?!^.+)["\r\n](?=.+$)/g;d.STb=/["].*["]/g;d.OOb=/[", ]/;d=f=r.__decorate([l.R(),r.__param(0,l.l(m.ag)),r.__param(1,l.l(a.bg))],d);b.GAa=d;},function(r,b,a){var f,l,m,d;function c(h,g,k){this.config=h;this.ib=g;this.sa=k.hb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;r=a(1);f=a(0);l=a(27);m=a(96);a=a(7);c.prototype.assert=function(){};c.prototype.rrb=function(h,g){this.assert(this.ib.BG(h),g);};c.prototype.srb=function(h,g){this.assert(this.ib.Fg(h),g);};c.prototype.n3=function(h,g){this.assert(this.ib.Hp(h),g);};c.prototype.yrb=function(h,g){this.assert(this.ib.gn(h),g);};c.prototype.wrb=function(h,g){this.assert(this.ib.Hp(h) || null === h || void 0 === h,g);};c.prototype.hia=function(h,g){this.assert(this.ib.Fi(h),g);};c.prototype.urb=function(h,g){this.assert(this.ib.Vha(h),g);};c.prototype.xrb=function(h,g){this.assert(this.ib.wT(h),g);};c.prototype.vrb=function(h,g){this.assert(this.ib.oT(h),g);};c.prototype.qrb=function(h,g){this.assert(this.ib.nT(h),g);};c.prototype.trb=function(h,g){this.assert(this.ib.W2(h),g);};c.prototype.RJb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(m.XAa)),r.__param(1,f.l(l.ag)),r.__param(2,f.l(a.qb))],d);b.ZAa=d;},function(r,b,a){var f,l,m,d;function c(h){h=l.jQ.call(this,h,"DebugConfigImpl") || this;h.$8b=function(){debugger;};return h;}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;r=a(1);f=a(45);l=a(46);m=a(0);a=a(37);na(c,l.jQ);Xa.Object.defineProperties(c.prototype,{Ksb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.bd,"breakOnError")],d.prototype,"Ksb",null);d=r.__decorate([m.R(),r.__param(0,m.l(a.Nba))],d);b.WAa=d;},function(r,b,a){var f,l,m,d;function c(h){return l.jQ.call(this,h,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;r=a(1);f=a(45);l=a(46);m=a(0);a=a(37);na(c,l.jQ);Xa.Object.defineProperties(c.prototype,{ebb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.bd,"usePerformanceApi")],d.prototype,"ebb",null);d=r.__decorate([m.R(),r.__param(0,m.l(a.Nba))],d);b.oAa=d;},function(r,b,a){var f,l,m,d;function c(h,g){this.za=h;this.entries=new Set();this.sa=g.hb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Oea=void 0;r=a(1);f=a(0);l=a(18);m=a(4);a=a(7);c.prototype.mark=function(h,g,k){h={name:h,Es:this.za.Wb()};g && (h.ba=g);k && (h.Eg=k);this.entries.add(h);return h;};c.prototype.qna=function(){var h;h=[];this.entries.forEach(function(g){return h.push(g);});return h;};c.prototype.dYa=function(h){return this.qna().filter(function(g){return g.ba === h;});};c.prototype.aYa=function(){var h;h={};try{h=this.qna().filter(function(g){return !g.ba;}).reduce(function(g,k){g[k.name]=k.Es.da(m.ja);return g;},{});}catch(g){this.sa.error(" getMapOfCommonMarks exception",g);}return h;};c.prototype.U6a=function(h){var g;g=this;this.qna().forEach(function(k){k.ba === h && g.entries.delete(k);});};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.fd)),r.__param(1,f.l(a.qb))],d);b.Oea=d;},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v){this.za=p;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;r=a(1);l=a(0);m=a(18);d=a(41);h=a(3);g=a(15);k=a(4);n=a(11);a=a(330);c.prototype.fUa=function(p){var v,t,u,w,x,y,z,A,B,D;v=this;w=p.mediaTime.value;x=p.zr.value;y=p.yb.value;z=p.state.value;A={segmentId:p.Dna(),mediaTime:w,segmentTime:p.PC(),bufferingState:f.Rsb[x],presentingState:f.eTb[y],playbackState:f.dSb[z],mseBuffersBusy:this.WGb(p),intBuffersBusy:this.yFb(p),tabVisible:this.IZb(),decodedFrameCount:this.Yyb(p),videoElementInDom:this.Q1b(p),lastVideoSync:this.za.Wb().Qa(k.Kc(p.jZ)).da(k.ja)};B=y === g.cb.Of?p.bb.El?this.config.r4a:this.config.q4a:this.config.$2a;if(x !== g.xf.pe){if((x=h.L.Udb,this.gRa(A.mseBuffersBusy,A.intBuffersBusy)))D=f.jza;}else (y !== g.cb.Hc?x=h.L.Wdb:(x=h.L.Vdb,(y=p.Wf) && 0 === y.P5() && (D=f.rkb)),(y=p.Wf) && y.Tb.sourceBuffers.forEach(function(E){var F,C;F=f.Ad[E.mediaType];A[F + "Ranges"]=E.H5();try{C=E.buffered();}catch(G){C=void 0;}C && 0 !== C.length?(E=1E3 * C.end(0) - w,A[F + "Undecoded"]=E,1 < C.length && (D=f.Kcb),w < 1E3 * C.start(0) || w > 1E3 * C.end(0)?D=f.Lcb:E < B.da(k.ja)?D=f.Mcb:v.gRa(A.mseBuffersBusy,A.intBuffersBusy) && (D=f.jza)):(A[F + "Undecoded"]=0,D=f.Jcb);}));y=p.f7a.YYa();z=w === (null === (t=y.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (u=p.Ka) || void 0 === u?void 0:u.dJ;Object.assign(A,y);p="";try{p=JSON.stringify(A);}catch(E){p="Cannot stringify details: " + E;}return new d.od(h.M.YGa,x,D,void 0,void 0,void 0,p,void 0);};c.prototype.WGb=function(p){var v;if(p.Tb){v={};p.Tb.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.updating()};});return v;}};c.prototype.yFb=function(p){var v;if(p.Tb){v={};p.Tb.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.Hh()};});return v;}};c.prototype.IZb=function(){return !n.Ae.hidden;};c.prototype.Yyb=function(p){return (p=p.Wf) && (p=p.Tb.X) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};c.prototype.Q1b=function(p){if(p=p.Wf)if(p=p.Tb.X)return n.Ae.body.contains(p);return !1;};c.prototype.gRa=function(p,v){var t,u,w,x;return !((null === (t=p.audio) || void 0 === t?void 0:t.updating) === (null === (u=v.audio) || void 0 === u?void 0:u.updating) && (null === (w=p.video) || void 0 === w?void 0:w.updating) === (null === (x=v.video) || void 0 === x?void 0:x.updating));};q=f=c;q.Jcb="1";q.Kcb="2";q.Lcb="3";q.jza="4";q.Mcb="5";q.rkb="6";q.Ad=["Audio","Video"];q.Rsb=["","NORMAL","BUFFERING","STALLED"];q.eTb=["","WAITING","PLAYING ","PAUSED","ENDED"];q.dSb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];q=f=r.__decorate([l.R(),r.__param(0,l.l(m.fd)),r.__param(1,l.l(a.pda))],q);b.$Aa=q;},function(r,b,a){var f,l,m,d;function c(h,g,k){var n;n=this;this.gg=h;this.Lc=g;this.e4=k;this.kO=function(q){n.zj=void 0;n.Z_b(q || n.e4);};this.L0a=m.Kc(-this.e4.da(m.ja));}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(1);f=a(0);l=a(18);m=a(4);a=a(48);c.prototype.Ml=function(h){this.qva=h;this.zj=this.zj || this.Qf(this.kO);};c.prototype.Fh=function(){this.zj && this.zj.cancel();this.zj=void 0;};c.prototype.Z_b=function(h){var g,k;g=this.gg.Wb();if(this.qva){k=h.Qa(g.Qa(this.L0a));0 >= k.yl(m.Gb)?(h=this.qva,this.qva=void 0,this.L0a=g,h()):this.zj=this.zj || this.Lc.zk(k,this.kO.bind(this,h));}};c.prototype.Qf=function(h){return this.Lc.zk(m.Gb,h);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.fd)),r.__param(1,f.l(a.Pj))],d);b.bLa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lea="PrioritizedSetOfListsSymbol";b.cjb="PrioritizedSetOfListsFactorySymbol";b.djb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(f){this.vl=f;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.GLa=void 0;c.prototype.toString=function(){return this.href;};Xa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.vl + this.searchParams.toString();}}});b.GLa=c;a.prototype.get=function(f){return this.searchParams[f];};a.prototype.set=function(f,l){this.searchParams[f]=l;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(f,l,m){var d;d=ba(l);l=d.next().value;d=d.next().value;return "" + f + (0 == m?"?":"&") + l + "=" + d;},"");};},function(r,b,a){var f,l,m,d,h;function c(g,k){this.ee=this.fCb(g,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=b.Cza=void 0;r=a(1);f=a(0);l=a(13);m=a(37);a=a(39);c.prototype.o6=function(g,k){var n;if(k=this.tHb(k))switch(g){case h.Qqa:n=0 < k.length?Number(k[0]):0;break;case h.b3a:n=1 < k.length?Number(k[1]):0;break;case h.Z4a:n=2 < k.length?Number(k[2]):0;break;case h.n$:n=3 < k.length?Number(k[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.tHb=function(g){return null === g || void 0 === g?void 0:g.split(".");};c.prototype.oH=function(g){return this.ee.name === g;};c.prototype.zN=function(g){return this.ee.n9.name === g;};c.prototype.pKb=function(g){return this.ee.WHb === g;};c.prototype.fCb=function(g,k){return Object.assign(Object.assign({WHb:this.hCb(g,k)},this.eCb(g,k)),{n9:this.iCb(g,k)});};c.prototype.hCb=function(g,k){return k && k.hardware?k.hardware:(/Mobile|iPhone/).test(g)?l.r0.phone:(/Android/).test(g)?l.r0.JZb:l.r0.hvb;};c.prototype.eCb=function(g,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(g)?{name:l.Pm.opera,version:""}:(/Tesla/).test(g)?{name:l.Pm.p$a,version:""}:(k=g.match(/Edge\/(\d*)\./))?{name:l.Pm.Ir,version:k[1]}:(k=g.match(/Edg\/(\d*)\./))?{name:l.Pm.NUa,version:k[1]}:(k=g.match(/Chrome\/(\d*)\./))?{name:l.Pm.zja,version:k[1]}:(k=g.match(/Firefox\/(\d*)\./))?{name:l.Pm.hWa,version:k[1]}:(g=g.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:l.Pm.P7a,version:g[1]}:{name:l.Pm.zja,version:""};};c.prototype.iCb=function(g,k){return k && k.os && k.os.name && k.os.version?{name:k.os.name,version:k.os.version}:(/CrOS/).test(g)?{name:l.er.WRa,version:""}:(k=g.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:l.er.F1a,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(g)?{name:l.er.lya,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(g) || (/Android.*Chrome\/[.0-9]* /).test(g)?{name:l.er.g3,version:""}:(/Linux/).test(g)?{name:l.er.NLb,version:""}:{name:l.er.lya,version:""};};Xa.Object.defineProperties(c.prototype,{R_a:{configurable:!0,enumerable:!0,get:function(){return this.oH(l.Pm.zja);}},vN:{configurable:!0,enumerable:!0,get:function(){return this.oH(l.Pm.Ir);}},uw:{configurable:!0,enumerable:!0,get:function(){return this.oH(l.Pm.NUa);}},gW:{configurable:!0,enumerable:!0,get:function(){return this.oH(l.Pm.hWa);}},r7:{configurable:!0,enumerable:!0,get:function(){return this.oH(l.Pm.opera);}},AN:{configurable:!0,enumerable:!0,get:function(){return this.oH(l.Pm.P7a);}},p0a:{configurable:!0,enumerable:!0,get:function(){return this.oH(l.Pm.p$a);}},e7:{configurable:!0,enumerable:!0,get:function(){return this.zN(l.er.g3);}},xN:{configurable:!0,enumerable:!0,get:function(){return this.zN(l.er.TJb);}},f7:{configurable:!0,enumerable:!0,get:function(){return this.zN(l.er.g3) && this.pKb(l.r0.phone);}},uN:{configurable:!0,enumerable:!0,get:function(){return this.zN(l.er.WRa);}},zpa:{configurable:!0,enumerable:!0,get:function(){return this.zN(l.er.F1a);}},x7:{configurable:!0,enumerable:!0,get:function(){return this.zN(l.er.lya);}},Op:{configurable:!0,enumerable:!0,get:function(){return this.o6(h.Qqa,this.ee.version);}},XQb:{configurable:!0,enumerable:!0,get:function(){return this.o6(h.Qqa,this.ee.n9.version);}},YQb:{configurable:!0,enumerable:!0,get:function(){return this.o6(h.b3a,this.ee.n9.version);}},ZQb:{configurable:!0,enumerable:!0,get:function(){return this.o6(h.Z4a,this.ee.n9.version);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.HLa)),r.__param(1,f.l(m.fR))],d);b.Cza=d;(function(g){g[g.Qqa=0]="major";g[g.b3a=1]="minor";g[g.Z4a=2]="patch";g[g.n$=3]="revision";})(h=b.OLa || (b.OLa={}));},function(r,b,a){var f,l,m;function c(d,h,g){this.Lc=d;this.j_b=h;this.dH=g;}Object.defineProperty(b,"__esModule",{value:!0});b.mLa=void 0;r=a(1);f=a(48);l=a(0);m=a(4);c.prototype.JG=function(){this.zj || (this.zj=this.Lc.zk(m.Kc(this.j_b),this.dH));};c.prototype.Bs=function(){this.zj && this.zj.cancel();this.zj=void 0;};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(f.Pj))],a);b.mLa=a;},function(r,b,a){var f,l;function c(m,d){this.Lc=m;this.e4=d;}Object.defineProperty(b,"__esModule",{value:!0});b.VAa=void 0;r=a(1);f=a(0);a=a(48);c.prototype.Ml=function(m){this.Fh();this.zj=this.Lc.zk(this.e4,m);};c.prototype.Fh=function(){this.zj && this.zj.cancel();this.zj=void 0;};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Pj))],l);b.VAa=l;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;r=a(1);f=a(0);l=a(208);c.prototype.xM=function(m,d){var h;h=this;m && Object.entries(d).forEach(function(g){var k,n,q;k=ba(g);g=k.next().value;k=k.next().value;if(h.fKb(k)){n=ba(k);k=n.next().value;q=n.next().value;n=m[k];Array.isArray(n)?(h.Rka(m,g,k),n.forEach(function(p){h.xM(p,q);})):k === l.Xm?Object.values(m).forEach(function(p){h.xM(p,q);}):(h.Rka(m,g,k),"object" === typeof n && h.xM(n,q));}else h.Rka(m,g,k);});};c.prototype.fKb=function(m){return Array.isArray(m);};c.prototype.Rka=function(m,d,h){m.hasOwnProperty(d) || d === h || Object.defineProperty(m,d,{get:function(){return m[h];},enumerable:!1});};a=r.__decorate([f.R()],c);b.fCa=a;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;r=a(1);f=a(13);l=a(12);a=a(0);c.prototype.Ut=function(){return this.eKb()?l.zBa:(/widevine/i).test(this.config().um)?l.dca:(/fps/i).test(this.config().um)?"fairplay":l.X_;};c.prototype.eKb=function(){return (/clearkey/i).test(this.config().um);};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(f.Xc))],m);b.SFa=m;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.v1a=void 0;c=a(642);f=a(643);r=a(0);l=a(112);m=a(7);d=a(648);b.v1a=new r.pd(function(h){h(m.qb).to(f.fFa).aa();h(l.UJ).to(c.gFa).aa();h(m.Uca).to(d.VEa).aa();});},function(r,b,a){function c(){this.k9a={};this.Rn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(1);a=a(0);c.prototype.b$=function(f,l){l && (this.k9a[f]=l,this.Rn=Object.values(this.k9a));};a=r.__decorate([a.R()],c);b.gFa=a;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p){this.za=n;this.Rn=q;this.Aqa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;r=a(1);f=a(209);l=a(0);m=a(645);d=a(18);h=a(112);g=a(7);k=a(646);c.prototype.hb=function(n,q,p,v,t){p=void 0 === p?this.Rn:p;return q?new m.wIa(this.za,this.Aqa,p,q,n):t?new k.Oya(this.za,this.Aqa,p,n,v || "",t):new f.TJ(this.za,this.Aqa,p,n);};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(d.fd)),r.__param(1,l.l(h.UJ)),r.__param(2,l.l(g.Uca))],a);b.fFa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rRa=void 0;b.rRa=function(a,c){var l;a=a.KFb();for(var f=0;f < c.length;++f){l=c[f];void 0 != l && null != l && (l.Oi && (l=l.Oi),l.constructor === Uint8Array?a.Bqb(l):"MediaRequest" === l.constructor.name?a.nqb(l):"string" === typeof l?a.zqb(l):"function" === typeof l?a.hqb(l):l instanceof Error?a.eqb(l):l instanceof Object?a.oqb(l):a.Cqb(l));}return a.Ii();};},function(r,b,a){var f,l,m;function c(d,h,g,k,n){d=m.TJ.call(this,d,h,g,n) || this;d.j=k;f.Po(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;f=a(56);l=a(338);m=a(209);na(c,m.TJ);c.prototype.kka=function(d){return new c(this.za,this.F3,this.Rn,this.j,d);};c.prototype.fC=function(d,h,g){d=new l.Tca(d,this.yo,this.za.Wb(),h,g,this.j.index);h=ba(this.Rn.Rn);for(g=h.next();!g.done;g=h.next()){g=g.value;g(d,this.j);}};b.wIa=c;},function(r,b,a){var f,l;function c(m,d,h,g,k,n){m=f.TJ.call(this,m,d,h,g) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;f=a(209);l=a(647);na(c,f.TJ);c.prototype.fC=function(m,d,h){m=new l.Nya(m,this.yo,this.za.Wb(),d,h,this.prefix);d=ba(this.Rn.Rn);for(h=d.next();!h.done;h=d.next()){h=h.value;h(m);}};c.prototype.kka=function(m){return new c(this.za,this.F3,this.Rn,m,this.groups,this.prefix);};b.Oya=c;},function(r,b,a){var f,l;function c(m,d,h,g,k,n,q){this.level=m;this.yo=d;this.timestamp=h;this.message=g;this.bc=k;this.prefix=n;this.index=void 0 === q?0:q;}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;f=a(4);l={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.jaa=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.eZb(! !m));return (this.timestamp.da(f.ja) / 1E3).toFixed(3) + "|" + this.index + "|" + (l[this.level] || this.level) + "|" + this.yo + "| " + m;};c.prototype.eZb=function(m){var k;for(var d=this.bc.length,h="",g=0;g < d;++g){k=this.bc[g].Ou;g && h.length && (h+=" ");if("object" === typeof k){if(null === k)h+="null";else if(k instanceof Error)h+=this.dZb(k,m);else try{h+=JSON.stringify(k);}catch(n){h+=this.cZb(k);}}else h+=k;}return h;};c.prototype.dZb=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.cZb=function(m){var d;d=[];return JSON.stringify(m,function(h,g){if("object" === typeof g && null !== g){if(-1 !== d.indexOf(g))return "<cycle>";d.push(g);}return g;});};b.Nya=c;},function(r,b,a){var f,l,m,d;function c(h,g){this.Rc=h;this.me=g;}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;r=a(1);f=a(0);l=a(649);m=a(36);a=a(29);c.prototype.KFb=function(){return new l.WEa(this.Rc,this.me);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(m.zi)),r.__param(1,f.l(a.bg))],d);b.VEa=d;},function(r,b,a){var q,p,v;function c(t,u){this.Rc=t;this.me=u;this.bc=[];}function f(t){return n.call(this,t,function(u){return {Details:u};}) || this;}function l(t){return n.call(this,t,function(u){return JSON.parse(u.toJSON());}) || this;}function m(t,u){u=n.call(this,u,function(w){return {Base64:t.encode(w)};}) || this;u.Rc=t;return u;}function d(t,u){u=n.call(this,u,function(w){return w();}) || this;u.me=t;return u;}function h(t){return n.call(this,t,function(u){return {Exception:u.message || "" + u,StackTrace:u.stack || "nostack"};}) || this;}function g(t,u,w){u=n.call(this,u,w) || this;u.me=t;return u;}function k(t){return n.call(this,t,function(u){return {Details:u};}) || this;}function n(t,u){this.Ou=t;this.value=u?u(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;r=a(1);q=a(0);p=a(29);a=a(36);n.prototype.UU=function(t){return this.Ou === t;};na(k,n);k.prototype.aJ=function(t,u){return u?"":"\r\n" + this.Ou;};na(g,n);g.prototype.aJ=function(){var t;t="";this.me.GC(this.value,function(u,w){try{t+=", " + u + ": " + w;}catch(x){try{t+=", " + u + ": " + JSON.stringify(w);}catch(y){t+=", error stringifying " + u;}}});return t.replace(/[\r\n]+ */g," ");};na(h,n);h.prototype.aJ=function(t){var u;u="\r\n" + this.Ou.message;t || (u+="\r\n" + this.Ou.stack);return u;};na(d,n);d.prototype.aJ=function(){var t;t="";this.me.GC(this.value,function(u,w){t+=", " + u + ": " + w;});return t.replace(/[\r\n]+ */g," ");};na(m,n);m.prototype.aJ=function(t,u){return this.Ou && !u?"\r\n" + this.Rc.encode(this.Ou):"";};na(l,n);l.prototype.aJ=function(){return this.Ou?this.Ou.toJSON():"";};na(f,n);f.prototype.aJ=function(){return ", " + (this.Ou.toString?"" + this.Ou.toString():"");};c.prototype.zqb=function(t){this.bc.push(new k(t));};c.prototype.oqb=function(t){this.bc.push(new g(this.me,t));};c.prototype.eqb=function(t){this.bc.push(new h(t));};c.prototype.hqb=function(t){this.bc.push(new d(this.me,t));};c.prototype.Bqb=function(t){this.bc.push(new m(this.Rc,t));};c.prototype.nqb=function(t){this.bc.push(new l(t));};c.prototype.Cqb=function(t){this.bc.push(new f(t));};c.prototype.Ii=function(){return this.bc;};v=c;v=r.__decorate([q.R(),r.__param(0,q.l(a.zi)),r.__param(1,q.l(p.bg))],v);b.WEa=v;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.c3a=void 0;r=a(0);c=a(339);f=a(651);b.c3a=new r.pd(function(l){l(c.oGa).to(f.nGa).aa();});},function(r,b,a){var f,l,m;function c(d){this.Lc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;r=a(1);f=a(0);l=a(652);a=a(48);c.prototype.fTa=function(d,h){return new l.pGa(this.Lc,d,h);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.Pj))],m);b.nGa=m;},function(r,b){function a(c,f,l){this.Lc=c;this.config=f;this.getTime=l;}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;a.prototype.observe=function(c,f){var l;l=this;this.cancel();this.zj=this.Lc.r$(this.config.EYa(),function(){l.getTime() >= c && (l.cancel(),f());});};a.prototype.cancel=function(){this.zj && (this.zj.cancel(),this.zj=void 0);};b.pGa=a;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.Aa=void 0;r=a(0);c=a(210);f=a(340);l=a(654);m=a(657);d=a(343);h=a(658);b.Aa=new r.pd(function(g){g(c.Bea).to(l.jKa).aa();g(f.hKa).to(m.gKa).aa();g(d.qLa).to(h.pLa).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u;function c(w,x,y,z,A,B,D,E,F,C){this.za=w;this.Vf=x;this.WN=y;this.cya=z;this.FX=A;this.Lc=B;this.AL=D;this.li=E;this.Ola=F;this.$d=C;}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;r=a(1);f=a(0);l=a(18);m=a(7);d=a(339);h=a(141);g=a(341);k=a(342);n=a(655);q=a(656);p=a(98);v=a(48);t=a(336);a=a(29);c.prototype.Qxb=function(w,x,y){return new n.kKa(this.za,this.Vf,this.WN,this.cya,x,w,this.li,this.FX,this.$d,this.Ola,y);};c.prototype.nxb=function(w,x){return new q.Bza(this.Vf,w,x,this.WN,this.Lc,this.AL);};u=c;u=r.__decorate([f.R(),r.__param(0,f.l(l.fd)),r.__param(1,f.l(m.qb)),r.__param(2,f.l(d.oGa)),r.__param(3,f.l(k.SLa)),r.__param(4,f.l(g.sIa)),r.__param(5,f.l(v.Pj)),r.__param(6,f.l(p.fQ)),r.__param(7,f.l(h.JR)),r.__param(8,f.l(t.GQ)),r.__param(9,f.l(a.bg))],u);b.jKa=u;},function(r,b,a){var d,h,g;function c(k,n,q,p,v,t,u,w,x,y,z){var A;A=this;this.za=k;this.WN=q;this.qta=p;this.config=v;this.fb=t;this.li=u;this.FX=w;this.$d=x;this.Dk=z;this.SBb=Object.values(d.Da).map(function(B){return {event:B,dH:function(D){return A.Sb.Cc(B,D);}};});this.Sb=y.create();this.SD=[];this.log=n.hb("SegmentManager");this.qma=!0;this.Ig=this.$d.createElement("div",g.rea);}function f(k,n,q,p,v,t,u,w,x,y,z){var A;A=this;this.log=k;this.config=n;this.LPb=q;this.qta=p;this.li=v;this.FX=t;this.Vu=u;this.O=w;this.Ig=x;this.fb=y;this.Dk=z;this.PL=function(){A.DD && (A.DD.cancel(),A.DD=void 0);};this.qoa=function(B){A.log.trace("Received the transition event",{movieId:B.J});A.ZTb();};this.tqa=function(){};this.log.debug("Constructing session data",l(w));this.l_b=new Promise(function(B){A.ZTb=B;});}function l(k){return {movieId:k.J};}function m(k){return JSON.stringify({movieId:k.J,startPts:k.Y,logicalEnd:k.pj,params:k.Db?{trackingId:k.Db.Ej,authParams:k.Db.u3,sessionParams:k.Db.Gm,disableTrackStickiness:k.Db.bla,uiPlayStartTime:k.Db.HZ,loadImmediately:k.Db.P7,playbackState:k.Db.playbackState?{currentTime:k.Db.playbackState.currentTime,volume:k.Db.playbackState.volume,muted:k.Db.playbackState.muted,playbackRate:k.Db.playbackState.playbackRate}:void 0,pin:k.Db.k5a,heartbeatCooldown:k.Db.Boa,uiLabel:k.Db.xe,uxLabels:k.Db.Iaa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.kKa=void 0;d=a(15);h=a(4);g=a(12);f.prototype.load=function(k){var n,q;n=this;this.log.trace("Loading new segment",l(this.O));this.V=this.qta.lka(this.config,this.FX,this.li,this.O,this.fb,this.Dk);this.V.addEventListener(d.Da.oN,function(p){n.log.trace("Segment is inactive",l(n.O));n.Vu.close(n.li(p.errorCode));});this.V.addEventListener(d.Da.closed,this.PL);if(k)(this.log.debug("Pausing background segment",l(this.O)),this.V.addEventListener(d.Da.Lpa,this.qoa),this.V.pause());else {this.Ig.appendChild(this.V.An());q=function(p){n.qoa(p);n.V.removeEventListener(d.Da.loaded,q);};this.V.addEventListener(d.Da.loaded,q);}};f.prototype.observe=function(){var k,n,q;k=this;this.log.trace("Observing segment",m(this.O));if(this.DD)this.log.trace("Segment is currently observing",l(this.O));else if(this.O.Db && this.O.Db.P7)this.tqa(this);else {n=this.LPb.fTa(this.config,function(){var p;if(k.V){p=k.V.Xt();if(p)return p;}return 0;});q=this.ktb(this.O);this.log.trace("Adding a moment to watch",{time:q});n.observe(q,function(){k.log.trace("Segment has reached its loading point",l(k.O));k.tqa(k);k.PL();});}};f.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.O),error:k});return this.V?(this.V.removeEventListener(d.Da.Lpa,this.qoa),this.V.close(k)):Promise.resolve();};f.prototype.EQb=function(k){this.tqa=k;};f.prototype.ktb=function(k){var n,q;n=k.pj;k=k.Db?k.Db.P7:!1;q=0;n && !k && (q=n - this.config.$Xa(),q < this.config.cYa() && (k=n - this.config.cYa(),q=n - k / 2));return q;};c.prototype.DGb=function(){return this.jh && this.jh.V?this.jh.V.isReady():!1;};c.prototype.An=function(){return this.Ig;};c.prototype.ZG=function(){if(!this.jh || !this.jh.V)throw Error("Player not ready");return this.jh.V;};c.prototype.I0b=function(k){var n,q;q=this.ema(k);q?this.Lab(q,k):this.fb.te(k.id) || this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.jh.O.J,queuedMovieIds:this.SD.map(function(p){return p.O.J;}),xid:null === (n=this.jh.V) || void 0 === n?void 0:n.yz()});};c.prototype.vo=function(k){var n;this.log.info("Adding segment",m(k));if(this.qma){this.log.trace("First segment, loading",l(k));n=this.i1a(k);this.qma=!1;}else (this.log.trace("Subsequent segment, caching",l(k)),(n=this.ema(k))?this.Lab(n,k):(n=this.createSession(k),this.SD.push(n),this.jh.observe()));return n?n.l_b:null;};c.prototype.transition=function(k,n){var q,p,v;p=this.PH;v=null === p || void 0 === p?void 0:p.V;if(p && v)return (this.PH=void 0,this.log.info("Transitioning segment",m(p.O)),v.awa(this.za.Wb().da(h.ja)),this.cab(p,n));n=null === p || void 0 === p?void 0:p.O;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.jh.O.J,xid:null === (q=this.jh.V) || void 0 === q?void 0:q.yz(),nextSegmentId:k,currentSegment:m(this.jh.O),nextSegment:n?m(n):void 0,queuedMovieIds:this.SD.map(function(t){return t.O.J;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(l(this.jh.O)),nextSession:this.PH?JSON.stringify(l(this.PH.O)):void 0});k=[this.jh.close(k)];this.PH && k.push(this.PH.close());return Promise.all(k).then(function(){n.PH=void 0;n.SD=[];n.qma=!0;});};c.prototype.addListener=function(k,n,q){this.Sb.addListener(k,n,q);};c.prototype.removeListener=function(k,n){this.Sb.removeListener(k,n);};c.prototype.Lab=function(k,n){this.eRb(k.O,n);this.log.trace("Overwrote existing segment data",m(k.O));};c.prototype.i1a=function(k){var n,q;n=this;this.log.info("Loading the next episode",l(k));if(this.jh){this.config.Rma()[k.J]=k.Y;q=this.ema(k);}else q=this.createSession(k);if(q)return (this.log.trace("Found the next session",l(k)),q.EQb(function(p){n.C$a(p);}),this.jh?(this.log.trace("Subsequent playback, caching player and pausing",l(k)),this.PH=q,q.load(!0)):(this.log.trace("First playback transitioning immediately",l(k)),q.load(!1),this.cab(q)),q);this.log.warn("Unable to find the session, make sure to add it before loading",l(k));};c.prototype.cab=function(k,n){var q,p,v,t,u;n=void 0 === n?{}:n;t=k.V?null === (q=k.V) || void 0 === q?void 0:q.getError():"missing player";if(t)return (null === (p=k.V) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.jh.O.J,mid:k.O.J,error:t,xid:null === (v=k.V) || void 0 === v?void 0:v.yz()}),Promise.reject());this.log.trace("Playing episode",l(k.O));q=this.jh;this.jh=k;k=this.jh.V;k.Mva(!1);this.pJ(k,q?q.V:void 0);if(q && q.V){u=q.V.An();p=k.An();u.style.display="none";q=q.close();this.Ig.appendChild(p);q.then(function(){u.parentElement && u.parentElement.removeChild(u);});p.style.display="block";k.Aaa(n);k.uP();k.play();}return Promise.resolve();};c.prototype.C$a=function(k){var n,q,p,v,t;if(this.SD.length && k.V){n=k.V.Xt();q=this.SD[0];p=this.jh.O.pj;v=this.jh.O.Db?this.jh.O.Db.P7:!1;if(p || v){v?t=0:p && (t=p - this.config.$Xa());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",l(q.O)),this.i1a(q.O),this.SD.splice(0,1),this.C$a(k));}}};c.prototype.ema=function(k){return this.jh.O.J === k.J?this.jh:this.SD.find(function(n){return n.O.J === k.J;});};c.prototype.eRb=function(k,n){k.Y=n.Y || k.Y;k.pj=n.pj || k.pj;k.Db=n.Db || k.Db;k.oa=n.oa || k.oa;};c.prototype.createSession=function(k){return new f(this.log,this.config,this.WN,this.qta,this.li,this.FX,this,k,this.Ig,this.fb,this.Dk);};c.prototype.pJ=function(k,n){this.SBb.forEach(function(q){n && n.removeEventListener(q.event,q.dH);k.addEventListener(q.event,q.dH);});this.Sb.Cc(d.fF.BY);};b.kKa=c;},function(r,b,a){var m,d,h,g;function c(k,n,q,p,v,t){var u;u=this;this.V=n;this.j=q;this.WN=p;this.Lc=v;this.AL=t;this.PL=function(){u.DD && (u.DD.cancel(),u.DD=void 0);};this.log=k.hb("SegmentManager",this.j);this.Aa=new Map();this.j.bb.El && (this.j.addEventListener(h.ca.AI,function(w){return u.FD(w);}),this.j.addEventListener(h.ca.closed,this.PL));}function f(k,n){this.id=k;this.yja=n;}function l(k,n,q,p){return d.od.call(this,k,q,void 0,void 0,void 0,n,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Bza=void 0;m=a(3);d=a(41);h=a(15);g=a(4);na(l,d.od);l.prototype.toString=function(){return this.code + "-" + this.zc + " : " + this.message + "\n" + JSON.stringify(this.data);};f.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.xc,contentEndPts:this.Nc};};Xa.Object.defineProperties(f.prototype,{xc:{configurable:!0,enumerable:!0,get:function(){return this.yja.startTimeMs;}},Nc:{configurable:!0,enumerable:!0,get:function(){return this.yja.endTimeMs;}},mA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.yja.next);}}});c.prototype.FD=function(k){var n;n=this;!1;k=k.position.segmentId;0 === this.Aa.size && Object.entries(this.j.oV()).forEach(function(q){var p;p=ba(q);q=p.next().value;p=p.next().value;n.Aa.set(q,new f(q,p));});this.ha=this.Aa.get(k);};c.prototype.play=function(k){this.Tw && (this.Tw=void 0);this.PL();this.log.trace("Playing segment",k);return this.c0a(k)?this.$Rb(k):this.DX(k);};c.prototype.Xo=function(k){this.log.trace("Queueing segment",k);return this.c0a(k)?this.PTb(k):this.QTb(k);};c.prototype.wi=function(k,n){var q,p;q=this;p=this.j.Ka;if(null === p || void 0 === p || !p.Yh)return Promise.reject(this.getError(m.M.iza,"ASE session manager is not yet initialized",m.L.Bba,{segmentId:k,updates:n}));this.log.trace("Updating next segment weights",k,n);return new Promise(function(v,t){try{p.MP(k,n);q.j.fireEvent(h.ca.Jxa,{wa:k,U0b:n});v();}catch(u){t(q.getError(m.M.iza,"updateNextSegmentWeights threw an exception",m.L.Icb,{segmentId:k,updates:n,error:u}));}});};c.prototype.c0a=function(k){return this.ha?void 0 !== this.j.oV()[this.ha.id].next[k]:!1;};c.prototype.Gna=function(){var k;k=this.j.Ka;if(null === k || void 0 === k?0:k.Yh)return k.Io().je;};c.prototype.wGb=function(){var k;k=this.j.Ka;if(null === k || void 0 === k?0:k.Yh)return k.Io().id;};c.prototype.zEb=function(k){var n;n=this.j.Ka;if(null === n || void 0 === n?0:n.Yh)return (k=n.J5(k)) && k.Ee;};c.prototype.$Rb=function(k){var n,q;n=this;q=this.j.Ka;return null !== q && void 0 !== q && q.Yh?this.ha && 1 === this.ha.mA.length?this.DX(k):this.j.Wf?void 0 === this.zEb(k)?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.DX(k)):new Promise(function(p,v){var y,z,A,B,D,E;function t(){!A && z && y && (E.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:k,stopped:z,repositioned:y,completed:A}),q.Cr(k,!1,!0)?(p(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),n.DX(k).then(p).catch(v)));}function u(){y=!0;n.log.trace("Player is repositioned",{id:k,stopped:z,repositioned:y,completed:A});n.j.removeEventListener(h.ca.wk,u);t();}function w(){n.j.removeEventListener(h.ca.pI,w);q.stop();}function x(){z=!0;n.log.trace("ASE is stopped",{id:k,stopped:z,repositioned:y,completed:A});q.removeEventListener("stop",x);t();}y=!1;z=!1;A=!1;B=n.Aa.get(k);D=n.Gna();if(void 0 === D)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),n.DX(k));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:D,currentSegment:n.ha,nextSegment:B},null,"  "));n.j.fireEvent(h.ca.S8,{kh:n.ha && n.ha.id,aO:k});q.addEventListener("stop",x);n.j.addEventListener(h.ca.pI,w);n.j.addEventListener(h.ca.wk,u);E=n.Lc.zk(g.uh(10),function(){A=!0;E.cancel();v(n.getError(m.M.iQ,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.L.Ecb,{id:k,stopped:z,repositioned:y,completed:A}));});n.V.seek(D,h.Be.gK);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(m.M.iQ,"MediaPresenter is not initialized",m.L.Fcb,{id:k}))):Promise.reject(this.getError(m.M.iQ,"ASE session manager is not yet initialized",m.L.Bba,{id:k}));};c.prototype.DX=function(k){var n;n=this.Aa.get(k);return n?this.zY(n,m.M.iQ):Promise.reject(this.getError(m.M.iQ,"Unable to find the separated segment",m.L.hza,{id:k}));};c.prototype.PTb=function(k){var n;n=this.j.Ka;if(null === n || void 0 === n || !n.Yh)return Promise.reject(this.getError(m.M.wJ,"ASE session manager is not yet initialized",m.L.Bba,{id:k}));this.j.fireEvent(h.ca.S8,{kh:this.ha && this.ha.id,aO:k});if(n.Cr(k,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:k});return Promise.reject(this.getError(m.M.wJ,"ASE chooseNextSegment failed",m.L.Ccb,{id:k}));};c.prototype.QTb=function(k){var n,q;n=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.J,srcsegment:this.wGb()});if(this.Tw)return Promise.reject(this.getError(m.M.wJ,"Unable to queue a non-next segment because there is currently already a segment queued",m.L.Hcb,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.Tw.id,failedSegment:k}));if(!this.ha)return Promise.reject(this.getError(m.M.wJ,"Unable to queue a non-next segment because there is no currently playing segment",m.L.Dcb,{nextSegmentid:k}));q=this.Aa.get(k);if(!q)return Promise.reject(this.getError(m.M.wJ,"Unable to find the separated segment",m.L.hza,{nextSegmentid:k,currentSegmentId:this.ha.id}));this.Tw={id:k,promise:new Promise(function(p,v){var t;n.DD=n.WN.fTa({EYa:function(){return g.Kc(100);}},function(){return n.V.Xt() || 0;});t=n.Gna() - 500;n.log.trace("Adding moment for queued segment",{segment:k,pts:t});n.DD.observe(t,function(){n.log.trace("Moment has arrived",{segment:k,currentSegment:n.ha.id,playerEndPts:n.Gna(),pts:t});n.Tw=void 0;n.PL();n.zY(q,m.M.wJ).then(p).catch(v);});})};this.Tw.promise.catch(function(p){n.j.Wd(p.code,p);});return Promise.resolve();};c.prototype.zY=function(k,n){var q;q=this;return new Promise(function(p,v){var t;try{t=k.xc;!1;q.V.seek(t,h.Be.zB);p();}catch(u){v(q.getError(n,"Seek threw an exception",m.L.Gcb,{id:k.id,error:u}));}});};c.prototype.getError=function(k,n,q,p){this.log.warn(n,p);return new l(k,n,q,p);};b.Bza=c;},function(r,b,a){var l,m;function c(){}function f(d,h,g,k,n){this.debug=d;this.version=h;this.eLb=g;this.WRb=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;r=a(1);l=a(0);m=a(4);f.prototype.lFb=function(){return this.config().Az;};f.prototype.Rma=function(){return this.config().cRa;};f.prototype.EYa=function(){return m.Kc(this.config().vSb);};f.prototype.$Xa=function(){return this.config().nMb;};f.prototype.cYa=function(){return this.config().YMb;};c.prototype.LC=function(d,h,g,k,n){return new f(d,h,g,k,n);};a=r.__decorate([l.R()],c);b.gKa=a;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;r=a(1);f=a(0);a=a(13);c.prototype.xTb=function(m,d,h,g){var k;if(this.config().JWb){k=m.metrics;void 0 !== k && k.segment !== k.srcsegment && d.yW.jb.transition({isBranching:g || void 0,isPlaygraph:!g || void 0,mid:d.J,xid:d.ba,srcxid:h.ba,srcmid:h.J,segment:m.position.segmentId,srcsegment:k.srcsegment,srcsegmentduration:k.srcsegmentduration,srcoffset:k.srcoffset,seamlessRequested:k.seamlessRequested,transitionType:k.transitionType,transitionTypeAtRequest:k.transitionTypeAtRequest,nextExitPositionAtRequest:k.nextExitPositionAtRequest,delayToTransition:k.delayToTransition,durationOfTransition:k.durationOfTransition,atRequest:k.atRequest,atTransition:k.atTransition,discard:k.discard});}};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Xc))],l);b.pLa=l;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sbb=void 0;r=a(0);c=a(342);f=a(660);b.sbb=new r.pd(function(l){l(c.SLa).to(f.RLa).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I;function c(M){this.$b=M;}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;r=a(1);f=a(0);l=a(94);m=a(29);d=a(27);h=a(7);g=a(97);k=a(210);n=a(344);q=a(661);p=a(211);v=a(82);t=a(345);u=a(662);w=a(258);x=a(81);y=a(18);z=a(118);A=a(259);B=a(418);D=a(13);E=a(419);F=a(420);C=a(38);G=a(260);J=a(421);K=a(66);I=a(31);c.prototype.lka=function(M,R,H,Q,N,L){return this.$b.get(D.Xc)().Eaa?new u.TLa(this.$b.get(h.qb),this.$b.get(w.dea),this.$b.get(x.Ex),this.$b.get(y.fd),this.$b.get(z.OE),this.$b.get(g.kca),this.$b.get(A.hda),this.$b.get(B.YCa),this.$b.get(E.IIa),this.$b.get(F.Gea),this.$b.get(F.Gea),this.$b.get(C.Sh),this.$b.get(J.nR),this.$b.get(G.uca),this.$b.get(I.dh),Q,H):new q.kEa(this.$b.get(m.bg),this.$b.get(d.ag),this.$b.get(h.qb),this.$b.get(g.kca),this.$b.get(k.Bea),this.$b.get(p.Nda),this.$b.get(v.jca),this.$b.get(t.yHa),this.$b.get(n.jBa),M,R,H,Q,N,L,this.$b.get(K.Ws).xla);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.hEa))],a);b.RLa=a;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F){var C;C=this;this.me=k;this.ib=n;this.Sb=p;this.zu=t;this.cU=u;this.FWa=w;this.config=y;this.li=A;this.O=B;this.EKb=F;this.j=z.create(B.J,B.vk,x,D,E,B.Db,B.id,B.oa);this.j.background=!0;this.log=q.hb("VideoPlayer",this.j);this.g5a=[];this.ended=!1;this.pJ();this.j.state.addListener(function(G){G.newValue === l.Pb.pe && C.Eb(l.Da.Lpa,{movieId:B.J});});this.j.bb.El && (this.HL=v.nxb(this,this.j),this.j.addEventListener(l.ca.AI,function(G){G=G.position.segmentId;C.zLb !== G && (C.zLb=G,C.Eb(l.Da.vWb,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;f=a(3);l=a(15);m=a(4);d=a(11);h=a(82);g=a(24);c.prototype.isReady=function(){return this.j.state.value === l.Pb.pe;};c.prototype.nYa=function(){return this.j.J;};c.prototype.yz=function(){return this.j.ba;};c.prototype.An=function(){return this.j.Ig;};c.prototype.rq=function(){return this.j.wj.value;};c.prototype.jW=function(){return this.j.paused.value;};c.prototype.spa=function(){return this.ended;};c.prototype.Hh=function(){var k;k=this.j.Xia.value;return k?{networkStalled:! !k.As,stalled:! !k.As,progress:k.progress,progressRollback:! !k.DTb}:null;};c.prototype.getError=function(){var k;k=this.j.hi;return k?k.xZ():null;};c.prototype.Xt=function(){return this.j.mediaTime.value;};c.prototype.WWa=function(){var k;k=(this.K5() || 0) + this.j.VWa();return Math.min(k,this.Yma());};c.prototype.K5=function(){return this.j.PC();};c.prototype.Yma=function(){return this.j.Sy.da(m.ja);};c.prototype.hZa=function(){return this.j.aB?{width:this.j.aB.width,height:this.j.aB.height}:null;};c.prototype.L5=function(){var v;if(this.j.ip){for(var k,n=0;n < this.j.ip.length;n++){for(var q=this.j.ip[n],p=0;p < q.streams.length;p++){v=q.streams[p];this.ib.Fi(v.rka) && this.ib.Fi(v.m4) && this.ib.Fi(v.l4) && this.ib.Fi(v.k4) && 0 < v.m4 && (v=v.k4 / v.l4,k=this.ib.Fi(k)?Math.min(k,v):v);}}return k;}};c.prototype.jXa=function(){return this.j.L5();};c.prototype.EWa=function(k){var n,q;return (null === (n=this.j.oa) || void 0 === n?0:n.lk.xV("generateScreenshots"))?this.FWa.fq(this.log,this.j.oa.lk,k):(n=null === (q=this.j.bb) || void 0 === q?void 0:q.Uo)?this.FWa.ng(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.pXa=function(){return this.NEb(this.j.C4);};c.prototype.NWa=function(){var k;k=this;return this.j.Hi.map(function(n){return k.lq(n);});};c.prototype.gYa=function(){var k;return this.yV(this.j.Hi,null === (k=this.j.oa) || void 0 === k?void 0:k.uc.p2a);};c.prototype.aoa=function(k){var n;n=this;return this.FV(k).map(function(q){return n.lq(q);});};c.prototype.rna=function(k){var n;return this.yV(this.FV(k),null === (n=this.j.oa) || void 0 === n?void 0:n.uc.q2a);};c.prototype.e9a=function(){return this.EKb;};c.prototype.Apa=function(){return this.j.muted.value;};c.prototype.iZa=function(){return this.j.volume.value;};c.prototype.MWa=function(){var k,n;n=(null === (k=this.Nw) || void 0 === k?void 0:k.ic) || this.j.ic.value;return n && this.lq(n);};c.prototype.$na=function(){var k,n;n=(null === (k=this.Nw) || void 0 === k?void 0:k.pZ) || this.j.cc.value;return n && this.lq(n);};c.prototype.O_a=function(){return ! !this.j.background;};c.prototype.G8a=function(k){this.j.muted.set(! !k);};c.prototype.S8a=function(k){this.j.volume.set(this.CPb(k));};c.prototype.H8a=function(k){this.j.playbackRate.set(k);};c.prototype.Ho=function(){return this.j.playbackRate.value;};c.prototype.s8a=function(k){var n,q,p,v,t;n=this;p=this.aV(k);if(p){if(p.ji)return (this.j.ic.set(p),Promise.resolve());v=(k=(null === (q=this.Nw) || void 0 === q?void 0:q.pZ) || this.j.cc.value) && this.q0a(p,k)?k:p.Ph[0];q=p.trackId;t=v.trackId;this.Nw={ic:p,pZ:v};this.Eb(l.Da.dm);this.Eb(l.Da.dv);v !== k && this.Eb(l.Da.Ol);return this.j.VZa(q,t).then(function(u){u=u.ic;n.Nw=void 0;n.j.ic.set(u);}).catch(function(u){n.Nw=void 0;u=n.me.vd(u);n.log.error(u);n.close(n.li(f.M.pR,{na:f.L.$ca,ub:u,gH:{RIb:p.trackId,WZa:p.Vd,SIb:v.trackId,XZa:v.Vd}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Xva=function(k){var n,q,p,v;n=this;p=(null === (q=this.Nw) || void 0 === q?void 0:q.ic) || this.j.ic.value;if(null !== p){v=p.Ph;q={};for(var t=0;t < v.length;(q={Ms:q.Ms},t++)){q.Ms=v[t];if(!k && null === q.Ms)return (this.j.cc.set(null),Promise.resolve());if(this.lq(q.Ms) === k){if(q.Ms.ji)return (this.log.info("Setting Timed Text, profile: " + q.Ms.profile),this.j.cc.set(q.Ms),Promise.resolve());k=p.trackId;v=q.Ms.trackId;this.Nw={ic:p,pZ:q.Ms};this.Eb(l.Da.Ol);return this.j.VZa(k,v).then(function(u){u=u.pZ;n.Nw=void 0;n.j.cc.set(u);}).catch((function(u){return function(w){n.Nw=void 0;w=n.me.vd(w);n.log.error(w);n.close(n.li(f.M.pR,{na:f.L.$ca,ub:w,gH:{RIb:p.trackId,WZa:p.Vd,SIb:u.Ms.trackId,XZa:u.Ms.Vd}}));};})(q));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Mva=function(k){this.j.background=k;};c.prototype.uP=function(){this.j.uP();};c.prototype.Aaa=function(k){this.j.Aaa(k);};c.prototype.rm=function(k){return this.j.rm(k);};c.prototype.BYa=function(){return this.j.bb;};c.prototype.Kw=function(){this.j.Kw();};c.prototype.SH=function(k){this.j.SH(k);};c.prototype.LV=function(k,n,q){return this.j.LV(k,n,q);};c.prototype.Jha=function(k,n){this.j.addEventListener(k,n,void 0);};c.prototype.addEventListener=function(k,n,q){this.Sb.addListener(k,n,q);};c.prototype.removeEventListener=function(k,n){this.Sb.removeListener(k,n);};c.prototype.eI=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,q){try{k.Eb(l.Da.k1a,void 0,!0);n.oa && (n.oa.uc.Fbb && k.Eb(l.Da.e2b,n.oa.uc.Fbb,!0),n.oa.uc.zo && k.Eb(l.Da.uWb,{segmentMap:n.oa.uc.zo},!0));q({$:!0});}catch(p){q({na:f.L.Kj,ub:k.me.vd(p)});}}));};c.prototype.close=function(k){var n;n=this;this.iSa || (this.iSa=new Promise(function(q){k?n.j.nG(k,q):n.j.close(q);}));return this.iSa;};c.prototype.play=function(){this.j.ci?this.j.fireEvent(l.ca.R7a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(l.ca.kbb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(l.ca.u1b));};c.prototype.seek=function(k,n,q,p){n=void 0 === n?l.Be.zB:n;this.j.Wf?this.j.Wf.seek(k,n,q,p):this.j.Zv=k;};c.prototype.s5a=function(k){return this.HL?(this.log.trace("Playing a segment",k),this.HL.play(k)):Promise.resolve();};c.prototype.l6a=function(k){return this.HL?(this.log.trace("Queueing a segment",k),this.HL.Xo(k)):Promise.resolve();};c.prototype.wi=function(k,n){return this.HL?(this.log.trace("Updating next segment weights",k,n),this.HL.wi(k,n)):Promise.resolve();};c.prototype.JV=function(){var k;k=this.j.Pq.JV();return {bounds:k.PT,margins:k.Zr,size:k.size,visibility:k.visibility};};c.prototype.kP=function(k){var n,q,p;n=k.bounds;q=k.margins;p=k.size;k=k.visibility;this.j.sZ && (n && this.j.sZ.Yva(n),q && this.j.sZ.Zva(q),"boolean" === typeof k && this.j.sZ.$va(k));this.j.Pq && p && this.j.Pq.yXb(p);};c.prototype.awa=function(k){this.j.Km=k;};c.prototype.eZa=function(k){return this.j.UA && this.j.UA.jFb(k) || null;};c.prototype.JWa=function(){return this.me.HH({playerver:this.config.version,jssid:this.config.eLb,groupName:this.config.lFb(),xid:this.j.ba,pbi:this.j.index},this.config.WRb,{prefix:"pi_"});};c.prototype.r_a=function(k){this.j.Wd(f.M.UBa,f.L.Sl,k);};c.prototype.g1a=function(k,n,q,p){if(!this.ib.$Pa(k))throw Error("invalid url");this.g5a.push({url:k,name:n,Zrb:q,options:p});this.$5a();};c.prototype.Rna=function(){var k,n,q,p,v,t,u,w;k={};n=this.j.YY;try{if((this.j.hi && (k.errorCode=this.j.hi.G4,k.errorType=n?"endplay":"startplay"),k.playdelay=g.Rf(this.j.VT()),k.xid=this.j.ba,this.j.oa && this.ib.Hp(this.j.oa.uc.Uo) && (k.packageId=Number(this.j.oa.uc.Uo)),k.auth=this.j.cEb(),n)){k.totaltime=this.j.Jl?this.Eo(this.j.Jl.gN()):0;k.abrdel=this.j.Jl?this.j.Jl.Qma():0;q=this.j.Wf;p=q?q.TG():null;this.ib.Fi(p) && (k.totdfr=p);p=q?q.qV():null;this.ib.Fi(p) && (k.totcfr=p);v=q?q.zFb():null;v && (k.rbfrs_decoder=v.r4,k.rbfrs_network=v.N8);k.rbfrs_delay=this.j.Jl?this.j.Jl.npa:0;k.init_vbr=this.j.a7;t=this.$G();this.ib.BG(t) && (k.pdltime=t);u=this.j.ke.value;w=u && u.stream;w && (k.vbr=w.bitrate,k.vdlid=w.yc);k.bufferedTime=this.j.VWa();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.wM=function(k){this.j.bb.Gm && (this.j.bb.Gm.userEngageAction=1);return this.ib.Fi(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.zu.create(this.j)),{action:k}),this.cU(h.mp.wM).fq(this.log,this.j.oa.lk,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.zc,errorExternalCode:n.Jd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.NEb=function(k){return {register:k.register.bind(k),notifyUpdated:k.Q3a.bind(k),getModel:k.TFb.bind(k),getGroups:k.vV.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.lq=function(k){var n;n=k.Zta=k.Zta || ({trackId:k.trackId,bcp47:k.Vd,displayName:k.displayName,trackType:k.kl,rawTrackType:k.kI,channels:k.channels});this.Gpa(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.hZ);this.Hpa(k) && (n.isNoneTrack=k.Vr(),n.isForcedNarrative=k.qq(),n.isImageBased=k.kk);n.subType=k.SI;n.variant=k.variant;return n;};c.prototype.Gpa=function(k){return "undefined" !== typeof k.isNative;};c.prototype.Hpa=function(k){return "undefined" !== typeof k.Vr && "undefined" !== typeof k.qq;};c.prototype.aV=function(k){var n;n=this;return k && this.j.Hi.find(function(q){return n.lq(q) === k;});};c.prototype.FV=function(k){var n,q;k=this.aV(k) || (null === (n=this.Nw) || void 0 === n?void 0:n.ic) || this.j.ic.value;return null !== (q=null === k || void 0 === k?void 0:k.Ph) && void 0 !== q?q:[];};c.prototype.yV=function(k,n){var q;q=k.length - 1;if("number" !== typeof n)return q;k=k.findIndex(function(p){return p.Vc > n;});return -1 === k?q:k - 1;};c.prototype.q0a=function(k,n){return 0 <= k.Ph.indexOf(n);};c.prototype.CPb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.Eo=function(k){return this.ib.Fi(k)?(k / 1E3).toFixed(0):"";};c.prototype.Eb=function(k,n,q){n=n || ({});n.target=this;this.Sb.Cc(k,n,!q);};c.prototype.pJ=function(){var k;k=this;this.j.addEventListener(l.ca.$wa,function(){k.Eb(l.Da.Vp);});this.j.addEventListener(l.ca.uab,function(){k.Eb(l.Da.tab);});this.j.addEventListener(l.ca.k8,function(){k.Eb(l.Da.Ria);});this.j.addEventListener(l.ca.wk,function(){k.Eb(l.Da.Ria);});this.j.addEventListener(l.ca.oN,function(n){k.Eb(l.Da.oN,{errorCode:n});});this.j.addEventListener(l.ca.wia,function(n){k.Eb(l.Da.PQa,n.j);});this.j.addEventListener(l.ca.ci,function(n){k.Eb(l.Da.v3,n);});this.j.addEventListener(l.ca.Z$a,function(){k.Eb(l.Da.s3);k.Eb(l.Da.dv);});this.j.wj.addListener(function(){k.Eb(l.Da.wta);});this.j.paused.addListener(function(){k.Eb(l.Da.a5a);});this.j.muted.addListener(function(){k.Eb(l.Da.m3a);});this.j.volume.addListener(function(){k.Eb(l.Da.ybb);});this.j.yb.addListener(function(){k.Cab();});this.j.state.addListener(function(){k.Cab();});this.j.Xia.addListener(function(n){k.oMb || k.j.state.value != l.Pb.pe || n.newValue || (k.oMb=!0,k.Eb(l.Da.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.Rna());}));k.Eb(l.Da.KL);});this.j.ic.addListener(function(){k.Eb(l.Da.dm);k.Eb(l.Da.dv);setTimeout(function(){var n,q;n=k.j.ic.value;q=k.j.cc.value;null === n || null === q || k.q0a(n,q) || (k.log.info("Changing timed text track to match audio track"),k.j.cc.set(n.Ph[0]));},0);});this.j.cc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.Eb(l.Da.Ol);});this.j.addEventListener(l.ca.dv,function(){k.Eb(l.Da.dv);});this.j.addEventListener(l.ca.DZ,function(){k.Eb(l.Da.DZ);});this.j.state.addListener(function(n){switch(n.newValue){case l.Pb.pe:k.Eb(l.Da.KUa);k.Eb(l.Da.tbb);k.Eb(l.Da.s3);k.Eb(l.Da.dv);k.Eb(l.Da.j1a);k.$5a();k.k2b();break;case l.Pb.CLOSING:k.j.hi && k.Eb(l.Da.L_a,k.j.hi);break;case l.Pb.CLOSED:(k.Eb(l.Da.closed),k.Sb.Fh());}});};c.prototype.k2b=function(){var k;k=this;this.j.Pq.addEventListener("showsubtitle",function(n){k.Eb(l.Da.fwa,n,!0);});this.j.Pq.addEventListener("removesubtitle",function(n){k.Eb(l.Da.Gua,n,!0);});};c.prototype.$5a=function(){if(this.j.state.value == l.Pb.pe){for(var k,n,q;n=this.g5a.shift();){k=this.j.Pq.Dha(n.url,n.name,n.options);n.Zrb && (q=k);}q && this.j.cc.set(q);}};c.prototype.Cab=function(){var k;k=this.j.state.value == l.Pb.pe && this.j.yb.value == l.cb.Vq;this.ended !== k && (this.ended=k,this.j.ZF("Ended changed: " + k),(k || this.j.state.value === l.Pb.CLOSING) && this.Eb(l.Da.oVa));};c.prototype.$G=function(){var k,n;try{k=/playercore.*js/;n=d.vv.getEntriesByType("resource").filter(function(q){return null !== k.exec(q.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(q){}};b.kEa=c;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t;function c(u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R){var H,Q,N;H=this;this.IX=w;this.Ez=x;this.za=y;this.nk=z;this.Sb=A;this.EW=B;this.sSb=D;this.w5a=E;this.Naa=F;this.r3=C;this.ya=G;this.KN=J;this.config=K;this.iC=I;this.O=M;this.li=R;this.Q7=new q.ac(!0);this.wj=new q.ac(!1);this.As=new q.ac(!1);this.ended=new q.ac(!1);this.G3=new q.ac(0);this.yb=new q.ac(l.cb.Of);this.NO=new q.ac(void 0);this.loaded=this.YY=this.closed=!1;this.T5a=function(L,P){return function(S){var U,da,ka,ma,X;U=S.newValue;da=U.sC;S=U.fm;ka=U.stream;U=L.value;ma=U.streams.find(function(ua){return ua.bitrate === ka.stream.bitrate;});X=H.va.ck.find(function(ua){return ua.id === da;});H.log.info("Presenting " + ma.type + " request with bitrate " + ma.bitrate + ", track " + (U.trackId + " [" + S.startTime + "..." + S.endTime + "]"));P.set({stream:ma,fm:S,kc:X});};};this.S9a=function(L,P,S){return function(U){var da,ka;da=L.value;ka=da.streams.find(function(ma){return ma.bitrate === U.newValue.stream.bitrate;});H.log.info("Streaming " + ka.type + " stream with bitrate " + ka.bitrate + ", track " + da.trackId);P.set(ka,{kG:U.km.kG,LT:void 0});da=H.va.ck.filter(function(ma){return ma.id === U.km.sC;})[0];S.set(da);};};this.gWa=new Set();this.log=u.hb("HLSVideoPlayer");this.X=m.createElement("VIDEO","position:absolute;width:100%;height:100%");this.X.playsInline=this.config.G5a;this.va=this.IX(d.xB.index++,M.J,M.id,null !== (Q=M.Db) && void 0 !== Q?Q:{},this.Ez.Uy(),this.za.Wb(),!1,void 0,function(){return H.Xt();});this.va.mediaTime.set(null !== (N=this.va.Zv) && void 0 !== N?N:0);this.pJ();this.Nmb=this.KN.create(this);this.Nmb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;f=a(47);l=a(15);m=a(30);d=a(58);h=a(103);g=a(57);k=a(3);n=a(62);q=a(80);p=a(4);v=a(19);t=a(128);c.prototype.pJ=function(){var u;u=this;this.X.addEventListener("loadedmetadata",function(){u.Eb(l.Da.k1a);u.Eb(l.Da.j1a);u.Eb(l.Da.dm);u.Eb(l.Da.s3);u.Eb(l.Da.Ol);u.Eb(l.Da.dv);});this.X.addEventListener("error",function(w){w=u.li(k.M.cHa,w);u.close(w);});this.X.addEventListener("timeupdate",function(){u.ended.set(!1);u.va.mediaTime.set(u.Xt());u.Xka();u.Eb(l.Da.Vp);u.Eb(l.Da.tab);});this.X.addEventListener("durationchange",function(){u.Eb(l.Da.KUa);});this.X.addEventListener("resize",function(){u.Eb(l.Da.tbb);});this.X.addEventListener("playing",function(){u.Xka();u.As.set(!1);u.wj.set(!0);u.ended.set(!1);u.yb.set(l.cb.Hc);});this.X.addEventListener("pause",function(){u.wj.set(!1);u.As.set(!1);u.yb.set(l.cb.eh);});this.X.addEventListener("waiting",function(){u.yb.set(l.cb.Of);});this.X.addEventListener("stalled",function(){u.As.set(!0);});this.X.addEventListener("seeking",function(){u.As.set(!1);u.NO.set(u.va.mediaTime.value);u.yb.set(l.cb.Of);});this.X.addEventListener("seeked",function(){void 0 !== u.NO.value && (u.va.Jl.ksa(u.NO.value,u.Xt()),u.NO.set(void 0));u.yb.set(u.rq()?l.cb.Hc:l.cb.eh);});this.X.addEventListener("progress",function(){u.Eb(l.Da.Ria);u.u0b();});this.X.addEventListener("ended",function(){u.yb.set(l.cb.Vq);u.As.set(!1);u.wj.set(!1);u.ended.set(!0);});this.X.addEventListener("volumechange",function(){u.Eb(l.Da.ybb);u.Eb(l.Da.m3a);});this.wj.addListener(function(){u.Eb(l.Da.wta);u.Eb(l.Da.a5a);u.QL();});this.G3.addListener(function(){u.Eb(l.Da.KL);});this.As.addListener(function(){u.Eb(l.Da.KL);});this.Q7.addListener(function(){u.QL();});this.ended.addListener(function(){u.Eb(l.Da.oVa);});this.va.playbackRate.addListener(function(w){u.X.playbackRate=w.newValue;});};c.prototype.QL=function(){!this.rq() || this.Q7.value || this.YY || this.OQa || (this.YY=!0,this.va.mH=this.ya.EY,this.w5a.ap(this,this.va));};c.prototype.VT=function(){return this.HX - (this.va.vk.da(p.ja) + this.za.Tz.da(p.ja));};c.prototype.QG=function(){var u;u=this.va.bb.HZ;return v.Ba(u)?u:this.va.vk.da(p.ja) + this.za.Tz.da(p.ja);};c.prototype.$ia=function(){return this.ya.ef.da(p.ja) - this.QG();};c.prototype.bja=function(){return this.HX - this.QG();};c.prototype.u0b=function(){var u;u=this.X.readyState <= n.$n.p0.HAVE_METADATA?0:this.X.readyState <= n.$n.p0.HAVE_CURRENT_DATA?.5:1;1 === u && (this.HX=this.ya.ef.da(p.ja),this.Q7.set(!1),this.hma(l.Da.loaded));this.G3.set(u);};c.prototype.Xka=function(){var u;u=this.Xt();this.Naa.v8a(u);this.r3.v8a(u);};c.prototype.DY=function(){var u;u=this;this.va.Cd("ats");return this.nk.WM({ba:this.va.ba,bb:this.va.bb,Z:this.va.J,St:h.Sm.e1,Tf:g.Vh.qp}).then(function(w){var x;u.va.Cd("at");x=u.EW.create({}).V4a(w);u.va.oa=w;u.va.Oc=x;u.X.audioTracks.addEventListener("addtrack",function(){u.Nab(u.va.ic.value);});u.X.audioTracks.addEventListener("change",function(){for(var y,z,A={},B=ba(u.X.audioTracks),D=B.next();!D.done;(A={aQ:A.aQ},D=B.next())){A.aQ=D.value;A.aQ.enabled && A.aQ.label !== (null === (y=u.va.ic.value) || void 0 === y?void 0:y.displayName) && (!1,D=null !== (z=u.va.Hi.find((function(E){return function(F){return F.displayName === E.aQ.label;};})(A))) && void 0 !== z?z:null,u.va.ic.set(D));}});u.va.ic.addListener(function(y){u.Nab(y.newValue);u.Eb(l.Da.dm);u.Eb(l.Da.dv);});u.X.textTracks.addEventListener("addtrack",function(){u.Oab(u.va.cc.value);});u.X.textTracks.addEventListener("change",function(){var E;for(var y,z,A=u.X.textTracks,B={},D=0;D < A.length;(B={bQ:B.bQ},D++)){if((B.bQ=A[D],"showing" === B.bQ.mode && B.bQ.label !== (null === (y=u.va.cc.value) || void 0 === y?void 0:y.displayName))){!1;E=null !== (z=u.va.Ph.find((function(F){return function(C){return C.displayName === F.bQ.label;};})(B))) && void 0 !== z?z:null;u.va.cc.set(E);u.va.ai.set(E);}}});u.va.cc.set(x.vU);u.va.ai.set(x.vU);u.va.cc.addListener(function(y){u.Oab(y.newValue);u.Eb(l.Da.Ol);});return u.sSb.Ii(w,function(y){return u.va.Cd(y);});}).then(function(w){var x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H;x=w.WMb;y=w.Qtb;w=w.TYb;z=w.audio;A=w.PTa;B=w.video;D=u.va;E=D.hh;F=D.ic;C=D.Hi;G=D.Ve;J=D.wg;w=D.Zv;K=D.ke;I=D.hf;M=D.Jl;D=D.Oc;D.Hi=C.filter(function(Q){return z.find(function(N){return N.track.rg === Q.trackId;});});J.set(D.y4);F.set(C.find(function(Q){return Q.trackId === A;}));D=B[0];R=D.stream;C=z.find(function(Q){return Q.track.rg === A;});H=C.stream;u.cW=R.bitrate;u.Naa.Hta.addListener(u.T5a(J,K));u.Naa.Mwa.addListener(u.S9a(J,G,u.va.kc[f.Rb.Ta.Lb]));G=y.get(R.Gr).zO.Rp;u.Naa.xb(B,D,G);u.r3.Hta.addListener(u.T5a(F,I));u.r3.Mwa.addListener(u.S9a(F,E,u.va.kc[f.Rb.Ta.Ub]));y=y.get(H.Gr).zO.Rp;u.r3.xb(z,C,y);u.X.src=x;u.X.currentTime=(null !== w && void 0 !== w?w:0) / 1E3;u.X.load();M.ksa(0,w && 0 < w?w:1);}).catch(function(w){var x;return u.close(u.li(null !== (x=w.code) && void 0 !== x?x:k.M.ELa,w));});};c.prototype.Oab=function(u){var y;for(var w=this.X.textTracks,x=0;x < w.length;x++){y=w[x];y.label === u.displayName && "showing" !== y.mode && (!1,y.mode="showing");y.label !== u.displayName && "showing" === y.mode && (!1,y.mode="hidden");}};c.prototype.Nab=function(u){for(var w=ba(this.X.audioTracks),x=w.next();!x.done;x=w.next()){x=x.value;x.label !== u.displayName || x.enabled || (!1,x.enabled=!0);x.label !== u.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Xt=function(){return Math.floor(1E3 * this.X.currentTime);};c.prototype.K5=function(){return this.Xt();};c.prototype.Yma=function(){return Math.floor(1E3 * this.X.duration);};c.prototype.nYa=function(){return this.O.J;};c.prototype.yz=function(){return this.va.ba;};c.prototype.An=function(){return this.X;};c.prototype.isReady=function(){return null === this.Hh();};c.prototype.rq=function(){return this.wj.value;};c.prototype.jW=function(){return !this.wj.value;};c.prototype.spa=function(){return this.X.ended;};c.prototype.Hh=function(){return 1 !== this.G3.value?{stalled:this.As.value,progress:this.G3.value,progressRollback:!1}:null;};c.prototype.getError=function(){var u,w;return null !== (w=null === (u=this.hi) || void 0 === u?void 0:u.xZ()) && void 0 !== w?w:null;};c.prototype.WWa=function(){return 1 === this.X.buffered.length?1E3 * this.X.buffered.end(0):null;};c.prototype.hZa=function(){return {width:this.X.videoWidth,height:this.X.videoHeight};};c.prototype.Apa=function(){return this.X.muted;};c.prototype.iZa=function(){return this.X.volume;};c.prototype.G8a=function(u){this.X.muted=u;};c.prototype.S8a=function(u){this.X.volume=u;};c.prototype.addEventListener=function(u,w,x){this.Sb.addListener(u,w,x);};c.prototype.removeEventListener=function(u,w){this.Sb.removeListener(u,w);};c.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.iC.IN(function(w){w.$?u.DY():u.close(u.li(w.errorCode || k.M.Dca,w));}));};c.prototype.close=function(u){if(this.closed)return Promise.resolve();this.va.mediaTime.set(this.Xt());this.Xka();this.va.gU=this.K5();this.closed=!0;this.X.removeAttribute("src");this.X.load();(this.hi=u) && this.Eb(l.Da.error,u.xZ());this.Eb(l.Da.closed);return this.w5a.$Y(this.va);};c.prototype.play=function(){var u,w;u=this;w=this.X.play();this.OQa=!1;w && w.then(function(){u.hma(l.Da.PQa);}).catch(function(x){u.Eb(l.Da.KL);"NotAllowedError" === x.name && (u.log.warn("Playback is blocked by the browser settings",x),u.OQa=!0,u.ci=!0,u.hma(l.Da.v3,{player:{play:function(){return u.play();}}}));});};c.prototype.Eb=function(u,w,x){w=w || ({});w.target=this;this.Sb.Cc(u,w,!x);};c.prototype.hma=function(u,w){this.gWa.has(u) || (this.gWa.add(u),this.Eb(u,w,void 0));};c.prototype.pause=function(){this.X.pause();};c.prototype.seek=function(u){this.X.currentTime=u / 1E3;};c.prototype.r_a=function(u){this.close(this.li(k.M.UBa,k.L.Sl,u));};c.prototype.Ho=function(){return this.va.playbackRate.value;};c.prototype.H8a=function(u){this.va.playbackRate.set(u);};c.prototype.NWa=function(){var u;u=this;return this.va.Hi.map(function(w){return u.lq(w);});};c.prototype.aoa=function(u){var w;w=this;return this.FV(u).map(function(x){return w.lq(x);});};c.prototype.MWa=function(){var u;u=this.va.ic.value;return u && this.lq(u);};c.prototype.$na=function(){var u;u=this.va.cc.value;return u && this.lq(u);};c.prototype.s8a=function(u){if((u=this.aV(u)) && u.ji)return (this.va.ic.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Xva=function(u){var w,x;w=this;x=this.va.Ph.find(function(y){return w.lq(y) === u;});if(x && x.ji)return (this.va.cc.set(x),this.va.ai.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.gYa=function(){var u;return this.yV(this.va.Hi,null === (u=this.va.oa) || void 0 === u?void 0:u.uc.p2a);};c.prototype.rna=function(u){var w;return this.yV(this.FV(u),null === (w=this.va.oa) || void 0 === w?void 0:w.uc.q2a);};c.prototype.lq=function(u){var w;w=u.Zta=u.Zta || ({trackId:u.trackId,bcp47:u.Vd,displayName:u.displayName,trackType:u.kl,rawTrackType:u.kI,channels:u.channels});this.Gpa(u) && (w.isNative=u.isNative,w.surroundFormatLabel=u.hZ);this.Hpa(u) && (w.isNoneTrack=u.Vr(),w.isForcedNarrative=u.qq(),w.isImageBased=u.kk);w.subType=u.SI;w.variant=u.variant;return w;};c.prototype.Gpa=function(u){return "undefined" !== typeof u.isNative;};c.prototype.Hpa=function(u){return "undefined" !== typeof u.Vr && "undefined" !== typeof u.qq;};c.prototype.aV=function(u){var w;w=this;return u && this.va.Hi.find(function(x){return w.lq(x) === u;});};c.prototype.FV=function(u){var w;u=this.aV(u) || this.va.ic.value;return null !== (w=null === u || void 0 === u?void 0:u.Ph) && void 0 !== w?w:[];};c.prototype.yV=function(u,w){var x;x=u.length - 1;if("number" !== typeof w)return x;u=u.findIndex(function(y){return y.Vc > w;});return -1 === u?x:u - 1;};c.prototype.Aaa=function(u){this.va.bb=t.r8(this.va.bb,u);};c.prototype.rm=function(u){if(u !== this.va.wa)throw (!1,Error("Unknown segmentId " + u));return this.va;};c.prototype.BYa=function(){return this.va.bb;};c.prototype.Jha=function(){!1;};c.prototype.Kw=function(){!1;};c.prototype.SH=function(){!1;};c.prototype.LV=function(){!1;return Promise.reject();};c.prototype.Rna=function(){return {};};c.prototype.L5=function(){};c.prototype.jXa=function(){};c.prototype.JWa=function(){return {};};c.prototype.Mva=function(){};c.prototype.uP=function(){};c.prototype.O_a=function(){return !1;};c.prototype.pXa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.wM=function(){!1;return Promise.resolve({success:!0});};c.prototype.eZa=function(){!1;};c.prototype.JV=function(){!1;};c.prototype.kP=function(){!1;};c.prototype.awa=function(){!1;};c.prototype.g1a=function(){!1;};c.prototype.EWa=function(){!1;return Promise.reject();};c.prototype.s5a=function(){!1;return Promise.reject();};c.prototype.l6a=function(){!1;return Promise.reject();};c.prototype.wi=function(){!1;return Promise.reject();};c.prototype.eI=function(){!1;};c.prototype.e9a=function(){return !1;};b.TLa=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Gc=b.Lo=void 0;(function(c){c[c.cj=0]="STOPPED";c[c.ud=1]="BUFFERING";c[c.Nf=2]="REBUFFERING";c[c.dj=3]="STREAMING";c[c.TR=4]="TRACK_SWITCH";})(a || (a={}));b.Gc=a;b.Lo=function(c){return c === a.ud || c === a.Nf || c === a.TR;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(675),b);r.__exportStar(a(676),b);r.__exportStar(a(677),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rda=void 0;r=b.rda || (b.rda={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.nB=1]="HAVE_SOMETHING";r[r.Bx=2]="HAVE_MINIMUM";r[r.MJ=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ma=void 0;r=a || (a={});r[r.yh=0]="STARTING";r[r.ud=1]="BUFFERING";r[r.Nf=2]="REBUFFERING";r[r.Hc=3]="PLAYING";r[r.gr=4]="STOPPING";r[r.cj=5]="STOPPED";r[r.eh=6]="PAUSED";b.ma=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(698),b);r.__exportStar(a(699),b);r.__exportStar(a(700),b);r.__exportStar(a(701),b);r.__exportStar(a(702),b);r.__exportStar(a(703),b);r.__exportStar(a(704),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(706),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ux=void 0;r=b.Ux || (b.Ux={});r[r.vib=0]="PLAYGRAPH_CHANGED";r[r.wib=1]="PLAYGRAPH_UNCHANGED";r[r.Jhb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.kfb=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.jfb=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.vjb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Ybb=6]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zya=void 0;c=a(16);r=(function(){function f(l){this.config=l;}f.prototype.tn=function(l,m){return this.config.bZ || m !== c.Gc.dj?l.filter(function(d){return d.Rt;}):l;};return f;})();b.Zya=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oF=void 0;r=a(2);c=a(20);f=r.__importDefault(a(6));l=a(347);a=(function(){function m(d){this.console=d;this.QTa=[];this.ZQa={};this.gUa=!1;}m.prototype.Kq=function(d,h){this.QTa=d;void 0 !== h?this.ZQa[h]=d:this.gUa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.gUa=!0);};m.prototype.tn=function(d){var h,g,k,n,q;h=this;if(0 === d.length)return d;n=d[0].Z;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (g=f.default.Et) || void 0 === g?void 0:g.call(f.default,n);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}q=null !== (k=this.ZQa[n]) && void 0 !== k?k:this.QTa;c.ga && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(q));d=d.filter(function(p){return l.$ha(p.profile,p.bitrate,q,h.console).inRange;});c.ga && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return m;})();b.oF=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$ya=void 0;r=(function(){function a(c){var f;f=this;c.yP && c.yP.enabled && c.yP.profiles && c.yP.profiles.length && "keepLowest" === c.yP.action && (this.H0a={},c.yP.profiles.forEach(function(l){return f.H0a[l]=!0;}));}a.prototype.tn=function(c){var f,l;f={};l=this.H0a;return void 0 === l?c:c.filter(function(m){return !l[m.profile] || (f[m.profile]?!1:f[m.profile]=!0);});};return a;})();b.$ya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xya=void 0;r=(function(){function a(c){this.config=c;}a.prototype.tn=function(c){var f;f=this.config;return c.filter(function(l){return !(void 0 !== l.sb && (l.sb < f.GH || l.sb > f.c2a) || (void 0 === l.sb || 0 >= f.GH) && l.bitrate < f.Fra || (void 0 === l.sb || Infinity === f.c2a) && l.bitrate > f.gNb);});};return a;})();b.Xya=r;},function(r,b,a){var f;function c(l,m){m=Math.max(l,m);return isNaN(m)?l || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Jya=void 0;f=a(16);r=(function(){function l(m){this.config=m;this.Y9=0;this.state=f.Gc.cj;this.a3a=c(m.Fra,m.t8);this.Mra=c(m.GH,m.QW);}l.prototype.tn=function(m,d){var h;h=this;if(d !== this.state){this.state=d;if(d === f.Gc.ud || d === f.Gc.TR)return m;d === f.Gc.Nf && this.A6a();}return m.filter(function(g){return !(void 0 !== g.sb && g.sb < h.Mra || (void 0 === g.sb || 0 > h.Mra) && g.bitrate < h.a3a);});};l.prototype.A6a=function(){++this.Y9;this.Mra=c(this.config.GH,this.config.QW - this.config.iOb * this.Y9);this.a3a=this.config.Fra || -Infinity;};return l;})();b.Jya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wya=void 0;c=a(25);r=(function(){function f(l){this.config=l;}f.prototype.RXb=function(l){return l % 100 + 1 <= this.config.cta;};f.prototype.tn=function(l){var m,d,h,g,k,n,q,p,v,t,u;q=Number(null === (m=l[0]) || void 0 === m?void 0:m.J);if(!(this.config.S4 && this.RXb(q) && 0 < this.config.l$.length))return l;m=l.length;p=null !== (d=l[m - 1].k$) && void 0 !== d?d:0;if(d=c.hg(this.config.l$,function(w){return w.jbc >= p && w.C7a <= p;})){for(q=0;q < m;q++){v=l[Math.max(q - 1,0)];t=l[q];if(!((null !== (h=t.k$) && void 0 !== h?h:0) < d.C7a || (null !== (g=v.k$) && void 0 !== g?g:0) < d.C7a)){u=null !== (k=t.sb) && void 0 !== k?k:Infinity;v=null !== (n=v.sb) && void 0 !== n?n:Infinity;if(!(v < d.tac || v < d.sac && t.bitrate < d.maxBitrate || !u && t.bitrate < d.Q$b))break;}}return l.slice(0,q);}return l;};return f;})();b.Wya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xca=b.xba=void 0;c=a(25);b.xba={tn:function(f){return f.filter(function(l){return l.iu && !l.Cz;});}};b.Xca={tn:function(f){return (f=c.hg(f,function(l){return ! !l.iu && !l.Cz;}))?[f]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yca=void 0;b.Yca={tn:function(a){return [a[0]];}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yC=b.xC=void 0;c=a(349);f=a(99);b.xC=function(l,m){m && (null === l || void 0 === l?0:l.$Za) && (m=new f.jF(m).or(f.YE));return new f.jF(f.xba).and(null !== m && void 0 !== m?m:f.YE).or(f.Xca,c.hK.MG).or(f.Yca,c.hK.MG);};b.yC=function(l,m){m && l.$Za && (m=new f.jF(m).or(f.YE));return new f.jF(f.xba).and(new f.Zya(l)).and(new f.Xya(l)).and(new f.Jya(l)).and(new f.$ya(l)).and(l.S4?new f.Wya(l):f.YE).and(null !== m && void 0 !== m?m:f.YE).or(f.Xca,c.hK.MG).or(f.Yca,c.hK.MG);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(727),b);r.__exportStar(a(353),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zya=void 0;c=a(2);r=(function(f){function l(m,d){m=f.call(this,l.KDb(m,d)) || this;m.Llb=d;m.name="AggregateError";return m;}c.__extends(l,f);l.KDb=function(m,d){return d.reduce(function(h,g){return h + "\n" + g;},m);};Object.defineProperties(l.prototype,{Y4:{get:function(){return this.Llb;},enumerable:!1,configurable:!0}});return l;})(Error);b.zya=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ajb=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Qe,segments:a.Xyb(c.Aa)},void 0 !== c.Zd?{transitionType:c.Zd}:{});};a.encode=function(c){return Object.assign({Qe:c.initialSegment,Aa:a.CBb(c.segments)},void 0 !== c.transitionType?{Zd:c.transitionType}:{});};a.CBb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.BBb(c[l]);return f;},{});};a.BBb=function(c){return Object.assign({Z:c.viewableId,xc:c.startTimeMs},c.endTimeMs?{Nc:c.endTimeMs}:{},c.defaultNext?{Eh:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Zd:c.transitionType}:{},c.next?{next:a.zBb(c.next)}:{},c.exitZones?{gq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.zBb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.ABb(c[l]);return f;},{});};a.ABb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Zd:c.transitionType}:{});};a.Xyb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.Wyb(c[l]);return f;},{});};a.Wyb=function(c){return Object.assign({viewableId:c.Z,startTimeMs:c.xc},c.Nc?{endTimeMs:c.Nc}:{},c.Eh?{defaultNext:c.Eh}:{},c.weight?{weight:c.weight}:{},c.Zd?{transitionType:c.Zd}:{},c.next?{next:a.Uyb(c.next)}:{},c.gq?{exitZones:c.gq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.Uyb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.Vyb(c[l]);return f;},{});};a.Vyb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Zd?{transitionType:c.Zd}:{});};return a;})();},function(r,b,a){var m;function c(d){return Object.keys(d.segments).some(function(h){var g,k;return (null === (g=d.segments[h].ui) || void 0 === g?void 0:g.interactionZones) || (null === (k=d.segments[h].ui) || void 0 === k?void 0:k.interactionZonesV2);});}function f(d){return Object.keys(d).reduce(function(h,g){var k,n;k=d[g];n=k.weight;k=k.transitionType || k.transitionHint;g=h[g]={};void 0 !== n && (g.weight=n);k && (g.Zd=k);return h;},{});}function l(d){var h,g;h=Object.keys(d);g=h.length;return g?h.reduce(function(k,n){return k + (d[n].weight || 0);},0) / g:void 0;}Object.defineProperty(b,"__esModule",{value:!0});m=a(217);b.tC=function(d,h){var g,k,n,q,p,v;g=void 0 === h?{}:h;h=g.Ad;k=g.Qe;n=g.Aa;g=g.config;q=!(!g || -1 === g.xma.indexOf(d.viewableId));p=c(d)?0:(null === g || void 0 === g?void 0:g.wma) || 0;g=new m.dF();v=n || d.segments;g.LY(null !== k && void 0 !== k?k:d.initialSegment).F8a(null !== h && void 0 !== h?h:d.mediaTypes).bwa(q?"immediate":d.transitionType).L8a(Object.keys(v).reduce(function(t,u){var w,x,y,z,A;w=v[u];z=w.weight;if(null === z || void 0 === z)z=w.next && (q || (null === (x=w.exitZones) || void 0 === x?0:x.length))?l(w.next):void 0;x=w.exitZones;if(null === x || void 0 === x)a:{if(q && w.endTimeMs){x=w.endTimeMs - w.startTimeMs;b:{if(w.ui){A=w.ui.interactionZones;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0] - w.startTimeMs;break b;}A=w.ui.interactionZonesV2;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0];break b;}}A=void 0;}if(A && A < x){x=[[A,x]];break a;}if(p && x > p){x=[[x - p,x]];break a;}}x=void 0;}A=w.transitionHint || (!q || p || x?void 0:"lazy");z={Z:d.viewableId,xc:w.startTimeMs,Nc:(y=w.endTimeMs,null !== y && void 0 !== y?y:Infinity),Zd:A,gq:x,weight:z};w.defaultNext && (z.Eh=w.defaultNext);w.next && (z.next=f(w.next));t[u]=z;return t;},{}));return g.Ii();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(217);b.II=function(f,l,m){var d;d=new c.dF();d.LY(l).bwa("lazy").F8a(m).vo(l,{Z:f,xc:0,Nc:Infinity});return d.Ii();};},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.vFa=void 0;c=a(2);f=a(17);l=a(218);m=a(351);r=c.__importDefault(a(6));d=a(759);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);h=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(g){function k(n,q){var p;p=g.call(this) || this;p.I=n;p.rh=new d.BEa(n,q);n.RU && p.JSa(q);p.Wg=new f.Uh();h.forEach(function(v){p.Wg.on(p.rh,v,function(t){return p.emit(v,t);});p.Hm && p.Wg.on(p.Hm,v,function(t){return p.emit(v,t);});});return p;}c.__extends(k,g);Object.defineProperties(k.prototype,{Ob:{get:function(){return this.rh.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Fn:{get:function(){return this.rh.Fn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wu:{get:function(){return this.rh.Wu;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{MA:{get:function(){return this.rh.MA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rpa:{get:function(){return this.rh.Rpa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aE:{get:function(){return this.rh.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ff:{get:function(){return this.rh.Ff;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kh:{get:function(){return this.rh.Kh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Poa:{get:function(){return this.rh.Poa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zW:{get:function(){return this.rh.zW.bind(this.rh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{D5:{get:function(){return this.rh.D5.bind(this.rh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{I3:{get:function(){var n;n=this;return function(){n.Yua();n.rh.I3();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Zia:{get:function(){var n;n=this;return function(){n.Yua();n.rh.Zia();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Jy:{get:function(){var n;n=this;return function(){n.Yua();n.rh.Jy();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kp:{get:function(){var n;n=this;return function(q,p,v){var t;null === (t=n.Ff) || void 0 === t?void 0:t.Kp(q,p,v);};},enumerable:!1,configurable:!0}});k.prototype.JSa=function(n){return this.Hm=new (a(881).oKa)(this.I,this.Jy,this.Kp,n);};k.prototype.xb=function(n,q,p,v,t,u,w,x){void 0 === w && (w=262144);void 0 === x && (x=1048576);this.rh.xb(n,q,p,v,t,u);this.Hm?this.Hm.xb(n,q,p,v,t,u,w,x):this.O0a={Jrb:n,N1b:q,fw:p,MA:v,aE:t,LNb:u,oia:w,bya:x};};k.prototype.OY=function(n,q,p){this.rh.OY(n,q,p);this.Hm?this.Hm.OY(n,q,p):this.T0a={ZYb:n,MA:q,aE:p};};k.prototype.createSession=function(n,q,p,v,t,u,w,x,y,z){var A,B,D,E,F;A=this;x || (x=this.rh.config);if(x.RU && !this.Hm){B=this.JSa(this.rh.jE);h.forEach(function(C){A.Wg.on(A.Hm,C,function(G){return A.emit(C,G);});});if(this.O0a){D=this.O0a;E=D.MA;F=D.aE;B.xb(D.Jrb,D.N1b,D.fw,E,F,D.LNb,D.oia,D.bya);}this.T0a && (F=this.T0a,D=F.ZYb,E=F.MA,F=F.aE,B.OY(D,E,F));}return this.Hm && x && x.Faa?(x.wr || x.NH || this.rh.Jy(),this.Hm.createSession(n,q,p,v,t,u,w,x,y,z)):this.rh.createSession(n,q,p,v,t,u,w,x,y,z);};k.prototype.ix=function(n,q,p){if(this.Hm)return this.Hm.ix(n,q,p);throw Error("Update viewable not supported in legacy.");};k.prototype.addEventListener=function(n,q){this.addListener(n,q);return !0;};k.prototype.removeEventListener=function(n,q){this.removeListener(n,q);return !0;};k.prototype.Mb=function(){var n;this.Wg.clear();this.rh.Mb();null === (n=this.Hm) || void 0 === n?void 0:n.Mb();l.BJ.reset();};k.prototype.Yua=function(){var n,q;this.I.wr || this.I.NH || (null === (n=this.Hm) || void 0 === n?void 0:n.Ka.state) !== m.Ns.OPEN || (null === (q=this.Hm) || void 0 === q?void 0:q.Ka.Fu.reset());};return k;})(f.EventEmitter);b.vFa=r;},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,f,l,m){l=m?l.bind(m):l;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addListener)c.addListener(f,l);else if("function" === typeof c.addEventListener)c.addEventListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={ijb:a(737),b3b:a(738)};},function(r,b,a){function c(h){this.data=h;this.right=this.left=null;this.red=!0;}function f(h){this.bf=null;this.Zm=h;this.size=0;}function l(h){return null !== h && h.red;}function m(h,g){var k;k=h.ph(!g);h.Lq(!g,k.ph(g));k.Lq(g,h);h.red=!0;k.red=!1;return k;}function d(h,g){h.Lq(!g,m(h.ph(!g),!g));return m(h,g);}b=a(355);c.prototype.ph=function(h){return h?this.right:this.left;};c.prototype.Lq=function(h,g){h?this.right=g:this.left=g;};f.prototype=new b();f.prototype.pq=function(h){var g,k,n,q,p,v,t,u,w;g=!1;if(null === this.bf)(this.bf=new c(h),g=!0,this.size++);else {k=new c(void 0);n=0;q=0;p=null;v=k;t=null;u=this.bf;for(v.right=this.bf;;){null === u?(u=new c(h),t.Lq(n,u),g=!0,this.size++):l(u.left) && l(u.right) && (u.red=!0,u.left.red=!1,u.right.red=!1);if(l(u) && l(t)){w=v.right === p;u === t.ph(q)?v.Lq(w,m(p,!q)):v.Lq(w,d(p,!q));}w=this.Zm(u.data,h);if(0 === w)break;q=n;n=0 > w;null !== p && (v=p);p=t;t=u;u=u.ph(n);}this.bf=k.right;}this.bf.red=!1;return g;};f.prototype.remove=function(h){var g,k,t,u,w;if(null === this.bf)return !1;g=new c(void 0);k=g;k.right=this.bf;for(var n=null,q,p=null,v=1;null !== k.ph(v);){t=v;q=n;n=k;k=k.ph(v);u=this.Zm(h,k.data);v=0 < u;0 === u && (p=k);if(!l(k) && !l(k.ph(v)))if(l(k.ph(!v)))(q=m(k,v),n.Lq(t,q),n=q);else if(!l(k.ph(!v)) && (u=n.ph(!t),null !== u))if(l(u.ph(!t)) || l(u.ph(t))){w=q.right === n;l(u.ph(t))?q.Lq(w,d(n,t)):l(u.ph(!t)) && q.Lq(w,m(n,t));t=q.ph(w);t.red=!0;k.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,u.red=!0,k.red=!0);}null !== p && (p.data=k.data,n.Lq(n.right === k,k.ph(null === k.left)),this.size--);this.bf=g.right;null !== this.bf && (this.bf.red=!1);return null !== p;};r.exports=f;},function(r,b,a){function c(l){this.data=l;this.right=this.left=null;}function f(l){this.bf=null;this.Zm=l;this.size=0;}b=a(355);c.prototype.ph=function(l){return l?this.right:this.left;};c.prototype.Lq=function(l,m){l?this.right=m:this.left=m;};f.prototype=new b();f.prototype.pq=function(l){if(null === this.bf)return (this.bf=new c(l),this.size++,!0);for(var m=0,d=null,h=this.bf;;){if(null === h)return (h=new c(l),d.Lq(m,h),ret=!0,this.size++,!0);if(0 === this.Zm(h.data,l))return !1;m=0 > this.Zm(h.data,l);d=h;h=h.ph(m);}};f.prototype.remove=function(l){var m,d,n;if(null === this.bf)return !1;m=new c(void 0);d=m;d.right=this.bf;for(var h=null,g=null,k=1;null !== d.ph(k);){h=d;d=d.ph(k);n=this.Zm(l,d.data);k=0 < n;0 === n && (g=d);}return null !== g?(g.data=d.data,h.Lq(h.right === d,d.ph(null === d.left)),this.bf=m.right,this.size--,!0):!1;};r.exports=f;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.uGa=void 0;c=a(25);f=a(5);r=(function(){function l(){this.data={};}Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,h){return d + m.data[h].length;},0);},enumerable:!1,configurable:!0}});l.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};l.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};l.prototype.count=function(m){return (m=this.data[m])?m.length:0;};l.prototype.keys=function(){return Object.keys(this.data);};l.prototype.values=function(){var m;m=this;return c.flatten(this.keys().map(function(d){return m.data[d];}));};l.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};l.prototype.clear=function(){this.data={};};l.prototype.delete=function(m,d){var h,g;h=this.data[m];if(void 0 === h)return !1;if(void 0 === d)return (f.assert(1 === arguments.length),delete this.data[m],!0);g=h.indexOf(d);if(-1 === g)return !1;1 === h.length?delete this.data[m]:h.splice(g,1);return !0;};l.prototype.forEach=function(m,d){var h;h=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(g){return h.data[g].forEach(function(k){return m(k,g,h);});});};l.prototype.reduce=function(m,d,h){var g,k;g=this;m=void 0 !== h?m.bind(h):m;k=d;this.forEach(function(n,q){k=m(k,n,q,g);});return k;};l.prototype.map=function(m,d){var h;h=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(g){return h.data[g].map(function(k){return m(k,g,h);});}));};l.prototype.filter=function(m,d){var h;h=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(g){return h.data[g].filter(function(k){return m(k,g,h);});}));};return l;})();b.uGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cWa=void 0;b.cWa=function(a,c){return a.filter(function(f){var l,m;f=null !== (m=null !== (l=f.vj) && void 0 !== l?l:f.Tr) && void 0 !== m?m:f.Lg;return ! !f && f.EN(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sKa=b.rKa=void 0;c=a(25);r=(function(){function f(l){this.G=l;this.listeners=[];this.qX=[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});f.prototype.set=function(l){var m;this.G=l;m=this.qX;this.qX=[];this.listeners.forEach(function(d){return d(l);});m.forEach(function(d){return d(l);});};f.prototype.B7a=function(){this.G=void 0;};f.prototype.on=function(l){this.listeners=this.listeners.concat([l]);void 0 !== this.G && l(this.G);};f.prototype.once=function(l){void 0 !== this.G?l(this.G):this.qX.push(l);};f.prototype.ED=function(l){this.listeners=this.listeners.filter(function(m){return m !== l;});this.qX=this.qX.filter(function(m){return m !== l;});};return f;})();b.rKa=r;r=(function(){function f(){this.listeners=[];}f.prototype.on=function(l,m){this.listeners.push({signal:l,listener:m});l.on(m);};f.prototype.once=function(l,m){var d,h;d=this;if(void 0 === l.value){h=function(g){d.remove(l,m);m(g);};this.listeners.push({signal:l,listener:m,Lbb:h});l.once(h);}else l.once(m);};f.prototype.ED=function(l,m){var d,h;h=c.hg(this.listeners,function(g){return g.signal === l && g.listener === m;});void 0 !== h && l.ED(null !== (d=h.Lbb) && void 0 !== d?d:h.listener);this.remove(l,m);};f.prototype.removeAllListeners=function(){this.listeners.forEach(function(l){var m,d;m=l.listener;d=l.Lbb;return l.signal.ED(null !== d && void 0 !== d?d:m);});this.listeners=[];};f.prototype.remove=function(l,m){this.listeners=this.listeners.filter(function(d){return d.signal !== l || d.listener !== m;});};return f;})();b.sKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BQ=b.g0a=void 0;b.g0a=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.GOa=!1;this.promise=new Promise(function(f){c.Sob=f;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{F7a:{get:function(){return this.GOa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.GOa=!0;this.Sob(c);};return a;})();b.BQ=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OTa=void 0;b.OTa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var f;function c(l,m,d){var h,k,n;if(l === m || !d.Zu && l == m)return !0;if(typeof l !== typeof m)return !1;if(l && "object" === typeof l){for(var g in l){if(!c(l[g],m[g],d))return !1;}if(!d.cub){k=Object.keys(l);n=Object.keys(m).filter(function(t){return 0 > k.indexOf(t);});try{for(var q=f.__values(n),p=q.next();!p.done;p=q.next()){if((g=p.value,!c(l[g],m[g],d)))return !1;}}catch(t){var v;v={error:t};}finally{try{p && !p.done && (h=q.return) && h.call(q);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.azb=void 0;f=a(2);b.azb=function(l,m,d){void 0 === d && (d={});d=f.__assign({Zu:!1,cub:!1},d);return c(l,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.j1=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Ga=NaN;}Object.defineProperties(a.prototype,{ls:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ga=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ga+=(c - this.Ga) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ga};};return a;})();b.j1=r;},function(r,b,a){var f;function c(l){this.YO=new Uint16Array(l.length);for(var m=0;m < l.length;++m){this.YO[m]=l.charCodeAt(m);}}f=new (a(6).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(l){var m;m=this.YO.length;if(void 0 === this.YO)f.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",h=0;h < l.length;++h){d+=String.fromCharCode(this.YO[h % m] ^ l.charCodeAt(h));}return encodeURIComponent(d);}};c.prototype.decrypt=function(l){var m,d;m="";d=this.YO.length;l=decodeURIComponent(l);for(var h=0;h < l.length;h++){m+=String.fromCharCode(this.YO[h % d] ^ l.charCodeAt(h));}return m;};r.exports=c;},function(r){function b(a,c){this.Ga=a;this.Zi=c;}b.prototype.Ata=function(a){var c,f,l,m,h,g;c=this.Ga;f=Math.sqrt(2 * this.Zi);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {l=1 > a?a:2 - a;m=Math.sqrt(-2 * Math.log(l / 2));m=-.70711 * ((2.30753 + .27061 * m) / (1 + m * (.99229 + .04481 * m)) - m);for(var d=0;2 > d;d++){h=Math.abs(m);g=1 / (1 + h / 2);h=g * Math.exp(-h * h - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));h=(0 <= m?h:2 - h) - l;m+=h / (1.1283791670955126 * Math.exp(-(m * m)) - m * h);}a=1 > a?m:-m;}return c - f * a;};r.exports=b;},function(r,b,a){var l,m,d,h;function c(g,k,n){l.call(this,g,k,n);}function f(g,k){m.call(this,new c(g,k,!1));}l=a(749);m=a(750);d=a(114).eEb;h=a(114).sHb;c.prototype=Object.create(l.prototype);c.prototype.Ga=function(){return Math.floor(8 * d(this.Nd) / this.Gd);};c.prototype.Zi=function(){return Math.floor(64 * h(this.Nd) / (this.Gd * this.Gd));};c.prototype.get=function(){return {Ga:this.Ga(),Zi:this.Zi(),D8b:this.Nd.length};};c.prototype.toString=function(){return "bsw(" + this.rL + "," + this.Gd + "," + this.ak + ")";};f.prototype=Object.create(m.prototype);f.prototype.setInterval=function(g){this.FK.setInterval(g);};r.exports=f;},function(r){function b(a,c,f){this.rL=a;this.ak=Math.floor((a + c - 1) / c);this.Gd=c;this.zob=f;this.reset();}b.prototype.shift=function(){this.Nd.shift();this.$h.shift();};b.prototype.update=function(a,c){this.Nd[a]+=c;};b.prototype.push=function(a){this.Nd.push(0);this.$h.push(a?a:0);this.tb+=this.Gd;};b.prototype.add=function(a,c,f,l){var m,d;if(null === this.tb){m=Math.max(Math.floor((f - c + this.Gd - 1) / this.Gd),1);for(this.tb=c;this.Nd.length < m;){this.push(l);}}for(;this.tb < f;){if((this.push(l),this.zob))for(;1 < this.Nd.length && f + l - (this.tb - this.Gd * this.Nd.length + this.$h[0]) > this.rL;){this.shift();}else this.Nd.length > this.ak && this.shift();}if(c > this.tb - this.Gd)this.update(this.Nd.length - 1,a);else if(c == f)(l=this.Nd.length - Math.max(Math.ceil((this.tb - f) / this.Gd),1),0 <= l && this.update(l,a));else for(l=1;l <= this.Nd.length;++l){m=this.tb - l * this.Gd;d=m + this.Gd;if(!(m > f)){if(d < c)break;this.update(this.Nd.length - l,Math.round(a * (Math.min(d,f) - Math.max(m,c)) / (f - c)));}}for(;this.Nd.length > this.ak;){this.shift();}};b.prototype.reset=function(){this.Nd=[];this.$h=[];this.tb=null;};b.prototype.setInterval=function(a){this.ak=Math.floor((a + this.Gd - 1) / this.Gd);};r.exports=b;},function(r){function b(a){this.FK=a;this.Me=0;this.lL=null;}b.prototype.add=function(a,c,f){null !== this.lL && c > this.lL && (this.Me+=c - this.lL,this.lL=null);this.FK.add(a,c - this.Me,f - this.Me,this.Me);};b.prototype.stop=function(a){null === this.lL && (this.lL=a);};b.prototype.Cta=function(a,c){return this.FK.Cta(a,c);};b.prototype.get=function(){return this.FK.get();};b.prototype.reset=function(){this.FK.reset();};b.prototype.toString=function(){return this.FK.toString();};r.exports=b;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v){this.xlb=v;}b=a(358);f=b.Seb;l=b.Qeb;m=a(221).Reb;d=a(221).mkb;h=a(359);g=a(360);k=a(361).ZKa;n=a(752);q=a(753);p=a(170);c.prototype.constructor=c;c.prototype.create=function(v,t){var u,w,x,y;u=this.xlb[v];w=t[v];x={};u && Object.keys(u).forEach(function(z){x[z]=u[z];});w && Object.keys(w).forEach(function(z){x[z]=w[z];});switch(x.type){case "slidingwindow":y=new m(x.mw);break;case "discontiguous-ewma":y=new l(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new h(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new g(x);break;case "discrete-ewma":y=new f(x.hl);break;case "tdigest-history":y=new k(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new p();break;case "entropy":y=new q(x);}y && (y.type=x.type);return y;};r.exports=c;},function(r,b,a){var f;function c(){this.Xj=void 0;this.YB=0;}f=a(10);c.prototype.getState=function(){return 0 !== this.YB && this.Xj?{p25:this.Xj.Hl,p50:this.Xj.uk,p75:this.Xj.Il,c:this.YB}:null;};c.prototype.Ue=function(l){if(!(!f.Bb(l) && f.has(l,"p25") && f.has(l,"p50") && f.has(l,"p75") && f.has(l,"c") && f.isFinite(l.p25) && f.isFinite(l.p50) && f.isFinite(l.p75) && f.isFinite(l.c)))return (this.Xj=void 0,this.YB=0,!1);this.Xj={Hl:l.p25,uk:l.p50,Il:l.p75};this.YB=l.c;};c.prototype.get=function(){return {x9:this.Xj,kva:this.YB};};c.prototype.set=function(l,m){this.Xj=l;this.YB=m;};c.prototype.reset=function(){this.Xj=void 0;this.YB=0;};c.prototype.toString=function(){return "IQRHist(" + this.Xj + "," + this.YB + ")";};r.exports=c;},function(r,b,a){var f;function c(l){var m,d;m=l.sw;d=l.mw;this.qL=m;this.lfa={uhd:l.uhdl,hd:l.hdl};this.ak=Math.max(Math.ceil(1 * m / d),1);this.cnb=l.mins || 1;f.call(this,m,d);this.reset();}f=a(143);new (a(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Nd.map(function(l,m){this.IPa(l,this.Kma(m));},this);};c.prototype.dtb=function(){var l,m,d,h,g,k,n,t;l=this.lfa;for(m in l){if(l.hasOwnProperty(m)){d=l[m];h=this.kha[m];g=this.jha[m];if(h.first){k=h.first;n=h.hI;void 0 !== n && (g[k][n]+=1);h.first=void 0;}h=[];k=0;d=n=d.length + 1;for(var q=0;q < n;q++){for(var p=0,v=0;v < d;v++){p+=g[v][q];}k+=p;h.push(p);}p=-1;if(k > this.cnb){for(q=p=0;q < n;q++){if(0 < h[q])for(v=0;v < d;v++){t=g[v][q];0 < t && (p-=t * Math.log(1 * t / h[q]));}}p/=k * Math.log(2);}this.Kfa[m]=p;}}return this.Kfa;};c.prototype.IPa=function(l,m){var k,n;for(var d=this.ak,h=this.lfa;this.P1.length >= d;){this.P1.shift();}for(;this.Q1.length >= d;){this.Q1.shift();}this.P1.push(l);this.Q1.push(m);l=this.P1.reduce(function(q,p){return q + p;},0);m=this.Q1.reduce(function(q,p){return q + p;},0);if(0 < m){l=8 * l / m;for(var g in h){if(h.hasOwnProperty(g)){m=this.kha[g];d=this.jha[g];k=this.LTb(l,h[g]);n=m.hI;void 0 !== n?d[k][n]+=1:m.first=k;m.hI=k;}}}};c.prototype.LTb=function(l,m){for(var d=0;d < m.length && l > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.IPa(this.Nd[0],this.Kma(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var l,m,d,h,g,k,n;this.kha={};this.P1=[];this.Q1=[];this.jha={};this.Kfa={};l=this.lfa;for(m in l){if(l.hasOwnProperty(m)){d=this.jha;h=m;k=void 0;n=Array(k);k=g=l[m].length + 1;for(var q=0;q < k;q++){n[q]=Array(g);for(var p=0;p < g;p++){n[q][p]=0;}}d[h]=n;this.kha[m]={first:void 0,hI:void 0};this.Kfa[m]=0;}}f.prototype.reset.call(this);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I=m;this.KS();}f=a(10);l=a(6).default;new l.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();l.storage.set("nh",m);};c.prototype.GYb=function(){this.TF || (this.TF=!0,this.ly=l.time.ea());};c.prototype.NYb=function(){var m;if(this.TF){m=l.time.ea();this.qy+=m - this.ly;this.ly=m;this.TF=!1;this.JS=null;}};c.prototype.M_a=function(m,d){this.TF && (d > this.ly && (this.qy+=d - this.ly,this.ly=d),null === this.JS || m > this.JS) && (m=d - m,this.SK.push([this.qy - m,m]),this.upb(),this.JS=d);};c.prototype.upb=function(){var m;m=this.qy - this.I.ROb;this.SK=this.SK.filter(function(d){return d[0] > m;});};c.prototype.KS=function(){var m;m=l.storage.get("nh");this.bha(m) || (this.ly=l.time.ea(),this.qy=0,this.TF=!1,this.JS=null,this.SK=[]);};c.prototype.bha=function(m){if(!(m && f.has(m,"t") && f.has(m,"s") && f.has(m,"i") && f.Ba(m.t) && f.Ba(m.s) && f.isArray(m.i)))return !1;this.ly=l.time.lsa(1E3 * m.t);this.qy=1E3 * m.s;this.TF=!1;this.SK=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.JS=null;return !0;};c.prototype.getState=function(){return this.TF?{t:l.time.now() / 1E3 | 0,s:(this.qy + (l.time.ea() - this.ly)) / 1E3 | 0,i:this.SK.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:l.time.Ora(this.ly) / 1E3 | 0,s:this.qy / 1E3 | 0,i:this.SK.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bCa=void 0;r=a(2);c=a(756);new (r.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var K00;function f(l){var L00;L00=2;for(;L00 !== 4;){switch(L00){case 2:var o5J="1SIY";o5J+="bZ";o5J+="rN";o5J+="JCp9";this.Xoa=l;this.iz={};o5J;L00=4;break;}}}K00=2;for(;K00 !== 7;){switch(K00){case 2:f.prototype.reset=function(){var M00;M00=2;for(;M00 !== 1;){switch(M00){case 4:this.iE=new c.gAa();M00=8;break;M00=1;break;case 2:this.iE=new c.gAa();M00=1;break;}}};f.prototype.OO=function(l,m){var N00;N00=2;for(;N00 !== 1;){switch(N00){case 2:m.gi && (this.Xoa?this.iE.start(l,m.gi):1 === m.type && (this.iz[m.gi]?this.iz[m.gi].UZ+=1:this.iz[m.gi]={gi:m.gi,UZ:1,l5:!1},this.xab(l)));N00=1;break;}}};f.prototype.qY=function(l,m){var O00,d;O00=2;for(;O00 !== 9;){switch(O00){case 1:O00=this.Xoa?5:4;break;case 7:O00=m.gi?4:5;break;O00=m.gi?1:9;break;case 2:O00=m.gi?1:9;break;case 5:this.iE.stop(l,m.gi);O00=9;break;case 4:d=this.iz[m.gi];1 === m.type && d && (--d.UZ,0 === d.UZ && (d.l5 && this.iE.stop(l,m.gi),d.l5=!1,delete this.iz[m.gi]),this.xab(l));O00=9;break;}}};f.prototype.Uv=function(l,m,d,h){var P00;P00=2;for(;P00 !== 1;){switch(P00){case 2:h.gi && (this.Xoa?this.iE.add(l,m,d,h.gi):this.tT === h.gi && this.iE.add(l,m,d,h.gi));P00=1;break;}}};f.prototype.Yt=function(){var Q00;Q00=2;for(;Q00 !== 1;){switch(Q00){case 4:return this.iE.get();break;Q00=1;break;case 2:return this.iE.get();break;}}};K00=9;break;case 9:f.prototype.xab=function(l){var R00,m,d;R00=2;for(;R00 !== 5;){switch(R00){case 2:(m=Object.keys(this.iz),d=this.iz[m[0]]);1 === m.length && !1 === d.l5?(this.iE.start(l,d.gi),this.tT=d.gi):1 < m.length && this.tT && (m=this.iz[this.tT],this.iE.stop(l,this.tT),m.l5=!1,this.tT=void 0);R00=5;break;}}};return f;break;}}})();b.bCa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gAa=void 0;c=a(2).__importDefault(a(170));r=(function(){var S00;S00=2;for(;S00 !== 9;){switch(S00){case 3:return f;break;case 2:f.prototype.add=function(l,m,d,h){var U00,g;U00=2;for(;U00 !== 4;){switch(U00){case 2:g=this.t2;void 0 === g[h] && (g[h]=new c.default());g[h].add(l,m,d);U00=4;break;}}};f.prototype.start=function(l,m){var V00,d;V00=2;for(;V00 !== 4;){switch(V00){case 2:d=this.t2;void 0 === d[m] && (d[m]=new c.default());d[m].start(l);V00=4;break;}}};f.prototype.stop=function(l,m){var W00,d;W00=2;for(;W00 !== 5;){switch(W00){case 2:d=this.t2;void 0 !== d[m] && d[m].stop(l);W00=5;break;}}};f.prototype.get=function(){var X00,l,m,d,h,g,k;X00=2;for(;X00 !== 8;){switch(X00){case 2:(l=this.t2,m=Object.keys(l),d=[],h=0);X00=1;break;case 1:X00=h < m.length?5:9;break;case 5:(g=m[h],k=l[g].get());k && d.push({cdnid:g,avtp:k.Ga,tm:k.CC});X00=3;break;case 9:return d;break;case 3:h++;X00=1;break;}}};S00=3;break;}}function f(){var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:var g5J="1";g5J+="SIY";g5J+="bZrNJCp";g5J+="9";this.t2={};g5J;T00=5;break;case 3:this.t2={};"";T00=9;break;T00=5;break;}}}})();b.gAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hHa=void 0;c=a(2).__importDefault(a(170));r=(function(){var Y00;Y00=2;for(;Y00 !== 3;){switch(Y00){case 1:f.prototype.Uv=function(l,m,d,h){var b10,g,k;b10=2;for(;b10 !== 8;){switch(b10){case 5:b10=(null === (g=h.rI) || void 0 === g?0:g.s7())?4:3;break;case 2:this.$g[h.type]+=l;b10=5;break;case 4:(this.tY[h.type]+=l,this.F4a.add(l,m,d),this.Osa[h.type].add(l,m,d));b10=3;break;case 3:b10=(null === (k=h.rI) || void 0 === k?0:k.b2a(l,m,d,this.q9))?9:8;break;case 9:this.wX[h.type]+=l;b10=8;break;}}};f.prototype.f6=function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return {bytesRequestedPacingVideo:this.tY[1],bytesRequestedPacingAudio:this.tY[0],estimatedBytesPacedVideo:this.wX[1],estimatedBytesPacedAudio:this.wX[0],bytestotalVideo:this.$g[1],bytestotalAudio:this.$g[0],pacedAvtpVideo:this.Osa[1].get().Ga,pacedAvtpAudio:this.Osa[0].get().Ga,pacedAvtp:this.F4a.get().Ga};break;}}};Y00=4;break;case 14:return f;break;Y00=3;break;case 4:return f;break;case 2:f.prototype.reset=function(){var a10;a10=2;for(;a10 !== 4;){switch(a10){case 2:this.tY=[0,0];this.$g=[0,0];this.wX=[0,0];a10=4;break;}}};Y00=1;break;}}function f(l){var Z00;Z00=2;for(;Z00 !== 7;){switch(Z00){case 2:var S5J="1SIY";S5J+="bZrNJCp";S5J+="9";this.tY=[0,0];this.$g=[0,0];this.wX=[0,0];S5J;this.q9=l.q9;this.Osa=[new c.default(),new c.default()];this.F4a=new c.default();Z00=7;break;}}}})();b.hHa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gEa=void 0;c=a(2).__importDefault(a(170));r=(function(){function f(l){var e10;e10=2;for(;e10 !== 8;){switch(e10){case 3:var i5J="1S";i5J+="IY";i5J+="bZr";i5J+="NJC";i5J+="p9";i5J;this.uNb=l?l:3;e10=8;break;case 2:this.yZ=[0,0];this.lH=new c.default();this.V9=!1;this.eO=this.gO=0;e10=3;break;}}}var d10;d10=2;for(;d10 !== 9;){switch(d10){case 4:f.prototype.W5=function(){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:return {lH:this.lH.get().Ga,CC:this.lH.get().CC,z_a:this.yZ[0],A_a:this.yZ[1],gO:this.gO,eO:this.eO};break;}}};return f;break;case 2:f.prototype.reset=function(){var f10;f10=2;for(;f10 !== 3;){switch(f10){case 2:this.yZ=[0,0];this.V9=!1;this.lH=new c.default();this.eO=this.gO=0;f10=3;break;}}};f.prototype.Uv=function(l,m,d){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:this.V9 || (this.lH.add(l,m,d),this.gO++,1 === d - m && this.eO++);g10=1;break;}}};f.prototype.oJb=function(l){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:this.V9 || (++this.yZ[l],this.yZ[1] >= this.uNb && (this.V9=!0));h10=1;break;}}};d10=4;break;}}})();b.gEa=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u;Object.defineProperties(b,{__esModule:{value:!0}});b.BEa=void 0;c=a(2);f=c.__importStar(a(10));r=a(17);l=c.__importDefault(a(28));m=c.__importDefault(a(760));d=c.__importDefault(a(6));h=a(168);g=a(218);c.__importDefault(a(220));k=c.__importDefault(a(761));a(362);n=a(5);q=a(764);p=a(866);v=new d.default.Console("ASEJS","media|asejs");t=v.trace.bind(v);u=v.warn.bind(v);r=(function(w){var j10;j10=2;for(;j10 !== 26;){switch(j10){case 4:Object.defineProperties(x.prototype,{Wu:{get:function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.Zga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{MA:{get:function(){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 2:return this.D2;break;case 4:return this.D2;break;o10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Rpa:{get:function(){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 2:return !f.ia(this.SOa);break;case 4:return -f.ia(this.SOa);break;q10=1;break;}}},enumerable:!1,configurable:!0}});j10=8;break;case 8:Object.defineProperties(x.prototype,{aE:{get:function(){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 2:return this.POa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ff:{get:function(){var s10;s10=2;for(;s10 !== 1;){switch(s10){case 2:return this.Iv;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kh:{get:function(){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:return this.F1.Kh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Poa:{get:function(){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.hob;break;}}},enumerable:!1,configurable:!0}});x.prototype.xb=function(y,z,A,B,D,E){var v10,F,C;v10=2;for(;v10 !== 11;){switch(v10){case 5:0 < C.qu && (!f.ia(y) && y > C.qu && (y=C.qu),z > C.qu && (z=C.qu));f.ia(y) && (this.SOa=z);v10=3;break;case 12:this.gga=!0;v10=11;break;case 13:var H5J="med";H5J+="ia";H5J+="cache";var L5J="ca";L5J+="ch";L5J+="eEvict";var n5J="f";n5J+="lus";n5J+="he";n5J+="dBy";n5J+="tes";var a5J="disc";a5J+="a";a5J+="rdedBytes";var s5J="prebuffs";s5J+="tat";s5J+="s";(z=new p.jDa(this,C,A,E),y=function(G){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:F.emit(G.type,G);w10=1;break;}}},z.addListener(s5J,y),z.addListener(a5J,y),z.addListener(n5J,y),z.addListener(L5J,y),(C.Vxa || C.Uxa) && z.addListener(H5J,function(G){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:var A5J="me";A5J+="d";A5J+="i";A5J+="aca";A5J+="che";F.emit(A5J,G);x10=1;break;}}}),this.Iv=z);v10=12;break;case 3:this.D2=B;this.POa=D;m.default(C);this.F1=g.BJ.vYa(C,this.jE);this.Zga=new k.default(C);v10=14;break;case 2:(F=this,C=this.config);g.BJ.reset();v10=5;break;case 14:v10=C.abb || C.Sxa?13:12;break;}}};x.prototype.OY=function(y,z,A){var y10;y10=2;for(;y10 !== 4;){switch(y10){case 2:this.SOa=y;this.D2=z || 0;this.POa=A || 0;y10=4;break;}}};x.prototype.createSession=function(y,z,A,B,D,E,F,C,G,J){var z10;z10=2;for(;z10 !== 4;){switch(z10){case 2:z10=this.gga?1:5;break;case 1:return (C=C || this.config,this.Ob.reset(),this.Fn.GYb(),this.Zga.reset(),void 0 === E && (E=this.D5(y,z)),f.ia(this.D2) && (this.D2=d.default.Go()[l.default.Ta.Lb] <= C.oOb?0:C.TO),y=new q.nKa(this,y,J,z,A,B,D,E,F,C,G),this.OF.push(y),y);break;case 5:var d5J="open:";d5J+=" streamingManager not initte";d5J+="d";u(d5J);z10=4;break;case 7:u("");z10=1;break;z10=4;break;}}};j10=10;break;case 10:x.prototype.zW=function(y,z){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.Iv && (y=this.Iv.zW(y,z))?y:!1;break;}}};x.prototype.Dob=function(y){var B10,z;B10=2;for(;B10 !== 4;){switch(B10){case 2:var K5J="can't find s";K5J+="ession in array, m";K5J+="ovieId:";this.Ob.hP(null);z=this.OF.indexOf(y);f.ia(z)?u(K5J,y.Fe.P.J):(this.OF.splice(z,1),0 === this.OF.length && this.Fn.NYb(),this.Fn.save(),this.Kh.save());B10=4;break;}}};x.prototype.D5=function(y,z,A){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:return h.hYa(y,z,A);break;case 4:return h.hYa(y,z,A);break;C10=1;break;}}};x.prototype.I3=function(){var D10,y;D10=2;for(;D10 !== 5;){switch(D10){case 2:null === (y=this.Iv) || void 0 === y?void 0:y.flush();D10=5;break;}}};x.prototype.Zia=function(){var E10,y;E10=2;for(;E10 !== 5;){switch(E10){case 2:null === (y=this.Iv) || void 0 === y?void 0:y.lWa();E10=5;break;}}};j10=16;break;case 2:c.__extends(x,w);Object.defineProperties(x.prototype,{Ob:{get:function(){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 2:return this.F1.Ob;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Fn:{get:function(){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 2:return this.F1.Fn;break;}}},enumerable:!1,configurable:!0}});j10=4;break;case 16:x.prototype.Jy=function(){var F10,y;F10=2;for(;F10 !== 5;){switch(F10){case 2:null === (y=this.Iv) || void 0 === y?void 0:y.Gzb();F10=5;break;}}};x.prototype.Mb=function(){var G10;G10=2;for(;G10 !== 6;){switch(G10){case 5:delete this.F1;delete this.Zga;delete this.jE;this.Jy();G10=8;break;case 2:var u5J="Att";u5J+="empted to destruct Manager";u5J+=" before all Ses";u5J+="sions ";u5J+="removed";n.assert(0 === this.OF.length,u5J);this.gga=!1;G10=5;break;case 8:delete this.Iv;g.BJ.reset();G10=6;break;}}};return x;break;}}function x(y,z){var k10,A;k10=2;for(;k10 !== 13;){switch(k10){case 2:A=w.call(this) || this;A.config=y;A.jE=z;k10=4;break;case 7:var P5J="1SIYbZrNJ";P5J+="Cp";P5J+="9";A.OF=[];P5J;return A;break;case 4:var U5J="D";U5J+="EB";U5J+="U";U5J+="G:";var W5J="nf-ase";W5J+=" ";W5J+="ver";W5J+="sion:";y=a(400);t(W5J,y,U5J,!1);A.gga=!1;A.hob=!1;k10=7;break;}}}})(r.EventEmitter);b.BEa=r;},function(r,b,a){var f,l,m,d;function c(h){var g;g=nrdp.gk.Kbc.match(/android-(\d*)/);g?23 < g[1]?h.Rwa=!1:(g=nrdp.gk.U6b.Bt.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),h.Rwa=g?6 < g[1] || 6 == g[1] && 1 < g[2] || 6 == g[1] && 1 == g[2] && 1 <= g[3]?!0:!1:!1):h.Rwa=!1;h.uZb=!1;}f=a(5).assert;a(123);l=a(6).default;m=l.Zq;d=l.vhb;r.exports=function(){var h,g,k,n;h=new l.Console("ASEJSMONKEY","media|asejs");if(!l.Zq.jc){g=function(q){this.Vmb=q;};k=d.prototype.appendBuffer;l.MediaSource.jc || (l.MediaSource.jc={});"undefined" !== typeof nrdp && nrdp.g3 && (c(l.MediaSource.jc,h),l.MediaSource.jc.kSa=!1,l.MediaSource.jc.l3a=!1);l.Zq.jc={vY:{$bb:!0,QR:!0,Hhb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.mpb || this.vlb;},set:function(q){this.vlb=q;}});n=m.prototype.open;m.prototype.open=function(q,p,v,t,u,w,x){1 === v && (this.mpb=new g(this));return n.call(this,q,p,v,t,u,w,x);};m.prototype.hY=function(){this.gL=void 0;};d.prototype.appendBuffer=function(q){if(q instanceof ArrayBuffer)return k.call(this,q);if(q instanceof g)return this.h3(q.Vmb);f(!1);};}};},function(r,b,a){var l,m;function c(){this.iy=this.tS=this.W1=this.j2=this.S1=null;}function f(d){this.I=d;this.$B=[];this.kr=new c();this.KS();}l=a(10);a(28);a(9);m=a(6).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Ue=function(d){var h;h=!1;d && l.has(d,"ens") && l.has(d,"lns") && l.has(d,"fns") && l.has(d,"d") && l.has(d,"t") && (this.S1=d.ens,this.j2=d.lns,this.W1=d.fns,this.tS=d.d,this.iy=d.t,h=!0);return h;};c.prototype.getState=function(){var d;if(l.Bb(this.S1) || l.Bb(this.j2) || l.Bb(this.W1) || l.Bb(this.tS) || l.Bb(this.iy))return null;d={d:this.tS,t:this.iy};d.ens=this.S1;d.lns=this.j2;d.fns=this.W1;return d;};c.prototype.get=function(){var d,h;d=this.getState();if(d){h=new Date(this.iy);d.dateint=1E4 * h.getFullYear() + 100 * (h.getMonth() + 1) + h.getDate();d.hour=h.getHours();}return d;};f.prototype.KS=function(){var d;d=m.storage.get("sth");d && this.Ue(d);};f.prototype.Ue=function(d){var h,g;h=null;g=this.I;d.forEach(function(k){var n;n=new c();n.Ue(k)?(h=!0,this.$B.push(n)):l.Bb(h) && (h=!1);},this);this.$B=this.$B.filter(function(k){return k.tS >= g.B8;});this.$B.sort(function(k,n){return k.iy - n.iy;});return l.Bb(h)?!0:h;};f.prototype.Zfa=function(){var d;d=[];this.$B.forEach(function(h){d.push(h.getState());},this);return d;};f.prototype.save=function(){var d,h,g;d=this.Zfa();h=this.I;g=this.kr.getState();g && g.d >= h.B8 && (d.push(g),this.$B.push(this.kr));d.length > h.c8 && (d=d.slice(d.length - h.c8,d.length));this.kr=new c();d && m.storage.set("sth",d);};f.prototype.reset=function(){this.kr=new c();};f.prototype.HEb=function(){return this.kr.get();};f.prototype.RGb=function(){return this.$B.length + 1;};f.prototype.cqb=function(d){this.kr.S1=d;this.kr.iy=m.time.ea();};f.prototype.mqb=function(d){this.kr.j2=d;this.kr.iy=m.time.ea();};f.prototype.gqb=function(d,h){this.kr.W1=d;this.kr.iy=m.time.ea();this.kr.tS=h;};r.exports=f;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hFa=void 0;r=(function(){function a(c,f,l){this.qpb=f;this.Rkb=l;this.H=c;}a.prototype.Cta=function(c){c=this.FJb(c,this.qpb) + this.Rkb;return this.Pga=isNaN(c)?NaN:this.gwa(c);};a.prototype.Aub=function(c){return isNaN(this.Pga)?0:this.Pga > c?1:0;};a.prototype.FJb=function(c,f){var l;l=0;if(c.length !== f.length)l=NaN;else for(var m=0;m < c.length;m++){l+=c[m] * f[m];}return l;};a.prototype.gwa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.hFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GR=void 0;r=(function(){function a(c){this.Xj={};this.wga=c;this.fg=[];this.ur=!1;this.PF=void 0;}a.prototype.Y2=function(c){this.fg.length === this.wga && this.fg.shift();Array.isArray(c)?this.fg=this.fg.concat(c):this.fg.push(c);this.ur=!0;};a.prototype.cN=function(){return this.fg.length;};a.prototype.aja=function(){var c;c=this.fg;return 0 < c.length?c.reduce(function(f,l){return f + l;},0) / this.fg.length:void 0;};a.prototype.M3=function(){var c,f;c=this.fg;f=this.aja();if(0 < c.length && "undefined" !== typeof f)return (c=c.reduce(function(l,m){return l + m * m;},0) / c.length,Math.sqrt(c - f * f));};a.prototype.zt=function(c){var f,l,m;if(this.ur || void 0 === this.PF)(this.PF=this.fg.slice(0).sort(function(d,h){return d - h;}),this.ur=!1);if(void 0 === this.Xj[c]){f=this.PF;l=Math.floor(c / 100 * (f.length - 1) + 1) - 1;m=(c / 100 * (f.length - 1) + 1) % 1;this.Xj[c]=l === f.length - 1?f[l]:f[l] + m * (f[l + 1] - f[l]);}return this.Xj[c];};return a;})();b.GR=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H;Object.defineProperties(b,{__esModule:{value:!0}});b.nKa=void 0;r=a(2);c=a(17);f=r.__importStar(a(10));l=a(142);m=a(765);d=a(168);h=a(16);g=a(213);k=a(235);n=a(236);q=a(811);p=a(812);v=r.__importDefault(a(6));t=v.default.MediaSource;u=a(9);w=a(5);x=a(169);y=a(380);z=a(814);A=a(815);B=a(381);r=a(42);D=a(816);E=a(817);F=a(382);C=a(849);G=a(392);J=a(856);K=a(396);I=a(862);M=a(863);R=a(864);H=a(865);a=(function(){var H10;H10=2;for(;H10 !== 91;){switch(H10){case 2:Object.defineProperties(Q.prototype,{addEventListener:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{removeEventListener:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{QNb:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 4:return this.dg.jc;break;P10=1;break;case 2:return this.dg.jc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{mediaSourceId:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 4:return this.dg?this.dg.TY:~9;break;Q10=1;break;case 2:return this.dg?this.dg.TY:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{yr:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.dc(0);break;case 4:return this.dc(7);break;R10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Mm:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.dc(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{attributes:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 4:return this.hfa;break;T10=1;break;case 2:return this.hfa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Wg:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.Di;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{OX:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return 0 <= this.h2?this.h2:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Fe:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.Hd[this.ZK];break;case 4:return this.Hd[this.ZK];break;W10=1;break;}}},enumerable:!1,configurable:!0}});H10=13;break;case 87:Q.prototype.$ga=function(N,L){var i40,P,S,U;i40=2;for(;i40 !== 9;){switch(i40){case 1:i40=P.eb(N)?5:9;break;case 2:P=this.La.Tc;i40=1;break;case 6:i40=P.eb(N)?6:2;break;i40=P.eb(N)?5:9;break;case 5:var N5J="pts";N5J+="cha";N5J+="nged";(S=this.zb.Jf[N],U=this.zb.PA[N]);f.ia(S.uo) && (S.uo=L,1 === N && this.yr && (N=this.zb.Jf[0],f.ia(N.uo) && (P=P.eb(0),P.FI(L)),this.emit(N5J,L)));f.ia(U.UT) && (U.UT=L);i40=9;break;}}};Q.prototype.mZa=function(N){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 2:this.zh && (this.zh.bNb(N),this.NRa());j40=1;break;}}};Q.prototype.v6=function(N){var k40;k40=2;for(;k40 !== 1;){switch(k40){case 2:this.zh && (this.zh.aNb(N),this.NRa());k40=1;break;}}};Q.prototype.NRa=function(){var l40,N;l40=2;for(;l40 !== 4;){switch(l40){case 2:l40=this.zh?1:4;break;case 9:l40=this.zh?9:1;break;l40=this.zh?1:4;break;case 1:var Y5J="all";Y5J+="C";Y5J+="omp";Y5J+="le";Y5J+="ted";N=this.I;this.zh.WC() || (this.zh=void 0,N.wr || this.Xx.hC || this.kT(Y5J));l40=4;break;}}};Q.prototype.lT=function(){var m40,N,L,P,S,U,da,ka,ma;m40=2;for(;m40 !== 7;){switch(m40){case 2:(N=this,L=this.I,P=this.OX,S=this.Hd[P],U=this.La.Tc,da=this.V.Pe() || 0,ka=this.Ct(P,da),ma=L.Caa);this.ec.Ff && void 0 !== S.QH && S.QH - da <= L.T2a && this.ec.Ff.Kp(!0,this.Vl.sessionId);this.V.getState() === h.ma.Hc && ([1,0].forEach(function(X){var n40,ua,T,ja,pa,sa,ya,O;n40=2;for(;n40 !== 35;){switch(n40){case 23:N.vob(ya,da);N.La.GTb();n40=35;break;case 10:n40=(N.La.sPb(O,O.Lu),pa > N.h2)?20:16;break;case 25:O=O.bitrate;n40=24;break;case 15:T.yLb=O.Lu;ja=O.Oa;ja != T.iqa && (T.iqa=ja,X=N.Hd[pa].P.tw(X,ja),pa=N.Ct(pa,O.xd),N.Cb.Hnb(X,O.xd,pa,X.P.Nb));n40=25;break;case 12:ya=O.Pa;n40=11;break;case 1:ua=U.eb(X);n40=5;break;case 6:ya=O.je - da;ya < ma && (ma=ya);(T=N.zb.Gw[X],ja=O.P,pa=ja.Nb);n40=12;break;case 2:n40=N.dc(X)?1:35;break;case 17:ka=N.Ct(pa,da);n40=15;break;case 11:n40=!N.Mm || 1 === X?10:15;break;case 16:N.YK && O.Lu != T.yLb && N.Cb.Mnb(O.Lu);n40=15;break;case 7:n40=O?6:21;break;case 24:f.ia(O) || O == ua.u5a || (ua.u5a=O);n40=23;break;case 21:var X5J="Unable to find r";X5J+="equest presenting at";X5J+=" pl";X5J+="ayer";X5J+="Pts:";ua.Qb(X5J,da);n40=23;break;case 20:N.h2=pa;sa=0 < pa?pa - 1:null;N.Cb.xnb(ja,da,O.Lu,null !== sa?N.Hd[sa].P.J:null,sa);n40=17;break;case 4:ya=ua.Pa;ua.RL(da);(O=N.La.Qt(da,U,X)) && !O.df && (O=N.Og[X].qLb);n40=7;break;case 5:n40=ua?4:35;break;}}}),this.La.Is(da,ka));this.kg.Yj();m40=3;break;case 3:ma=Math.max(ma,1);this.dC && clearTimeout(this.dC);this.dC=setTimeout(this.lT.bind(this),ma);m40=7;break;}}};Q.prototype.G1=function(N){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 4:return this.kg.G1(N);break;o40=1;break;case 2:return this.kg.G1(N);break;}}};Q.prototype.Yj=function(){var p40;p40=2;for(;p40 !== 1;){switch(p40){case 2:return this.kg.Yj();break;case 4:return this.kg.Yj();break;p40=1;break;}}};Q.prototype.XF=function(N,L){var q40,P,S;q40=2;for(;q40 !== 13;){switch(q40){case 2:P=N.Pa;q40=1;break;case 1:q40=P?5:14;break;case 8:P.e$(N);this.Og[S].e$(N);!0 === L && this.kg.Yj();q40=13;break;case 14:var D5J="abortRequest with no requestMana";D5J+="g";D5J+="aer:";this.Qb(D5J,N);q40=13;break;case 5:S=N.mediaType;N.abort();N.cd();N.Di && N.Di.clear();q40=8;break;}}};Q.prototype.ipb=function(N){var r40,L,P;r40=2;for(;r40 !== 5;){switch(r40){case 2:var z5J="no newA";z5J+="udioTrack s";z5J+="et";(L=N.mediaType,P=this.zb.Jf[L]);f.ia(P.P8)?N.Qb(z5J):(this.Og[L].pause(),P.UP=!0,N=this.Fe.iq(0),P=this.Fe.P.getTrackById(P.P8.trackId),this.Cb.mnb(N,P));r40=5;break;}}};Q.prototype.pob=function(N){var s40,U,L,P,S,da,ka,ma,X;s40=2;for(;s40 !== 27;){switch(s40){case 17:++P;s40=19;break;case 5:U=this.zb.Jf[0];this.zb.Cy=U.P8;s40=3;break;case 16:N.L6a(ka,X);this.MI(0);s40=27;break;case 19:s40=P < this.Hd.length?18:16;break;case 9:s40=(null === (P=this.zh) || void 0 === P?0:P.WC())?8:7;break;case 2:(L=this,S=this.I);N=N.gb;s40=5;break;case 7:P=this.ec.D5(da.P.oa,[ma],0);this.hfa[0]=P[0];this.GU.xOa(0,N.P);U.P8=void 0;s40=12;break;case 20:P=this.ZK;s40=19;break;case 8:var c5J="aud";c5J+="ioSwit";c5J+="ch";(this.zh.$Ub(function(ua){var t40;t40=2;for(;t40 !== 5;){switch(t40){case 9:return (L.XF(ua,-3),~1);break;t40=5;break;case 1:return (L.XF(ua,!1),!0);break;case 3:t40=4 != ua.mediaType?0:4;break;t40=0 === ua.mediaType?1:5;break;case 2:t40=0 === ua.mediaType?1:5;break;}}}),this.zh.WC() || (this.zh=void 0,S.wr || this.Xx.hC || this.kT(c5J)));s40=7;break;case 18:this.rTb(P,ma,X);s40=17;break;case 3:(da=this.Fe,ka=da.P.getTrackById(this.zb.Cy.trackId),ma=ka.lE,X=this.V.Pe() - N.Ee);s40=9;break;case 12:this.xg.fP(null);this.Wga(0,F.OR.uWa,N);this.La.w8a(N,!0);s40=20;break;}}};H10=104;break;case 39:Q.prototype.stop=function(){var O20;O20=2;for(;O20 !== 1;){switch(O20){case 4:this.Ni.stop();O20=2;break;O20=1;break;case 2:this.Ni.stop();O20=1;break;}}};Q.prototype.ss=function(N,L){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 4:return this.Pn.ss(N,L);break;P20=1;break;case 2:return this.Pn.ss(N,L);break;}}};Q.prototype.seek=function(N,L){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:return this.Pn.seek(N,L);break;case 4:return this.Pn.seek(N,L);break;Q20=1;break;}}};Q.prototype.Wn=function(N){var R20,da,L,P,S,U,U20;R20=2;for(;R20 !== 18;){switch(R20){case 7:var Q5J="under";Q5J+="f";Q5J+="low";this.Fe.P.sk();this.emit(Q5J);this.F2(2);this.kg.Yj();R20=12;break;case 3:this.Rga+=1;da=this.La.Tc;g.yf.forEach(function(ka){var T20,ua,ya,ma,X;T20=2;for(;T20 !== 6;){switch(T20){case 1:T20=X?5:6;break;case 4:(ua=L.Og[ka],ya=L.La.jG(da,ka));T20=3;break;case 2:X=da.Qd(ka);T20=1;break;case 5:T20=P.ei?4:9;break;case 9:P.ei && L.Cb.ym(ua);X.Cja();null === (ma=X.Zg) || void 0 === ma?void 0:ma.kVb();T20=6;break;case 3:var h6J=", to";h6J+="Append:";h6J+=" ";var y6J=", ";y6J+="fr";y6J+="a";y6J+="gments: ";var R6J=", completeStreaming";R6J+="Pts";R6J+=":";R6J+=" ";var m5J=", str";m5J+="eamin";m5J+="gPts: ";var G5J=", pa";G5J+="rtia";G5J+="ls:";G5J+=" ";var r5J=", com";r5J+="pletedByt";r5J+="es: ";var C5J=", c";C5J+="o";C5J+="mpl";C5J+="e";C5J+="tedMs: ";var E5J=", media";E5J+="Type:";E5J+=" ";var x5J="unde";x5J+="rfl";x5J+="o";x5J+="w: ";ua=x5J + N + E5J + ka + C5J + X.UL + r5J + ya + G5J + X.Pa.GD + m5J + X.Fc + R6J + X.Sp + y6J + JSON.stringify(X.Pa.U) + h6J + (ua && ua.D$());T20=9;break;}}});R20=7;break;case 2:var J6J="branchOf";J6J+="f";J6J+="set:";var T6J="entry.manifestO";T6J+="ffse";T6J+="t:";var e6J="conten";e6J+="tP";e6J+="t";e6J+="s:";var O6J="und";O6J+="erflow: going";O6J+=" to BUFFERING at pla";O6J+="yer pts:";(L=this,P=this.I,S=this.Ct(this.OX,N));this.Qb(O6J,N,e6J,S,T6J,this.Fe.zw,J6J,this.La.Ee);U=P.eA;this.Og.forEach(function(ka){var S20;S20=2;for(;S20 !== 1;){switch(S20){case 2:U=Math.max(0,Math.min(U,ka.pna - N));S20=1;break;}}});R20=3;break;case 11:try{U20=2;for(;U20 !== 1;){switch(U20){case 4:this.a5(h.ma.ud);U20=3;break;U20=1;break;case 2:this.a5(h.ma.ud);U20=1;break;}}}catch(ka){var t6J="Hinds";t6J+="ight: Erro";t6J+="r when evaluating QoE at Buf";t6J+="fering: ";a000.x2J(1);this.Cb.Hn(a000.c2J(ka,t6J));}R20=10;break;case 12:R20=this.Jr?11:10;break;case 10:S=this.ec.Ob.get();S=S.confidence?S.Ra.Ga:0;U > P.oCb && S > P.nCb && this.cha();R20=18;break;}}};Q.prototype.Sn=function(N){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 2:return this.Pn.Sn(N);break;}}};Q.prototype.Cr=function(N,L,P){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:return this.Pn.Cr(N,L,P);break;}}};Q.prototype.LNa=function(N){var X20,L;X20=2;for(;X20 !== 3;){switch(X20){case 2:this.ZK=N;L=this.Hd[N];this.Cb.znb(N,L);this.Cb.cOa(L.P.Dw);X20=3;break;}}};Q.prototype.wL=function(N,L){var Y20,ka,ma,U,da,P,S,X,ua;Y20=2;for(;Y20 !== 35;){switch(Y20){case 8:var B6J="addManife";B6J+="st ignored,";B6J+=" pipelines already set EOS:";this.Qb(B6J,U.Wq,da.Wq);Y20=35;break;case 7:var q6J="addM";q6J+="anifest in fastplay but not drm manifes";q6J+="t, lea";q6J+="ving space for it";L.wO && (this.r2=!0);U=this.Hd.length;L.replace && 1 !== U?U=1:this.Fe.P.rf.Ug && !L.replace && 1 === U && (this.Qb(q6J),U=this.Hd[0].clone(),this.Hd.push(U),U=this.Hd.length);da=L.Y || 0;Y20=12;break;case 12:ka=L.Ha;N=m.gda.create({Nb:U,oa:N,Vo:void 0,d8a:L.IP || [this.Fe.O5(0),this.Fe.O5(1)],Ug:!1,a0a:! !L.replace,di:! !L.di,Ad:g.p8(! !L.ET,! !L.pE),Y:da,Ha:ka,Cb:this.Cb,Pr:this.nNa.bind(this),Yb:this,config:this.I,H:this.H,kg:this.kg,Pn:this.Pn,Ff:this.gPa?this.ec.Ff:void 0,XC:this.XC});ma=N.P;(L.ysb || this.vMa) && this.zb.Kq(L.ysb || this.vMa,ma.Z);Y20=19;break;case 1:Y20=this.bn()?5:4;break;case 22:var w6J=",";w6J+=" ";var l6J=") lastSt";l6J+="re";l6J+="amApp";l6J+="ende";l6J+="d: (";var V6J=",";V6J+=" ";var p6J=" s";p6J+="treamCoun";p6J+="t: ";p6J+="(";var I6J=" playe";I6J+="rSt";I6J+="ate: ";var F6J="addManife";F6J+="st, curren";F6J+="tPts";F6J+=": ";S.ei && this.Cb.ym(F6J + this.V.Pe() + I6J + this.V.getState() + p6J + N.iq(0).Yd.length + V6J + N.iq(1).Yd.length + l6J + L + w6J + U + ")");this.yr && f.ia(L) || this.Mm && f.ia(U) || (N.P.QO([N.iq(0),N.iq(1)]),this.S2());Y20=35;break;case 5:var b6J="addManifest:";b6J+=" p";b6J+="ipelines already";b6J+=" shutdown";this.Qb(b6J);Y20=35;break;case 9:Y20=!L.o$b && (this.yr && U.Wq || this.Mm && da.Wq)?8:7;break;case 4:L || (L={});(U=this.La.Tc.Qd(0),da=this.La.Tc.Qd(1));Y20=9;break;case 2:(P=this,S=this.I);Y20=1;break;case 19:var f6J="b";f6J+="oo";f6J+="l";f6J+="ea";f6J+="n";var j6J="v";j6J+="ide";j6J+="o";j6J+="_tra";j6J+="cks";var k6J="audi";k6J+="o_tr";k6J+="a";k6J+="cks";(X=[k6J,j6J],ua=this.eYa());L.replace && X.forEach(function(ya,O){var Z20,T,ja;Z20=2;for(;Z20 !== 3;){switch(Z20){case 8:T=ma.QC(O);Z20=7;break;Z20=1;break;case 2:T=ma.QC(O);Z20=1;break;case 7:Z20=T?6:5;break;Z20=T?5:3;break;case 1:Z20=T?5:3;break;case 5:ja=P.Hd[0].P;Object.keys(T).forEach(function(pa){var a30,sa;a30=2;for(;a30 !== 5;){switch(a30){case 2:sa=ja.tw(O,pa);sa && sa.he && (T[pa].f4(sa),pa=ma.Dw,pa[O] > ua[O] && (ua[O]=pa[O]));a30=5;break;}}});Z20=3;break;}}});X.forEach(function(ya,O){var b30,T;b30=2;for(;b30 !== 5;){switch(b30){case 2:T=ma.QC(O);T && Object.keys(T).forEach(function(ja){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:T[ja].zab(v.default.Go()[O],ma.Mz()?S.j2a:0);c30=1;break;}}});b30=5;break;}}});N.xT=f6J === typeof L.Yrb?L.Yrb:!0;this.Hd[U] && this.Hd[U].cd();this.Hd[U]=N;N.zRa();Y20=25;break;case 25:L.replace || this.La.vqb(ma,da,ka);L=this.zb.Gw[0].wH;U=this.zb.Gw[1].wH;Y20=22;break;}}};Q.prototype.rT=function(N){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:return this.Pn.rT(N);break;}}};Q.prototype.ez=function(N){var e30,U,da,L,P,S;e30=2;for(;e30 !== 7;){switch(e30){case 5:f.ia(L) && (L=!0);(U=this.La.Tc.Qd(0),da=this.La.Tc.Qd(1));e30=3;break;case 2:S=this.I;e30=1;break;case 1:e30=!this.bn()?5:7;break;case 3:var o6J=" re";o6J+="a";o6J+="dyStat";o6J+="e";o6J+=": ";var v6J=" for m";v6J+="ovieI";v6J+="d: ";var M6J=",";M6J+=" ";var Z6J="drmR";Z6J+="eady at";Z6J+=" stre";Z6J+="aming pts: ";S.ei && this.Cb.ym(Z6J + (U?U.Fc:null) + M6J + (da?da.Fc:null) + v6J + N + o6J + L);a000.x2J(1);this.V.KY(a000.z2J("",N),L);e30=8;break;case 8:var g6J="d";g6J+="rm";g6J+="R";g6J+="ea";g6J+="dy";L && (this.Og.forEach(function(ka){var f30;f30=2;for(;f30 !== 5;){switch(f30){case 2:S.s5 && ka.oWa();ka.ez();f30=5;break;}}}),S.Saa && this.dT(),this.Fe.P.rf.Ug && this.R2(this.Pn.TB?this.Pn.TB.Nb:this.ZK + 1),S.wr || (null === (P=this.zh) || void 0 === P?0:P.WC()) || this.Xx.hC || this.kT(g6J),this.Pn.Qfa());e30=7;break;}}};H10=48;break;case 48:Q.prototype.A6=function(){var g30;g30=2;for(;g30 !== 1;){switch(g30){case 2:return this.V.Mo(this.Fe.P);break;case 4:return this.V.Mo(this.Fe.P);break;g30=1;break;}}};Q.prototype.DMa=function(N){var h30,S,L,P;h30=2;for(;h30 !== 11;){switch(h30){case 2:h30=N >= this.Hd.length?1:5;break;case 3:S=!P || P.Th;P=this.Hd[N].P;h30=8;break;case 1:return !1;break;case 8:h30=!(N === this.ZK + 1 && P.rf.replace || L && S) || !this.V.Mo(P)?7:6;break;case 7:return !1;break;case 6:N=P.qh[0];L=P.qh[1];L=!this.Mm || L && L.stream.he;h30=12;break;case 5:(L=this.La.Tc.Qd(0),P=this.La.Tc.Qd(1));L=!L || L.Th;h30=3;break;case 12:return (!this.yr || N && N.stream.he) && L?!0:!1;break;}}};Q.prototype.S2=function(){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:this.R2(this.ZK + 1);i30=1;break;}}};Q.prototype.R2=function(N){var j30,L;j30=2;for(;j30 !== 6;){switch(j30){case 2:j30=!this.DMa(N)?1:5;break;case 5:L=this.Hd[N];j30=4;break;case 1:return !1;break;case 3:return !1;break;case 4:j30=L.lCb || !L.P.rf.replace?3:9;break;case 9:this.ppb(N);this.kg.Yj();return !0;break;}}};Q.prototype.ppb=function(N){var k30,L,P,S,U,da,ka;k30=2;for(;k30 !== 20;){switch(k30){case 13:this.LNa(N);L.dsa();this.Pn.Qfa();this.kg.Yj();k30=20;break;case 2:var s6J=",";s6J+=" ";var i6J=", s";i6J+="treamingPts:";i6J+=" ";var S6J="switch";S6J+="Manifest";S6J+=" manifestIndex: ";(L=this.Hd[N],P=this.I,S=this.La.Tc,U=S.eb(0));U=U?U.Fc:void 0;da=S.eb(1);da=da?da.Fc:void 0;P.ei && this.Cb.ym(S6J + N + i6J + U + s6J + da);P=this.Fe;k30=8;break;case 8:U=P.P.rf.Ug;ka=[];[1,0].forEach(function(ma){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:L.P.dc(ma) && (ka[ma]=L.iq(ma));l30=1;break;}}});U?this.La.dVb(P.P,L.P,ka):S.R8a(L.P,ka);k30=13;break;}}};Q.prototype.a4a=function(){var m30,P,S,N,L;m30=2;for(;m30 !== 6;){switch(m30){case 1:m30=L?5:7;break;case 5:var a6J="onAudioT";a6J+="rackSwitchStarted bu";a6J+="t current playing request not";a6J+=" found";(P=this.V.Pe(),S=this.zb.Jf[L.mediaType]);(N=this.La.Qt(P,N,0))?L=N.Pa:(this.Qb(a6J),L=L.Pa);m30=3;break;case 3:this.pob(L);S.UP=!1;this.kg.Yj();m30=6;break;case 7:var n6J="onAudioTrackSw";n6J+="i";n6J+="tchStart";n6J+="ed ignor";n6J+="ed, no audio pipeline";this.Qb(n6J);m30=6;break;case 2:(N=this.La.Tc,L=N.eb(0));m30=1;break;}}};Q.prototype.baa=function(N){var n30,da,P,S,U,L;n30=2;for(;n30 !== 35;){switch(n30){case 15:da=this.Fe.iq(0).trackId;n30=27;break;case 5:var L6J="switchTr";L6J+="a";L6J+="cks rejected, ";L6J+="audio dis";L6J+="abled";return (this.Qb(L6J),!1);break;case 16:var H6J="switchTracks";H6J+=" can't";H6J+=" find ";H6J+="trackId:";return (this.Qb(H6J,N),!1);break;case 27:n30=da === U.trackId?26:25;break;case 12:n30=this.V.getState() === h.ma.Hc?11:19;break;case 7:P=this.zb.Jf[0];n30=6;break;case 13:S=this.La.Tc;n30=12;break;case 11:U=this.La.aw(S,1);n30=10;break;case 14:var A6J="switchTracks re";A6J+="jected, previous switch ";A6J+="still waiting to start";return (this.Qb(A6J),!1);break;case 6:n30=P.UP?14:13;break;case 25:var K6J=" ";K6J+="t";K6J+="o";K6J+=":";K6J+=" ";var d6J="swit";d6J+="chTracks";d6J+=" cur";d6J+="re";d6J+="nt: ";L.ei && this.Cb.ym(d6J + da + K6J + U.trackId);P.P8={trackId:N};L=S.eb(0);this.ipb(L);return !0;break;case 1:n30=!this.yr?5:4;break;case 20:var u6J="switchTracks rejecte";u6J+="d, bufferLe";u6J+="velMs";return (this.Qb(u6J,U,"<",L.v8),!1);break;case 26:return !1;break;case 8:var P6J="sw";P6J+="itchT";P6J+="rack";P6J+="s rejected, bufferin";P6J+="g";return (this.Qb(P6J),!1);break;case 3:var W6J="switchTracks rejected, previous switch";W6J+=" st";W6J+="i";W6J+="ll in prog";W6J+="ress: ";return (this.Qb(W6J + JSON.stringify(this.zb.Cy)),!1);break;case 9:n30=this.V.og()?8:7;break;case 2:L=this.I;n30=1;break;case 4:n30=this.zb.Cy?3:9;break;case 17:n30=!U?16:15;break;case 10:n30=U < L.v8?20:19;break;case 19:N=N.kn;U=this.Fe.P.getTrackById(N);n30=17;break;}}};Q.prototype.Kq=function(N,L){var o30;o30=2;for(;o30 !== 1;){switch(o30){case 2:this.zb.Kq(N,L);o30=1;break;}}};Q.prototype.Qt=function(N,L,P){var p30;p30=2;for(;p30 !== 1;){switch(p30){case 2:return this.La.Qt(N,this.La.mi,L,P);break;}}};Q.prototype.Ji=function(N){var q30;q30=2;for(;q30 !== 1;){switch(q30){case 2:return this.Pn.Ji(N);break;case 4:return this.Pn.Ji(N);break;q30=1;break;}}};H10=59;break;case 59:Q.prototype.a5=function(N,L){var r30,s30,P,S;r30=2;for(;r30 !== 6;){switch(r30){case 8:L=S.sEb();try{s30=2;for(;s30 !== 1;){switch(s30){case 2:this.Cb.unb(L);s30=1;break;}}}catch(U){var N6J="]";N6J+=" ";N6J+="[";var U6J="excep";U6J+="tio";U6J+="n";U6J+=": [";this.H.error(U6J + U.message + N6J + U.Mbc + "]");}r30=6;break;case 3:r30=L?9:8;break;case 9:P.Wua();r30=6;break;case 2:P=this.zb;N=P.Yla(N,L);S=this.xg.bua;N && !N.zL && S.Mla(N);r30=3;break;}}};Q.prototype.eja=function(N,L){var t30;t30=2;for(;t30 !== 5;){switch(t30){case 2:a000.Q2J(3);w.assert(a000.z2J(0,L));return this.Hd[L].vtb(N);break;}}};Q.prototype.Ct=function(N,L){var u30,P,S;u30=2;for(;u30 !== 7;){switch(u30){case 8:(P=this.La.Zla(N),0 < P.length && (P=P[0],S=P.Ee));u30=3;break;case 2:void 0 === N && (N=this.OX);P=this.La.JCb(L,N);u30=5;break;case 4:S=P.Ee;u30=3;break;case 5:u30=P?4:8;break;case 3:f.Ba(S) || (S=this.Hd[N].zw);a000.Q2J(0);return a000.z2J(S,L);break;}}};Q.prototype.ZL=function(N,L){var v30,S,P;v30=2;for(;v30 !== 7;){switch(v30){case 4:S=P.Ee;v30=3;break;case 5:v30=P?4:8;break;case 3:f.Ba(S) || (S=this.Hd[N].zw);a000.x2J(1);return a000.c2J(S,L);break;case 8:(P=this.La.Zla(N),0 < P.length && (P=P[0],S=P.Ee));v30=3;break;case 2:void 0 === N && (N=this.OX);P=this.La.ICb(L,N);v30=5;break;}}};Q.prototype.iL=function(){var w30,N;w30=2;for(;w30 !== 4;){switch(w30){case 1:w30=N || this.zb.Cy?5:4;break;case 8:w30=N && this.zb.Cy?4:5;break;w30=N || this.zb.Cy?5:4;break;case 2:N=this.V.og();w30=1;break;case 5:(N && this.Cb.Bga(),this.lT(),this.V.Ue(h.ma.Hc),this.kg.Yj());w30=4;break;case 9:N=this.V.og();w30=5;break;w30=1;break;}}};Q.prototype.cha=function(){var x30,N,L;x30=2;for(;x30 !== 3;){switch(x30){case 2:(N=this,L=this.V.og());this.La.Tc.F$(L,function(P){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 2:return N.Og[P]?N.Og[P].D$():"";break;}}});this.zK && (clearTimeout(this.zK),this.zK=void 0);this.Zx.dNb();x30=3;break;}}};Q.prototype.KOa=function(N){var z30,L,A30;z30=2;for(;z30 !== 7;){switch(z30){case 9:z30=this.Jr && 1 === N.mediaType?8:7;break;case 3:this.zb.ay();z30=9;break;case 2:N.Th=!0;N.Wq=!1;L=this.V.Pe() || 0;N.RL(L);z30=3;break;case 8:try{A30=2;for(;A30 !== 1;){switch(A30){case 2:this.a5(h.ma.gr,{Ha:N.Ic});A30=1;break;}}}catch(P){var Y6J="Hin";Y6J+="dsight: Error ";Y6J+="evaluat";Y6J+="ing QoE at endOfStr";Y6J+="eam: ";a000.Q2J(1);this.Cb.Hn(a000.z2J(P,Y6J));}z30=7;break;}}};Q.prototype.Hob=function(){var B30,N;B30=2;for(;B30 !== 5;){switch(B30){case 2:N=this.ec.Ob;N && (N=N.get()) && N.avtp && this.Wu.cqb({avtp:N.avtp.Ga});B30=5;break;}}};Q.prototype.jpb=function(){var C30,N,L,P;C30=2;for(;C30 !== 4;){switch(C30){case 1:var z6J="startup, playerState n";z6J+="o longer START";z6J+="ING:";var D6J="failed ";D6J+="to start audi";D6J+="o pip";D6J+="eline";var X6J="f";X6J+="ailed to start vide";X6J+="o pipeline";(N=this.La.Tc,L=N.Qd(0),P=N.Qd(1));this.Mm && !this.QOa(P)?this.Qb(X6J):this.yr && !this.QOa(L)?this.Qb(D6J):(this.mOa=!0,this.Hd[0].P.E6=!0,L=this.zb.Jf[1],P=this.zb.Jf[0],(L && 0 < L.Du || P && 0 < P.Du) && this.Cb.snb(String(N.P.J),P?P.Du:0,L?L.Du:0,P?P.KX:0,L?L.KX:0),this.V.m0a()?(this.F2(0),this.yr && (N=this.Fe.O5(0),L=this.Fe.iq(0).trackId,this.Cb.vnb(N,L))):this.Qb(z6J,this.V.getState()));C30=4;break;case 2:this.V.Ue(h.ma.yh);C30=1;break;}}};Q.prototype.QOa=function(N){var D30,L,P;D30=2;for(;D30 !== 14;){switch(D30){case 5:var Q6J="NFE";Q6J+="rr_MC_";Q6J+="StreamingInitFailure";var c6J="sta";c6J+="rt";c6J+="Pipeline failed";return (this.bn() || this.Dp(c6J,N.gb.P.Nb,Q6J),!1);break;case 2:(L=N.mediaType,P=this.zb.QGb(N));D30=1;break;case 1:D30=f.ia(P)?5:4;break;case 4:N=N.track.Yd[P];D30=3;break;case 3:D30=N.Vk()?9:8;break;case 9:return !0;break;case 8:P=this.Fe.P;N.P.dTa(N,{offset:0,EC:!P.rf.Ug && !P.di && 1 === L,ow:!this.zb.Jf[L].aDb});return !0;break;}}};H10=72;break;case 72:Q.prototype.F2=function(N,L){var E30,P,S,U,da,ka;E30=2;for(;E30 !== 19;){switch(E30){case 2:(P=this,S=this.I,U=this.zb.Jf[0] || ({}),da=this.zb.Jf[1] || ({}),ka=this.zb.PA[1] || ({}));(this.zb.PA[0] || ({})).UT=void 0;ka.UT=void 0;this.V.Ue(2 === N?h.ma.Nf:h.ma.ud);this.Cb.pnb(L);this.Zx.reset();this.Fe.P.Asa();E30=7;break;case 7:var x6J="sta";x6J+="rtBuffe";x6J+="ring";this.emit(x6J);g.yf.forEach(function(ma){var F30;F30=2;for(;F30 !== 5;){switch(F30){case 2:F30=(ma=P.La.Tc.Qd(ma))?1:5;break;case 1:(ma.Sia=0,ma.seeking=0 === N || 1 === N,ma.Cja());F30=5;break;}}});this.nfa=v.default.time.ea();U.wl=da.wl=this.nfa;E30=12;break;case 12:0 === N && (!this.Mm || 0 < da.Du) && (!this.yr || 0 < U.Du) && this.zb.ay();S.SU && (this.Ifa=setTimeout(function(){var G30;G30=2;for(;G30 !== 1;){switch(G30){case 2:P.Hob();G30=1;break;}}},S.qla));this.V.og() && (this.zK=setTimeout(function(){var H30;H30=2;for(;H30 !== 1;){switch(H30){case 4:P.zb.ay();H30=2;break;H30=1;break;case 2:P.zb.ay();H30=1;break;}}},S.tA));this.kg.Yj();E30=19;break;}}};Q.prototype.kT=function(N){var I30,L;I30=2;for(;I30 !== 3;){switch(I30){case 2:var C6J="AdoptingDa";C6J+="ta";C6J+=" st";C6J+="ill";C6J+=" has lock:";var E6J="wipeHeade";E6J+="rCach";E6J+="e:";a000.x2J(1);N=a000.c2J(N,E6J);this.Xx.hC && this.Jk(C6J + N);L=this.I;L.NH || (L.ei && this.Cb.ym(N),this.ec.Jy(),this.zh && (this.zh=void 0));I30=3;break;}}};Q.prototype.CMa=function(N){var J30,P,S,U,da;J30=2;function L(ka,ma){var K30,X,ua,ya,O,T,ja,pa;K30=2;for(;K30 !== 10;){switch(K30){case 7:return ya;break;case 14:var r6J="a";r6J+="doptPipeline n";r6J+="o header for streamId:";return (ka.Jk(r6J,O),ya);break;case 8:K30=!ka.G1b(O)?7:6;break;case 6:K30=!ua.header?14:13;break;case 2:(X=ka.mediaType,ua=ma[X],ya=Promise.resolve(void 0));K30=1;break;case 1:K30=ua?5:11;break;case 9:pa.pw=ma.pw;K30=8;break;case 5:(O=ua.Oa,T=ua.header.stream,ja=P.zb.Jf[X],pa=P.zb.PA[X]);f.ia(ma.YC) || P.xg.A8a(ma.YC,ma.Jo,ma.Ko);pa.Iz=ma.Iz;K30=9;break;case 12:ma.X2(ua.header,!ma.rf.Ug && !ma.di && 1 === X,!0) && (void 0 !== ka.ZH && ka.FI(ka.ZH),ya=ma.Vk(X,O).stream.U.wn(ka.Fc,void 0,!0),ma=T.Uk(ya),T=ma.Y,(ma=ma.gma(ka.Fc)) && 0 < ma.Dd && (T=ma.Dd),ka.Fc !== T && (ka.iP(T,ya),P.$ga(X,T)),ya=P.Bkb(ka,ua.data).then(function(){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:return O;break;}}}),ja.aDb=!0,0 === X && P.xg.fP(ua.header.bitrate));K30=11;break;case 13:ma=P.Fe.P;K30=12;break;case 11:return ya;break;}}}for(;J30 !== 13;){switch(J30){case 2:var G6J="Previously adopted re";G6J+="quest list still retained";G6J+=" was ";G6J+="unexpected";P=this;(null === (S=this.zh) || void 0 === S?0:S.WC()) && this.Jk(G6J);this.zh=void 0;J30=4;break;case 4:U=this.I;J30=3;break;case 8:var m6J="check";m6J+="ForH";m6J+="cdStart";this.Cb.Yl(m6J);J30=6;break;case 3:J30=!this.Bpb || !this.ec.Ff?9:8;break;case 9:return (this.ec.Zia(),Promise.resolve());break;case 6:this.Hd.forEach(function(ka){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 2:ka.P.J === N && (da=ka);M30=1;break;}}});return this.ec.Ff.GMb(N,da?da.P:void 0).then(function(ka){var N30,ma,X;N30=2;for(;N30 !== 8;){switch(N30){case 2:var R0J="checkForHc";R0J+="dEn";R0J+="d";P.Cb.Yl(R0J);N30=1;break;case 1:N30=f.ia(ka)?5:4;break;case 4:var y0J="adoptH";y0J+="c";y0J+="dStart";(ma=P.La.Tc.Qd(0),X=P.La.Tc.Qd(1));P.Cb.Yl(y0J);return P.Xx.Jbb(function(){var O30,ua,ya;O30=2;for(;O30 !== 7;){switch(O30){case 2:ua=Promise.resolve();P.Mm && (ua=L(X,ka));O30=5;break;case 5:var h0J="adop";h0J+="tHc";h0J+="dEnd";ya=Promise.resolve();!P.yr || U.HZa && !ua || (ya=U.HZa?ua.then(function(O){var P30;P30=2;for(;P30 !== 1;){switch(P30){case 2:return O?L(ma,ka):Promise.resolve();break;}}}):L(ma,ka));P.qNa=ka;P.Cb.Yl(h0J);return Promise.all([ua,ya]);break;}}});break;case 5:var O0J="header";O0J+="CacheDat";O0J+="aNo";O0J+="tFoun";O0J+="d";return (U.wr || P.Xx.hC || P.kT(O0J),Promise.resolve());break;}}}).then(function(){var Q30,ka;Q30=2;for(;Q30 !== 5;){switch(Q30){case 2:var e0J="adoptedCo";e0J+="mp";e0J+="letedRequests";U.wr || (null === (ka=P.zh) || void 0 === ka?0:ka.WC()) || P.Xx.hC || !P.V.Mo(P.Fe.P) || P.kT(e0J);Q30=5;break;}}}).catch(function(ka){var R30;R30=2;for(;R30 !== 1;){switch(R30){case 2:var T0J="headerC";T0J+="ache:lookupDataProm";T0J+="ise caught error";T0J+=":";P.Qb(T0J,ka);R30=1;break;case 4:P.Qb("",ka);R30=2;break;R30=1;break;}}});break;}}};Q.prototype.Bkb=function(N,L){var S30,P,S,U,da,ka,ma,X;S30=2;for(;S30 !== 9;){switch(S30){case 7:P=this;S30=7;break;S30=1;break;case 2:P=this;S30=1;break;case 14:return Promise.resolve();break;S30=4;break;case 1:S30=0 === L.length?5:4;break;case 5:return Promise.resolve();break;case 4:(S=N.O7,U=S.O,da=Math.min(this.Hd[0].Ha || Infinity,S.Ic || Infinity),ka=N.mediaType,ma=this.zb.Jf[ka]);return this.Xx.Jbb(function(){var T30,ya;T30=2;for(;T30 !== 3;){switch(T30){case 2:ya=[];T30=1;break;case 1:T30=0 < L.length?5:4;break;case 4:return Promise.all(ya);break;case 5:ua();T30=1;break;case 8:ya=[];T30=2;break;T30=1;break;case 6:ua();T30=8;break;T30=1;break;}}function ua(){var U30,O;U30=2;for(;U30 !== 5;){switch(U30){case 2:var t0J="ad";t0J+="o";t0J+="ptData, no";t0J+="t ad";t0J+="opting failed mediaRequest:";var J0J="adoptDat";J0J+="a, not adopting aborted ";J0J+="mediaRequ";J0J+="est";J0J+=":";O=L.shift();7 === O.readyState?N.Qb(J0J,O.toString()):6 === O.readyState?(N.Qb(t0J,O.toString()),P.XF(O,!1)):N.Fc >= O.dd && N.Fc < O.Ic && (N.Fc < da || !f.Ba(da))?(ya.push(P.Ckb(N,O).then(function(){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 4:O.complete || P.mZa(O);V30=2;break;V30=1;break;case 2:O.complete && P.mZa(O);V30=1;break;}}})),N.jXb(O.Ic),f.Ba(da) && N.Fc >= da && P.Cb.Cga(U,O.Ic),0 === ka && P.xg.fP(O.bitrate),O.complete?(ma.Du+=O.duration,O.pMb && (ma.KX+=O.duration),X=O):(P.zh || (P.zh=new E.yya(P.H)),P.zh.push(O))):P.XF(O,!1);U30=5;break;}}}}).then(function(){var W30,ua,ya;W30=2;for(;W30 !== 8;){switch(W30){case 2:X && N.nZa(X);W30=5;break;case 5:W30=X || (null === (ua=P.zh) || void 0 === ua?0:ua.WC())?4:8;break;case 4:ua=P.Hd[S.P.Nb];ya=N.ama(N.Fc);void 0 !== ya?(N.Gn=ya,N.fe=ua.P.qh[ka].stream.Uk(N.Gn)):N.Gn=N.Gf?N.Gf.index + 1:N.Gn + 1;W30=8;break;}}});break;}}};Q.prototype.Ckb=function(N,L){var X30,P,S;X30=2;for(;X30 !== 3;){switch(X30){case 2:var F0J=",";F0J+=" pt";F0J+="s:";F0J+=" ";var q0J=", s";q0J+="t";q0J+="ate: ";var B0J="adopt";B0J+="M";B0J+="edi";B0J+="aRequest: type: ";(P=this,S=N.mediaType);this.I.ei && this.Cb.ym(B0J + S + q0J + L.readyState + F0J + L.dd);this.$ga(S,L.dd);return N.Pa.Pqb(L).catch(function(U){var Y30;Y30=2;for(;Y30 !== 1;){switch(Y30){case 2:var I0J="Error ad";I0J+="opti";I0J+="ng requ";I0J+="ests";P.Jk(I0J,U);Y30=1;break;}}});break;}}};Q.prototype.Wga=function(N,L,P){var Z30,S;Z30=2;for(;Z30 !== 9;){switch(Z30){case 2:S=this;void 0 === L && (L=F.OR.Aia);(P || this.La.Tc).Xua(N,L);Z30=4;break;case 4:this.Zx.reset();(void 0 === N?g.yf:[N]).forEach(function(U){var a40;a40=2;for(;a40 !== 1;){switch(a40){case 2:S.dc(U) && (S.Nv[U].reset(),S.Qob(U),S.xg.kQb(U));a40=1;break;}}});Z30=9;break;}}};Q.prototype.Bwa=function(){var b40,N;b40=2;for(;b40 !== 5;){switch(b40){case 2:N=this;g.yf.forEach(function(L){var c40,P;c40=2;for(;c40 !== 5;){switch(c40){case 2:null === (P=N.Nv[L]) || void 0 === P?void 0:P.stop();c40=5;break;}}});b40=5;break;}}};Q.prototype.MI=function(N){var d40,L;d40=2;for(;d40 !== 4;){switch(d40){case 2:L=this;(void 0 === N?g.yf:[N]).forEach(function(P){var e40,S;e40=2;for(;e40 !== 5;){switch(e40){case 2:null === (S=L.Nv[P]) || void 0 === S?void 0:S.resume();e40=5;break;}}});return Promise.resolve();break;}}};Q.prototype.dT=function(N){var f40,L,P;f40=2;for(;f40 !== 3;){switch(f40){case 4:N.forEach(function(S){var g40,U;g40=2;for(;g40 !== 5;){switch(g40){case 2:null === (U=L.Nv[S]) || void 0 === U?void 0:U.resume();g40=5;break;}}});f40=3;break;case 2:L=this;N=void 0 === N?g.yf:[N];null === (P=this.Zx) || void 0 === P?void 0:P.reset();f40=4;break;}}};Q.prototype.Qob=function(N){var h40,L;h40=2;for(;h40 !== 3;){switch(h40){case 4:L.KX=0;h40=3;break;case 2:L=this.zb.Jf[N];this.zb.Gw[N].iqa=void 0;L.Du=0;h40=4;break;case 14:L.KX=9;h40=5;break;h40=3;break;}}};H10=87;break;case 27:Q.prototype.XM=function(){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:return this.Hd.length;break;}}};Q.prototype.tpa=function(N,L){var m20;m20=2;for(;m20 !== 9;){switch(m20){case 2:m20=N === L?1:5;break;case 7:m20=N !== L?2:2;break;m20=N === L?1:5;break;case 1:return !0;break;case 5:N=this.Hd[N];L=this.Hd[L];return N.P.rf.Ug && L.P.rf.JW || L.P.rf.Ug && N.P.rf.JW;break;}}};Q.prototype.J5=function(N){var n20;n20=2;for(;n20 !== 5;){switch(n20){case 1:return {id:N.O.id,Ee:N.Ee,xd:N.sta,je:N.je,dd:N.w$,Ic:N.Ic};break;case 2:n20=(N=this.La.mi.children[N])?1:5;break;}}};Q.prototype.Io=function(){var o20,N;o20=2;for(;o20 !== 5;){switch(o20){case 2:N=this.La.mi;o20=1;break;case 1:return {id:N.O.id,Ee:N.Ee,xd:N.sta,je:N.je,dd:N.w$,Ic:N.Ic};break;case 3:N=this.La.mi;o20=6;break;o20=1;break;}}};Q.prototype.MP=function(N,L){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:return this.La.MP(N,L);break;}}};Q.prototype.open=function(){var q20,ua,N,ka,ma,L,P,S,U,da,X;q20=2;for(;q20 !== 33;){switch(q20){case 25:P=this.eYa();this.Cb.cOa(P);ua=function(){var w20;w20=2;for(;w20 !== 5;){switch(w20){case 1:var p0J="shutdown detected b";p0J+="e";p0J+="fo";p0J+="re startRequests";N.bn()?N.Qb(p0J):N.jpb();w20=5;break;case 3:N.Cb.Cnb();w20=7;break;w20=1;break;case 2:N.Cb.Cnb();w20=1;break;}}};L.nzb?setTimeout(function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:N.CMa(S).then(ua);x20=1;break;}}},0):this.CMa(S).then(function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 4:setTimeout(ua,3);y20=9;break;y20=1;break;case 2:setTimeout(ua,0);y20=1;break;}}});q20=21;break;case 2:N=this;q20=1;break;case 9:this.yr && (U.push(0),da.push(0));this.GU.vmb();ka=L.wr;q20=6;break;case 15:X.sourceBuffers.forEach(function(ya){var s20,O,T;s20=2;for(;s20 !== 13;){switch(s20){case 3:var k0J="ma";k0J+="nagerd";k0J+="eb";k0J+="ugevent";var b0J="lo";b0J+="g";b0J+="da";b0J+="t";b0J+="a";var l0J="e";l0J+="r";l0J+="r";l0J+="o";l0J+="r";var V0J="re";V0J+="que";V0J+="st";V0J+="Appen";V0J+="ded";ya.addListener(V0J,N.lmb.bind(N));ya.addListener(l0J,function(ja){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:var w0J="NFErr_MC_Streaming";w0J+="Fa";w0J+="i";w0J+="lur";w0J+="e";N.Dp(ja.errorstr,void 0,w0J);t20=1;break;}}});ya.addListener(b0J,function(ja){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:u.Va(N,ja.type,ja);u20=1;break;case 4:u.Va(N,ja.type,ja);u20=2;break;u20=1;break;}}});L.ei && ya.addListener(k0J,function(ja){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 4:u.Va(N,ja.type,ja);v20=3;break;v20=1;break;case 2:u.Va(N,ja.type,ja);v20=1;break;}}});s20=6;break;case 2:var j0J="h";j0J+="eade";j0J+="r";j0J+="App";j0J+="ended";(O=ya.mediaType,T=N.zb.Jf[O]);ya=new n.Gba(T.H,O,X,ya,L,!1,N.V,void 0,N.oh.bind(N));T=new C.wEa(ya,O,N.La,N.I,T.H);ya.addListener(j0J,N.imb.bind(N));s20=3;break;case 14:N.Nv[O]=T;s20=13;break;case 6:N.Og[O]=ya;s20=14;break;}}});this.Zx=new D.DIa(this.Nv,this.iL.bind(this),this.V.Pe.bind(this.V));this.ns && this.Cb.knb();q20=25;break;case 1:q20=!f.Ba(this.bC) || 0 > this.bC?5:4;break;case 17:q20=!X.Z2(U)?16:15;break;case 6:var Z0J="crea";Z0J+="teM";Z0J+="ediaS";Z0J+="ourceSt";Z0J+="art";this.ec.Ff && this.ec.Ff.Kp(ka,this.Vl.sessionId);ma=this.GU.nlb(da,P);da.forEach(function(ya,O){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:var f0J="he";f0J+="ade";f0J+="rs";f0J === ya?N.DS=ma[O]:N.zb.Jf[ya].Hf=ma[O];r20=1;break;}}});this.Cb.Yl(Z0J);q20=11;break;case 20:var M0J="createMe";M0J+="di";M0J+="aSo";M0J+="urceEnd";this.Cb.Yl(M0J);X.jc || (X.jc=t.jc);this.dg=X;q20=17;break;case 10:q20=1 === X.readyState?20:34;break;case 16:var v0J="E";v0J+="r";v0J+="r";v0J+="o";v0J+="r:";throw (this.en(v0J,X.error),X.error);q20=15;break;case 4:var o0J="hea";o0J+="der";o0J+="s";(L=this.I,P=this.Fe.P,S=P.J,U=[],da=[o0J]);this.Mm && (U.push(1),da.push(1));q20=9;break;case 5:var S0J="NFEr";S0J+="r_M";S0J+="C_Strea";S0J+="mingInitFailur";S0J+="e";var g0J="startP";g0J+="ts must be a positive numb";g0J+="er, not ";this.Dp(g0J + this.bC,void 0,S0J);q20=33;break;case 11:X=new t(this.V.mG);q20=10;break;case 34:var a0J="NFEr";a0J+="r_MC_Stre";a0J+="amingIn";a0J+="itFailure";var s0J="ex";s0J+="ce";s0J+="p";s0J+="tion in i";s0J+="nit";var i0J="E";i0J+="rr";i0J+="o";i0J+="r";i0J+=":";(this.en(i0J,X.error),this.Dp(s0J,void 0,a0J));q20=33;break;case 21:var L0J="sta";L0J+="rt";L0J+="p";L0J+="l";L0J+="ay";var n0J="l";n0J+="o";n0J+="g";n0J+="d";n0J+="ata";P={type:n0J,target:L0J,fields:{audiogapconfig:L.UN,audiogapdpi:this.dg.jc && this.dg.jc.UN,aseApiVersion:this.aG}};this.emit(P.type,P);q20=33;break;}}};Object.defineProperties(Q.prototype,{aG:{get:function(){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 4:return "";break;z20=1;break;case 2:var H0J="1";H0J+=".";H0J+="0";return H0J;break;}}},enumerable:!1,configurable:!0}});Q.prototype.Hna=function(){};Q.prototype.flush=function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:this.Ni.flush();A20=1;break;}}};Q.prototype.paused=function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:this.V.paused();B20=1;break;}}};H10=32;break;case 13:Object.defineProperties(Q.prototype,{Wu:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.ec.Wu;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{ns:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:return this.Lob;break;case 4:return this.Lob;break;Y10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{AW:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 4:return this.YK;break;Z10=1;break;case 2:return this.YK;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{wO:{get:function(){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:return this.r2;break;}}},enumerable:!1,configurable:!0}});Q.prototype.dc=function(N){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return this.opb[N];break;case 4:return this.opb[N];break;b20=1;break;}}};Q.prototype.nV=function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:return v.default.time.ea() - this.nfa;break;}}};Q.prototype.eYa=function(){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return (this.Hd || []).reduce(function(N,L){var e20,P;e20=2;for(;e20 !== 4;){switch(e20){case 5:return N;break;case 2:P=L.P;g.yf.forEach(function(S){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:P.Dw[S] > N[S] && (N[S]=P.Dw[S]);f20=1;break;}}});e20=5;break;}}},[0,0]);break;}}};Q.prototype.MN=function(){var g20,N;g20=2;for(;g20 !== 4;){switch(g20){case 2:N=0;f.forEach(this.Fe.P.oa.audio_tracks,function(L){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:f.forEach(L.streams,function(P){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:N=Math.max(N,P.bitrate);i20=1;break;}}});h20=1;break;}}});return N;break;}}};Q.prototype.oh=function(N){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 4:return this.Hd[N];break;j20=1;break;case 2:return this.Hd[N];break;}}};Q.prototype.uFb=function(){var k20,N;k20=2;for(;k20 !== 5;){switch(k20){case 2:N=this.Hd[0];return N.P.rf.Ug?this.Hd[1]:N;break;}}};H10=27;break;case 104:Q.prototype.rTb=function(N,L,P){var u40,S;u40=2;for(;u40 !== 6;){switch(u40){case 4:u40=N.P.E6?3:7;break;case 2:l.Nm.jq(0);N=this.Hd[N];N.Dxa(L);u40=4;break;case 3:N.iq(0).Yd.some(function(U){var v40;v40=2;for(;v40 !== 4;){switch(v40){case 9:S=U.Vk();v40=3;break;v40=1;break;case 2:S=U.Vk();v40=1;break;case 1:v40=!(S && S.stream && S.stream.U && P < S.stream.U.Bj(0))?5:4;break;case 7:return + +S;break;v40=4;break;case 5:return ! !S;break;}}});u40=8;break;case 8:S?(N.P.qh[0]=S,N.ZX=!1,S.stream.he && N.J3()):(N.P.qh[0]=void 0,N.ZX=!1,N.P.QO([N.iq(0)],!0,0));u40=7;break;case 7:this.dT(0);u40=6;break;}}};Q.prototype.vob=function(N,L){var w40,P;w40=2;for(;w40 !== 4;){switch(w40){case 2:P=this.Og[N.mediaType];N=this.La.VX(N.gb,N.mediaType,L,this.ec.MA || 0,function(S){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 2:P.e$(S);x40=1;break;}}});f.ia(N) || this.kg.Yj();w40=4;break;}}};Q.prototype.imb=function(N){var y40,L,P,S;y40=2;for(;y40 !== 8;){switch(y40){case 2:(L=N.mediaType,P=N.manifestIndex,S=N.streamId);N=this.La.Tc.eb(L);L=this.Hd[P].P.tw(L,S);y40=4;break;case 4:this.cpb(N,L);this.I=this.OSa.Ikb(L.ih,this.I);this.Hd.forEach(function(U,da){var z40,ka;z40=2;for(;z40 !== 5;){switch(z40){case 2:ka=U.P;ka.E6 || 0 === da || ka.QO([U.iq(0),U.iq(1)]);z40=5;break;}}});y40=8;break;}}};Q.prototype.lmb=function(N){var A40,L,P;A40=2;for(;A40 !== 8;){switch(A40){case 2:L=N.request;N=N.mediaType;P=L.Pa.gb;P.ZMb(N);A40=3;break;case 3:L.q5 && this.Cb.rnb(L);L.tq && this.Cb.Fnb(N,L.P.Nb,P.O);A40=8;break;}}};Q.prototype.cpb=function(N,L){var B40;B40=2;for(;B40 !== 1;){switch(B40){case 2:this.zb.Gw[N.mediaType].wH={id:L.Oa,index:L.Kf,bitrate:L.bitrate,Ra:L.wb && L.wb.confidence && L.wb.Ra?L.wb.Ra.Ga:0,location:L.location};B40=1;break;}}};Q.prototype.c7=function(N){var C40,X,ua,ya,L,P,S,U,da,ka,ma;C40=2;for(;C40 !== 11;){switch(C40){case 1:C40=!ma.Tc.Dh?5:12;break;case 5:(X=ma.Tc,ua=X.Qd(0),ya=X.Qd(1));da.vspts=null !== (L=null === ya || void 0 === ya?void 0:ya.Fc) && void 0 !== L?L:0;da.aspts=null !== (P=null === ua || void 0 === ua?void 0:ua.Fc) && void 0 !== P?P:0;C40=9;break;case 9:da.vbuflbytes=null !== (S=null === ya || void 0 === ya?void 0:ya.nn.fa) && void 0 !== S?S:0;da.abuflbytes=null !== (U=null === ua || void 0 === ua?void 0:ua.nn.fa) && void 0 !== U?U:0;C40=7;break;case 7:da.vbuflmsec=ma.aw(X,1);da.abuflmsec=ma.aw(X,0);C40=14;break;case 2:(da={},ka=this.Og,ma=this.La);C40=1;break;case 14:N && (da.a=null === ua || void 0 === ua?void 0:ua.Pa.U.toJSON(),da.v=null === ya || void 0 === ya?void 0:ya.Pa.U.toJSON());C40=13;break;case 13:N && ka && (N=ka[1],ka=ka[0],da.atoappend=null === N || void 0 === N?void 0:N.D$(),da.vtoappend=null === ka || void 0 === ka?void 0:ka.D$());C40=12;break;case 12:return da;break;}}};Q.prototype.UYa=function(N){var D40,S,U,da,ka,L,P;D40=2;for(;D40 !== 8;){switch(D40){case 5:(S=this.zb.Gw[N],U=this.La.jG(L,N));S=S.wH?S.wH.bitrate:0;(da=P.Pa.Ssa,ka=this.La.Ee);return {type:N,availableMediaBuffer:v.default.Go()[N] - U,completeBuffer:L.Gh(N),incompleteBuffer:da,playbackBitrate:P.u5a,streamingBitrate:S,streamingTime:P.Fc + ka,usedMediaBuffer:U,toappend:P.a2b};break;case 2:(L=this.La.Tc,P=L.eb(N));D40=1;break;case 1:D40=P?5:8;break;}}};Q.prototype.pVb=function(){var E40,N;E40=2;for(;E40 !== 5;){switch(E40){case 2:var A0J="requ";A0J+="e";A0J+="s";A0J+="tGarbageCollection";N={type:A0J,time:v.default.time.ea()};u.Va(this,N.type,N);E40=5;break;}}};Q.prototype.Dp=function(N,L,P,S,U,da,ka){var F40;F40=2;for(;F40 !== 5;){switch(F40){case 2:var d0J="NF";d0J+="Err_";d0J+="MC_StreamingFailure";void 0 === ka && (ka=!1);this.J2 || (f.ia(P) && (P=d0J),this.J2=!0,this.Cb.Jnb(P,N,S,U,da,void 0 !== L?L:this.OX,ka));F40=5;break;}}};Q.prototype.nNa=function(){var G40;G40=2;for(;G40 !== 5;){switch(G40){case 2:var K0J="N";K0J+="etwork failures";K0J+=" r";K0J+="es";K0J+="et!";this.Qb(K0J);this.kg.Yj();G40=5;break;}}};H10=94;break;case 32:Q.prototype.ota=function(){};Q.prototype.close=function(){var C20;C20=2;for(;C20 !== 4;){switch(C20){case 2:this.o8a.Mb();this.Hd.forEach(function(N){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:N.close();D20=1;break;}}});this.Ni.close();C20=4;break;}}};Q.prototype.X6a=function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 4:this.ec.Dob(this);E20=2;break;E20=1;break;case 2:this.ec.Dob(this);E20=1;break;}}};Q.prototype.cd=function(){var F20,N;F20=2;for(;F20 !== 20;){switch(F20){case 2:this.xg.XPb();this.C1();F20=4;break;case 4:this.La.Mb();this.GU.zlb();null === (N=this.Zx) || void 0 === N?void 0:N.reset();this.Nv.forEach(function(L){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:L.reset();G20=1;break;case 4:L.reset();G20=2;break;G20=1;break;}}});this.V.Ue(h.ma.cj);this.Hd.forEach(function(L){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:L.cd();H20=1;break;}}});this.Hd=[];F20=13;break;case 13:var u0J="Error on M";u0J+="ediaSo";u0J+="ur";u0J+="c";u0J+="e destroy: ";this.Di.clear();N=this.dg;this.dg=void 0;f.ia(N) || N.Xp() || this.Qb(u0J,N.error);F20=20;break;}}};Q.prototype.suspend=function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:this.Ni.suspend();I20=1;break;}}};Q.prototype.resume=function(){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:this.Ni.resume();J20=1;break;case 4:this.Ni.resume();J20=9;break;J20=1;break;}}};Q.prototype.bn=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:return this.Ni.bn();break;case 4:return this.Ni.bn();break;K20=1;break;}}};Q.prototype.epb=function(){var L20,N;L20=2;for(;L20 !== 8;){switch(L20){case 2:N=this.I;this.dC && clearTimeout(this.dC);L20=5;break;case 5:this.dC=setTimeout(this.lT.bind(this),N.Caa);this.Yx || (this.Yx=setInterval(this.Cb.aOa.bind(this.Cb),N.IL));this.K2 || (this.K2=setInterval(this.Cb.Lnb.bind(this.Cb),N.Lwa));this.ns && !this.y1 && (this.y1=setInterval(this.Cb.$Na.bind(this.Cb),N.l3));L20=8;break;}}};Q.prototype.C1=function(){var M20;M20=2;for(;M20 !== 7;){switch(M20){case 5:this.K2 && (clearInterval(this.K2),this.K2=void 0);M20=4;break;case 4:this.y1 && (clearInterval(this.y1),this.y1=void 0);this.zK && (clearTimeout(this.zK),this.zK=void 0);M20=9;break;case 2:this.dC && (clearTimeout(this.dC),this.dC=void 0);this.Yx && (clearInterval(this.Yx),this.Yx=void 0);M20=5;break;case 9:this.Ifa && (clearTimeout(this.Ifa),this.Ifa=void 0);this.kg.C1();M20=7;break;}}};Q.prototype.play=function(){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:this.Ni.play();N20=1;break;}}};H10=39;break;case 94:Q.prototype.mmb=function(N,L){var H40;H40=2;for(;H40 !== 5;){switch(H40){case 2:L=d.iYa(L);this.hfa[N.mediaType]=L;H40=5;break;}}};Object.defineProperties(Q.prototype,{Cy:{set:function(N){var I40;I40=2;for(;I40 !== 1;){switch(I40){case 4:this.zb.Cy=N;I40=9;break;I40=1;break;case 2:this.zb.Cy=N;I40=1;break;}}},enumerable:!1,configurable:!0}});return Q;break;}}function Q(N,L,P,S,U,da,ka,ma,X,ua,ya){var I10,Qa,ja,pa,T,O;I10=2;for(;I10 !== 74;){switch(I10){case 76:this.V.addListener(function(Ua){var L10,M10;L10=2;for(;L10 !== 1;){switch(L10){case 2:try{M10=2;for(;M10 !== 1;){switch(M10){case 2:Qa.zb.F0b.bind(Qa.zb)(Ua);M10=1;break;}}}catch(Za){var P0J="Hindsight: Error when addin";P0J+="g updateP";P0J+="laySegment Listener: ";a000.Q2J(1);Qa.Cb.Hn(a000.z2J(Za,P0J));}L10=1;break;}}});I10=75;break;case 38:I10=(ua.Vxa || ua.Uxa) && this.ec.Ff?37:36;break;case 26:this.I=ua=this.OSa.Hkb(L,ua);I10=25;break;case 18:this.Ni=new R.LEa(this,this.H,this.dc.bind(this),pa);this.opb=[!da.pE,!da.ET];this.dc(0) && this.dc(1);this.ec=N;this.Vl=ka;I10=26;break;case 55:I10=this.Jr?77:75;break;case 31:this.J2=!1;this.DS=void 0;this.h2=-1;I10=28;break;case 25:this.r2=da.wO;this.gPa=! !da.abb;this.Bpb=! !da.Sxa;this.YK=da.AW;I10=21;break;case 37:var W0J="me";W0J+="di";W0J+="aca";W0J+="che";this.Di.on(this.ec.Ff,W0J,function(Ua){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 4:u.Va(O,"",Ua);K10=4;break;K10=1;break;case 2:var U0J="me";U0J+="di";U0J+="a";U0J+="cache";u.Va(O,U0J,Ua);K10=1;break;}}});I10=36;break;case 62:ua=ua.vIb;for(var sa in ua){P=ua[sa];ua.hasOwnProperty(sa) && P && (this.I[sa]=P);}I10=60;break;case 75:ya && this.zb.Kq(ya,sa.Z);I10=74;break;case 39:var N0J="m";N0J+="anag";N0J+="erd";N0J+="ebugevent";this.Di.on(this.ec.Ff,N0J,function(Ua){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:u.Va(O,Ua.type,Ua);J10=1;break;}}});I10=38;break;case 41:this.GU=new z.rBa(this,this.H,T);I10=40;break;case 77:Qa=this;I10=76;break;case 28:this.Rga=0;this.Di=new c.Uh();this.Pn=new I.eKa(this,this.H,this.dc.bind(this),T);this.kg=new M.sBa(this,this.H,this.dc.bind(this));I10=41;break;case 21:this.x2=void 0;this.V=new A.Mya(X);this.bC=U || 0;this.ZK=0;this.hfa=ma;I10=31;break;case 36:ja && ua.uM && !ua.TAb && (ua.set?ua.set({enableAdaptiveParallelStreaming:!1}):ua.uM=!1);0 === Math.floor(1E6 * Math.random()) % ua.CL && (this.Lob=new q.HJa(ua));this.Nv=[];this.Og=[];I10=51;break;case 60:this.xg.Exa(this.I);I10=59;break;case 63:I10=ua.wla && this.xg.o7?62:59;break;case 65:this.Hd=[L];this.xg=new J.Aya(this,this.H,N,this.ec.Ob,ua,this.MN(),U,this.dc.bind(this),pa);I10=63;break;case 40:I10=ua.ei && this.ec.Ff?39:38;break;case 59:sa=L.P;this.La=new G.Fba(this,this.Cb,this.H,this.cha.bind(this),sa,this.bC,this.I,this.kg,this.V,this.nV.bind(this));ua={AW:this.AW,ns:this.ns,Mm:this.Mm,wO:this.wO};this.zb=new K.FKa(this.H,this.xg,this.I,this.dc.bind(this),this.V,ua,this.ec.Ob,this.Cb,this.kg,this.La,pa);I10=55;break;case 3:var D0J="media|";D0J+="a";D0J+="sej";D0J+="s";var X0J="A";X0J+="S";X0J+="EJS";var Y0J="1SI";Y0J+="YbZrN";Y0J+="JC";Y0J+="p9";Y0J;this.H=new v.default.Console(X0J,D0J,"(" + ka.sessionId + ")");this.Jk=this.H.error.bind(this.H);this.Qb=this.H.warn.bind(this.H);I10=6;break;case 11:var z0J="b";z0J+="ranch";z0J+="in";z0J+="g";(ja=!(!L || !L.choiceMap || z0J !== L.choiceMap.type),pa=ja?{OU:!1,Jr:!1}:p.QXa(ua));this.OU=pa.OU;this.Jr=pa.Jr;this.Xw=ua.Xw;I10=18;break;case 6:this.en=this.H.trace.bind(this.H);T=new H.FGa(this,this.H);this.Cb=T;this.OSa=new y.zAa(this.H);I10=11;break;case 51:this.o8a=new k.Rca(L,this.ec.Ob,this.ec.Kh,this.I,void 0);N=this.o8a.ZGb();U=null;ua.SU && (U=this.ec.Wu.$B);x.sx.instance().reset();L=m.gda.create({Nb:0,oa:L,Vo:P,d8a:S,Ug:! !da.Ug,a0a:!1,di:! !da.di,Ad:g.p8(! !da.ET,! !da.pE),Y:0,Ha:da.Ha,Cb:this.Cb,Pr:this.nNa.bind(this),Yb:this,config:this.I,H:this.H,kg:this.kg,Pn:this.Pn,Ff:this.gPa?this.ec.Ff:void 0,XC:this.XC});L.xT=!0;I10=65;break;case 2:O=this;this.Xx=new B.BJa();this.vMa=[];this.XC={Jv:[Object.create(null),Object.create(null)]};I10=3;break;}}}})();b.nKa=a;r.wf(c.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gda=void 0;c=a(17);f=a(9);l=a(222);r=(function(){function m(d,h,g,k,n,q,p,v,t,u,w,x){void 0 === g && (g=0);this.de=d;this.B2=h;this.Y=g;this.Ha=k;this.F5=n;this.oh=q;this.XM=p;this.config=v;this.H=t;this.Cb=u;this.lCb=w;this.Wg=x;this.zw=0;}m.create=function(d){var g,k,n,q,p,v,t,u,w,x,y,z,A,B,D;function h(E){f.Va(u,E.type,E);}g=d.Nb;k=d.oa;n=d.d8a;q=d.Y;p=d.Ha;v=d.Pr;t=d.Cb;u=d.Yb;w=d.config;x=d.H;y=d.kg;z=d.Pn;A=d.Ff;B=d.XC;D=new l.wba(Number(k.movieId),{Nb:g,oa:k,Vo:d.Vo,A2a:{upa:d.Ug,k0a:! !d.a0a},di:d.di,Ad:d.Ad,config:w,IZa:{Ml:y.Yj.bind(y),Ff:A,XC:B,In:h,i7:function(E){return E === u.La.Tc.P;},GV:function(E,F,C,G,J){E=u.zb.Jf[E];return !F || C || G || J?u.DS:E.Hf;},OC:function(E){return u.zb.Gw[E];},oh:u.oh.bind(u)},gX:function(E){u.emit("requestComplete",{type:"requestComplete",timestamp:E.qf,mediaRequest:E});},C5:function(){return u.xg;},Ob:u.ec.Ob,Kh:u.ec.Kh,wVa:{Pr:v,Mh:function(E,F,C,G,J,K){void 0 === K && (K=!1);return !K || u.V.og()?(u.Dp(E,g,F,C,G,J,K),!0):!1;},Cn:function(){return u.J2;},In:h},RO:void 0,KI:{W:u.ec.MA,fa:u.ec.aE}});w.hz && D.YD({ds:u.Vl.ds,ba:u.Vl.ba,DC:u.Vl.DC,Hn:t.Hn.bind(t)});d=new c.Uh();d.addListener(D.du,"onHeaderFragments",function(E){var F,C,G,J,K;F=E.mediaType;C=E.Oa;G=E.stream.U;J=u.oh(g);if(J){if(D.qh[F] && E !== D.qh[F])E.ow && (J=D.qh[F],E=E.stream,K=J && J.stream,x.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Oa + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Oa) + ", " + J));else {D.qh[F]=E;E=u.La.Tc;if(0 === g){K=D.dc(1)?E.eb(1).Fc:E.eb(0).Fc;E.L3(K,D);}J.ZX=!1;J.J3();u.S2();}z.Qfa();t.Dnb(g,F,C,D.J,G);y.Yj();}else x.warn("addFragments for stale manifestIndex:",g);});d.addListener(D.du,"onHeaderRequestComplete",function(E){var F,C;E.Rk?u.S2():E.EC && (x.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),u.ez(E.J));F=E.mediaType;C=Object.getOwnPropertyNames(B.Jv[F]);u.Og[F].J3a(E.stream,1 === C.length && C[0] === E.Oa);y.RMa();u.pVb();});d.addListener(D.du,"onHeaderFromCache",function(E){var F;F=E.header;E=E.bDb;F.Rk && u.S2();E && t.tnb(F.J,F.Oa);});return new m(D,n,q,p,function(){return u.La;},u.oh.bind(u),u.XM.bind(u),w,x,t,!1,d);};Object.defineProperties(m.prototype,{P:{get:function(){return this.de;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Nb:{get:function(){return this.P.Nb;},enumerable:!1,configurable:!0}});m.prototype.iq=function(d){return this.de.lHb(d,this.O5(d));};m.prototype.O5=function(d){return this.B2[d];};m.prototype.close=function(){this.Wg.clear();this.P.close();};m.prototype.cd=function(){this.de.cd();delete this.de;};m.prototype.clone=function(){return new m(this.P,this.B2,this.Y,this.Ha,this.F5,this.oh,this.XM,this.config,this.H,this.Cb,!0,this.Wg);};m.prototype.Dxa=function(d){this.H.trace("updateAudioTrack:",this.B2[0],"->",d);this.B2[0]=d;};m.prototype.VXa=function(){return void 0 !== this.QH?this.QH:this.Ha?this.Ha:this.de.duration;};m.prototype.vtb=function(d){var h,g;h=this.de.qh[1];if(h && h.stream.he){if(this.mz && this.mz[1] && this.mz[1].Y <= d && this.mz[1].Ha > d)return this.mz[1].xd;h=h.stream.U;d=h.wn(d,void 0,!0);g=void 0;void 0 === g && (g=h.Bj(d));return g;}};m.prototype.J3=function(){var d,h;if(!this.ZX && this.yZa()){this.dsa();d=[0,0];if(0 !== this.Nb && !this.de.rf.JW && !this.de.rf.replace){h=this.oh(this.Nb - 1);h=this.de.J === h.de.J;d=this.F5().Tc;h=d.L3(this.Y,this.P,d,h);d=h.AO;}this.Y=d[1];this.AO=d;this.mz=h && h.mz;this.zRa();h=this.de.dc(1)?this.de.qh[1].stream.U.Ha:this.de.qh[0].stream.U.Ha;this.Cb.ynb(this.Nb,this.zw,this.Y,this.QH,h);this.ZX=!0;for(h=this.Nb + 1;h < this.XM();++h){d=this.oh(h);d.ZX=!1;d.J3();}}};m.prototype.zRa=function(){var d;if(0 === this.Nb || this.de.rf.replace)this.zw=0;else {d=this.oh(this.Nb - 1);this.zw=d.zw + d.VXa() - this.Y;}};m.prototype.dsa=function(){var d,h,g,k,n,q,p,v;if(this.yZa()){n=this.F5().Tc;q=this.Ha || Infinity;p=this.de.dc(1);v=n.$U(q,this.P);this.QH=p?v[1].Ha:v[0].Ha;n=p?this.de.qh[1].stream.U.Ha:this.de.qh[0].stream.U.Ha;p=Math.min(null !== (h=null === (d=v[1]) || void 0 === d?void 0:d.Ha) && void 0 !== h?h:Infinity,null !== (k=null === (g=v[0]) || void 0 === g?void 0:g.Ha) && void 0 !== k?k:Infinity);this.Cb.Anb(this.Nb,this.QH,n,p);d=this.F5().Zla(this.Nb);0 < d.length && d.forEach(function(t){t.z0b(v,q);});}};m.prototype.yZa=function(){var d,h,g,k;d=this.de.dc(0);h=this.de.dc(1);g=this.de.qh[0];k=this.de.qh[1];g=g && g.stream.he;k=k && k.stream.he;return (!d || g) && (!h || k);};return m;})();b.gda=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qKa=void 0;r=a(2);c=a(9);a=r.__importDefault(a(6));f=a.default.Zq;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function l(m,d,h){this.Hn=h;this.Kpb=new c.gMa(m);this.ba=d.ba;this.Ukb=1E3 * d.CNb / d.Lsb;this.fAb=d.DC;this.oQa=!1;}l.prototype.Ft=function(m){var d,h;d={s_xid:this.ba,dl:this.fAb?1:0};m.Pp && (d.bs=c.Q3(Math.floor(m.Pp / this.Ukb) + 1,1,5));m.U8 && (d.limit_rate=m.U8);m.aRa && (d.bb_reason=m.aRa);m.L$a && (d.tm=m.L$a);if(m.hU){h=m.hU.s7();if(h || !h && this.oQa)(d.cpr_ss=m.hU.oP,d.cpr_ca=m.hU.WL,d.cpr_rec=m.hU.GO,this.oQa=h);}m.Iia && (d.br="" + m.Iia.start + "+" + m.Iia.size);return this.Nnb(d);};l.prototype.Cva=function(m,d){var h,g;try{h=new f(void 0,"notification");g=this.Ft({aRa:m});d && g && h.open(d,void 0,2,void 0,void 0,void 0,g);}catch(k){this.Hn("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};l.prototype.Nnb=function(m){var d;try{d=this.$ob(m);return this.Kpb.encrypt(d);}catch(h){this.Hn("SideChannel: Error when obfuscating msg. Error: " + h);}};l.prototype.$ob=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return l;})();b.qKa=a;},function(r,b,a){var f,l,m,d,h,g;function c(k,n){var q,p;q=Math.floor(1E3 * k / n);p=1E3 * Math.round(q / 1E3);return new l.T(p,Math.abs(Math.floor(1001 * k / n) - p) > Math.abs(q - p)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.vba=void 0;f=a(363);l=a(22);m=a(5);d=a(9);h=a(364);g=a(365);r=(function(){function k(n,q,p){this.I=q;this.H=p;this.KB=new d.rKa();this.n2=0;this.aA=n.aA;this.P=n.P;this.mediaType=n.mediaType;this.lE=n.lE;this.gC=n.gC;1 === this.mediaType && (q=this.aA.streams[0],void 0 !== q.framerate_value && void 0 !== q.framerate_scale && (this.uga=c(q.framerate_value,q.framerate_scale).sua()));this.nb=(this.OK=this.uga) && this.OK.S;this.$fa=this.SMa=!1;this.Goa=-Infinity;this.C1a=Infinity;n=k.plb(this,n.Ug);q=n.maxBitrate;p=n.Yd;this.eH=n.eH;this.maxBitrate=q;this.Yd=p;this.lpb=p.reduce(function(v,t){v[t.Oa]=t;return v;},{});!1;}k.plb=function(n,q){var p,v,t,u,w;p=n.I;v=1 === n.mediaType;t=!1;u=0;w=[];n.aA.streams.forEach(function(x,y){var z,A,B;z=x.bitrate;A=!0;if(v){B=-1 === x.content_profile.indexOf("none");A=q && !B || !q && B;t=t || B;}A && z > u && (u=z);x=new g.Yya({Aw:x,Kf:y,track:n,iu:A},p,n.H);w.push(x);});return {eH:t,maxBitrate:u,Yd:w};};Object.defineProperties(k.prototype,{K8:{get:function(){return !this.he && 0 === this.n2;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{he:{get:function(){return ! !this.gp && ! !this.KB.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kla:{get:function(){return this.SMa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{J:{get:function(){return String(this.P.J);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.aA.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qa:{get:function(){return this.OK;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{XN:{get:function(){return this.fnb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gp:{get:function(){return this.jd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rN:{get:function(){return this.KB.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dma:{get:function(){return this.qa.S;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cma:{get:function(){return this.qa.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Y:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nma:{get:function(){return this.KB;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{IW:{get:function(){return this.Yd.some(function(n){var q;return 1 < ((null === (q=n.Vg) || void 0 === q?void 0:q.length) || 0);});},enumerable:!1,configurable:!0}});k.prototype.tw=function(n){return this.QC()[n];};k.prototype.QC=function(){return this.lpb;};k.prototype.equals=function(n){return ! !n && this.J === n.J && this.mediaType === n.mediaType && this.trackId === n.trackId;};k.prototype.g9=function(){this.n2++;};k.prototype.f9=function(){0 < this.n2 && this.n2--;};k.prototype.e9=function(n,q,p,v,t){if(v && void 0 !== v.gl && (this.he || void 0 !== v.sd && v.sd.length)){if((n.Oz && (this.SMa=!0),this.he))!this.$fa && v.sd && v.sd.length > this.gp.length && (this.jd=new f.Pea(this.mediaType,this.qa,v,t),this.KB.B7a(),this.Goa=-Infinity,this.$fa=!0);else {this.MOa(q);if(p=p || this.uga)(this.LOa(p || this.uga),void 0 === this.S && this.NOa(p.S));this.jd=new f.Pea(this.mediaType,this.qa,v,t);n.Oz && (this.$fa=!0);}}else this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};k.prototype.eQb=function(n){void 0 === this.KB.value && this.KB.set(n);};k.prototype.Hvb=function(n){this.he || (this.NOa(n.S),this.MOa(n.XN),this.LOa(n.qa),this.jd=n.gp,n.nma.value?this.KB.set(n.nma.value):this.KB.B7a());};k.prototype.vn=function(n,q,p,v){m.assert(this.rN);return h.vn(this.mediaType,n,this.rN,q,p,v);};k.prototype.lz=function(n,q,p){m.assert(this.rN);return h.lz(this.mediaType,n,this.rN,q,p);};k.prototype.toJSON=function(){return {movieId:this.J,mediaType:this.mediaType,trackId:this.trackId};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};k.prototype.NOa=function(n){this.nb=n;};k.prototype.MOa=function(n){this.fnb=n;};k.prototype.LOa=function(n){this.OK=n;};return k;})();b.vba=r;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.KKa=b.Ojb=void 0;c=a(2);a(115);f=a(5);r=c.__importDefault(a(6));l=a(373);a=a(363);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(g){d=!1;}h=(function(g){function k(n,q){q=g.call(this,n.gp,q) || this;q.RF=n;return q;}c.__extends(k,g);Object.defineProperties(k.prototype,{fa:{get:function(){return this.RF.l9a(this.Le);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.RF.Rd(this.Le);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Pra:{get:function(){return this.RF.JH && this.RF.JH[this.Le];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bi:{get:function(){return this.RF.UDb(this.Le);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sb:{get:function(){return this.RF.$i && this.RF.$i[this.Le];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$Qa:{get:function(){return 8 * this.fa / (1E3 * this.Kt / this.S);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Wa,contentEndTicks:this.ob,durationTicks:this.Kt,timescale:this.S,startPts:this.Y,endPts:this.Ha,duration:this.duration,additionalSAPs:this.bi};};return k;})(a.nLa);b.Ojb=h;r=(function(){function g(k,n,q,p,v,t,u){this.cL=128;this.jd=n;this.Me=q.offset;this.Zj=q.sizes;this.nL=k;this.BK=this.jS=this.$h=this.$Oa=this.dha=void 0;this.enb=p;this.ffa=v && v.Rd;this.qt=t;this.kf=Math.min(this.jd.length,this.Zj.length);this.Rmb=this.ltb();this.gp.mr.length !== this.Zj.length && m.error("Mis-matched stream duration (" + this.gp.mr.length + "," + this.Zj.length + ") for movie id " + u);this.gp.a3 && !this.ffa && m.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.jd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.kf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gl:{get:function(){return this.jd.gl;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Cla:{get:function(){return this.jd.Cla;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Y:{get:function(){return this.jd.Y;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ha:{get:function(){return this.jd.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gra:{get:function(){return this.jd.gra;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gA:{get:function(){return this.Rmb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qa:{get:function(){return this.jd.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.jd.S;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$g:{get:function(){return this.$Oa || this.pfa();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{JH:{get:function(){return this.enb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{MPa:{get:function(){return this.ffa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$i:{get:function(){return this.qt;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gp:{get:function(){return this.jd;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$w:{get:function(){return this.dha || this.olb();},enumerable:!1,configurable:!0}});g.prototype.l9a=function(k){if(this.Zj)return this.Zj[k];m.error("sizesByIndex _sizes is undefined");return -1;};g.prototype.Bj=function(k){return this.jd.Bj(k);};g.prototype.TU=function(k){return this.jd.Bj(k) + this.jd.sd(k);};g.prototype.Rd=function(k){var n,q,p;if(this.jS !== k || void 0 === this.BK){if(0 === k)return this.Me;if(this.jS === k - 1 && void 0 !== this.BK)(this.BK+=this.Zj[this.jS],++this.jS);else {n=this.$h || this.$kb();q=Math.floor(k / this.cL);p=q * this.cL;for(n=n[q];p < k;++p){n+=this.Zj[p];}this.jS=k;this.BK=n;}}return this.BK;};g.prototype.sd=function(k){return this.jd.sd(k);};g.prototype.get=function(k){return new h(this,k);};g.prototype.UDb=function(k){var n,q,p,v,t;f.assert(0 <= k);n=this.gp.a3;q=this.gp.NPa;p=this.ffa;if(!p || !n || !q || k >= n.length)return [];v=[];t=k === n.length - 1?q.length:n[k + 1];for(n=n[k];n < t;++n){v.push({fl:q[n],Dd:this.Bj(k) + this.qa.LH(q[n]).W,offset:p[n]});}return v;};g.prototype.DXb=function(k){this.qt=k;};g.prototype.wn=function(k,n,q){return this.jd.wn(k,n,q);};g.prototype.m5=function(k,n,q){return this.jd.m5(k,n,q);};g.prototype.fka=function(k,n){return this.jd.fka(k,n);};g.prototype.itb=function(k,n,q,p,v){var t,u,w,x,y,z,A,B,D;t=!0;u=0;w=this.jd.mr;x=this.Zj;k=Math.floor(k * this.S / 1E3);y=Math.floor(q * this.S / 1E3);z=0;A=0;B=0;if(this.jd.Bxa && this.jd.Axa)for(u=this.jd.Bxa;u <= this.jd.Axa;++u){z+=w[u];A+=x[u];}if(A > n)t=!1;else for(;u < this.length && (!v || u < v);){D=x[u];q=w[u];if(A + D > n){for(;1 < u - B && A + D > n && (z - w[B] >= y || A - x[B] > p);){z-=w[B];A-=x[B];++B;}if(z < k || A + D > n){t=!1;this.jd.Bxa=B;this.jd.Axa=u;break;}}z+=q;A+=D;++u;}return t;};g.prototype.subarray=function(k,n){f.assert(void 0 === k || 0 <= k && k < this.length);f.assert(void 0 === n || n > k && n <= this.length);return new g(this.nL,this.jd.subarray(k,n),{offset:this.Rd(k),sizes:this.Zj.subarray(k,n)},this.JH && this.JH.subarray(k,n),this.MPa && ({Rd:this.MPa}),this.qt && this.qt.subarray(k,n));};g.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};g.prototype.map=function(k){for(var n=[],q=0;q < this.length;++q){n.push(k(this.get(q),q,this));}return n;};g.prototype.reduce=function(k,n){for(var q=0;q < this.length;++q){n=k(n,this.get(q),q,this);}return n;};g.prototype.toJSON=function(){return {length:this.length};};g.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace("StreamFragments: " + k + ": [" + n.Y + "-" + n.Ha + "] @ " + n.offset + ", " + n.fa + " bytes");}};g.prototype.ltb=function(){var k,n,q,p,t;k=0;n=this.jd.i2a;q=this.jd.mr;p=this.Zj;if(void 0 === n || n >= this.length){for(var v=0;v < this.length;++v){t=p[v] / q[v];t > k && (k=t,n=v);}void 0 === this.jd.i2a && (this.jd.i2a=n);}else k=p[n] / q[n];return Math.floor(k * this.S / 125);};g.prototype.pfa=function(){for(var k=0,n=0;n < this.length;++n){k+=this.Zj[n];}return this.$Oa=k;};g.prototype.olb=function(){var k;k=new Uint8Array(this.Zj.length);f.assert(void 0 !== k,"invalid streamIndices");if(k){f.assert(void 0 !== this.nL,"invalid _streamIndex");for(var n=0;n < k.length;n++){k[n]=this.nL;}}n=this.qt || new Uint8Array(this.Zj.length);return this.dha=new l.Cea(this.jd.mr,this.Zj,k,n,this.jd.S);};g.prototype.$kb=function(){if(!this.$h){for(var k=d?new Float64Array(Math.ceil(this.length / this.cL)):Array(Math.ceil(this.length / this.cL)),n=this.Me,q=0;q < k.length;++q){k[q]=n;for(var p=0;p < this.cL;++p){n+=this.Zj[q * this.cL + p];}}this.$h=k;}return this.$h;};return g;})();b.KKa=r;r.prototype.C9a=a.yw(r.prototype.Bj);a.yw(r.prototype.TU);a.yw(r.prototype.sd);a.yw(r.prototype.Rd);a.yw(r.prototype.l9a);a.yw(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.wc();this.bc=1 === this.version?this.Ui([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Ui([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};l.Vb="mvhd";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="trak";l.Na=!0;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.wc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{ELb:"int16"},{$qb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.bc=this.Ui(m);this.bc.B_b=! !(this.flags & 1);this.bc.C_b=! !(this.flags & 2);this.bc.D_b=! !(this.flags & 4);this.bc.E_b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Vb="tkhd";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.wc();this.bc=this.Ui(1 === this.version?[{y5:"int64"}]:[{y5:"int32"}]);return !0;};l.Vb="mehd";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.bc=this.Ui([{EIb:"int32"},{K1b:"int32"}]);return !0;};l.Vb="pasp";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.bc=this.Ui([{Nsb:"int32"},{maxBitrate:"int32"},{yia:"int32"}]);return !0;};l.Vb="btrt";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.Kl();this.u.Kl();for(this.oG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.oG.push(this.u.Kl());}return !0;};l.Vb="ftyp";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(84);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.bc=this.Ui([{DSb:"int32"},{PV:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.bc.PV=f.ho(this.bc.PV);return !0;};m.Vb="hdlr";m.Na=!1;return m;})(a(32).Ac);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);l=a(224);m=a(171);r=a(32);d=a(85);a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){this.wc();this.qm=this.u.xa();return !0;};g.prototype.Pt=function(k){var n;n=Object.keys(this.Ua);n.length && (n=n[0],this.Ua[n].length && (n=this.Ua[n][0],n instanceof m.default?this.qa=new l.T(n.oz,n.samplerate):n instanceof d.default && (n=n.Ua[f.UE]) && n.length && (n=n[0].bc,1E3 !== n.az && 1001 !== n.az || 0 !== n.RH % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.RH + "/" + n.az):this.qa=new l.T(n.az,n.RH)),this.qa && (k.qa=this.qa)));return !0;};g.prototype.lY=function(k){void 0 !== this.Ua[k] && 0 !== this.Ua[k].length && (this.la.ah(this.qm - 1,this.byteOffset + 12),k=this.Ua[k][0],this.He(k.byteLength,k.byteOffset));};g.Vb="stsd";g.Na=!0;return g;})(r.Ac);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Hma=this.u.vc(2);this.Kia=this.u.vc(5);this.Lia=this.u.vc(3);this.wha=this.u.vc(3);this.u.vc(1);this.u.vc(5);this.u.vc(5);return !0;};l.Vb="dac3";return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.psa=this.u.Wc() & 7;this.Owa=[];for(var m=0;m < this.psa;m++){d={Hma:this.u.vc(2),Kia:this.u.vc(5),Lia:this.u.vc(5),wha:this.u.vc(3),HLb:this.u.vc(1),osa:this.u.vc(4)};0 < d.osa?d.Ttb=this.u.vc(9):this.u.vc(1);this.Owa.push(d);}return !0;};l.Vb="dec3";return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.yY=this.u.Kl();f.ga && this.u.console.trace("SchemeTypeBoxTranslator: " + this.yY);"cenc" === this.yY && (this.u.offset-=4,f.ga && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.la.b_("piff"));this.u.xa();return !0;};m.Vb="schm";m.Na=!1;return m;})(f.Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.mb();this.nba=this.u.mb();this.u.mb();this.u.mb();this.u.mb();this.VY=this.IF(this.u.mb() & 31);this.IF(this.u.mb());this.wA=this.VY.length?this.VY[0][0]:this.nba;this.WS=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.wA || 110 === this.wA || 122 === this.wA || 144 === this.wA) && (this.u.mb(),this.u.mb(),this.IF(this.u.mb()));m=this.startOffset + this.length - this.WS;0 < m && this.He(m,this.WS);return !0;};l.prototype.IF=function(m){var g;for(var d=[],h=0;h < m;++h){g=this.u.Wc();d.push(this.u.AA(g));}return d;};l.Vb="avcC";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Pt=function(){var m;m=this.Al("esds");if(m=m && m.gca.Al(5))this.oz=m.oz;return !0;};l.Vb="mp4a";l.Na=!0;return l;})(a(171).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(226);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.gca=f.FQ.aY(this.u);return !0;};m.Vb="esds";m.Na=!1;return m;})(a(32).Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(32);f=r.UE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.bc=this.Ui([{RH:"int32"},{az:"int16"}]);return !0;};m.Vb=f;m.Na=!1;return m;})(a.Ac);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,h,g,k;this.wc();m=this.Ui([{fJ:"int32"},{xU:"int32"},{Yy:"int32"},{$y:"int32"},{Zy:"int32"}]);d=m.fJ;h=m.xU;g=m.Yy;k=m.Zy;m=m.$y;this.bc={trackId:d,gzb:h,Xy:g,hzb:k,izb:m};this.fJ=d;this.xU=h;this.Yy=g;this.$y=m;this.Zy=k;return !0;};l.Vb="trex";l.Na=!1;return l;})(a(32).Ac);b.default=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(787);l=a(230);m=a(145);d=a(224);h=a(32);r=a(368);g=a(369);k=a(371);n=a(146);q=a(223);p=a(100);v=a(372);a=(function(){function t(u,w,x,y,z,A){this.console=u;this.stream=w;this.Nh=y;this.Mha=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.xZa=n.cna();}t.path=function(u,w){return w.reduce(function(x,y){return x && x.Ua[y] && x.Ua[y][0];},u);};t.sna=function(u){return u && u.oG && -1 !== u.oG.indexOf("mcl0")?"mcl0":void 0;};t.cma=function(u,w){var x,y;m.assert("mcl0" === u,"Unsupported McClearen brand");x=w.U;u=x.sd;w=new d.T(120,1).Yf(x.S).oc;y=0;for(x=x.gl;y < u.length && x < w;){x+=u[y++];}return y;};t.prototype.parse=function(u){var w;w=this.nva();if(!w.done){if(w.aX)return {zm:!1,LPa:w.aX};this.console.error("Scan error: " + w.error);return {zm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);u=this.Psa(u);return u.done?this.$ja():(this.console.error("Parse error: " + u.error),{zm:!1,parseError:u.error || "unknown mp4 parse error"});};t.prototype.un=function(u){return h.Ac.un(this,u);};t.prototype.Al=function(u){return h.Ac.Al(this,u);};t.prototype.nva=function(){var u,w;u=new v.Aca(this.Nh,this.Mha?[p.Lx,p.Kx]:[],this.config && this.config.SZb || ["moof",p.wR],this.config && this.config.yX);w=c.__assign(c.__assign({},this.config),{YH:!1});return new k.wE(t.yI,u,this.view,this.console,w).parse();};t.prototype.Psa=function(u){var w,x,y;w=new v.AQ(this.view.byteLength);x=Object.create(q.wq.Ua);this.config && ((this.config.t9 || this.config.saa || this.config.bE) && f(q.wq.wI,x),this.config.taa && f(q.wq.mxa,x),this.config.saa && f(q.wq.CZ,x));y=c.__assign(c.__assign({},this.config),{YH:!0});this.mc=new k.wE(x,w,this.view,this.console,y);u=this.mc.parse(u);u.done && (this.Ua=this.mc.Ua);return u;};t.prototype.$ja=function(){var u,w,x,y,z,A;u={zm:!0};w=t.path(this,["moov"]);x=t.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.t9)if(x)(u.qa=x.qa,u.$Vb=x.Ua);else return {zm:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[p.BR])) && (u.kVa={wvb:y.nj,rH:y.rH,hLb:!1});if(y=t.path(w,["trak","mdia","mdhd"]))u.S=y.S;if(y=t.path(w,["mvex","trex"]))u.Xy=y && y.bc.Xy;u.Xy && u.S && (u.qa=new d.T(u.Xy,u.S));if(y=t.path(this,["sidx"])){z=t.path(this,[p.Lx]);z=z && z.nra;A=t.path(this,[p.Kx]);A=A && A.bi;u.U=y.U;u.JH=z;u.bi=A;}if(z=this.Ua.vmaf && this.Ua.vmaf[0])u.$i=z.$i;if(this.config.I7a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.bE && x && 1 < x.qm && y && (u.Vg=this.bE(x,y)),void 0 === u.Vg && (w=this.mc.fz?l.concat(this.mc.ta()):this.view.buffer,u.Vg=[{Pd:0,data:w}]));else return {zm:!1,parseError:"Missing movie box"};u.zm=!0;u.zX=this.mc.offset;return u;};t.prototype.trim=function(u){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.mc.trim(u);this.view=new DataView(w);};t.prototype.bE=function(u,w){var x,y,z;x=Object.keys(u.Ua);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.sna(x);if(z)return (x=[],this.mc.$ta(),u.lY("encv"),x.push({Pd:0,Rk:!1,data:l.concat(this.mc.ta())}),this.mc.yta(),u.lY(y[0]),u=t.cma(z,w),x.push({Pd:u,Rk:!0,data:l.concat(this.mc.ta())}),x);}};t.yI={};return t;})();b.cr=a;a.yI[p.VE]=r.default;a.yI[p.WE]=g.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(145);l=a(230);m=a(84);r=a(789);d=(function(){function h(g){g?(this.If=g.If.slice(),this.bh=g.bh.slice(),this.Rd=g.Rd.slice(),this.trim=g.trim):(this.If=[],this.bh=[],this.Rd=[]);}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === this.If.length && 0 === this.bh.length && 0 === this.Rd.length;},enumerable:!0,configurable:!0}});return h;})();r=(function(h){function g(k,n,q){k=h.call(this,k,n,q) || this;k.LU=[];k.lb=new d();return k;}c.__extends(g,h);g.cia=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.Yu?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.Yu?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Yu);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(g.prototype,{fz:{get:function(){return !this.lb.empty;},enumerable:!0,configurable:!0}});g.prototype.dB=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};g.prototype.mya=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:2,Yu:!1});void 0 === n && (this.offset+=2);};g.prototype.ah=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:4,Yu:!1});void 0 === n && (this.offset+=4);};g.prototype.nya=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:8,Yu:!1});void 0 === n && (this.offset+=8);};g.prototype.b_=function(k){this.ah(m.nS(k));};g.prototype.qJ=function(k,n){this.lb.Rd.push({offset:this.offset,vl:k,value:n});this.offset+=4;};g.prototype.He=function(k,n,q){this.lb.If.push({offset:n,remove:k,$a:q});};g.prototype.Qu=function(k,n,q,p){this.lb.If.push({offset:q,remove:k,replace:n,$a:p});};g.prototype.trim=function(k){this.lb.trim=k;};g.prototype.$ta=function(){this.LU.push(new d(this.lb));};g.prototype.yta=function(){this.lb=this.LU.pop() || new d();};g.prototype.ta=function(){var k,n,q,p,v,t,u;k=this;if(0 === this.lb.If.length && 0 === this.lb.bh.length && 0 === this.lb.Rd.length)return [void 0 === this.lb.trim?this.view.buffer:this.view.buffer.slice(0,this.lb.trim)];this.lb.If.sort(function(w,x){return w.offset - x.offset;});this.lb.bh.sort(function(w,x){return w.offset - x.offset;});this.$ua();n=this.$la();q=this.view.buffer.slice(0,n);p=new DataView(q);this.lb.bh.forEach(g.cia.bind(void 0,p));this.Hxa(p);this.Fxa(p);v=[];t=void 0 !== this.lb.trim?Math.min(this.lb.trim,this.view.byteLength):this.view.byteLength;u=0;this.lb.If.filter(function(w){return w.offset <= t;}).forEach(function(w){w.offset > u && (v.push(p.buffer.slice(u,w.offset)),w.offset > p.byteLength && p !== k.view && (p=k.view,v.push(p.buffer.slice(n,w.offset))));w.replace && v.push(w.replace);u=w.offset + w.remove;});u < n && v.push(q.slice(u));u < t && v.push(this.view.buffer.slice(Math.max(q.byteLength,u),t));return v;};g.prototype.$la=function(){var k,n,q;k=[];n=this.lb.bh[this.lb.bh.length - 1];q=this.lb.Rd[this.lb.Rd.length - 1];n && k.push(n.offset + n.size);q && k.push(q.offset + 4);this.lb.If.filter(function(p){return p.$a;}).forEach(function(p){return k.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.lb.trim?Math.min(n,this.lb.trim):n;};g.prototype.$ua=function(){this.lb.If=this.lb.If.reduce(function(k,n){var q,p;if(0 === k.length)return (k.push(n),k);q=k[k.length - 1];p=q.offset + q.remove;n.offset >= p?k.push(n):n.offset + n.remove > p && (f.assert(q.$a === n.$a),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?l.concat(q.replace,n.replace):n.replace));return k;},[]);};g.prototype.Hxa=function(k){var n;n=this;this.lb.Rd.forEach(function(q){var p,v,t,u;p=k;v=q.offset;n.lb.If.some(function(w){return w.offset <= q.offset && w.replace && w.offset + w.replace.byteLength >= q.offset + 4?(p=new DataView(w.replace),v=q.offset - w.offset,!0):!1;});t=q.vl + (void 0 !== q.value?q.value:p.getInt32(v));u=n.lb.If.reduce(function(w,x){return x.offset > q.vl && x.offset < t?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);p.setInt32(v,t - q.vl - u);});};g.prototype.Fxa=function(k){this.lb.If.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.$a;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - q);n=n.parent;}});};return g;})(r.Wea);b.Vea=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(146);a(146);f=a(84);r=(function(){function l(m,d,h){this.view=m;this.console=d;this.config=h;this.view=m;this.console=d;this.En=this.Fy=this.offset=0;}l.prototype.$ma=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.vc=function(m){for(;this.En < m;){this.Fy=(this.Fy << 8) + this.mb();this.En+=8;}this.En-=m;return this.Fy >>> this.En & (1 << m) - 1;};l.prototype.mb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.Wc=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.xa=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.lI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.Zsa=function(m,d){var h;h=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (h & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * h + m;};l.prototype.Sd=function(m,d){m=this.Zsa(m,d);this.offset+=8;return m;};l.prototype.$sa=function(m,d){var h;h=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + m;};l.prototype.mua=function(){var m;m=this.$sa(void 0,void 0);this.offset+=8;return m;};l.prototype.Kl=function(){return f.ho(this.xa());};l.prototype.CA=function(){var d,h,g,k,n,q;function m(p,v){return ("000000" + p.toString(16)).slice(2 * -v);}d=this.xa(!0);h=this.Wc(!0);g=this.Wc(!0);k=this.Wc();n=this.Wc();q=this.xa();return [m(d,4),m(h,2),m(g,2),m(k,2),m(n,2) + m(q,4)].join("-");};l.prototype.jua=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.hua=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var h=this.mb();0 !== h && 0 <= --m;){d.push(h);h=this.mb();}return String.fromCharCode.apply(null,d);};l.prototype.AA=function(m){var d,h;void 0 === d && (d=1);void 0 === h && (h=!0);return this.Lh(this.config.ZA && c.joa || c.mq,1,m,d,h);};l.prototype.fua=function(m,d,h){var g;void 0 === d && (d=2);void 0 === h && (h=!0);void 0 === g && (g=!1);return this.Lh(this.config.ZA && c.hoa || c.xz,2,m,d,h,g);};l.prototype.zA=function(m,d,h){var g;void 0 === d && (d=4);void 0 === h && (h=!0);void 0 === g && (g=!1);return this.Lh(this.config.ZA && c.ioa || c.Zt,4,m,d,h,g);};l.prototype.kua=function(){for(var m=this.mb(),d=m & 127;m & 128;){m=this.mb();d=d << 7 | m & 127;}return d;};l.prototype.Lh=function(m,d,h,g,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,h,g,n);this.offset=k || !g || g === d?this.offset + h * (g || d):this.offset + d;return m;};return l;})();b.Wea=r;},function(r,b,a){var l,m,d,h;function c(g,k,n,q){m.call(this,g,k,n,q);}function f(g,k,n){m.call(this,g,k,n,void 0);}l=a(100);m=a(231).$q;d=a(370);h=a(84).nS;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.Yfa=function(g,k){return "string" === typeof k?d[k]:k?d.reset[g] || d.rwa[g]:d.rwa[g];};f.prototype.Eua=function(g,k,n){return this.ta(g,k,!1,n,void 0);};f.prototype.Iua=function(g,k,n){return this.ta(g,k,!0,n,void 0);};f.prototype.ta=function(g,k,n,q,p){var t,u,w,x,y,z,A,B,D,E,F,C,G,J;function v(K){u=t[K];w=u.Qh("traf");if(void 0 === w || void 0 === w.bk)return !1;A=w.Qh("tfdt");if(void 0 === A)return !1;x=w.Qh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Ua.moof;if(!t || 0 === t.length)return !1;if(void 0 !== g){y=g;for(g=0;g < t.length;++g){if(!v(g,this.mc.console.trace))return !1;if(x.Kb > y || n && x.Kb === y)break;y-=x.Kb;}}else if((g=n?t.length - 1:0,!v(g,this.mc.console.trace)))return !1;if(n && g < t.length - 1){z=t[g + 1];this.mc.He(this.Dyb - z.startOffset,z.startOffset);}else !n && 0 < g && this.mc.He(u.startOffset,0);z=w.Qh("tfhd");if(void 0 === z)return !1;A=w.Qh("tfdt");B=x.Kb;D=w.Qh("saiz");E=w.Qh("saio");F=w.Qh(l.AR);C=w.Qh("sbgp");if(!(!D && !E || D && E))return !1;G=w.Qh("sdtp");if(this.Ua.mdat && g < this.Ua.mdat.length)J=this.Ua.mdat[g];else if(g !== t.length - 1)return !1;void 0 === y && (y=n?x.Kb:0);if(x.ta(w,z,J || this.mc,k,y,w.bk,n))x.fz && (!n && A && A.ta(x.pwa),D && E && (D.ta(x.Mq,n),E.ta(F?0:D.vI,w.bk,n)),F && F.ta(x.Mq,n),G && G.ta(x.Mq,B,n),C && C.ta(x.Mq,n));else if(!n){if(g === t.length - 1)return !1;this.mc.He(t[g + 1].startOffset - u.startOffset,u.startOffset);}else if(0 === x.Mq)return !1;q && (k=this.Yfa(this.stream.profile,p)) && x.Lua(w,z,J,n,q,k);n=this.mc.ta();q=n.reduce(function(K,I){return K + I.byteLength;},0);n={Kd:n,length:q,Nn:this.mc.view.byteLength};x.fz && !J && (n.Gq=w.bk + x.Gq,n.Vi=x.Vi);return n;};r.exports={ar:f,$z:function(g){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,g + 8);n.setUint32(4,h("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(231);f=a(230);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.ta=function(d){var h,g,k,n;h=this;if(!this.parse().done)return !1;g=this.Ua.moov;if(!g || 0 === g.length)return !1;k=g[0].Al("tenc");if(!k)return !1;n=new Uint8Array(k.nj);d.forEach(function(q){for(var p=q.from,v=!0,t=0;t < p.length;t++){if(n[t] !== p[t]){v=!1;break;}}v && h.mc.Qu(q.from.length,q.to,k.rH);});return f.concat(this.mc.ta());};return m;})(r.$q);b.RJ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Oj || (b.Oj={});r[r.Ub=0]="AUDIO";r[r.Lb=1]="VIDEO";},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.hCa=void 0;r=a(2);c=a(17);f=r.__importStar(a(10));l=r.__importDefault(a(6));m=new l.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(28));h=r.__importDefault(a(794));g=l.default.Zq;k=g.Z_;n={};q={};a=[d.default.xh.Mx,!1];r=[d.default.xh.Mx,!0];p=[d.default.xh.iF,!1];v=[d.default.xh.iF,!0];t=[d.default.xh.URL,!0];u=[-1,!1];w=[d.default.xh.iF,!1];n[k.w2b]=p;n[k.UNKNOWN_ERROR]=p;n[k.O5b]=p;n[k.veb]=p;n[k.OAa]=p;n[k.Heb]=p;n[k.zeb]=v;n[k.ydb]=v;n[k.Rza]=w;n[k.Pza]=w;n[k.zdb]=u;n[k.Adb]=w;n[k.Bdb]=w;n[k.vdb]=p;n[k.xdb]=p;n[k.Qza]=a;n[k.wdb]=p;n[k.udb]=w;n[k.p3b]=v;n[k.Ifb]=w;n[k.fDa]=w;n[k.eDa]=w;n[k.bDa]=w;n[k.cDa]=w;n[k.Hfb]=t;n[k.vca]=v;n[k.xca]=t;n[k.wca]=r;n[k.iDa]=v;n[k.Kfb]=t;n[k.q0]=w;n[k.gDa]=v;n[k.Jfb]=v;n[k.Ceb]=v;n[k.web]=p;n[k.Cjb]=p;n[k.meb]=p;n[k.neb]=p;n[k.oeb]=p;n[k.peb]=p;n[k.qeb]=p;n[k.reb]=p;n[k.seb]=p;n[k.teb]=p;n[k.ueb]=p;n[k.xeb]=p;n[k.yeb]=p;n[k.Aeb]=p;n[k.Beb]=p;n[k.Deb]=p;n[k.Eeb]=p;n[k.Feb]=p;n[k.Geb]=p;n[k.Ieb]=p;n[k.Jeb]=p;n[k.Bjb]=w;n[k.TIMEOUT]=a;q[k.Rza]=!0;q[k.fDa]=!0;q[k.eDa]=!0;q[k.cDa]=!0;q[k.OAa]=!0;a=(function(){var J40;J40=2;function x(y,z,A,B){var K40;K40=2;for(;K40 !== 10;){switch(K40){case 2:var c0J="1S";c0J+="IYbZrNJCp";c0J+="9";this.vm=y;this.config=z;this.UHb=A;this.Pr=B;this.events=new c.EventEmitter();this.Wg=new c.Uh();c0J;K40=7;break;case 7:var Q0J="ne";Q0J+="tworkF";Q0J+="a";Q0J+="iled";n[k.bDa]=z.MIb?v:w;this.Wg.addListener(this.vm,Q0J,this.NHb.bind(this));this.DN=l.default.time.ea();this.Ht=0;this.axa={};this.Mta=new h.default(y,B,z);K40=10;break;}}}for(;J40 !== 12;){switch(J40){case 3:x.prototype.NHb=function(y){var T40,E,F,C,z,A,B,D;T40=2;for(;T40 !== 7;){switch(T40){case 4:T40=this.Sz?3:9;break;case 3:(E=this.Sz.mh,F=this.Sz.ZC,C=this.Sz.sj);T40=9;break;case 2:var G0J=" ";G0J+="m";G0J+="s a";G0J+="g";G0J+="o";var r0J="t";r0J+="e";r0J+="m";r0J+="porarily";var C0J="p";C0J+="e";C0J+="rma";C0J+="ne";C0J+="ntly";var E0J="Netwo";E0J+="rk h";E0J+="as failed";E0J+=" ";var x0J=" last ";x0J+="su";x0J+="c";x0J+="c";x0J+="ess was ";(z=this,A=l.default.time.ea() - this.DN,B=y,D=this.config);a000.x2J(4);m.warn(a000.z2J(A,x0J,E0J,y?C0J:r0J,G0J));!y && A > D.Ura && (B=!0);T40=4;break;case 9:var R7J="t";R7J+="emporary";R7J+="NetworkError";var m0J="t";m0J+="emp";m0J+="oraryN";m0J+="etw";m0J+="orkError";y || this.events.emit(m0J,{type:R7J,errorCode:E,httpCode:F,nativeCode:C});T40=8;break;case 8:B?(this.UO && (clearTimeout(this.UO),this.UO=void 0),this.fSa(),this.Mta.reset(),this.UHb({BKb:y,SQb:E,TQb:F,UQb:C})):this.UO || (this.UO=setTimeout(function(){var U40;U40=2;for(;U40 !== 5;){switch(U40){case 2:z.UO=void 0;z.i$();U40=5;break;}}},D.Vra));T40=7;break;}}};x.prototype.i$=function(){var V40;V40=2;for(;V40 !== 1;){switch(V40){case 2:this.UO || (this.vm.i$(),this.axa={},this.Pr());V40=1;break;}}};x.prototype.yaa=function(y){var W40,z;W40=2;for(;W40 !== 9;){switch(W40){case 2:z=this.config;this.DN=Math.max(y.timestamp || l.default.time.ea(),this.DN);this.fSa();W40=4;break;case 4:var h7J="up";h7J+="dati";h7J+="ngLastSuc";h7J+="c";h7J+="essEvent";var y7J="up";y7J+="dati";y7J+="ngLastSuccessEvent";z.Iu && this.Mta.yaa(y);this.events.emit(y7J,{type:h7J});W40=9;break;}}};J40=7;break;case 2:x.prototype.Mb=function(){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.Wg.clear();L40=1;break;}}};x.prototype.YD=function(y){var M40;M40=2;for(;M40 !== 1;){switch(M40){case 2:this.O$=y;M40=1;break;case 4:this.O$=y;M40=3;break;M40=1;break;}}};x.prototype.ms=function(y,z,A,B){var N40,K,D,E,F,C,G,I,M,J;N40=2;for(;N40 !== 15;){switch(N40){case 13:K=G.j8a(y.url);N40=12;break;case 3:N40=A && f.isArray(n[A])?9:16;break;case 14:N40=void 0 !== y.url?13:20;break;case 17:return;break;case 12:K && (E[K]=[y.url]);N40=11;break;case 2:var T7J=" : ";T7J+="critical error c";T7J+="ount";T7J+=" ";T7J+="= ";var e7J=" ";e7J+="o";e7J+="n ";var O7J="Fa";O7J+="i";O7J+="l";O7J+="ure ";(D=this,E=g.Z_.name,F=A?E[A]:void 0);E={};(C=this.config,G=this.vm);m.warn(O7J + F + e7J + JSON.stringify(y) + T7J + this.Ht);N40=3;break;case 20:N40=void 0 !== y.host && void 0 !== y.port?19:18;break;case 6:N40=J !== u?14:15;break;case 19:E=G.LWb(y.host,y.port);N40=11;break;case 11:(I=J[0],M=J[1]);C.Iu?f.forEach(E,function(R,H){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:var J7J="e";J7J+="rr";J7J+="o";J7J+="r";J === w || J === p?D.Mta.mTb({url:void 0 !== y.url?y.url:R[0],Ld:H},{QPa:H,GZ:J,ZC:z,mh:A,KVa:F,sj:B}):R.some(function(Q){var P40;P40=2;for(;P40 !== 5;){switch(P40){case 2:G.ms(I,M,Q);return I === d.default.xh.iF;break;}}});!D.O$ || 0 !== z && void 0 !== z || (R=void 0 !== y.url?y.url:R[0]) && D.O$.Cva(J7J,R);O40=5;break;}}}):f.forEach(E,function(R,H){var Q40;Q40=2;for(;Q40 !== 5;){switch(Q40){case 2:Q40=J !== w || D.iVb(H)?1:5;break;case 1:var t7J="e";t7J+="r";t7J+="r";t7J+="o";t7J+="r";(R.some(function(Q){var R40;R40=2;for(;R40 !== 5;){switch(R40){case 2:G.ms(I,M,Q);return I === d.default.xh.iF;break;}}}),!D.O$ || 0 !== z && void 0 !== z || (R=void 0 !== y.url?y.url:R[0]) && D.O$.Cva(t7J,R));Q40=5;break;}}});N40=15;break;case 18:var B7J="I";B7J+="nval";B7J+="id affected for ne";B7J+="twork fai";B7J+="lure";m.error(B7J);N40=17;break;case 16:var q7J="Unmapped failure c";q7J+="ode in";q7J+=" JSASE error ";q7J+="directo";q7J+="r : ";a000.Q2J(1);m.error(a000.z2J(A,q7J));N40=15;break;case 9:var I7J="criti";I7J+="c";I7J+="alNetworkErro";I7J+="r";var F7J="c";F7J+="ritica";F7J+="lNetworkError";J=n[A];this.Sz={ZC:z,mh:A,KVa:F,sj:B};q[A] && (++this.Ht,this.events.emit(F7J,{type:I7J,mh:A}));N40=6;break;}}};x.prototype.iVb=function(y){var S40,z,A,B;S40=2;for(;S40 !== 7;){switch(S40){case 1:S40=B?5:8;break;case 2:(z=l.default.time.ea(),A=this.config,B=this.axa[y]);S40=1;break;case 9:return B.EA=!0;break;case 5:S40=B.No < this.DN?4:3;break;case 4:(B.No=z,B.count=1);S40=7;break;case 3:S40=!(B.No >= z - A.daa || B.EA || (B.No=z,++B.count,B.count < A.e8))?9:7;break;case 8:this.axa[y]={No:z,count:1};S40=7;break;}}};J40=3;break;case 7:x.prototype.Asa=function(){var X40;X40=2;for(;X40 !== 1;){switch(X40){case 2:this.Ht=0;X40=1;break;}}};x.prototype.sk=function(){var Y40,y,z,A;Y40=2;for(;Y40 !== 4;){switch(Y40){case 2:var V7J="m";V7J+="s";var p7J="Set";p7J+="t";p7J+="ing under";p7J+="flo";p7J+="w timeout in ";(y=this,z=this.config,A=z.Z7);this.DN=Math.max(l.default.time.ea(),this.DN);!z.Xab || this.IZ || z.Faa && z.RU && z.$Ob || (m.info(p7J + A + V7J),this.IZ=setTimeout(function(){var Z40;Z40=2;for(;Z40 !== 4;){switch(Z40){case 2:var w7J="ms, since underflow";w7J+=" with no s";w7J+="uccess";var l7J="F";l7J+="or";l7J+="cing perman";l7J+="ent network failure after";l7J+=" ";a000.x2J(5);m.info(a000.z2J(A,l7J,w7J));y.IZ=void 0;y.vm.ms(d.default.xh.Mx,!0);Z40=4;break;}}},A));Y40=4;break;}}};x.prototype.fSa=function(){var a50;a50=2;for(;a50 !== 1;){switch(a50){case 2:var b7J="Cleared u";b7J+="nde";b7J+="rflow timeout";this.IZ && (clearTimeout(this.IZ),this.IZ=void 0,m.info(b7J));a50=1;break;}}};return x;break;}}})();b.hCa=a;},function(r,b,a){var f,l,m;function c(d,h,g){this.LS=d;this.zF=0 === Math.floor(1E6 * Math.random()) % g.iI;this.groupId=1;this.config=g;this.jz={};this.QD={};this.Pr=h;}f=a(10);l=a(6).default;new l.Console("ASEJS_PROBE_MANAGER","asejs");m=a(795).Uya;c.prototype.constructor=c;c.prototype.mTb=function(d,h){var g,k,n,q,p,v,t,u,w,x,y;g=this.LS;k=d.Ld;n=g.P9a(d.url);q=g.R7(d.url);p=this.config;v=l.time.ea();t=h;u=[];w=n.Oo[0];x=!1;y=this.jz[k];if(!y)y=this.jz[k]={count:0,No:v,EA:!1,error:h,Lva:[],Ota:{}};else if(y.No >= v - p.daa)return;y.EA || (w && q.id === w.id && (d.isPrimary=!0),y.No=v,y.EA=!1,y.error=h,++y.count,n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls,function(z){var A,B,D;A=z.yd.id;B=A + "-" + k;D=this.QD[B];if(void 0 === D || void 0 === D.Q9)(D && D.ep && clearTimeout(D.ep),z=this.kTa(z.url,d,A),this.QD[B]={$:!1,count:0,Q9:z.ii()},u.push(z.ii()),x=!0);-1 === y.Lva.indexOf(A) && y.Lva.push(A);},this),this.zF && 0 < u.length && (n={type:"logdata",target:"endplay",fields:{}},h=t,t={ts:l.time.ea(),es:h.QPa,fc:h.mh,fn:h.KVa,nc:h.sj,pb:u,gid:this.groupId},h.ZC && (t.hc=h.ZC),n.fields.errpb={type:"array",value:t,adjust:["ts"]},g.In(n)),x && this.groupId++));};c.prototype.kTa=function(d,h,g){var k,n,q;k=this.LS.R7(h.url);k && k.wb && k.wb.fu && k.wb.fu.Ga || Math.random(0,1);k=new m(this);n=d.split("?");q="random=" + parseInt(1E7 * Math.random(),10);k.NQb(1 < n.length?d + "&" + q:d + "?" + q,h,g);return k;};c.prototype.nTb=function(d,h){var g,k,n,q,p,v,t,u;g=this.LS;k=this.config;n=h.Ld;q=this.jz[n];p=d.url;v=this.QD[d.Ld + "-" + n];if(q){t=q.error;if(v){v && v.ep && clearTimeout(v.ep);v.$=!0;v.count=0;v.Q9=void 0;q.Ota[d.Ld]=!0;(v=this.jz[d.Ld]) && !0 === v.EA && k.yy && (g.A7a(d.Ld,v.error.GZ[1]),this.zF && (v={type:"logdata",target:"endplay",fields:{}},v.fields.errst={type:"array",value:{ts:l.time.ea(),id:d.requestId,servid:h.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]},g.In(v)),this.jz[d.Ld]=void 0,this.Pr());if(p !== h.url){u=this.QD[n + "-" + n];u && u.$ || (n=(n=g.R7(p)) && n.wb && n.wb.fu && n.wb.fu.Ga || Math.random(0,1) * k.a8,n=Math.min(n,k.a8),setTimeout((function(){var w;if(!(!1 !== q.EA || u && u.$) && (q.EA=!0,g.ms(t.GZ[0],t.GZ[1],h.url,t),this.zF)){w={type:"logdata",target:"endplay",fields:{}};w.fields.erep={type:"array",value:{ts:l.time.ea(),id:d.requestId,servid:h.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]};g.In(w);}}).bind(this),n));}this.zF && (v={type:"logdata",target:"endplay",fields:{}},v.fields.pbres={type:"array",value:{ts:l.time.ea(),id:d.requestId,result:1,servid:d.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]},g.In(v));}}};c.prototype.kTb=function(d,h){var g,k,n,q,p,v,t,u,w,x;g=this.LS;k=parseInt(h.Ld,10);n=this.jz[k];q=parseInt(d.Ld,10);p=this.QD[q + "-" + k];v=0;t=this.config;if(p && n){p.$=!1;p.Q9=void 0;n.Ota[q]=!1;u=n.Lva;if(t.yy && q === k && h.isPrimary){w=g.R7(h.url);w=w && w.wb && w.wb.fu && w.wb.fu.Ga || 300 * Math.random(0,1);w*=Math.pow(2,p.count);w=Math.min(w,12E4);w+=Math.random(0,1) * (1E4 > w?100:1E4);p.ep=setTimeout((function(){var y;p.ep=void 0;y=this.kTa(d.url,h,q);y.dXb(d.groupId);p.Q9=y.ii();}).bind(this),w);}++p.count;if(q === k && (v=0,u.forEach(function(y){!1 === n.Ota[y] && v++;}),u.length === v && n.count >= t.e8)){x=n.error;n.EA=!0;f.forEach(g.P9a(h.url).urls,function(y){var z;g.ms(x.GZ[0],x.GZ[1],y.url,x);if(this.zF){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:l.time.ea(),id:-1,servid:y.yd.id},adjust:["ts"]};g.In(z);}},this);}this.zF && (k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.ea(),id:d.requestId,result:0,servid:d.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]},g.In(k));}};c.prototype.yaa=function(d){var h,g,k;h=d.url || d.mediaRequest.url;if(h){d=this.LS;h=d.j8a(h);g=this.jz[h];k=this.QD[h + "-" + h];g && g.EA && this.config.yy && (d.A7a(g.error.QPa,!1),this.zF && (g={type:"logdata",target:"endplay",fields:{}},g.fields.errst={type:"array",value:{ts:l.time.ea(),id:-1,servid:h},adjust:["ts"]},d.In(g)),this.jz[h]=void 0,k && k.ep && clearTimeout(k.ep));}};c.prototype.reset=function(){var d,h,g;d=this.QD;for(g in d){d.hasOwnProperty(g) && (h=d[g + "-" + g]) && h.ep && clearTimeout(h.ep);}this.QD={};this.jz={};};r.exports=c;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Uya=void 0;c=a(2);f=a(17);l=c.__importDefault(a(6)).default.xv;r=(function(m){function d(h){var g;g=m.call(this) || this;g.rOa=h;g.a2=h.groupId;g.Di=new f.Uh();g.Di.on(g,l.Ke.zR,g.Fga);g.Di.on(g,l.Ke.ZE,g.PS);return g;}c.__extends(d,m);d.prototype.NQb=function(h,g,k){l.prototype.open.call(this,h,g,k);};d.prototype.dXb=function(h){this.a2=h;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.a2;},enumerable:!1,configurable:!0}});d.prototype.cd=function(){this.Di && this.Di.clear();l.prototype.cd.call(this);};d.prototype.Fga=function(h){this.rOa.nTb(h.probed,h.affected);this.cd();};d.prototype.PS=function(h){this.rOa.kTb(h.probed,h.affected);this.cd();};return d;})(l);b.Uya=r;},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mDa=void 0;c=a(2);f=a(142);l=a(374);m=a(16);d=c.__importDefault(a(6));r=a(83);h=a(377);g=a(5);k=a(124);a=(function(n){function q(p,v,t,u,w,x,y,z,A,B,D){var E;E=n.call(this,p) || this;E.de=p;E.H=v;E.I=t;E.In=u;E.OC=x;E.i7=y;E.Iv=z;E.IOa=A;E.oh=B;E.BNa=[void 0,void 0];E.rha=[];E.CS=null !== D && void 0 !== D?D:{Jv:[Object.create(null),Object.create(null)]};w?E.GV=w:(E.De=k.lp.instance.Gt("headers","" + E.de.Z,!0,!1,{},E.I),E.De.xb());return E;}c.__extends(q,n);Object.defineProperties(q.prototype,{Jv:{get:function(){return this.CS.Jv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{IB:{get:function(){return this.CS.IB;},set:function(p){this.CS.IB=p;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HK:{get:function(){return this.CS.HK;},set:function(p){this.CS.HK=p;},enumerable:!1,configurable:!0}});q.prototype.cd=function(){var p;p=this;this.Jv.forEach(function(v,t){for(var u in v){v[u].cd();p.Tka(t,u);}});this.De && k.lp.instance.kM(this.De);this.De=void 0;};q.prototype.Vk=function(p,v){return this.Jv[p][v];};q.prototype.x6=function(){return !(!this.IB || !this.IB.length);};q.prototype.Eja=function(){this.IB=void 0;};q.prototype.gP=function(p){this.IB=p;};q.prototype.sxa=function(){var p,v;if(!this.x6() || this.HK)return !1;for(f.Nm.jq(1);0 < this.IB.length;){p=this.IB.shift();v=this.de.tw(1,p);if(v && !this.cIb(p) && v.ku)return (this.HK=p,this.vaa(v,{offset:0,qP:!0}));}return !1;};q.prototype.Mxa=function(p,v){var t;t=this;v.forEach(function(u){var w;w=t.Vk(p,u.Oa);w && !u.he && (w.stream.he?u.f4(w.stream):(w.tX || (w.tX=[]),w.tX.push(t.de)));});};q.prototype.QO=function(p,v,t){var u,w,x;u=this;x=this.de;m.yf.forEach(function(y){var z,A,B,D,E;if(x.dc(y) && (void 0 === t || y === t)){D=p[y];g.assert(D && x.getTrackById(D.trackId) === D);D=D.Yd;if(x.jk)u.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.vm.LZ(x.Z,D)){E=null !== (B=null === (A=null === (z=u.OC(y)) || void 0 === z?void 0:z.wH) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=h.dma(D,E);void 0 === z && u.H.warn("Unable to find stream for bitrate " + E);z=D[z];(A=x.Vk(y,z.Oa)) && A.stream.U?x.v0b(y,A):(y={offset:0,qP:!1,EC:1 === y,ow:!0,YN:!u.i7(x)},x.dTa(z,y,v));}else u.H.warn("requestHeadersFromManifest, unable to update urls");}});x.E6=!0;null === (w=this.oh) || void 0 === w?void 0:w.call(this,x.Nb).J3();};q.prototype.mE=function(p,v){var t,u,w,x;t=this.I;u=this.Vk(p.mediaType,p.Oa);if(u)return (u.stream.U || u.qP && this.cSa(u),!1);u=this.Fmb;w=this.Gmb;if(void 0 !== t.Jra && void 0 !== u && void 0 !== w){x=d.default.time.ea();if(x - u < t.Jra || x - w < t.Jra)return !1;}p=this.vaa(p,{url:p.url,offset:0},void 0,void 0,v);this.Gmb=d.default.time.ea();return p;};q.prototype.vaa=function(p,v,t,u,w){var x,y,z,A,B;A=p.mediaType;f.Nm.jq(A);B=p.Oa;if(this.blb(B,! !v.ow))return (null === (x=this.IOa) || void 0 === x?void 0:x.call(this),!1);if(x=this.Vk(A,B))p=!1;else {x=c.__assign(c.__assign({},v),{fa:null !== (y=v.fa) && void 0 !== y?y:this.Mlb(p)});y=! !x.EC;B=! !x.YN;this.GV?w=this.GV(A,! !x.ow,y,B,! !t):w || (w=this.De);g.assert(w);p.url && (this.OC(A).nqa=p.url);x=p=this.EMa(p,w,x);if(!p.lO())return (this.de.Mh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);p=!0;}v.ow && u && (this.de.qh[A]=x);null === (z=this.IOa) || void 0 === z?void 0:z.call(this);return p;};q.prototype.Lm=function(){var p,v;p=this;v=[];this.Jv.forEach(function(t,u){var x;f.Nm.jq(u);for(var w in t){u=t[w];x=u.Nxa();1 === x?v.push(u):2 === x && p.de.Mh("swapUrl failure");}});return v;};q.prototype.tk=function(p){var v,t;v=p.mediaType;t=f.Nm.jq(v);this.de.jk?t.warn("header onrequestcomplete ignored, session shutdown:",p.toString()):(this.In({type:"logdata",target:"startplay",bc:{usedNativeDataView:p.r1b}}),p.zX > p.QQb && (this.BNa[v]=p.zX),p.qP && this.cSa(p),this.kmb(p),this.Fmb=d.default.time.ea(),this.de.du.emit("onHeaderRequestComplete",p));this.Tt(p);};q.prototype.X2=function(p,v,t){var u;u=p.mediaType;f.Nm.jq(u);u=this.de.tw(u,p.Oa);if(v !== ! !p.Rk)return !1;this.uPa(p);p.Oqb(u);this.mMa(p);this.de.du.emit("onHeaderFromCache",{header:p,bDb:t});return !0;};q.prototype.tL=function(p,v){var t,u,w,x;t=[];u=this.Jv[p];for(w in u){x=u[w];x && !x.stream.U && x.Xo === v && (this.Tka(p,w),t.push({stream:x.stream,offset:x.offset,fa:x.fa,EC:x.EC,ow:x.ow,YN:x.YN,Tsa:x.Tsa}),x.cd());}return t;};q.prototype.cva=function(p){var v;v=this;p.forEach(function(t){v.vaa(t.stream,t);});};q.prototype.uPa=function(p){this.Jv[p.mediaType][p.Oa]=p;};q.prototype.cIb=function(p){return ! !this.Vk(1,p);};q.prototype.kmb=function(p){var v,t,u,w,y;v=this.I;t=f.Nm.jq(p.mediaType);u=p.stream.U;if(v.Cka){w=u.length;t.trace("fragment count:",w);for(var x=0;x < w;++x){y=u.get(x);t.trace("fragment: " + x + ", startPts: " + y.Y + ", duration: " + y.duration + ", offset: " + y.offset);}}this.mMa(p);if(v.rA && v.rA.enabled && void 0 === u.$i && v.rA.simulatedFallback){w=u.length;v=new Uint8Array(w);for(x=0;x < w;++x){v[x]=Math.max(0,p.stream.sb + this.xob(x));}u.DXb(v);}};q.prototype.mMa=function(p){var v,t;v=p.mediaType;t=p.Oa;f.Nm.jq(v);p.tX && (p.tX.forEach(function(u){(u=u.tw(v,t)) && u !== p.stream && !u.he && u.f4(p.stream);}),p.tX=void 0);this.de.KHb(p);};q.prototype.EMa=function(p,v,t){var u,w;u=this;w=f.Nm.jq(p.mediaType);p=new l.sba(p,this.I,v,t,this,!1,w);p.addListener("headerRequestCancelled",function(x){u.jmb(x.request);});p.xb(void 0);this.uPa(p);return p;};q.prototype.blb=function(p,v){return this.Iv && (p=this.Iv.zW(this.de.J,p)) && this.X2(p,!1,v)?!0:!1;};q.prototype.Mlb=function(p){var v,t,u,w;v=p.zs;t=p.P;u=t.duration;w=this.I;return t.rf.Ug?w.MVa?w.MVa:w.D6:w.o1b && v?v.offset + v.size:(p=this.BNa[p.mediaType])?p + 128:w.Lla?2292 + 12 * Math.ceil(u / 2E3):w.D6;};q.prototype.jmb=function(p){this.Tka(p.mediaType,p.Oa);};q.prototype.Tka=function(p,v){delete this.Jv[p][v];};q.prototype.cSa=function(p){this.HK === p.Oa && (this.HK=void 0);};q.prototype.xob=function(p){var v;v=this.I.rA.fallbackBound;void 0 === this.rha[p] && (this.rha[p]=Math.floor(2 * Math.random() * v) - v);return this.rha[p];};return q;})(r.hv);b.mDa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.OJa=void 0;c=a(2);f=a(17);r=(function(l){function m(d,h,g,k){var n;n=l.call(this) || this;n.H=d;n.track=h;n.Ao=!1;n.fga=!1;n.Wg=new f.Uh();n.Wg.on(h,"networkfailing",function(){n.emit("networkfailing");});n.Wg.on(h,"error",function(){n.H.warn("requestQueue got error");n.emit("error");});if(g)(n.Ao=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Wg.on(h,"created",function(){n.Ao=!0;n.emit("created");});n.fga=k;return n;}c.__extends(m,l);Object.defineProperties(m.prototype,{i5:{get:function(){return this.track.i5;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mh:{get:function(){return this.track.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sj:{get:function(){return this.track.sj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{YU:{get:function(){return this.track.YU;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.xb=function(){var d,h;this.fga || (null === (h=(d=this.track).xb) || void 0 === h?void 0:h.call(d),this.fga=!0);};m.prototype.ju=function(){return this.track.ju();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.Xp=function(){this.Wg.clear();};return m;})(f.EventEmitter);b.OJa=r;},function(r,b,a){var h,g,k,n,q,p,v;function c(t){var u,w,x;t=t.parent;u=!1;if(t && t.children){w={};w[p.Rl]=[];w[p.pl]=[];w[p.TEMPORARY]=[];x=t.children;x.forEach(function(y){y && w[y.ff].push(y);});0 < w[p.Rl].length || (w[p.pl].length === x.length?t.ff !== p.pl && (t.ff=p.pl,q.error("PERM failing :",k.default.xh.name[t.sn] + " " + t.id),u=!0):(t.ff === p.Rl && (t.ff=p.TEMPORARY,q.error("TEMP failing :",k.default.xh.name[t.sn] + " " + t.id),u=!0),w[p.TEMPORARY].forEach(function(y){y.ff=p.Rl;})),u && c(t));}}function f(t){var u;if((t=t.parent) && 0 < t.children.length && t.ff !== p.Rl){u={};u[p.Rl]=[];u[p.pl]=[];u[p.TEMPORARY]=[];t.children.forEach(function(w){w && u[w.ff].push(w);});0 < u[p.Rl].length && (t.ff=p.Rl,f(t));}}function l(t){return t.ff !== p.Rl;}function m(t){switch(t.ff){case p.Rl:return "OK";case p.pl:return "FAILED PERMANENTLY";case p.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(t,u){if(t.ff === p.TEMPORARY || t.ff === p.pl && u)t.ff=p.Rl;t.children && t.children.forEach(function(w){w && d(w,u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Rca=void 0;h=a(2);g=h.__importStar(a(10));r=a(17);k=h.__importDefault(a(28));n=h.__importDefault(a(6));q=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(t){t[t.Rl=0]="OK";t[t.TEMPORARY=1]="TEMPORARY";t[t.pl=2]="PERMANENT";})(p || (p={}));(function(t){t[t.Sx=0]="STARTUP";t[t.kjb=1]="REBUFFER";})(v || (v={}));a=(function(t){var b50;b50=2;for(;b50 !== 26;){switch(b50){case 3:u.prototype.R7=function(w){var g50;g50=2;for(;g50 !== 5;){switch(g50){case 2:g50=(w=this.urls[w]) && w.yd?1:5;break;case 1:return w.yd.location;break;}}};u.prototype.P9a=function(w){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 2:h50=(w=this.urls[w])?1:5;break;case 1:return w.stream;break;case 9:return w.stream;break;h50=5;break;}}};u.prototype.wL=function(w){var i50,x;i50=2;for(;i50 !== 11;){switch(i50){case 2:x=this;w.locations.forEach(function(y){var j50,A,B,D,z;j50=2;for(;j50 !== 8;){switch(j50){case 5:(A=[],B=x.Kh.get(z),D=x.So);y={id:z,sn:k.default.xh.LOCATION,ff:p.Rl,Vc:y.rank,level:y.level,weight:y.weight,Qw:void 0,parent:D,children:A,$o:A,streams:{},wb:B};j50=3;break;case 2:z=y.key;j50=1;break;case 1:j50=!x.Oo[z]?5:8;break;case 3:x.Oo[y.id]=y;D.children.push(y);j50=8;break;}}});this.k2=n.default.time.ea();this.lA.sort(function(y,z){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return y.level - z.level || y.Vc - z.Vc;break;}}});w.servers.forEach(function(y){var l50,z,A,B;l50=2;for(;l50 !== 6;){switch(l50){case 2:z=y.id;l50=1;break;case 5:A=x.Oo[y.key];l50=4;break;case 1:l50=!x.$o[z]?5:6;break;case 4:l50=A?3:6;break;case 3:B=[];y={id:z,sn:k.default.xh.iF,ff:p.Rl,Qw:void 0,parent:A,children:B,urls:B,name:y.name,type:y.type,Vc:y.rank,location:A};x.$o[y.id]=y;A.children.push(y);l50=6;break;}}});i50=9;break;case 9:w.audio_tracks.forEach(function(y){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 2:x.Y5a(y);m50=1;break;}}});w.video_tracks.forEach(function(y){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 2:x.Y5a(y);n50=1;break;}}});w=this.lA.filter(function(y){var o50,z;o50=2;for(;o50 !== 4;){switch(o50){case 1:z && (y.$o.forEach(function(A){var r50;r50=2;for(;r50 !== 1;){switch(r50){case 2:x.$o[A.id]=void 0;r50=1;break;}}}),x.Oo[y.id]=void 0,y.parent=void 0,y.children.length=0,y.streams={});return !z;break;case 2:z=y.$o.every(function(A){var q50;q50=2;for(;q50 !== 1;){switch(q50){case 2:return 0 === A.urls.length;break;case 4:return 9 == A.urls.length;break;q50=1;break;}}});o50=1;break;}}});w.forEach(function(y){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:y.$o.sort(function(z,A){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 2:return z.Vc - A.Vc;break;}}});s50=1;break;}}});this.lA=w;this.So.children=w;this.dump();i50=11;break;}}};u.prototype.LZ=function(w,x){var u50,y,z,A,B,D,E;u50=2;for(;u50 !== 19;){switch(u50){case 4:return !1;break;case 2:(y=this,z=this.config,A=this.Ob.get(),B=0);n.default.Et && n.default.Et(w);u50=5;break;case 5:u50=l(this.So)?4:3;break;case 6:u50=!this.aP?14:13;break;case 3:D=k.default.Mf.nB;z.$W && (D=k.default.Mf.Bx);this.Ob.location && A.confidence >= D && (w=this.Oo[this.Ob.location]) && (w.wb=A);g.Bb(this.aP) && (this.aP=this.A0b());u50=6;break;case 14:return (this.ms(k.default.xh.Mx,!1),!1);break;case 10:var a7J="(empty ";a7J+="stre";a7J+="am list";a7J+=")";var s7J="Did not find a ";s7J+="URL for A";s7J+="NY";s7J+=" stream...";var i7J="ne";i7J+="two";i7J+="rkFa";i7J+="iled";var S7J="Network has failed, not updating str";S7J+="eam select";S7J+="ion";x.forEach(function(F,C){var v50,G;v50=2;for(;v50 !== 5;){switch(v50){case 2:var g7J=" ";g7J+="K";g7J+="b";g7J+="p";g7J+="s)";var o7J=" ";o7J+="(";var v7J="]";v7J+=" ";var M7J="F";M7J+="a";M7J+="ili";M7J+="ng stream [";G=F.id;E.some(function(J){var w50,K,I;w50=2;for(;w50 !== 8;){switch(w50){case 5:return !1;break;case 2:K=J.streams[G];w50=1;break;case 1:w50=!K?5:4;break;case 9:return K.NZ[J.id].some(function(M){var x50,R;x50=2;for(;x50 !== 12;){switch(x50){case 4:return !1;break;case 2:x50=l(M.yd)?1:5;break;case 5:x50=l(M)?4:3;break;case 1:return (M.yd.ff === p.TEMPORARY && (F.ff=p.TEMPORARY),z.Iu && F.yd === M.yd.id && M.yd.Qw && (F.Qw=M.yd.Qw),!1);break;case 3:var Z7J="locationfa";Z7J+="ilov";Z7J+="er";var f7J="se";f7J+="rve";f7J+="rfailover";var j7J="performa";j7J+="nc";j7J+="e";var k7J="u";k7J+="nk";k7J+="no";k7J+="w";k7J+="n";R=k7J;F.location !== J.id && (z.Iu?F.Tpa=J.id === I.id:R=J !== E[0]?"" + k.default.hF.Aba:void 0 === F.location?"" + k.default.hF.Sx:g.ia(F.P0a) || F.P0a === J.id?g.ia(F.S0a) || F.S0a === M.yd.id?j7J:f7J:Z7J,F.location=J.id,F.xqa=J.level,F.ws=R);F.url=M.url;F.yd=M.yd.id;F.DI=M.yd.name;F.wb=z.Gia?J.wb.confidence >= k.default.Mf.Bx || A.confidence < D?J.wb:A:A.confidence === k.default.Mf.HAVE_NOTHING || J.wb.confidence >= k.default.Mf.Bx?J.wb:A;x50=13;break;case 13:return !0;break;}}});break;case 4:I=K.Oo[0];void 0 === F.P9 && (F.P9=I.id,F.Lta=K.NZ[I.id][0].yd.id);w50=9;break;}}})?(F.Cz=!1,F.ff=void 0,F.iu && ++B):F.ff && F.ff === p.TEMPORARY?y.So.ff=p.TEMPORARY:F.Cz || (q.warn(M7J + C + v7J + G + o7J + F.bitrate + g7J),F.Iub(),F.Cz=!0);v50=5;break;}}});return l(this.So)?(q.warn(S7J),this.M8=!0,this.emit(i7J,this.So.ff === p.pl),!1):B?!0:(q.warn(s7J + (x.length?"":a7J)),this.ms(k.default.xh.Mx,!0),!1);break;case 11:return (this.ms(k.default.xh.Mx,!1),!1);break;case 12:u50=!E.length?11:10;break;case 13:E=this.aP;u50=12;break;}}};b50=6;break;case 2:h.__extends(u,t);u.prototype.ZGb=function(){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 4:return this.lA[8].wb;break;d50=1;break;case 2:return this.lA[0].wb;break;}}};u.prototype.Ot=function(){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:return l(this.So);break;case 4:return l(this.So);break;e50=1;break;}}};u.prototype.j8a=function(w){var f50;f50=2;for(;f50 !== 5;){switch(f50){case 1:return w.parent.id;break;case 9:return w.parent.id;break;f50=5;break;case 2:f50=(w=this.urls[w]) && w.parent?1:5;break;}}};b50=3;break;case 6:u.prototype.LWb=function(w,x){var y50,y,z;y50=2;for(;y50 !== 4;){switch(y50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);g.forEach(this.urls,function(A,B){var z50,F,C,D,E;z50=2;for(;z50 !== 7;){switch(z50){case 4:var L7J="8";L7J+="0";var n7J="4";n7J+="4";n7J+="3";(F="s" === E[1],C=E[2]);E=E[3];E.length || (E=F?n7J:L7J);z50=8;break;case 5:z50=E && 4 === E.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(D=y[A],E=B.match(z));z50=5;break;case 8:g.Re(C) && g.Re(E) && C === w && E == x && (D?D.push(B):y[A]=[B]);z50=7;break;}}});return y;break;}}};u.prototype.ms=function(w,x,y,z){var A50,C50,F,B50,A,B,D,C,E;A50=2;for(;A50 !== 42;){switch(A50){case 1:A50=A && A.parent && A.sn !== w?5:4;break;case 20:x.unshift(C.id + "(" + C.name + ")");A50=19;break;case 26:C50=A.ff;A50=C50 === p.pl?25:30;break;case 16:A50=B50 === k.default.xh.URL?15:19;break;case 17:x.unshift(F.id);A50=19;break;case 28:A50=44;break;case 27:var H7J=" :";H7J+=" w";H7J+="a";H7J+="s";H7J+=" ";E.call(y,w + (x.length?"/" + x.join("/"):"") + H7J + m(A));A50=26;break;case 13:F=A;A50=12;break;case 14:A50=13;break;case 11:B50=F.sn;A50=B50 === k.default.xh.iF?10:18;break;case 30:A50=C50 === p.TEMPORARY?24:29;break;case 2:(A=w !== k.default.xh.Mx && y?this.urls[y]:this.So,B=this.So.ff,D=x?p.pl:p.TEMPORARY);A50=1;break;case 3:A50=D !== A.ff?9:42;break;case 44:var A7J="Invali";A7J+="d f";A7J+="ail";A7J+="ure state";throw Error(A7J);A50=24;break;case 10:C=F;A50=20;break;case 29:A50=C50 === p.Rl?24:28;break;case 5:A=A.parent;A50=1;break;case 43:var d7J="Unab";d7J+="le to find failure enti";d7J+="ty";d7J+=" for U";d7J+="RL ";a000.x2J(1);q.warn(a000.c2J(y,d7J));A50=42;break;case 18:A50=B50 === k.default.xh.LOCATION?17:16;break;case 22:this.M8=this.M8 || l(this.So);A50=21;break;case 31:this.dump();A50=42;break;case 21:var u7J="n";u7J+="et";u7J+="wor";u7J+="kFaile";u7J+="d";var K7J="Emitting n";K7J+="e";K7J+="tworkFailed, permanent =";D=this.So.ff;D > B && (q.warn(K7J,D === p.pl),this.emit(u7J,D === p.pl));this.aP=null;this.bP=k.default.hF.Lf;z && (this.bP=k.default.hF.Pib,A.Qw=z);A50=31;break;case 24:A.ff=D;c(A);A50=22;break;case 25:return;break;case 9:var N7J=" ";N7J+="a";N7J+="t";N7J+=" ";var U7J=" fai";U7J+="lure";U7J+=" reported";U7J+=" for";U7J+=" ";var W7J="T";W7J+="E";W7J+="M";W7J+="P";var P7J="P";P7J+="ER";P7J+="M";y=q;E=y.warn;w=(x?P7J:W7J) + U7J + k.default.xh.name[w] + N7J;x=[];A50=14;break;case 4:A50=A?3:43;break;case 19:F=F.parent;A50=12;break;case 12:A50=F?11:27;break;case 15:var Y7J="<u";Y7J+="r";Y7J+="l";Y7J+=" f";Y7J+="or ";x.unshift(Y7J + F.stream.bitrate + ">");A50=19;break;}}};b50=13;break;case 18:u.prototype.A0b=function(){var P50,w,x,y,z;P50=2;for(;P50 !== 13;){switch(P50){case 5:return null;break;case 2:(w=this,x=this.config,y=this.lA.filter(function(A){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:return !l(A) && 0 !== A.level;break;}}}));P50=1;break;case 1:P50=0 === y.length?5:4;break;case 3:P50=null === this.k2 || this.k2 + x.wqa < z?9:8;break;case 9:(y.forEach(function(A){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 2:A.id !== w.Ob.location && (A.wb=w.Kh.get(A.id));R50=1;break;}}}),this.k2=z);P50=8;break;case 4:z=n.default.time.ea();P50=3;break;case 8:x=this.bP;y.sort(function(A,B){var S50;S50=2;for(;S50 !== 1;){switch(S50){case 2:return A.level - B.level || A.Vc - B.Vc;break;}}});this.Vz || g.Bb(x) || (this.Vz=!0);return y;break;}}};u.prototype.mVb=function(w){var T50,x;T50=2;for(;T50 !== 3;){switch(T50){case 2:x=this.Ob.location;this.Vz=!1;this.qTb=w;this.lA.forEach(function(y){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:y.id !== x && y.wb && y.wb.confidence > k.default.Mf.nB && (y.wb.confidence=k.default.Mf.nB);U50=1;break;}}});T50=3;break;}}};u.prototype.LRb=function(){var V50,w;V50=2;for(;V50 !== 5;){switch(V50){case 2:w=this;this.M8 || this.lA.forEach(function(x){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 2:x.ff === p.TEMPORARY && w.Kh.fail(x.id,n.default.time.ea());W50=1;break;}}});V50=5;break;}}};u.prototype.dump=function(){};b50=27;break;case 13:u.prototype.A7a=function(w,x){var D50;D50=2;for(;D50 !== 3;){switch(D50){case 2:D50=(w=this.$o[w])?1:5;break;case 8:D50=(w=this.$o[w])?8:6;break;D50=(w=this.$o[w])?1:5;break;case 1:(d(w,x),f(w));D50=5;break;case 5:this.aP=null;this.bP=k.default.hF.Fda;D50=3;break;}}};u.prototype.i$=function(){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 4:d(this.So,-3);E50=2;break;E50=1;break;case 2:d(this.So,!1);E50=1;break;}}};b50=11;break;case 27:return u;break;case 11:u.prototype.In=function(w){var F50,x;F50=2;for(;F50 !== 5;){switch(F50){case 2:null === (x=this.wnb) || void 0 === x?void 0:x.call(this,w);F50=5;break;}}};u.prototype.sk=function(){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 4:this.mVb(v.kjb);G50=7;break;G50=1;break;case 2:this.mVb(v.kjb);G50=1;break;}}};u.prototype.Mb=function(){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:this.config.sMb && this.LRb();H50=1;break;}}};u.prototype.Y5a=function(w){var I50,x;I50=2;for(;I50 !== 5;){switch(I50){case 2:x=this;w.streams.forEach(function(y){var J50,z,A,B;J50=2;for(;J50 !== 6;){switch(J50){case 2:(z=y.downloadable_id,A=x.streams[z]);J50=1;break;case 1:J50=g.ia(A)?5:9;break;case 3:x.streams[A.id]=A;J50=9;break;case 5:var X7J="n";X7J+="on";X7J+="e";X7J+="-";B=y.content_profile;A={id:z,bitrate:y.bitrate,sb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(X7J),iu:!0,urls:[],NZ:{},Oo:[]};J50=3;break;case 9:y.urls.forEach(function(D){var K50,E,F,C;K50=2;for(;K50 !== 13;){switch(K50){case 4:F={id:E,sn:k.default.xh.URL,ff:p.Rl,Qw:void 0,parent:D,children:[],url:E,yd:D,stream:A};x.urls[E]=F;D.children.push(F);A.urls.push(F);0 === A.Oo.filter(function(G){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:return G.id === C.id;break;case 4:return G.id !== C.id;break;L50=1;break;}}}).length && A.Oo.push(C);K50=6;break;case 1:K50=g.ia(F) && (D=x.$o[D.cdn_id])?5:13;break;case 2:(E=D.url,F=x.urls[E]);K50=1;break;case 5:C=D.location;K50=4;break;case 6:C.streams[A.id]=A;(E=A.NZ[C.id])?E.push(F):A.NZ[C.id]=[F];K50=13;break;}}});g.lf(A.NZ,function(D){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:D.sort(function(E,F){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:return E.yd.Vc - F.yd.Vc;break;}}});M50=1;break;}}});A.Oo=A.Oo.sort(function(D,E){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:return D.level - E.level || D.Vc - E.Vc;break;}}});J50=6;break;}}});I50=5;break;}}};b50=18;break;}}function u(w,x,y,z,A){var c50,B;c50=2;for(;c50 !== 27;){switch(c50){case 2:B=t.call(this) || this;B.Ob=x;B.Kh=y;c50=4;break;case 8:B.Vz=void 0;B.Oo={};B.$o={};c50=14;break;case 4:B.config=z;B.wnb=A;B.qTb=v.Sx;c50=8;break;case 10:var D7J="net";D7J+="w";D7J+="o";D7J+="r";D7J+="k";B.So={id:D7J,sn:k.default.xh.Mx,ff:p.Rl,Qw:void 0,parent:void 0,children:B.lA};B.k2=null;B.aP=null;c50=18;break;case 14:B.urls={};B.streams={};B.lA=[];B.M8=!1;c50=10;break;case 18:var z7J="1";z7J+="SIY";z7J+="bZ";z7J+="rN";z7J+="JCp9";B.bP=k.default.hF.Sx;B.wL(w);z7J;return B;break;}}}})(r.EventEmitter);b.Rca=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dGa=void 0;c=a(22);f=a(5);l=a(800);m=a(801);d=a(802);h=a(803);g=a(804);k=a(805);n=a(806);r=(function(){function q(p,v,t,u){this.config=p;this.mediaType=v;this.jc=t;this.console=u;}q.prototype.append=function(p,v){var t,u,w,x;u=v.endOfStream;w=v.o8;x=v.cX;void 0 === this.track?this.sN(p.stream):this.track !== p.stream.track && (f.assert(this.track.qa),f.assert(p.stream.track.qa),f.assert(1 === this.mediaType || this.track.qa.equal(p.stream.track.qa)),this.track=p.stream.track);f.assert(void 0 !== this.Bt);v={Kd:p,offset:null !== (t=p.Xta) && void 0 !== t?t:c.T.Gb,Te:this.config.s$};v=this.Bt.reduce(function(y,z){return z.append(y,{endOfStream:u,o8:w,cX:x});},v);t=v.Kd;v=v.offset;t.ta && p.Aj(t.ta);return v;};q.prototype.reset=function(){this.Bt=this.track=void 0;};q.prototype.sN=function(p){var v,t;this.track=p.track;this.Bt=[];if(0 === this.mediaType){this.config.s$ && this.Bt.push(new d.bKa(this.config,p.track,this.console));t=this.cja(p);t.equal(c.T.Gb)?this.config.cm && p.tf && this.lpa(p.P.Z) && this.Bt.push(new k.iEa(this.config)):this.Bt.push(new l.mea(t));this.config.vra || (this.console.log("MediaSplicer: NegativePtsGuard: " + t.Xd() + ", " + (null === (v=p.tf) || void 0 === v?void 0:v.Xd())),this.Bt.push(new h.xGa(this.config,p,this.console)));this.zKb() && (this.config.Zg || this.Bt.push(new n.dza(p,this.config,this.jc,this.console)),this.Bt.push(new m.GGa(this.config,p,this.console)),this.aYb(p) && (f.assert(p.qa),this.Bt.push(this.vvb(p.tf || c.T.Gb,p.qa,t))));}};q.prototype.lpa=function(p){return this.config.lpa || this.config.I_a && -1 !== this.config.I_a.indexOf(p);};q.prototype.cja=function(p){return l.mea.cja(this.config,p.tf,this.jc,this.console);};q.prototype.zKb=function(){return !this.config.TD;};q.prototype.aYb=function(p){return this.config.W_b && this.config.cm && ! !p.tf;};q.prototype.vvb=function(p,v,t){return new g.DLa(p.Qa(t),v,this.console);};return q;})();b.dGa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mea=void 0;c=a(22);f=a(20);r=(function(){function l(m){this.tf=m;}l.cja=function(m,d,h,g){var k;k=c.T.Gb;d && (h=null === h || void 0 === h?void 0:h.b9b,m.e1b && void 0 !== h && 0 <= h?(m=new c.T(h,48E3),k=d.add(m),f.ga && g.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + m) + (" for ASE applied offset of " + k + "."))):m.cG && (k=d));return k;};l.prototype.append=function(m){var d;d=m.Te;return {Kd:m.Kd,offset:m.offset.add(this.tf),Te:d};};return l;})();b.mea=r;},function(r,b,a){var f,l,m,d;function c(h){return h.toString() + " (nrdp: " + h.uI + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.GGa=void 0;f=a(22);l=a(236);m=a(20);d=a(5);r=(function(){function h(g,k,n){this.console=n;this.offset=f.T.Gb;this.tf=g.cm?k.tf:void 0;d.assert(k.qa);this.qa=k.qa;}h.prototype.append=function(g){var k,n,q;k=g.Kd;n=g.offset;q=g.Te;void 0 !== this.M0a && (d.assert(void 0 !== this.$pa),k.Sc.add(g.offset).equal(this.M0a)?(g=this.ptb(k,n.add(this.offset)).W - this.$pa,0 > g?this.offset=this.offset.add(f.T.Lw):0 === g?this.offset.lessThan(f.T.Gb) && (this.offset=this.offset.add(f.T.Lw)):1 === g?this.offset.greaterThan(f.T.Gb) && (this.offset=this.offset.Qa(f.T.Lw)):this.offset=this.offset.Qa(f.T.Lw)):this.offset=f.T.Gb);this.$pa=this.otb(k,n.add(this.offset)).W;this.M0a=k.Od.add(n);return {Kd:k,offset:n.add(this.offset),Te:q};};h.prototype.ptb=function(g,k){var n,q;g=this.OPa(g.Sc);n=l.uu(g).add(l.uu(k));q=g.add(k).Qa(n);m.ga && this.console.trace("NrdpRounding: content start " + c(g) + ", timestamp offset: " + c(k) + ", start rounding error: " + l.uu(g).toString() + ", offset rounding error: " + l.uu(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + q.Xd() + ", (" + g.uI + k.uI + "ms), last fragment end nrdp: " + this.$pa);return q;};h.prototype.otb=function(g,k){var n,q,p;n=this.qa;g=this.OPa(g.Od);q=l.uu(g.Qa(n)).add(l.uu(n)).add(l.uu(k));p=g.add(k).Qa(q);m.ga && this.console.trace("NrdpRounding: content end: start of last frame:" + c(g.Qa(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + l.uu(g.Qa(n)).toString() + ", frame duration rouding error: " + l.uu(n).toString() + ", offset rounding error: " + l.uu(k).toString() + ", total rounding error: " + q.toString() + ", expected nrdp value: " + p.Xd() + ", (" + g.Qa(n).uI + n.uI + k.uI + "ms)");return p;};h.prototype.OPa=function(g){return this.tf?g.Qa(this.tf):g;};return h;})();b.GGa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bKa=void 0;c=a(22);f=a(5);l=a(20);r=(function(){function m(d,h,g){this.config=d;this.console=g;this.Xv=c.T.Gb;f.assert(h.qa);this.qa=h.qa;d=h.Yd[0].profile;this.D8=this.SFb(d,this.qa);this.g8=this.QFb(d,this.qa);}m.prototype.append=function(d,h){var g,k,n,q;g=d.Kd;k=d.offset;d=d.Te;n=h.o8;h=h.cX;if(this.bta){q=this.AOb(g,this.bta);g.ta && this.xia(q)?(l.ga && this.console.trace("SeamlessAudio: dropping one first frame"),g.mla(1),this.Xv=q):(this.Xv=q.add(this.qa),this.RQa(this.Xv) || (l.ga && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + g.vj.Xd() + " error would be " + this.Xv.Xd() + " (editing " + (g.ta?"":"not ") + "allowed)"),this.Xv=c.T.Gb,d=!1));this.bta=void 0;}if(g.tq || g.ww)(f.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!g.ta || !h && g.ww || (q=this.BOb(g,n,h),q.Or(c.T.Gb) && g.nla(1)),this.bta=n);f.assert(this.RQa(this.Xv));this.dqa=g.we;return {Kd:g,offset:k.add(this.Xv),Te:d};};m.prototype.BOb=function(d,h,g){var k;if(g)k=this.Xv.add(d.we.Qa(g)).Qa(this.qa);else (k=d.we.Qa(h),k=this.Xv.add(k).Qa(this.qa));l.ga && this.console.trace("SeamlessAudio: fragment end: " + d.we.Xd() + ", splice " + h.Xd() + ", next start " + (null === g || void 0 === g?void 0:g.Xd()) + ", error " + k.add(this.qa).Xd() + ", error with frame drop " + k.Xd() + ", is" + (this.xia(k)?"":" not") + " within bounds of [" + this.D8.Xd() + " and " + this.g8.Xd() + ")");return k;};m.prototype.AOb=function(d,h){var g;f.assert(this.dqa);g=this.Xv.add(this.dqa.Qa(d.vj)).Qa(this.qa);l.ga && this.console.trace("SeamlessAudio: fragment start: " + d.vj.Xd() + ", splice " + h.Xd() + ", last fragment end: " + this.dqa.Xd() + ", error " + g.add(this.qa).Xd() + ", error with frame drop " + g.Xd() + ", is" + (this.xia(g)?"":" not") + " within bounds of [" + this.D8.Xd() + " and " + this.g8.Xd() + ")");return g;};m.prototype.xia=function(d){return d.lessThan(this.g8) && d.Or(this.D8);};m.prototype.RQa=function(d){return d.lessThan(this.g8.add(c.T.Lw)) && d.Or(this.D8.Qa(c.T.Lw));};m.prototype.QFb=function(d,h){return "object" === typeof this.config.sva && void 0 !== this.config.sva[d]?(d=new c.T(this.config.sva[d],1E3).Yf(h.S).add(new c.T(1,h.S)),c.T.min(h,d)):h;};m.prototype.SFb=function(d,h){var g;if("object" === typeof this.config.tva && void 0 !== this.config.tva[d]){g=h.om(-2);d=new c.T(this.config.tva[d],1E3).Yf(h.S).Qa(new c.T(1,h.S));return c.T.max(g,d);}return new c.T(-12,1E3);};return m;})();b.bKa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xGa=void 0;c=a(22);f=a(5);l=a(20);r=(function(){function m(d,h,g){var k;this.console=g;this.sY=!1;f.assert(h.qa,"NegativePtsGuard: stream.frameDuration must exist.");this.qa=h.qa;this.cm=d.cm;this.tf=null !== (k=h.tf) && void 0 !== k?k:c.T.Gb;}m.prototype.append=function(d){var h,g,k,n;if(this.sY)return d;h=d.Kd;g=d.offset;d=d.Te;if(h.ta){k=h.Sc.Qa(this.cm?this.tf:c.T.Gb).add(g);if(k.lessThan(c.T.Gb)){n=Math.ceil(k.LH(-1).om(this.qa));l.ga && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.tf.Xd() + ", request content start ") + (h.Sc.Xd() + ", current timestamp offset ") + (g.Xd() + " => firstPlatformTimestamp ") + (k.Xd() + "."));h.mla(n);}}this.sY=!0;return {Kd:h,offset:g,Te:d};};return m;})();b.xGa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=void 0;c=a(22);f=a(20);r=(function(){function l(m,d,h){this.tf=m;this.qa=d;this.console=h;}l.prototype.append=function(m,d){var h,g,k,n;h=m.Kd;g=m.offset;m=m.Te;k=d.endOfStream;d=d.o8;if(k && d){k=h.Sc.Qa(this.tf).add(g);n=h.Od.Qa(this.tf).add(g);d=d.Qa(c.T.Lw);f.ga && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + k.Xd() + "-" + n.Xd() + " vs media splice point at " + d.Xd());k.add(this.qa).Or(d)?(f.ga && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),h.lla()):n.Or(d) && (d=Math.ceil(n.Qa(d).om(this.qa)),h.ta?(f.ga && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),h.nla(d)):(f.ga && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),h.lla()));}else k && f.ga && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Kd:h,offset:g,Te:m};};return l;})();b.DLa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iEa=void 0;r=(function(){function a(c){this.sY=!1;this.jYb=c.GJb;}a.prototype.append=function(c){c.Kd.ta && (c.Kd.tXb(this.sY?0:this.jYb),this.sY=!0);return c;};return a;})();b.iEa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dza=void 0;c=a(378);f=a(9);r=(function(){function l(m,d,h,g){this.config=d;this.jc=h;this.console=g;this.qa=m.qa;}l.prototype.append=function(m,d){var h,g,k,n,q,p,v,t;g=c.vna(this.config,this.jc);k=m.Kd;n=k.we;q=k.vj;p=k.ww;v=m.Te;p=k.tq || p;if(!m.Kd.ta || !p || v)return m;v=k.Od.Qa(k.Sc);k=Math.floor(v.om(this.qa));p=null !== (h=d.cX) && void 0 !== h?h:n.Qa(this.qa.LH(2));n=p.Qa(q);h=k;t=!1;d.cX && (d=this.CRa(v,n,n),h=d.kva,t=d.A3a);g=p.Qa(f.T.Fb(g));q=f.T.max(g.Qa(q),f.T.Gb);t || (q=this.CRa(v,q,n),h=q.kva,q.A3a && (--h,this.qa.LH(h)));h < (this.config.vOb || 1)?m.Kd.lla():0 < k - h && m.Kd.nla(k - h);return m;};l.prototype.CRa=function(m,d,h){var g;m=f.T.min(m,d);m=Math.floor(m.om(this.qa));d=this.qa.LH(m);h=h.Qa(d);g=0 < m && h.lessThan(f.T.Lw);return {kva:m,rbc:d,M9b:h,A3a:g};};return l;})();b.dza=r;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w;function c(x,y,z,A){var B,D;h.assert(x.Xk,"Current time: " + n.default.time.ea() + " cr: " + x.currentTime);h.assert(x.currentTime.isFinite());B=z.Qa(x.currentTime);B=Math.max(Math.ceil(B.dI / x.speed),0);D=null !== A && void 0 !== A?A:{id:void 0,ZTa:B,S3a:0,RQb:B};D.id=setTimeout(function(){z.Qa(x.currentTime).EN(m.T.Gb)?y():(D.S3a++,c(x,y,z,D));},B);D.ZTa=B;return D;}Object.defineProperties(b,{__esModule:{value:!0}});b.hya=b.VR=void 0;f=a(2);l=a(17);m=a(22);d=a(237);h=a(5);g=a(20);k=a(808);n=f.__importDefault(a(6));q=a(173);p=a(809);v=a(810);t=a(148);u=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{$I:{get:function(){return this.iha;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{w3a:{get:function(){return this.inb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vyb:{get:function(){return this.slb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ova:{get:function(){return this.Uob;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.slb=z === w.cO?0:n.default.time.ea();this.inb=y;this.Uob=z;g.ga && h.assert(!this.iha,"Invalid replacement of timeout value");this.iha=A;};x.prototype.complete=function(){this.iha=void 0;this.set(m.T.bD,w.cO);};return x;})();(function(x){x[x.cO=0]="none";x[x.M2a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(w || (w={}));r=(function(x){function y(z,A,B){var D;void 0 === B && (B="unknown");D=x.call(this) || this;D.ya=z;D.console=A;D.name=B;D.gnb=0;D.hga=!1;D.Lk=new u();D.c5=new l.Uh();D.Wl=new d.A0([],k.zSa(function(E,F){return E.VO.yl(F.VO);},function(E,F){return F.Ds.priority - E.Ds.priority;},function(E,F){return E.Ds.id > F.Ds.id?1:E.Ds.id < F.Ds.id?-1:0;}));D.zQa(z);return D;}f.__extends(y,x);Object.defineProperties(y.prototype,{TXb:{get:function(){return this.ya.Xk;},enumerable:!1,configurable:!0}});y.prototype.tTa=function(z,A){z=new (z.bind.apply(z,f.__spread([void 0],A)))();z.id=this.gnb++;z.zrb(this);this.Lha(z);return z;};y.prototype.xG=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.tTa(p.nEa,z);};y.prototype.bEb=function(){var z;z={hasSchedule:! !this.Lk.$I,schedule:this.Lk.$I && ({sleepTime:this.Lk.$I.ZTa,originalSleepTime:this.Lk.$I.RQb,clockSkewAdjustments:this.Lk.$I.S3a}),nextWakeup:this.Lk.w3a.W,timeScheduled:this.Lk.vyb,scheduleType:w[this.Lk.ova],numTasks:this.Wl.length,clock:{ir:this.ya.Xk,ct:this.ya.currentTime.W,sp:this.ya.speed}};g.ga && this.trace("audit",z);return z;};y.prototype.lU=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.tTa(v.uKa,z);};y.prototype.Kxb=function(z,A,B){this.xG(function(){return f.__generator(this,function(D){switch(D.label){case 0:return [4,t.Ik.oJ(A)];case 1:return (D.$c(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.zQa=function(z){var A;A=this;this.uC();this.c5.clear();this.ya=z;this.c5.on(z,"stopStart",function(){return A.FO();});this.c5.on(z,"clockAdjusted",function(){return A.lX();});this.c5.on(z,"speedChanged",function(){return A.DQb();});this.lX();this.emit("clockChanged");};y.prototype.DQb=function(){this.uC();this.FO();};y.prototype.Mb=function(){this.reset();};y.prototype.reset=function(){this.uC();this.Wl.clear();};y.prototype.lX=function(){var z,A;z=this;A=this.Wl.map(function(B){return B.Ds;});this.uC();this.Wl.clear();A.forEach(function(B){return z.Lha(B,!1);});this.FO();};y.prototype.Lha=function(z,A){var B,D;void 0 === A && (A=!0);B=z.T8();D=this.M$a(B);z={Ds:z,VO:D,f$:B};h.assert(!this.Wl.contains(z));this.Wl.push(z);A && this.FO();};y.prototype.FO=function(){var z,A,B,D,E;z=this;g.ga && this.trace("recheck schedule task count:" + this.Wl.length);if(this.TXb){if(this.hga)g.ga && this.trace("already executing, bailing");else {D=this.Lk.w3a;E=null !== (B=null === (A=this.Wl.Mw()) || void 0 === A?void 0:A.VO) && void 0 !== B?B:m.T.bD;E.isFinite() && E.X8(D)?(this.uC(!1),this.ya.currentTime.Or(E)?(this.Lk.set(E,w.M2a),Promise.resolve().then(function(){z.Lk.ova === w.M2a && (z.Lk.complete(),z.O7a());})):(g.ga && this.trace("scheduling next wake up for:" + E.W),A=c(this.ya,function(){z.Lk.complete();z.O7a();},E),this.Lk.set(E,w.setTimeout,A))):E.isFinite() || this.Lk.ova !== w.setTimeout || this.uC(!1);}}else (g.ga && this.trace("should check schedule is false, stopping"),this.uC());};y.prototype.O7a=function(){var z,A,B,D;B=0;D=null === (z=this.Wl.Mw()) || void 0 === z?void 0:z.f$;try{for(this.hga=!0;1E4 > B++ && this.$_b();){;}}finally{this.hga=!1;this.uC();1E4 < B && !this.jIb(D)?null === (A=this.console) || void 0 === A?void 0:A.error("Task scheduler executed more than 10000 iterations in same tick"):this.FO();}};y.prototype.jIb=function(z){var A,B;B=null === (A=this.Wl.Mw()) || void 0 === A?void 0:A.f$;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.$_b=function(){var z,A,B;B=null !== (A=null === (z=this.Wl.Mw()) || void 0 === z?void 0:z.VO) && void 0 !== A?A:m.T.bD;g.ga && this.trace("tryExecuteNextTask @" + this.ya.currentTime.W + ", next wakeup at " + B);if(this.ya.currentTime.Or(B) && (z=this.Wl.pop())){A=z.Ds;g.ga && this.trace("Running a task @" + this.ya.currentTime.W + ", scheduled for time:" + B.W + ("Name:" + A.name));try{A.Yw();z.f$=A.T8();z.VO=this.M$a(z.f$);}catch(D){throw (this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + D,{stack:D.stack}),A.Mb(),D);}finally{z.VO !== m.T.bD && A.state === q.Vm.p$ && (h.assert(!this.Wl.contains(z)),this.Wl.push(z));}return !0;}};y.prototype.MVb=function(z){h.assert(z.Xf === this);this.Hua(z,!1);this.Lha(z);};y.prototype.Hua=function(z,A){var B;void 0 === A && (A=!0);B=this.Wl.find(function(D){return D.Ds === z;});B && this.ZUb(B,A);};y.prototype.ZUb=function(z,A){this.Wl.remove(z);A && this.FO();};y.prototype.uC=function(z){void 0 === z && (z=!0);this.Lk.$I && (z && this.emit("stopping"),clearTimeout(this.Lk.$I.id),this.Lk.complete());};y.prototype.M$a=function(z){return z.type === t.Aea.absolute?z.timestamp:z.timestamp.add(this.ya.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,f.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(l.EventEmitter);b.VR=r;b.hya=function(x,y,z){var A;A=void 0;return (z || x.ya.Xk) && x.ya.currentTime.Or(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.lU(t.Ik.TP(y),B);}),Ds:A};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zSa=void 0;c=a(2);f=a(20);l=a(5);b.zSa=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}f.ga && l.assert(m.length);return function(h,g){var k,p,v;try{for(var n=c.__values(m),q=n.next();!q.done;q=n.next()){p=q.value;v=p(h,g);if(0 !== v)return v;}}catch(u){var t;t={error:u};}finally{try{q && !q.done && (k=n.return) && k.call(n);}finally{if(t)throw t.error;}}return 0;};};},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.nEa=void 0;c=a(2);f=a(22);l=a(5);m=a(173);d=a(148);r=(function(h){function g(k,n,q){n=h.call(this,n,q) || this;n.gWb=k;n.reset();return n;}c.__extends(g,h);g.prototype.reset=function(){var k,n;if(this.Yc === m.Vm.p$ || this.Yc === m.Vm.pending)null === (n=null === (k=this.N1) || void 0 === k?void 0:k.return) || void 0 === n?void 0:n.call(k);this.Yc=m.Vm.pending;this.N1=this.gWb();this.Aga=d.Ik.oJ(f.T.Gb);};g.prototype.Em=function(){this.reset();l.assert(this.Rv);this.Rv.MVb(this);};g.prototype.T8=function(){return this.Aga;};g.prototype.ng=function(){var k,n,q;q=this.N1.next();q.done?(this.Aga=d.Ik.gya,null === (n=(k=this.N1).return) || void 0 === n?void 0:n.call(k)):this.Aga=q.value;};g.prototype.Mb=function(){var k,n;null === (n=(k=this.N1).return) || void 0 === n?void 0:n.call(k);h.prototype.Mb.call(this);};return g;})(m.Nea);b.nEa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.uKa=void 0;c=a(2);f=a(173);l=a(148);r=(function(m){function d(h,g,k){k=m.call(this,k) || this;k.rva=h;k.WT=g;return k;}c.__extends(d,m);d.prototype.T8=function(){return this.Yc === f.Vm.pending?this.rva:l.Ik.gya;};d.prototype.ng=function(){this.WT();};return d;})(f.Nea);b.uKa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HJa=void 0;r=a(2);c=r.__importDefault(a(28));f=r.__importDefault(a(379));a=(function(){function l(m){this.L2=[];this.L2[c.default.Ta.Lb]=new f.default(m,c.default.Ta.Lb);this.L2[c.default.Ta.Ub]=new f.default(m,c.default.Ta.Ub);}l.prototype.yqb=function(m,d,h){this.L2[m].add(d,h);};l.prototype.Vna=function(){var m;m=[];this.L2.forEach(function(d){var h;if(d){h=d.get();h && 0 < h.length && h.forEach(function(g){m.push(g);});d.reset(!0);}});return m;};l.prototype.xCb=function(m){var d;d=this.Vna();m.strmsel=d;return 0 < d.length;};return l;})();b.HJa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QXa=void 0;b.QXa=function(a){var c,f,l;c=Math.floor(1E6 * Math.random());f=a.Hoa;l=a.G6;a=0 === c % a.Ioa && 0 < l.length;return {Jr:a,OU:a && 0 === c % f};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NSa=void 0;b.NSa=function(a,c){var f;if(!Array.isArray(a.LSa))return a;f=a.Dt?a.Dt():Object.create(a);a.LSa.forEach(function(l){if(void 0 !== l.tOb && c.duration >= l.tOb && l.config)for(var m in l.config){f[m]=l.config[m];}});return f;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rBa=void 0;c=a(2).__importStar(a(10));f=a(124);l=a(5);r=(function(){var X50;function m(d,h,g){var Y50;Y50=2;for(;Y50 !== 3;){switch(Y50){case 2:var c7J="1SI";c7J+="YbZrNJC";c7J+="p9";this.qn=d;this.H=h;this.Zh=g;c7J;Y50=3;break;}}}X50=2;for(;X50 !== 7;){switch(X50){case 2:m.prototype.nlb=function(d,h){var Z50,g,k;Z50=2;for(;Z50 !== 8;){switch(Z50){case 2:var Q7J="crea";Q7J+="teDlTracksSt";Q7J+="art";(g=this,k=this.qn.I);0 === this.LF && this.qn.Cb.Yl(Q7J);this.LF+=d.length;Z50=4;break;case 4:d=d.map(function(n){var a60;a60=2;for(;a60 !== 1;){switch(a60){case 2:return g.FMa(n,h.J,h.Mz(),g.qn.Vl,k);break;}}});f.lp.instance.ng();return d;break;}}};m.prototype.zlb=function(){var b60,d,h;b60=2;for(;b60 !== 3;){switch(b60){case 2:(d=this,h=[]);this.qn.zb.Jf.forEach(function(g){var c60;c60=2;for(;c60 !== 5;){switch(c60){case 2:c.ia(g.Hf) || h.push(g.Hf);g.Hf=void 0;c60=5;break;}}});this.qn.DS && (h.push(this.qn.DS),this.qn.DS=void 0);b60=4;break;case 4:h.forEach(function(g){var d60;d60=2;for(;d60 !== 5;){switch(d60){case 2:g.Ao || --d.LF;f.lp.instance.kM(g);d60=5;break;}}});b60=3;break;}}};m.prototype.vmb=function(){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:this.LF=0;e60=1;break;}}};m.prototype.xOa=function(d,h){var f60,g,k;f60=2;for(;f60 !== 5;){switch(f60){case 2:(g=this.qn.zb.Jf[d],k=g.Hf);k && (k=h.tL(d,k),this.ylb(d),g.Hf=this.FMa(d,h.J,h.Mz(),this.qn.Vl,this.qn.I),h.cva(k));f60=5;break;}}};m.prototype.FMa=function(d,h,g,k,n){var g60,q,p;g60=2;for(;g60 !== 7;){switch(g60){case 3:var x7J="tr";x7J+="an";x7J+="sportrepor";x7J+="t";p.on(x7J,function(v){var k60;k60=2;for(;k60 !== 1;){switch(k60){case 2:var E7J="tr";E7J+="ansp";E7J+="ortreport";q.qn.emit(E7J,v);k60=1;break;case 4:q.qn.emit("",v);k60=3;break;k60=1;break;}}});p.xb();return p;break;case 2:var R8J="e";R8J+="r";R8J+="r";R8J+="o";R8J+="r";var G7J="netwo";G7J+="rk";G7J+="failing";var C7J="cr";C7J+="ea";C7J+="t";C7J+="ed";(q=this,p=f.lp.instance.Gt(d,h,!0,g,k,n));p.Wg.on(p,C7J,function(){var h60;h60=2;for(;h60 !== 5;){switch(h60){case 2:var r7J="cre";r7J+="ateD";r7J+="lTrac";r7J+="ksEn";r7J+="d";--q.LF;0 === q.LF && q.qn.Cb.Yl(r7J);h60=5;break;}}});p.Wg.on(p,G7J,function(){var i60,v;i60=2;for(;i60 !== 8;){switch(i60){case 1:i60=p.i5?5:8;break;case 2:var m7J="reportNet";m7J+="wo";m7J+="r";m7J+="kFailing: ";n.ei && q.Zh.ym(m7J + p);i60=1;break;case 5:l.assert(p.YU);v=q.qn.Fe.P;v.$p.ms(p.YU,void 0,p.mh,p.sj);i60=9;break;case 9:v.Lm();i60=8;break;}}});p.Wg.on(p,R8J,function(){var j60;j60=2;for(;j60 !== 5;){switch(j60){case 2:var O8J="NFErr_MC_Streamin";O8J+="gF";O8J+="ailu";O8J+="re";var h8J="Down";h8J+="loadTra";h8J+="ck fatal error";var y8J="Download";y8J+="Track fatal";y8J+=" error";n.ei && q.Zh.ym(y8J);q.qn.Dp(h8J,void 0,O8J,p.mh,0,p.sj);j60=5;break;}}});g60=3;break;}}};m.prototype.ylb=function(d){var l60,h;l60=2;for(;l60 !== 9;){switch(l60){case 2:d=this.qn.zb.Jf[d];h=d.Hf;h.Ao || --this.LF;f.lp.instance.kM(h);d.Hf=void 0;l60=9;break;}}};X50=8;break;case 8:return m;break;}}})();b.rBa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Mya=void 0;c=a(16);f=a(9);r=(function(){function l(m){this.mG=m;this.state=new f.dr(c.ma.yh);this.oj={};}l.prototype.getState=function(){return this.state.value;};l.prototype.Ue=function(m){this.state.set(m);};l.prototype.addListener=function(m){this.state.addListener(m);};l.prototype.paused=function(){this.state.value === c.ma.Hc && this.state.set(c.ma.eh);};l.prototype.m0a=function(){return this.state.value === c.ma.yh;};l.prototype.rq=function(){return "function" === typeof this.mG.rq?this.mG.rq():this.state.value === c.ma.Hc;};l.prototype.og=function(){return this.state.value === c.ma.ud || this.state.value === c.ma.Nf;};l.prototype.n0a=function(){return this.state.value === c.ma.cj;};l.prototype.o0a=function(){return this.state.value === c.ma.gr;};l.prototype.Pe=function(){return this.mG.Pe();};l.prototype.Ho=function(){return "function" === typeof this.mG.Ho?this.mG.Ho():1;};l.prototype.zV=function(){return this.mG.zV();};l.prototype.KY=function(m,d){this.oj[m]=d;};l.prototype.Mo=function(m){return ! !this.oj[m.J] || m.di;};return l;})();b.Mya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DIa=void 0;r=(function(){function a(c,f,l){var m;this.nrb=c;this.Bga=f;this.tlb=l;this.Ofa=(m={},m[0]=!1,m[1]=!1,m);this.reset();}a.prototype.Oy=function(){var c,f;c=this;f=this.nrb.filter(function(l){return !l.Q_a(c.tlb());});0 === f.length && this.lga?this.onb():f.forEach(function(l){c.Ofa[l.mediaType] || (l.once("requestAppended",function(){c.Ofa[l.mediaType]=!1;c.Oy();}),c.Ofa[l.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.lga=!1;new Promise(function(f){c.onb=f;}).then(function(){return c.Bga();});};a.prototype.dNb=function(){this.lga || (this.lga=!0,this.Oy());};return a;})();b.DIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yya=void 0;c=a(20);r=(function(){function f(l){this.console=l;this.EF=[];this.SB=[];c.ga && this.console.trace("Received pending adoption " + this.Ll.length);}Object.defineProperties(f.prototype,{length:{get:function(){return this.EF.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ll:{get:function(){return this.SB;},enumerable:!1,configurable:!0}});f.prototype.aNb=function(l){l=this.SB.indexOf(l);-1 !== l && (c.ga && this.console.trace("Marking request attached"),this.EF[l].N_a=!0,this.jab(l));};f.prototype.bNb=function(l){l=this.SB.indexOf(l);-1 !== l && (c.ga && this.console.trace("Marking request completed"),this.EF[l].Nz=!0,this.jab(l));};f.prototype.$Ub=function(l){var m,d;m=this;d=[];this.SB.forEach(function(h,g){l(h) && d.unshift(g);});d.forEach(function(h){m.SB.splice(h,1);m.EF.splice(h,1);});};f.prototype.push=function(l){this.SB.push(l);this.EF.push({N_a:!1,Nz:!1});c.ga && this.console.trace("Pushing pending request, " + this.length + " total");};f.prototype.WC=function(){return 0 < this.length;};f.prototype.jab=function(l){var m;m=this.EF[l];m.N_a && m.Nz && (m=this.SB[l],this.SB.splice(l,1),this.EF.splice(l,1),c.ga && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ga && this.console.trace("Removing last request, contentEndPts: " + m.Ic));};return f;})();b.yya=r;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u){return (1 === t.mediaType?0:1) - (1 === u.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.CEa=b.Qda=b.Wib=void 0;f=a(2);l=a(83);m=a(149);d=a(383);h=a(16);g=a(9);k=a(5);n=a(22);q=f.__importDefault(a(6));r=a(102);p=a(42);v=(function(t){function u(){return null !== t && t.apply(this,arguments) || this;}f.__extends(u,t);return u;})(a(239).XJ);b.Wib=v;b.Qda={qbb:c};a=(function(t){function u(w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R){var H;A=t.call(this) || this;A.Qbc=w;A.I=x;A.P=z;A.Fp=B;A.X5=D;A.Ys=C;A.zS=G;A.ql=K;A.$x=I;A.events=M;A.Pv=R;A.ce=new v([]);A.Ul=!1;A.IS=0;A.hS=A.kX.bind(A);A.H=g.vq(q.default,y,B.id && B.id.length?"{" + B.id + "}":"");A.Jk=A.H.error.bind(A.H);A.Qb=A.H.warn.bind(A.H);A.en=A.H.trace.bind(A.H);A.Sr=null !== F && void 0 !== F?F:n.T.Fb(A.O.Y);A.Jga=null === J || void 0 === J?void 0:J.we;null === (H=A.$x) || void 0 === H?void 0:H.addListener(A.hS);z && E && A.yJb(z,E);return A;}f.__extends(u,t);Object.defineProperties(u.prototype,{Dh:{get:function(){return this.Ul;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{O:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xw:{get:function(){return this.ce.every(function(w){return w.xw;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ul:{get:function(){return this.ce.every(function(w){return w.ul;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tt:{get:function(){return this.kq().reduce(function(w,x){return w + x.tt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ki:{get:function(){return this.kq().every(function(w){return w.ki();});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ug:{get:function(){return this.kq().map(function(w){return w.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{S:{get:function(){return this.kt.S;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wa:{get:function(){return this.kt.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ob:{get:function(){return this.kt.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xj:{get:function(){return this.ig.Yf(this.S).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Tr:{get:function(){return this.Sr.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cI:{get:function(){return this.O.Lg.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{uO:{get:function(){return this.O.Sk.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{GM:{get:function(){var w,x;x=null === (w=this.O.O.gq) || void 0 === w?void 0:w[0];return x && this.Sc?n.T.Fb(Math.max(0,x[0] - this.Sc.W - this.O.Lg.W)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{L7:{get:function(){return this.ce.reduce(function(w,x){return w && x.we?n.T.max(w,x.we):x.we?x.we:w;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{gpa:{get:function(){return this.Tr.W;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ee:{get:function(){return this.ig.W;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Qq:{get:function(){return this.kt.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ig:{get:function(){return this.Ys;},enumerable:!1,configurable:!0}});u.prototype.hx=function(w){this.ig.equal(w) || (this.Ys=w);};u.prototype.wz=function(w){return (w=this.eb(w))?Promise.resolve(w.wz()):Promise.resolve(m.AsyncIterator.CXa());};u.prototype.HG=function(){this.kq().forEach(function(w){return w.HG();});};u.prototype.reset=function(){this.ce.forEach(function(w){w.reset();});};u.prototype.Cf=function(){var w,x;this.Ul || (this.Ul=!0,null === (w=this.UB) || void 0 === w?void 0:w.cd(),this.UB=void 0,this.ce.forEach(function(y){y.Cf();}),null === (x=this.$x) || void 0 === x?void 0:x.removeListener(this.hS),this.events.removeAllListeners());};u.prototype.fW=function(){return !0;};u.prototype.eb=function(w){return this.ce.get(w);};u.prototype.kq=function(w){void 0 === w && (w=c);return this.ce.items.slice().sort(w);};u.prototype.b6=function(){return this.ce.items;};u.prototype.YM=function(w){return this.eb(w);};u.prototype.Gh=function(w,x){w=this.eb(w);if(!w)return 0;if(x)return w.Dm;x=w.Sp;if(void 0 === x)return 0;w=this.zS();return x - w;};u.prototype.KC=function(){var w,x,y,z,A,B,D;D=null === (w=this.eb(0)) || void 0 === w?void 0:w.nn;w=null === (x=this.eb(1)) || void 0 === x?void 0:x.nn;return {Xn:null !== (y=null === w || void 0 === w?void 0:w.W) && void 0 !== y?y:0,vr:null !== (z=null === D || void 0 === D?void 0:D.W) && void 0 !== z?z:0,jx:null !== (A=null === w || void 0 === w?void 0:w.fa) && void 0 !== A?A:0,uL:null !== (B=null === D || void 0 === D?void 0:D.fa) && void 0 !== B?B:0};};u.prototype.IV=function(w){var x;return (w=this.eb(w))?null !== (x=w.Sp) && void 0 !== x?x:0:0;};u.prototype.Lm=function(w){w=this.eb(w);k.assert(w);return w.Lm();};u.prototype.kX=function(w){h.Lo(w.newValue) && this.qr();};u.prototype.sG=function(w){return this.ce.every(function(x){return x.sG(w);});};u.prototype.M5=function(w){var x,y;return null !== (y=null === (x=this.ce.get(w)) || void 0 === x?void 0:x.yTa) && void 0 !== y?y:n.T.Gb;};u.prototype.tk=function(w){this.Ul || (w.c3 || k.assert(!w.Zc),this.qr(),this.ul && this.Hga());this.Tt(w);};u.prototype.UH=function(w){this.I.R4 && this.qr(!0);this.OG(w);};u.prototype.TH=function(w){this.I.R4 && this.qr(!0);this.IC(w);};u.prototype.cwa=function(w){var x;return h.Lo((null === (x=this.$x) || void 0 === x?void 0:x.value) || h.Gc.dj) && (!w || this.IS + this.I.w8 < q.default.time.ea());};u.prototype.qr=function(w){void 0 === w && (w=!1);this.cwa(w) && (this.IS=q.default.time.ea(),w={type:"checkBufferingProgress"},this.events.emit(w.type,w));};u.prototype.Hga=function(){var w;w={type:"branchStreamingComplete"};this.events.emit(w.type,w);};u.prototype.yJb=function(w,x){var y,z;y=this;this.Vva(w);k.assert(w.Z === this.O.Z || isNaN(w.Z) && isNaN(this.O.Z));this.Wfa=[];w=null !== x && void 0 !== x?x:null === (z=this.X5) || void 0 === z?void 0:z.call(this,w);k.assert(w,"tracks need to exist upon initialization");w.forEach(function(A){var B;A=A.mediaType;B=new d.tda(A,y.I,y.H);y.Wfa[A]=B;});};u.prototype.toJSON=function(){var w,x;return {segment:this.O.id,branchOffset:this.Ee,viewableId:this.Fp.Z,contentStartPts:null === (w=this.Sc) || void 0 === w?void 0:w.W,contentEndPts:null === (x=this.Od) || void 0 === x?void 0:x.W};};return u;})(l.hv);b.CEa=a;p.wf(r.px,a);p.wf(r.iB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OUa=b.oKb=b.T_a=b.HYa=void 0;c=a(25);b.HYa=function(f,l){if((f=f.gb.O.Ww) && 0 !== f.length)return c.hg(f,function(m){return m.Sc.W <= l && l < m.Od.W;});};b.T_a=function(f,l){return l.index === f.fe.index?!0:(f=f.gb.O.Ww) && 0 !== f.length?f.some(function(m){m=m.Sc;return l.Sc.EN(m) && m.lessThan(l.Od);}):!1;};b.oKb=function(f,l){return l.index === f.Gf.index?!0:(f=f.gb.O.Ww) && 0 !== f.length?f.some(function(m){m=m.Od;return l.Sc.lessThan(m) && m.EN(l.Od);}):!1;};b.OUa=function(f,l,m,d){var h,g,k,n,q,p,v,t;f=null === (h=l.ta) || void 0 === h?void 0:h.start;h=null === (g=l.ta) || void 0 === g?void 0:g.end;t=g=!1;if((null === d || void 0 === d?0:d.yKb) || (null === d || void 0 === d || !d.mKb) && l.Sc.lessThan(m.Sc)){if(v=l.fma(m.Sc.W))(v=(null !== (n=null === (k=l.ta) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + v.fl,f=Math.max(null !== f && void 0 !== f?f:0,v));v=m.Sc.W;g=!0;}if((null === d || void 0 === d || !d.sKb) && l.Od.greaterThan(m.Od)){if(v=l.fma(m.Od.W))(v=(null !== (p=null === (q=l.ta) || void 0 === q?void 0:q.start) && void 0 !== p?p:0) + v.fl,h=Math.min(null !== h && void 0 !== h?h:Infinity,v),l.ZN=l.index);v=m.Od.W;t=!0;}void 0 === f && void 0 === h || l.Aj({start:f,end:h});void 0 !== v && (!l.$u || v > l.$u) && (l.jP(v),l.ta || l.Aj({}));l.qXb(m.region,g,t);};},function(r,b,a){var c,f,l,m,d,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dIa=void 0;r=a(2);c=r.__importDefault(a(28));f=c.default.Ta;l=c.default.hF;m=a(9);d=a(22);h=r.__importDefault(a(144));g=r.__importDefault(a(6));a=(function(){function k(n,q,p,v,t){this.Ow=n;this.Lt=q;this.I=p;this.H=v;this.Rg=t;}k.prototype.rPb=function(n){n={type:"requestCreated",request:n};m.Va(this.Lt,n.type,n);};k.prototype.qPb=function(n){var q;q=n.Pa.gb.O;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{wa:q.id,offset:d.T.Fb(this.Ow.Qja - q.Y)},completePlayerStreamingTimestamp:d.T.Fb(this.Ow.Sp),trackIndex:n.stream.track.gC};m.Va(this.Lt,n.type,n);};k.prototype.O3a=function(n,q,p){var v,t;v=this.Rg;t=this.Ow.il.tg;t.M8a(n);1 === v && this.I.q$ && (void 0 === t.hqa?t.O8a(g.default.time.ea()):g.default.time.ea() - t.hqa > this.I.q$ && (n.bitrate !== t.U0a && (g.default.storage.set("vb",n.bitrate),t.vXb(n.bitrate)),t.O8a(g.default.time.ea())));t.qW && t.qW === n || (this.Ow.il.UYb(q,t.qW,n),t.kXb(n),q=0,n.wb && n.wb.confidence && n.wb.Ra && (q=n.wb.Ra.Ga),t={wa:this.Ow.gb.O.id,offset:d.T.Fb(p - this.Ow.gb.O.Y)},n={type:"streamSelected",nativetime:g.default.time.ea(),mediaType:v,streamId:n.id,manifestIndex:n.P.Nb,trackIndex:n.track.gC,streamIndex:n.Kf,movieTime:p,bandwidth:q,longtermBw:q,rebuffer:0,position:t},m.Va(this.Lt,n.type,n));};k.prototype.mPb=function(n,q,p){var v,t,u,w,x;v=q.P;t=v.vm;u=this.Ow.il.tg;w=v.SKb(q);x=w.Tpa;w=w.TKb;p && q.yd && !u.rW?(w=l.Sx,q.ws=l.name[w],this.N3a(n,q.yd,q.ws,q.location,q.bitrate),u.rW=q.yd):!p && q.yd && q.yd !== u.rW && (w=w?void 0 === u.rW?l.Sx:t.bP === l.Fda?l.xjb:l.Aba:l.wjb,q.ws=l.name[w],this.N3a(n,q.yd,q.ws,q.location,q.bitrate),u.rW=q.yd);u.CN || (w={type:"logdata",target:"startplay",fields:{}},this.Rg === f.Ub?w.fields.alocid=q.location:this.Rg === f.Lb && (w.fields.locid=q.location),m.Va(this.Lt,w.type,w));p && q.location && !u.CN?(w=l.Sx,q.ws=l.name[w],this.L3a(v.Nb,n,q.location,q.xqa,q.yd,q.DI,q.ws,q.Qw),u.CN=q.location):!p && q.location && q.location !== u.CN && (w=x?void 0 === u.CN?l.Sx:t.bP === l.Fda?l.Tgb:l.Aba:l.Sgb,q.ws=l.name[w],this.L3a(v.Nb,n,q.location,q.xqa,q.yd,q.DI,q.ws,q.Qw),q.Qw=void 0,u.CN=q.location);this.I.Iu || (q.P0a=q.location,q.S0a=q.yd);};k.prototype.b9=function(n){n={type:"requestsPruned",requests:n};m.Va(this.Lt,n.type,n);};k.prototype.N3a=function(n,q,p,v,t){var u,w;u=this.Rg === f.Lb?"video":"audio";w=h.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:u,server:q,reason:p,location:v,bitrate:t,confidence:w.confidence};w.confidence && (n.throughput=w.Ra.Ga);this.Ow.il.tg.rW && (n.oldserver=q);m.Va(this.Lt,n.type,n);};k.prototype.L3a=function(n,q,p,v,t,u,w,x){m.Va(this.Lt,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:q,mediatype:this.Rg === f.Lb?"video":"audio",location:p,locationlv:v,serverid:t,servername:u,selreason:w,seldetail:x});};k.prototype.Cga=function(n,q){q={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(q)};n.ND || m.Va(this.Lt,q.type,q);};k.prototype.ym=function(n){n={type:"managerdebugevent",message:"@" + g.default.time.ea() + ", " + n};m.Va(this.Lt,n.type,n);};k.prototype.qDb=function(n){m.Va(this.Lt,"transportReport",n);};return k;})();b.dIa=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.MJa=void 0;c=a(2);f=c.__importStar(a(10));l=a(240);m=a(824);d=a(827);r=a(83);h=a(5);g=a(242);k=a(9);n=a(72);a=(function(q){function p(v,t,u,w,x,y,z,A){var B;B=q.call(this,v) || this;B.I=t;B.H=u;B.cn=w;B.Ud=x;B.Rg=y;B.Ana=A;B.Wab=!0;B.De=new g.x_(B.H);B.Jk=B.H.error.bind(B.H);B.Qb=B.H.warn.bind(B.H);B.en=B.H.trace.bind(B.H);B.EOa();B.Cp=null === z || void 0 === z?void 0:z.xG(function(){return B.qVb();},"pruner");return B;}c.__extends(p,q);Object.defineProperties(p.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gb:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bx:{get:function(){return 0 < this.FA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wwa:{get:function(){return !this.LK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{FA:{get:function(){return this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hs:{get:function(){return this.Ea.Hs;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{NTb:{get:function(){return this.De.count;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{dU:{get:function(){return this.Ea.complete.we;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sp:{get:function(){return this.Ea.vSa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qja:{get:function(){return this.Ea.uSa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gE:{get:function(){return this.Ea.we;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Dm:{get:function(){return void 0 === this.Ea.xd?0:this.Ea.je - this.Ea.xd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nn:{get:function(){return {fa:this.Ea.vC,W:Math.max(this.Ea.vSa - this.Ea.xd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{UL:{get:function(){return this.Ea.Zub;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vC:{get:function(){return this.Ea.vC;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tt:{get:function(){return this.Ea.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{GD:{get:function(){return this.dmb();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ssa:{get:function(){return this.Ea.nJb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{y6:{get:function(){return this.Ea.length > this.Ea.Hs;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ip:{get:function(){return this.Ea.Ip;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sLb:{get:function(){return this.ANa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{f5a:{get:function(){return this.Ea.length - this.Xl;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{U:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});p.prototype.Cf=function(){var v,t;t=this.Ea;setTimeout(function(){t.forEach(function(u){u.abort();u.cd();});},1);this.EOa();this.De.V4();null === (v=this.Cp) || void 0 === v?void 0:v.Mb();};p.prototype.reset=function(){this.Cf();this.De.y7a();};p.prototype.close=function(){this.De.V4();};p.prototype.r8a=function(){this.qMa=!0;};p.prototype.Hna=function(){return {endMarked:void 0 !== this.De.count,queueCount:this.De.count,isComplete:this.De.Nz,itemCount:this.De.wSa,continuousEndPts:this.De.fp().reduce(function(v,t){return t && !t.done && (t=t.value,100 > Math.abs(t.Bma - v) || -1 === v)?t.rDb:v;},-1),sentinelItemCount:this.De.fp().filter(function(v){return v && v.done;}).length,processedCount:this.De.wzb,rc:this.FA};};p.prototype.gyb=function(v,t,u){var w;w=this.I;h.assert(!v.header);v=w.kBb && 1 === this.mediaType?new d.Pya(u,w,t.track,v,this.Ea,this.H):l.t_.create(u,w,t.track,v,this.Ea,!1,this.H,this.Ana);v.xb(this);this.wy(v);return v;};p.prototype.Pqb=function(v){var t;v.xb(this);v.c3=!0;this.wy(v);t=Promise.resolve();v.complete?(this.tfa(v),this.cn.O3a(v.stream,v.xd,v.dd),t=this.waa(),this.Tt(v)):(v.active && this.JM(v),v.rua && this.IC(v));return t;};p.prototype.wy=function(v){var t,u;this.Ea.pq(v);(null === (t=this.Cp) || void 0 === t?void 0:t.state) === n.Vm.complete && (null === (u=this.Cp) || void 0 === u?void 0:u.Em());this.tfa(v);v.tq && (this.LK=!1);};p.prototype.wz=function(){return this.De.dEb();};p.prototype.pja=function(){this.Xl === this.Ea.length && this.qMa && this.De.V4();};p.prototype.waa=function(){var v,t,u,w,A;v=this;u=Promise.resolve();w=this.Ud;if(!w.fW(this.Rg) || this.Xl === this.Ea.length)return u;for(var x=this.I.tNb,y=0,z=[];this.Xl < this.Ea.length;){if(t=this.Ea.get(this.Xl)){if(this.Ea.jWa && this.Ea.jWa.Wa < t.Wa)break;if(!t.hu())break;z.push(t);++y;f.Ba(this.xd) || (this.xd=t.xd);}++this.Xl;if(!f.ia(x) && y >= x)break;}if(z.length){void 0 !== this.De.count && (this.Jk("tryToAtach() but requestQueue has sentinel:",this.De.count),this.De.y7a());if(this.Wab)u=Promise.all(z.map(function(B){return v.De.enqueue(B).then(function(){return v.v6(B);});}));else for(t=0;t < z.length;t++){try{A=z[t];w.uGb(this.mediaType).Szb(A);this.v6(A);}catch(B){return (this.Xl-=z.length - t,Promise.reject(B));}}this.pja();}return u;};p.prototype.v6=function(v){this.ANa=v;this.tWa(v);};p.prototype.pT=function(v,t){var u,w,x;u=this;w=[];if(0 !== this.Ea.Hs){x=this.Ea.Y4a;this.Ea.l0b.qwa(function(y){if(!f.ia(v) && y.P.Nb !== v || y.tq || x > y.xd)return !0;y.q5 && (u.LK=!1);if(!u.v1(y))return (u.Qb("request abort failed:",y.toString()),!0);w.unshift(y);});this.Qga();w.length && "function" === typeof t && t(w);}};p.prototype.e$=function(){this.Qga();};p.prototype.qVb=function(){var v,t,u,w,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ea.length)return [3,3];v=this.Ea.get(0);t=k.T.Fb(null !== (y=null === (x=this.I.nP) || void 0 === x?void 0:x.W) && void 0 !== y?y:0);u=t.add(v.we);return [4,n.Ik.TP(u)];case 2:z.$c();if(1 >= this.Ea.complete.length && !v.tq)return [3,3];h.assert(v === this.Ea.get(0));v.df || this.v1(v);w=this.Ea.splice(0,1);0 < this.Xl && this.Xl--;this.cn.b9(w);return [3,1];case 3:return [2];}});};p.prototype.VX=function(v,t){var u,w,x,y,z,A;u=this;w=this.I;x=!1;y=0;z=this.Ea.some(function(B){if(v < B.je)return (x && u.tfa(B),!0);++y;B.df || (u.Qb("pruning unappended request:",B && B.toString()),w.ei && u.cn.ym("prune pts:" + v + " unappended request:" + (B && B.toString())),B.q5 && (u.LK=!1,x=!0),u.v1(B,t) || u.Jk("MediaRequest.abort error:",B.mh));});if(0 < y){A=this.Ea.splice(0,y);this.Xl-=Math.min(y,this.Xl);this.cn.b9(A);}return z;};p.prototype.j6=function(v){var t,u,w;void 0 === v && (v={eU:null,vO:null,xd:null,$k:0,$g:0,U:[]});t=this.I;u=this.Ea;f.Ba(u.xd) && (null === v.xd || u.xd < v.xd) && (v.xd=u.xd);w=this.Sp;void 0 !== w && null === v.eU && (v.eU=w);w=u.je;void 0 !== w && (null === v.vO || w > v.vO) && (v.vO=w);v.$k+=u.$k;v.$g=t.kwa?v.$g + u.D6a:v.$g + u.vC;Array.prototype.unshift.apply(v.U,u.$c.U);return v;};p.prototype.Qt=function(v){if(this.Ea.length && (v=this.Ea.YVa(v)))return v;};p.prototype.Opb=function(v){var t,u,w;u=v.Od;v=v.dd;h.assert(u,"expected contentEndTimestamp to be defined");h.assert(void 0 !== v,"expected contentStartPts to be defined");v=this.Ea.bma(v);w=this.Ea.get(v);h.assert(w && void 0 !== w.dd && void 0 !== w.Ic && void 0 !== w.index,"expected existing request to be defined with properties");if(null === (t=w.Od) || void 0 === t?0:t.equal(u))return (this.lPa(v),[w.Ic,w.index + 1]);this.lPa(v - 1);return [w.dd,w.index];};p.prototype.Lm=function(){var v,t;v=this;t=[];this.Ea.forEach(function(u){var w;w=u.Nxa();1 === w?t.push(u):2 === w && v.gb.P.Mh("swapUrl failure");});return t;};p.prototype.TH=function(v){v.gD && v.hu() && this.waa();this.IC(v);};p.prototype.tk=function(v){var t,u;v.gD && !v.df && this.waa();(null === (t=this.Cp) || void 0 === t?void 0:t.state) === n.Vm.complete && (null === (u=this.Cp) || void 0 === u?void 0:u.Em());this.Tt(v);};p.prototype.Wha=function(v){var t,u,w;t=1 === this.Rg?"v_":"a_";u=this.Ea;w=u.FM(v);v=0 <= w?u.get(w):void 0;return (u=0 <= w && w + 1 < u.length?u.get(w + 1):void 0) && v?v.je !== u.xd?t + "rg":v.complete && u.complete?t + "uk":t + "fd":t + "rm";};p.prototype.dmb=function(){return this.Ea.Ip + this.Ea.Hs;};p.prototype.EOa=function(){var v,t,u;t=void 0 !== this.Ea && 0 < this.Ea.length;u=this.Ea;this.Ea=new m.Kya(this.H,this);this.Xl=0;this.De.clear();this.ANa=void 0;this.xd=null;null === (v=this.Cp) || void 0 === v?void 0:v.Em();this.qMa=this.LK=!1;t && (v=u.map(function(w){return w;}),this.cn.b9(v));};p.prototype.tfa=function(v){this.LK?v.q5=!1:this.LK=v.q5=!0;};p.prototype.lPa=function(v){var t;for(v+=1;v < this.FA;v++){t=this.Ea.get(v);h.assert(t,"expected request to exist");this.De.remove(t);t.aborted || (this.v1(t),t.cd());}this.Qga();};p.prototype.v1=function(v,t){if(!v.abort())return !1;"function" === typeof t && t(v);return !0;};p.prototype.Qga=function(){var v,t,u,w;v=this;if(0 !== this.Ea.length){u=[];w=0;this.Ea.FTb(function(x,y){y < v.Xl && ++w;u.push(x);});this.Xl-=w;null === (t=this.Cp) || void 0 === t?void 0:t.Em();this.cn.b9(u);}};return p;})(r.hv);b.MJa=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Hya=void 0;c=a(2);f=a(115);l=c.__importDefault(a(28));r=c.__importDefault(a(6));m=a(9);d=a(5);h=a(241);g=a(101);k=a(233);n=a(116);q=r.default.Zq;a=(function(p){function v(t,u,w,x,y,z,A,B){var D;x=p.call(this,t,w,x,z,A,B) || this;y=g.Om.prototype.toString.call(x) + (y?"(cache)":"");B={offset:w.offset,fa:w.Pra + 8,responseType:0};x.push(new k.gQ(t,u,y + "(moof)",B,x,z,A));B={offset:w.offset + B.fa,fa:w.fa - B.fa,responseType:q.jc && !q.jc.vY.QR?0:1};if(x.mediaType === l.default.Ta.Lb && x.ta){if(0 < x.ta.start){D=x.aWa(x.ta.start);D && (B.offset=w.offset + D,B.fa=w.fa - D);}x.ta.end < x.JC && (D=x.aWa(x.ta.end)) && (B.fa-=w.fa - D);}x.push(new k.gQ(t,u,y + "(mdat)",B,x,z,A));return x;}c.__extends(v,p);v.prototype.hu=function(){return !this.df && ! !this.Ea.length && this.Ea.every(function(t){return t.hu();});};v.prototype.bG=function(t){var u,w,x,y,z,A,B,D;if(this.df)return {status:n.Hj.vx};if(!this.hu())return {status:n.Hj.Lf};u=!1;w=this.Ea[0].response;x=w.slice(0,w.byteLength - 8);y=new DataView(w);w=y.getUint32(x.byteLength);d.assert("mdat" === f.ho(y.getUint32(x.byteLength + 4)));z=this.ta && 0 < this.ta.start;y=this.ta && this.ta.end < this.JC;if(this.ta && (z || y)){if(z)(A=new f.ar(this.H,this.stream,x),B=A.Eua(this.ta.start,this.S));if(y && !1 !== B){A=new f.ar(this.H,this.stream,B?m.wC(B.Kd):x);D=A.Iua(this.ta.end - this.ta.start,this.S);}if(x=y?D:B)(u=t.appendBuffer(m.wC(x.Kd),m.uq(this)),B && (w-=B.Vi),D && (w-=D.Vi));A=this.Tga();}else u=t.appendBuffer(x,m.uq(this));u && (u=t.appendBuffer(f.$z(w - 8),m.uq(this))) && (u=t.appendBuffer(this.Ea[1].response,m.uq(this)));this.df=u;this.JUb();return {status:u?n.Hj.vx:n.Hj.Lf,mk:A};};v.prototype.toString=function(){return "ID: " + this.ii() + ":" + p.prototype.toString.call(this);};return v;})(h.tE);b.Hya=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.vcb=void 0;r=a(2);c=a(115);f=r.__importDefault(a(28));l=a(9);a(5);m=r.__importDefault(a(6));d=a(116);a=(function(){var m60;m60=2;function h(){var n60;n60=2;for(;n60 !== 1;){switch(n60){case 2:var e8J="1SIYb";e8J+="ZrNJC";e8J+="p9";e8J;n60=1;break;case 4:var T8J="1SIYbZ";T8J+="rNJ";T8J+="Cp9";T8J;n60=5;break;n60=1;break;}}}for(;m60 !== 3;){switch(m60){case 2:h.prototype.bG=function(g,k,n){var o60,q;o60=2;for(;o60 !== 10;){switch(o60){case 2:k=this.Ne;o60=1;break;case 1:o60=this.df?5:4;break;case 6:this.df=!0;this.hY();return {status:g?d.Hj.vx:d.Hj.Lf,mk:q};break;case 4:o60=!this.ta || this.tq || this.ww?3:11;break;case 3:o60=this.ta && (this.tq || this.ww)?9:12;break;case 5:return {status:d.Hj.Lf};break;case 9:q=this.Glb(g);g=q.$;o60=7;break;case 7:q=q.mk;o60=6;break;case 12:g=this.mediaType === f.default.Ta.Ub && k.TD && n && this.$u && n.je >= this.je && this.Ic - this.$u < this.$u - this.dd?!0:g.appendBuffer(this.response,l.uq(this));o60=6;break;case 11:(q=this.Flb(g),g=q.$,q=q.mk);o60=6;break;}}};h.prototype.Flb=function(g){var p60,p,k,n,q;p60=2;for(;p60 !== 12;){switch(p60){case 7:p=this.Tga(k);p60=13;break;case 2:(k={$D:0},n=!1,q=!0);this.ta && (k.$D=this.ta.hwa);0 >= this.duration && (q=!1,n=!0);p60=4;break;case 4:p60=q?3:13;break;case 3:p60=this.ta && (0 < this.ta.start || k.$D)?9:14;break;case 6:var t8J=" ";t8J+="fr";t8J+="o";t8J+="m";t8J+=" [ ";var J8J="AseFragment";J8J+="MediaRequest: F";J8J+="ragment edit failed f";J8J+="or ";(this.H.error(J8J + this.toString() + t8J + this.KM + "-" + this.z5 + "]"),n=!0);p60=13;break;case 9:var q8J="m";q8J+="edia|asej";q8J+="s";var B8J="M";B8J+="P";B8J+="4";p60=(n=new c.ar(new m.default.Console(B8J,q8J),this.stream,this.response),n=n.Eua(this.ta.start,this.XN,k.$D))?8:6;break;case 8:n=g.appendBuffer(l.wC(n.Kd),l.uq(this));p60=7;break;case 13:return {$:n,mk:p};break;case 14:n=g.appendBuffer(this.response,l.uq(this));p60=13;break;}}};h.prototype.Glb=function(g){var q60,k,n,q;q60=2;for(;q60 !== 12;){switch(q60){case 5:q60=k?4:13;break;case 9:g=g.appendBuffer(l.wC(k.Kd),l.uq(this));q60=8;break;case 4:q60=this.ta && this.ta.end < this.JC || n.$D?3:14;break;case 3:q60=(k=new c.ar(this.H,this.stream,this.response),k=k.Iua(this.ta && this.ta.end,this.S,n.$D))?9:6;break;case 2:n={$D:0};(k=!0,0 === this.duration) && (k=!1);q60=5;break;case 7:return {$:g,mk:q};break;case 14:g=g.appendBuffer(this.response,l.uq(this));q60=7;break;case 8:q=this.Tga(n);q60=7;break;case 6:var I8J=" f";I8J+="rom";I8J+=" [";I8J+=" ";var F8J="AseFragmen";F8J+="tMediaRe";F8J+="quest: Fragm";F8J+="ent edit failed for ";(this.H.error(F8J + this.toString() + I8J + this.KM + "-" + this.z5 + "]"),g=!0);q60=7;break;case 13:g=!0;q60=7;break;}}};m60=4;break;case 4:return h;break;case 14:return h;break;m60=3;break;}}})();b.vcb=a;b.default=new a();},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Kya=void 0;c=a(2);a(5);f=a(825);r=a(42);l=a(826);m=a(102);d=a(83);h=a(232);a=(function(g){function k(n,q){var p,v;p=this;v=[new l.s_(n),new l.s_(n),new l.s_(n)];p=g.call(this,v,function(t){return t.complete?p.empty || t.Wa <= p.$ub?0:1:t.active?1:2;}) || this;v=c.__read(v,3);p.Ci=v[0];p.Ze=v[1];p.pt=v[2];p.sr=0;p.efa=0;p.H=n;p.$e=q;return p;}c.__extends(k,g);Object.defineProperties(k.prototype,{fa:{get:function(){return this.Ci.fa + this.Ze.fa + this.pt.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{l0b:{get:function(){return this.pt;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Ci;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{D6a:{get:function(){return this.sr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vC:{get:function(){return this.Ci.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$k:{get:function(){return this.Ci.fa + this.Ze.fa - this.sr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{m0b:{get:function(){return this.pt.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.CDb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{No:{get:function(){return this.fsb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pla:{get:function(){return !this.Ci.empty || this.pt.empty || this.Ze.empty?this.first:this.Ze.Wa < this.pt.Wa?this.Ze.first:this.pt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{X0a:{get:function(){return this.pt.empty || this.Ze.empty?this.No:this.Ze.ob < this.pt.ob?this.pt.No:this.Ze.No;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jWa:{get:function(){return this.pt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wa:{get:function(){return this.pla && this.pla.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ob:{get:function(){return this.X0a && this.X0a.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xj:{get:function(){return this.first && this.first.xj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Zub:{get:function(){return this.Ci.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nJb:{get:function(){return this.Ic - this.uSa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$ub:{get:function(){return this.Ci.empty?this.Wa:this.Ci.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uSa:{get:function(){return this.Ci.empty?this.dd:this.Ci.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vSa:{get:function(){return this.Ci.empty?this.xd:this.Ci.je;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Y4a:{get:function(){return this.Ze.je || this.Ci.je;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hs:{get:function(){return this.pt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ip:{get:function(){return this.Ze.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xSa:{get:function(){return this.Ci.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$c:{get:function(){return this.Ci.concat(this.Ze);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dr:{get:function(){return this.Ag;},enumerable:!1,configurable:!0}});k.prototype.rK=function(n){var q;n.aborted?++this.efa:this.sr+=n.bytesReceived || 0;if(this.empty)this.Ag=new h.jB(this,{});else if(n.Wa !== this.ob)if(n.Wa > this.Ag.ob)this.Ag.JY(this.Ag.ob);else if(n.Wa < this.Wa || n.Wa === this.Ag.ob){q=n.ob;this.hDb(function(p,v){return p.Wa - v.Wa;},function(p){q=p.Wa === q?p.ob:q;});q === Math.max(this.ob,n.ob)?this.Ag.Dja():this.Ag.JY(q);}n.Vva(this);};k.prototype.my=function(n){n.aborted?--this.efa:this.sr-=n.bytesReceived;this.empty?this.Ag=void 0:n.Wa !== this.ob && n.ob <= this.Ag.ob && n.Wa > this.Ag.Wa && this.Ag.JY(n.Wa);n.bSa();};k.prototype.push=function(n){this.rK(n);return g.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=g.prototype.shift.call(this);n && this.my(n);return n;};k.prototype.pop=function(){var n;n=g.prototype.pop.call(this);n && this.my(n);return n;};k.prototype.unshift=function(n){this.rK(n);return g.prototype.unshift.call(this,n);};k.prototype.pq=function(n){this.rK(n);g.prototype.pq.call(this,n);};k.prototype.remove=function(n){if(!g.prototype.remove.call(this,n))return !1;this.my(n);return !0;};k.prototype.splice=function(n,q){for(var p=[],v=2;v < arguments.length;v++){p[v - 2]=arguments[v];}v=g.prototype.splice.apply(this,c.__spread([n,q],p));p.forEach(this.rK.bind(this));v.forEach(this.my.bind(this));return v;};k.prototype.FTb=function(n){var q;q=this;this.reduce(function(p,v,t){v.aborted && (n && n(v,t,q),0 === p.length || p[0].end !== t?p.unshift({start:t,end:t + 1}):p[0].end+=1);return p;},[]).forEach(function(p){return q.splice(p.start,p.end - p.start);});};k.prototype.bma=function(n){return this.ZVa(function(q){return q.bma(n);});};k.prototype.FM=function(n){return this.ZVa(function(q){return q.FM(n);});};k.prototype.YVa=function(n){n=this.FM(n);return -1 !== n?this.get(n):void 0;};k.prototype.wWb=function(n){var p;for(var q=[];n < this.length;){p=this.get(n);p && q.push(p);n++;}return q;};k.prototype.oA=function(n){this.move(n);this.JM(n);};k.prototype.UH=function(n){this.sr+=n.bytesReceived - n.ks;this.OG(n);};k.prototype.tk=function(n){for(this.sr+=n.bytesReceived - n.ks;this.Ze.first && this.Ze.first.complete && (this.Ci.empty?this.Ze.first === this.pla:this.Ze.first.Wa === this.Ci.ob);){this.OXb();}this.Tt(n);};k.prototype.rX=function(n,q,p){this.sr-=n.bytesReceived;++this.efa;this.IM(n,q,p);};return k;})(f.rAa);b.Kya=a;r.wf(d.hv,a,!1);r.wf(m.px,a);r.wf(m.iB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rAa=void 0;c=a(2);a(5);r=(function(){function f(l,m){this.rd=l;this.DK=m;this.hy();}Object.defineProperties(f.prototype,{length:{get:function(){return this.kf;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.kf;},enumerable:!1,configurable:!0}});f.prototype.CDb=function(){return this.Pg && this.Pg.get(0);};f.prototype.fsb=function(){return this.xK && this.xK.get(this.xK.length - 1);};f.prototype.get=function(l){0 > l && (l+=this.length);for(var m=0;m < this.rd.length;++m){if(this.$h[m + 1] > l)return this.rd[m].get(l - this.$h[m]);}};f.prototype.push=function(l){this.rd[this.DK(l)].push(l);this.hy();return this.kf;};f.prototype.shift=function(){var l;if(this.Pg){l=this.Pg.shift();this.hy();return l;}};f.prototype.pop=function(){var l;if(this.xK){l=this.xK.pop();this.hy();return l;}};f.prototype.unshift=function(l){this.rd[this.DK(l)].unshift(l);this.hy();return this.kf;};f.prototype.pq=function(l){var m;m=this.DK(l);this.rd[m].pq(l);this.hy();};f.prototype.remove=function(l){var m;m=this.rd.some(function(d){return d.remove(l);});m && this.hy();return m;};f.prototype.splice=function(l,m){var p,v,t,u;for(var d,h=[],g=2;g < arguments.length;g++){h[g - 2]=arguments[g];}g=[];for(var k,n=l + Math.max(0,m),q=0;q < this.rd.length;++q){p=this.rd[q];v=this.$h[q];t=this.$h[q + 1];if(l < t){u=l - v;v=Math.min(n - v,p.length);void 0 === k && 0 < u && v < p.length?Array.prototype.push.apply(g,p.splice.apply(p,c.__spread([u,v - u],h))):(Array.prototype.push.apply(g,p.splice(u,v - u)),void 0 === k && (k=0 < q && 0 === u?q - 1:q));l=t;if(l >= n)break;}}if(h.length && void 0 !== k){for(n=this.DK(h[0]);0 < k && n < k && this.rd[k].empty;){--k;}for(;h.length && n === k;){this.rd[k].push(h.shift());if(!h.length)break;n=this.DK(h[0]);}for(;h.length && ++k < this.rd.length && this.rd[k].empty;){for(;h.length && n === k;){this.rd[k].push(h.shift());if(!h.length)break;n=this.DK(h[0]);}}h.length && (d=this.rd[k]).splice.apply(d,c.__spread([0,0],h));}this.hy();return g;};f.prototype.find=function(l){var m,d;m=this;return this.rd.some(function(h,g){d=h.find(m.eC(l,g));return void 0 !== d;})?d:void 0;};f.prototype.findIndex=function(l){var d;for(var m=0;m < this.rd.length;++m){d=this.rd[m].findIndex(this.eC(l,m));if(-1 !== d)return d + this.$h[m];}return -1;};f.prototype.indexOf=function(l){var d;for(var m=0;m < this.rd.length;++m){d=this.rd[m].indexOf(l);if(-1 !== d)return d + this.$h[m];}return -1;};f.prototype.map=function(l){var m,d;m=this;d=this.rd.map(function(h,g){return h.map(m.eC(l,g));});return Array.prototype.concat.apply([],d);};f.prototype.reduce=function(l,m){var d;d=this;return this.rd.reduce(function(h,g,k){return g.reduce(d.Jpb(l,k),h);},m);};f.prototype.forEach=function(l){var m;m=this;this.rd.forEach(function(d,h){d.forEach(m.eC(l,h));});};f.prototype.r5=function(l){for(var m=this.rd.length - 1;0 <= m;--m){this.rd[m].r5(this.eC(l,m));}};f.prototype.some=function(l){var m;m=this;return this.rd.some(function(d,h){return d.some(m.eC(l,h));});};f.prototype.qwa=function(l){for(var m=this.rd.length - 1;0 <= m;--m){if(this.rd[m].qwa(this.eC(l,m)))return !0;}return !1;};f.prototype.every=function(l){var m;m=this;return this.rd.every(function(d,h){return d.every(m.eC(l,h));});};f.prototype.hDb=function(l,m){var n,q;function d(p){return p.reduce(function(v,t,u,w){return void 0 === t?v:void 0 === v?u:0 > l(t,w[v])?u:v;},void 0);}for(var h=this,g=this.rd.map(function(){return 0;}),k=this.rd.filter(function(p){return p.empty;}).length;k < this.rd.length;){n=g.map(function(p,v){return p < h.rd[v].length?h.rd[v].get(p):void 0;});q=d(n);m(n[q],this.$h[q] + g[q],this);++g[q];g[q] === this.rd[q].length && ++k;}};f.prototype.move=function(l){return this.remove(l)?(this.pq(l),!0):!1;};f.prototype.OXb=function(){var l;if(this.rd[1].length){l=this.rd[1].shift();this.rd[0].push(l);this.hy();}};f.prototype.ZVa=function(l){for(var m=-1,d=0;d < this.rd.length;++d){if((m=l(this.rd[d]),-1 !== m)){m+=this.$h[d];break;}}return m;};f.prototype.toJSON=function(){return this.map(function(l){return l.toJSON();});};f.prototype.hy=function(){var m;this.kf=0;this.$h=[0];this.xK=this.Pg=void 0;for(var l=0;l < this.rd.length;++l){m=this.rd[l];this.kf+=m.length;this.$h.push(this.$h[this.$h.length - 1] + m.length);!this.Pg && m.length && (this.Pg=m);m.length && (this.xK=m);}};f.prototype.eC=function(l,m){var d,h;d=this;h=this.$h[m];return function(g,k){return l(g,h + k,d);};};f.prototype.Jpb=function(l,m){var d,h;d=this;h=this.$h[m];return function(g,k,n){return l(g,k,h + n,d);};};return f;})();b.rAa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.s_=void 0;c=a(2);f=a(5);r=a(42);l=a(232);a=a(102);m=(function(){function d(h,g){this.Ma=[];this.Ag=void 0;this.Mc=0;this.H=h;g && g.length && (Array.isArray(g)?(this.Ma=g.slice(),this.cS(0,this.Ma.length)):g instanceof d && (this.Ma=g.Ma.slice(),this.cS(0,this.Ma.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ma[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{No:{get:function(){return this.Ma[this.Ma.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wa:{get:function(){return this.first && this.first.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ob:{get:function(){return this.No && this.No.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dr:{get:function(){return this.Ag;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fa:{get:function(){return this.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xj:{get:function(){return this.first && this.first.xj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});d.prototype.Urb=function(){var h;if(0 === this.Ma.length)(f.assert(void 0 === this.Ag),f.assert(0 === this.Mc));else {f.assert(this.Ag instanceof l.jB);f.assert("number" === typeof this.Mc);f.assert(void 0 !== this.Dr && this.Dr.Wa === this.Wa);h=this.Ma.reduce(function(g,k,n){return 0 === n || k.Wa === g?k.ob:g;},0);f.assert(this.Dr.ob === h);f.assert(this.Ma.reduce(function(g,k,n){return 0 === n || k.Wa === g?k.ob:g;},0) === this.Dr.ob);f.assert(this.Ma.reduce(function(g,k){return g + k.fa;},0) === this.Mc);}};d.prototype.get=function(h){0 > h && (h+=this.Ma.length);return this.Ma[h];};d.prototype.push=function(h){this.Ma.push(h);this.cS(this.Ma.length - 1);return this.length;};d.prototype.unshift=function(h){this.Ma.unshift(h);this.cS(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ma.length)return (this.Sga(this.Ma.length - 1),this.Ma.pop());};d.prototype.shift=function(){if(0 !== this.Ma.length)return (this.Sga(0),this.Ma.shift());};d.prototype.splice=function(h,g){for(var k,n=[],q=2;q < arguments.length;q++){n[q - 2]=arguments[q];}0 > h && (h+=this.Ma.length);0 > h && (h=0);h > this.Ma.length && (h=this.Ma.length);if(void 0 === g || 0 > g)g=0;g=Math.min(g,this.Ma.length - h);0 < g && this.Sga(h,h + g);q=(k=this.Ma).splice.apply(k,c.__spread([h,g],n));0 < n.length && this.cS(h,h + arguments.length - 2);return q;};d.prototype.slice=function(h,g){void 0 === h && (h=0);void 0 === g && (g=this.Ma.length);0 > h && (h+=this.Ma.length);if(h >= this.Ma.length)return new d(this.H);g > this.Ma.length && (g=this.Ma.length);0 > g && (g+=this.Ma.length);return new d(this.H,this.Ma.slice(h,g));};d.prototype.pq=function(h){if(0 === this.Ma.length || h.Wa >= this.ob)this.push(h);else if(h.ob <= this.Wa)this.unshift(h);else {for(var g=0,k=this.Ma.length - 1,n;g < k - 1;){n=Math.floor((k + g) / 2);f.assert(n !== k && n !== g);h.Wa >= this.Ma[n].ob?g=n:k=n;}f.assert(g !== k);f.assert(this.Ma[g].ob <= h.Wa && this.Ma[k].Wa >= h.ob);this.splice(k,0,h);}};d.prototype.remove=function(h){h=this.Ma.indexOf(h);if(0 > h)return !1;this.splice(h,1);return !0;};d.prototype.concat=function(){for(var h=[],g=0;g < arguments.length;g++){h[g]=arguments[g];}h=h.map(function(k){return k.Ma;});return new d(this.H,Array.prototype.concat.apply(this.Ma,h));};d.prototype.forEach=function(h){var g;g=this;this.Ma.forEach(function(k,n){return h(k,n,g);});};d.prototype.some=function(h){var g;g=this;return this.Ma.some(function(k,n){return h(k,n,g);});};d.prototype.every=function(h){var g;g=this;return this.Ma.every(function(k,n){return h(k,n,g);});};d.prototype.map=function(h){var g;g=this;return this.Ma.map(function(k,n){return h(k,n,g);});};d.prototype.reduce=function(h,g){var k;k=this;return this.Ma.reduce(function(n,q,p){return h(n,q,p,k);},g);};d.prototype.indexOf=function(h){return this.Ma.indexOf(h);};d.prototype.find=function(h){var g,k;g=this;return this.Ma.some(function(n,q){k=q;return h(n,q,g);})?this.Ma[k]:void 0;};d.prototype.findIndex=function(h){var g,k;g=this;return this.Ma.some(function(n,q){k=q;return h(n,q,g);})?k:-1;};d.prototype.filter=function(h){var g;g=this;return new d(this.H,this.Ma.filter(function(k,n){return h(k,n,g);}));};d.prototype.r5=function(h){for(var g=this.Ma.length - 1;0 <= g;--g){h(this.Ma[g],g,this);}};d.prototype.qwa=function(h){for(var g=this.Ma.length - 1;0 <= g;--g){if(h(this.Ma[g],g,this))return !0;}return !1;};d.prototype.bma=function(h){if(this.empty || h < this.dd || h >= this.Ic)return -1;for(var g=0,k=this.Ma.length - 1,n;k > g;){n=Math.floor((k + g) / 2);if(h >= this.Ma[n].dd && h < this.Ma[n].Ic){k=n;break;}h < this.Ma[n].Ic?k=n - 1:g=n + 1;}return k;};d.prototype.FM=function(h){if(this.empty || h < this.xd || h >= this.je)return -1;for(var g=0,k=this.Ma.length - 1,n;k > g;){n=Math.floor((k + g) / 2);if(h >= this.Ma[n].xd && h < this.Ma[n].je){k=n;break;}h < this.Ma[n].je?k=n - 1:g=n + 1;}return k;};d.prototype.YVa=function(h){h=this.FM(h);return 0 <= h?this.Ma[h]:void 0;};d.prototype.T2=function(h){var g;g=this.Ma[h].ob;for(h+=1;h < this.Ma.length && g === this.Ma[h].Wa;++h){g=this.Ma[h].ob;}h < this.Ma.length?void 0 === this.Ag?this.Ag=new l.jB(this,{ob:g}):this.Ag.JY(g):void 0 === this.Ag?this.Ag=new l.jB(this,{}):this.Ag.Dja();};d.prototype.rK=function(h,g){for(var k=h;k < g;++k){this.Mc+=this.Ma[k].fa;}void 0 === this.Ag || 0 === h?this.T2(0):this.Ag.ob === this.ob?this.T2(h - 1):this.Ma[h].Wa === this.Ag.ob && this.T2(h);};d.prototype.my=function(h,g){var k;if(0 === h)(this.Ag=void 0,g < this.length && this.T2(g));else {k=this.Ag;k.ob > this.Ma[h - 1].ob && (g < this.length?k.JY(this.Ma[h - 1].ob):k.Dja());}for(;h < g;++h){this.Mc-=this.Ma[h].fa;}};d.prototype.cS=function(h,g){void 0 === g && (g=h + 1);this.rK(h,g);};d.prototype.Sga=function(h,g){void 0 === g && (g=h + 1);this.my(h,g);};return d;})();b.s_=m;r.wf(a.px,m);r.wf(a.iB,m);},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Pya=void 0;c=a(2);f=a(115);l=a(5);c.__importDefault(a(6));m=a(9);d=a(241);h=a(101);g=a(233);k=a(116);r=(function(n){function q(p,v,t,u,w,x){v=n.call(this,p,u,w,v,x) || this;v.Dlb=t;v.U1=q.BE.INIT;v.c8b=u.offset;v.nga=h.Om.prototype.toString.call(v) + " multiple";v.Ynb=u.fa;v.kL(p.url,u.offset,8,0);return v;}c.__extends(q,n);Object.defineProperties(q.prototype,{data:{get:function(){return this.$m;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fa:{get:function(){return this.Ynb;},enumerable:!1,configurable:!0}});q.prototype.tk=function(p){var v,t;this.$m=this.U1 === q.BE.INIT?p.response:m.wC(this.$m,p.response);p.hY();switch(this.U1){case q.BE.INIT:(v=new DataView(this.$m),t=v.getUint32(0));v=v.getUint32(4);f.ho(v);this.kL(p.url,p.offset + p.fa,t,0);d.tE.prototype.tk.call(this,p);this.U1=q.BE.qFa;break;case q.BE.qFa:v=new DataView(this.$m);t=v.getUint32(this.AMa - 8);v=v.getUint32(this.AMa - 4);f.ho(v);this.kL(p.url,p.offset + p.fa,t - 8,0);this.U1=q.BE.lFa;d.tE.prototype.tk.call(this,p);break;case q.BE.lFa:d.tE.prototype.tk.call(this,p);break;default:l.assert(!1);}};q.prototype.bG=function(p){if(this.df)return {status:k.Hj.vx};if(!this.hu())return {status:k.Hj.Lf};this.df=p.appendBuffer(this.$m,m.uq(this));return {status:this.df?k.Hj.vx:k.Hj.Lf};};q.prototype.kL=function(p,v,t,u){p=new g.gQ(this.stream,this.Dlb,this.nga + " (" + this.Ea.length + ")",{J:this.J,mediaType:this.mediaType,Oa:this.Oa,bitrate:this.bitrate,offset:v,fa:t,url:p,location:this.location,Ld:this.Ld,responseType:u},this,this.Ne,this.H);this.push(p);this.AMa=this.Ea.reduce(function(w,x){return w + x.fa;},0);};q.BE={INIT:0,qFa:1,lFa:2,name:["INIT","MOOF","MDAT"]};return q;})(d.tE);b.Pya=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BKa=void 0;c=a(378);f=a(22);r=(function(){function l(m,d){this.Zg=m;this.console=d;this.CF=Infinity;this.mS=this.w2=0;this.cPa=!1;}l.prototype.kVb=function(){this.cPa=!0;};l.prototype.LCb=function(m,d,h,g,k){var n;if(this.Zg){n=m.U;if(n){if(1 === h)(h=n.wn(Math.ceil(this.Zg * m.qa.dI),void 0,!0),n=m.Uk(h),m=n.JU.om(m.qa),n.Aj({start:0,end:this.Zg - h * m}),this.CF=this.Zg);else {void 0 !== g.w9a?(d=g.w9a,h=d * m.qa.W):(h=c.vna(g,k) + Math.ceil(g.Nrb * m.qa.dI),f.T.Fb(h).om(m.qa),h=d + h,d=Math.ceil(h / m.qa.dI));h=n.wn(h,void 0,!0);for(k=g=0;k < h;++k){n=m.Uk(k);g+=n.JU.om(m.qa);}g=d - g;n=m.Uk(h);n.Aj({end:g});this.CF=d;}n.Z1a();return n;}}};l.prototype.pJb=function(m){this.mS+=m.o7a;this.console.warn("StallAtFrameCount, adding frames: " + m.o7a,"total frames: " + this.mS,"needed frames: " + this.CF);};l.prototype.bIb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.w2,"needed: " + this.CF);return this.w2 >= this.CF;};l.prototype.aIb=function(){return this.mS >= this.CF;};l.prototype.rJb=function(m,d){this.w2+=this.MC(m,d);};l.prototype.HBb=function(m,d,h){m.o7a=this.MC(d,h);};l.prototype.MC=function(m,d){return m.JU.om(d.qa);};l.prototype.Oy=function(){if(!this.aIb())return !1;if(this.cPa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.mS + " >= " + this.CF);return !0;};return l;})();b.BKa=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Iea=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(28));l=r.__importDefault(a(6));m=a(25);d=a(16);h=a(238);g=a(830);k=new l.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ma[d.ma.yh],d.ma[d.ma.ud],d.ma[d.ma.Nf],d.ma[d.ma.Hc],d.ma[d.ma.eh],"checkBuffering"];q={first:a(832),random:a(833),optimized:a(174).default,roundrobin:a(837),selectaudio:a(388),selectaudioadaptive:a(838),"default":a(174).default,lowest:a(839),highest:a(840),throughputthreshold:a(841),replay:a(842).default,checkdefault:a(844),testscript:a(845)};p={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var r60;r60=2;function v(t,u,w,x){var s60,y;s60=2;for(;s60 !== 6;){switch(s60){case 2:y=this;this.cP=t;s60=5;break;case 5:this.I=u;this.tg=w;s60=3;break;case 3:var p8J="1SIYb";p8J+="ZrNJC";p8J+="p9";p8J;t=t || this.I.Gwa;this.xg=n.reduce(function(z,A){var t60;t60=2;for(;t60 !== 5;){switch(t60){case 2:z[A]=((q[t] || q[p[A]])[A] || q[p[A]][A]).bind(y);return z;break;}}},{});x && (this.E4a=new g.iHa(u));s60=6;break;}}}for(;r60 !== 6;){switch(r60){case 8:Object.defineProperties(v.prototype,{mqa:{get:function(){var G60;G60=2;for(;G60 !== 1;){switch(G60){case 2:return this.sga;break;}}},enumerable:!1,configurable:!0}});r60=7;break;case 2:v.prototype.Bva=function(t,u,w,x,y,z){var R81=a000;var u60,R,J,H,K,I,A,B,D,E,F,C,G,M,v60;u60=2;for(;u60 !== 61;){switch(u60){case 4:c.Ba(C) && t.state === d.ma.yh && (this.tg.NY(void 0),C=void 0);c.Ba(C) && C >= u.length && (this.tg.NY(void 0),C=void 0);u60=9;break;case 19:R=K[I - 1].bitrate;C=m.Lp(u,function(Q){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:return Q.bitrate > R;break;}}});u60=17;break;case 12:u60=0 < I?11:16;break;case 20:u60=!(0 <= C)?19:16;break;case 29:G=u[y];u60=28;break;case 65:u60=v60 === d.ma.Hc?22:64;break;case 30:u60=y < u.length?29:44;break;case 37:return null;break;case 41:G=u[y];u60=40;break;case 47:u60=v60 === d.ma.ud?46:45;break;case 6:C=0 < C?C - 1:0 === C?0:u.length - 1;u60=14;break;case 46:this.tg.z8a(f.default.g0.yh);u60=22;break;case 40:G.U && G.U.length || (x=!0,H.cz.push(G.Oa));u60=39;break;case 8:J=this.tg.lu.bitrate;C=m.Lp(u,function(Q){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:return Q.bitrate > J;break;}}});u60=6;break;case 50:var V8J="pl";V8J+="a";V8J+="y";V8J+="ing";t.state !== d.ma.Hc && t.state !== d.ma.eh?(u=h.H9(t.state),z=this.Oy(t.buffer,u,t.playbackRate,x,z),(H.Oe=z.complete)?H.B3=z.reason:(H.Oe=!1,H.sI=z.sI,H.pD=z.pD,H.progress=z.progress)):(H.Oe=!0,H.B3=V8J);t.sM && (H.Fc=w.Fc,z=t && t.Pd,u=x.U,H.ek=u && void 0 !== z && !isNaN(z) && 0 <= z && z < u.length?u.Bj(z):w.Fc,H.GSb=x.Ra || 0,H.JPb=x.wb && x.wb.Ra && x.wb.Ra.Ga || 0,H.Via=w.im - w.Jc,H.qRa=w.$g,H.mSb=null !== (D=null === (B=null === (A=l.default.T9b) || void 0 === A?void 0:A.call(l.default)) || void 0 === B?void 0:B[1 === t.mediaType?1:0]) && void 0 !== D?D:-1,H.sf=t.state,H.Ip=t && t.Ip,H.uxa=E,H.RZb=l.default.time.ea());return H;break;case 36:void 0 === H.V2a?this.tg.NY(H.Ie):this.tg.NY(H.V2a);x=u[H.Ie];u60=53;break;case 43:R81.x2J(6);var v31=R81.c2J(12,9,21);y=H.Ie - v31;u60=42;break;case 63:u60=62;break;case 22:H=this.xg[d.ma[t.state]].call(this,F,t,u,C,x,! !y,G);u60=21;break;case 31:R81.Q2J(7);var w31=R81.z2J(11,12,12,17,35,19);y=H.Ie + w31;u60=30;break;case 9:u60=c.ia(C) && t.state === d.ma.Hc && (G=!0,void 0 !== this.tg.lu)?8:13;break;case 45:u60=v60 === d.ma.Nf?46:65;break;case 13:(K=w.U,I=K.length);u60=12;break;case 2:w=null === t || void 0 === t?void 0:t.buffer;(E=l.default.time.ea(),F=this.I,C=this.tg.R0a,G=!1);u60=4;break;case 16:c.ia(C) && (C=this.tg.R0a);void 0 !== x && this.Dta(u,! !t.Wr,t.buffer,x);t.state === d.ma.yh && c.Ba(C) && (t.state=d.ma.ud);t.state !== d.ma.yh && void 0 === C && (t.state=d.ma.yh);u60=25;break;case 23:this.tg.z8a(f.default.g0.yh);u60=22;break;case 32:u60=F.n9a && y > F.RW?31:39;break;case 64:u60=v60 === d.ma.eh?22:63;break;case 11:M=K[I - 1].Oa;C=m.Lp(u,function(Q){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return Q.Oa === M;break;}}});u60=20;break;case 35:y=w.im - w.Jc;G=void 0;u60=33;break;case 44:u60=!x?43:39;break;case 38:u60=!H || null === H.Ie?37:36;break;case 24:this.sga=this.oga=void 0;u60=23;break;case 28:G.U && G.U.length || (x=!0,H.cz.push(G.Oa));u60=44;break;case 25:v60=t.state;u60=v60 === d.ma.yh?24:47;break;case 53:var l8J="m";l8J+="in_f";l8J+="rag";l8J+="m";l8J+="ent_vmaf";H.reason && (x.ws=H.reason,l8J !== H.reason && (x.Ava=H.eu,x.Hz=H.Hz,x.Jo=H.Jo,x.Ko=H.Ko));this.E4a && (H.wu=this.E4a.kGb({Pp:w.im - w.Jc,IMb:u[0],Jg:x,a1b:u[H.Ie + 1] || x,w_b:u[u.length - 1],sf:t.state,playbackRate:t.playbackRate,Pd:t.Pd}));c.Ba(C) && x.bitrate < u[C].bitrate && (this.oga=w.Fc);u60=50;break;case 21:u60=H.Jg && (H.cz=[],u.forEach(function(Q,N){var z60;z60=2;for(;z60 !== 4;){switch(z60){case 5:Q.V$=!1;z60=4;break;case 2:Q === H.Jg && (H.Ie=N);(!F.WAb || Q.U && Q.U.length) && !Q.V$ || H.cz.push(Q.Oa);z60=5;break;}}}),!H.cz.length)?35:38;break;case 33:x=!1;u60=32;break;case 39:x || (H.cz=void 0);u60=38;break;case 17:C=0 < C?C - 1:0 === C?0:u.length - 1;u60=16;break;case 42:u60=0 <= y?41:39;break;case 14:this.tg.NY(C);u60=13;break;case 62:var w8J="Stream selector called with ";w8J+="in";w8J+="valid player state ";return (k.error(w8J + d.ma[t.state]),null);break;}}};r60=1;break;case 1:v.prototype.Oy=function(t,u,w,x,y){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:return this.xg.checkBuffering.call(this,t,u,w,x,y,this.I);break;}}};v.prototype.UYb=function(t,u,w){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:c.ia(u)?this.oga=this.sga=void 0:u.bitrate < w.bitrate && (this.sga=t);B60=1;break;}}};v.prototype.Dta=function(t,u,w,x){var C60,y,z;C60=2;for(;C60 !== 5;){switch(C60){case 2:this.r5(t,function(A){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:A.ku && A.wb && A.wb.confidence?(y !== A.wb && (y=A.wb,u && A.wb && (A.wb.Wr=!0),z=Math.floor(x(A.wb,w,A.track.P.Dw[0])),z=0 === z?1:z),A.Ra=z):A.Ra=void 0;D60=1;break;}}});C60=5;break;}}};v.prototype.r5=function(t,u){var E60,w;E60=2;for(;E60 !== 3;){switch(E60){case 1:E60=0 <= w?5:3;break;case 2:w=t.length - 1;E60=1;break;case 8:a000.x2J(0);var y31=a000.z2J(5,12);w=t.length + y31;E60=4;break;E60=1;break;case 5:u(t[w],w,t);E60=4;break;case 4:--w;E60=1;break;}}};Object.defineProperties(v.prototype,{I7:{get:function(){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:return this.oga;break;case 4:return this.oga;break;F60=1;break;}}},enumerable:!1,configurable:!0}});r60=8;break;case 7:return v;break;}}})();b.Iea=a;},function(r,b,a){var k,n,q;function c(p){return d(p.Jg);}function f(p,v){var t,u,w,x;if(!v || "object" !== typeof v)return 0;t=p.Jg;u=p.a1b;w=p.w_b;x={selectedFragmentBitrate:m(t,p.Pd) * p.playbackRate,upswitchFragmentBitrate:m(u,p.Pd) * p.playbackRate,maxFragmentBitrate:m(w,p.Pd) * p.playbackRate,selectedPeakBitrate:(t.gA || h(t) || 0) * p.playbackRate,upswitchPeakBitrate:(u.gA || h(u) || 0) * p.playbackRate,maxPeakBitrate:(w.gA || h(w) || 0) * p.playbackRate,selectedAverageBitrate:h(t) * p.playbackRate,upswitchAverageBitrate:h(u) * p.playbackRate,maxAverageBitrate:d(t) * p.playbackRate,bufferLevelMs:p.Pp,observedThroughput:g(p.Jg) || 0,predictedThroughput:(null === t || void 0 === t?void 0:t.Ra) || 0};p=v.offset || 0;return Object.keys(x).reduce(function(y,z){return y + (v[z] || 0) * x[z];},p);}function l(p,v){var t,u,w,x;if(!Array.isArray(v.zua) || 1 > v.zua.length)return 0;t=Array.from(v.zua).sort(function(y,z){return y.Pp - z.Pp;});u=-1;for(v=0;v < t.length;v++){if(t[v].Pp >= p.Pp){u=v;break;}}if(-1 === u)return f(p,t[t.length - 1].Kja);if(0 === u)return f(p,t[0].Kja);w=t[u - 1].Pp;v=f(p,t[u - 1].Kja);x=t[u].Pp;t=f(p,t[u].Kja);p=Math.min((p.Pp - w) / (x - w),1);return (1 - p) * v + p * t;}function m(p,v){var t;return (void 0 !== v?null === (t=p.U) || void 0 === t?void 0:t.get(v).$Qa:void 0) || p.gA || 0;}function d(p){var v,t;t=null === (v=null === p || void 0 === p?void 0:p.P) || void 0 === v?void 0:v.Dw;return t?t[p.mediaType] || 0:0;}function h(p){return (null === p || void 0 === p?void 0:p.bitrate) || 0;}function g(p){var v,t;return (null === (t=null === (v=null === p || void 0 === p?void 0:p.wb) || void 0 === v?void 0:v.Ra) || void 0 === t?void 0:t.Ga) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.iHa=void 0;r=a(2).__importDefault(a(6));k=a(16);n=a(831);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");q={maxStreamBitrate:c,"static":function(p,v){return v.JYb;},none:function(){return 0;},regression:l,epsGreedy:function(p,v){return Math.min(l(p,v) || 0,g(p.Jg));},"default":c};a=(function(){function p(v){var I60;I60=2;for(;I60 !== 4;){switch(I60){case 2:var k8J="de";k8J+="f";k8J+="a";k8J+="ul";k8J+="t";var b8J="1";b8J+="SIYb";b8J+="ZrN";b8J+="JCp";b8J+="9";this.I=v;b8J;this.algorithm=(q[this.I.fRb] || q[k8J]).bind(this);I60=4;break;}}}var H60;H60=2;for(;H60 !== 3;){switch(H60){case 5:p.prototype.kGb=function(v){var L60,t,u,w;L60=2;for(;L60 !== 14;){switch(L60){case 2:(t=new n.Ida({oP:0,WL:0,GO:0}),u=this.I.Hja);L60=1;break;case 5:return t;break;case 4:w=this.I.k0b;L60=3;break;case 1:L60=!u?5:4;break;case 3:L60=w && v.Pd && 0 === v.Pd % w?9:8;break;case 9:return t;break;case 8:t=0;this.cYb(v,this.I)?t=g(v.Jg):v.Pp >= u.VW && (t=this.algorithm(v,this.I));return new n.Ida({oP:this.dna(v,t,u.o6a[0]),GO:this.dna(v,t,u.o6a[2]),WL:this.dna(v,t,u.o6a[1])});break;}}};return p;break;case 2:p.prototype.dna=function(v,t,u){var J60,w;J60=2;for(;J60 !== 8;){switch(J60){case 5:return 0;break;case 2:J60=1;break;case 1:J60=!u?5:4;break;case 4:a000.x2J(8);t=Math.ceil(a000.c2J(u,t));v=(this.I.Hja.H$b || 0) * ((null === (w=v.IMb) || void 0 === w?void 0:w.gA) || 0);return t < v?0:t;break;}}};p.prototype.cYb=function(v,t){var K60,u,w;K60=2;for(;K60 !== 5;){switch(K60){case 2:return !t.Hja.s9b || v.sf !== k.ma.yh && v.sf !== k.ma.ud?!1:(v=null === (u=v.Jg) || void 0 === u?void 0:u.wb) && v.confidence >= k.rda.Bx && (null === (w=v.Ra) || void 0 === w?0:w.Ga)?!0:!1;break;}}};H60=5;break;}}})();b.iHa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ida=void 0;c=a(2);r=(function(){function f(l){this.oP=l.oP;this.WL=l.WL;this.GO=l.GO;}Object.defineProperties(f.prototype,{p6a:{get:function(){return [this.oP,this.WL,this.GO];},enumerable:!1,configurable:!0}});f.prototype.s7=function(){return this.p6a.some(function(l){return 0 < l;});};f.prototype.b2a=function(l,m,d,h){var g;g=8 * l / Math.max(d - m,1);if(!this.s7())return !1;l=this.p6a.map(function(k){return Math.abs(g - k) / k;});return Math.min.apply(Math,c.__spread(l)) < h;};return f;})();b.Ida=r;},function(r,b,a){var f,l,m,d;function c(h,g,k,n){if(f.ia(n))h=l(k);else if(m(k[n]))h=n;else if((h=l(k,n),0 > h))return null;return new d(h);}f=a(10);b=a(35);l=b.jma;m=b.pH;d=b.rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){l=d.map(function(h,g){return h.ku?g:null;}).filter(function(h){return null !== h;});return l.length?new f(l[Math.floor(Math.random() * l.length)]):null;}f=a(35).rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l,m,d,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.x$=void 0;r=a(2);c=r.__importStar(a(10));f=a(25);r=r.__importDefault(a(35));l=a(386);m=a(387);d=r.default.assert;h=r.default.rp;b.x$=g;(function(){var M60;M60=2;function k(n,q,p,v){var N60,u,w,x,y,A,z;N60=2;for(;N60 !== 20;){switch(N60){case 2:var j8J="Must hav";j8J+="e at leas";j8J+="t one selected stream";d(!c.ia(v),j8J);(u=p[v],w=u.bitrate,x=u,y=q.Pd);N60=5;break;case 5:N60=u.Ra?4:14;break;case 4:u=f.hg(p.slice(0,Math.min(v + (n.Zqb?2:1),p.length)).reverse(),t);N60=3;break;case 3:N60=void 0 === u?9:6;break;case 7:A=null === u || void 0 === u?void 0:u.Ra;N60=14;break;case 9:u=p[0];N60=8;break;case 8:var f8J="fallback_lowes";f8J+="t_a";f8J+="cce";f8J+="pta";f8J+="ble_stream";z=f8J;N60=7;break;case 6:var Z8J="select_feas";Z8J+="ibl";Z8J+="e_buffer";Z8J+="ing";z=Z8J;N60=7;break;case 14:v=new h();v.Jg=u;x !== u && (v.reason=z,v.eu=A);l.h8(n,p,y,v);return v;break;}}function t(B){var O60,D;O60=2;for(;O60 !== 7;){switch(O60){case 5:O60=!D || (B.bitrate > w?n.$0b:1) * B.bitrate * q.playbackRate > D?4:3;break;case 4:return !1;break;case 1:D=B.Ra;O60=5;break;case 2:void 0 !== y && (null === u || void 0 === u?0:u.U) && l.i8(n,p,u.U.$w,y,y + 1);O60=1;break;case 3:var M8J="buff";M8J+="_lt";M8J+="_";M8J+="hist";z=M8J;A=D;return !0;break;}}}}for(;M60 !== 5;){switch(M60){case 2:var o8J="1SI";o8J+="YbZr";o8J+="N";o8J+="JCp";o8J+="9";b.x$=g=function(n,q,p,v,t,u,w){var P60;P60=2;for(;P60 !== 1;){switch(P60){case 2:var v8J="p";v8J+="l";v8J+="a";v8J+="y";v8J+="ing";return v8J === n.Tia?m.Zw.call(this,n,q,p,v,t,u,w):k.call(this,n,q,p,v);break;}}};o8J;M60=5;break;}}})();},function(r,b,a){var c;a(10);c=a(35).console;r.exports=function(f,l,m,d,h,g,k,n,q,p,v,t,u,w,x){var H71=a000;var Q60,y,z,A,B,D,E,F,C;Q60=2;for(;Q60 !== 39;){switch(Q60){case 28:Q60=n >= q && f > B?40:44;break;case 34:H71.x2J(9);m+=H71.z2J(g,F,0,t);k+=C;Q60=32;break;case 10:0 === k && (m=0);Q60=20;break;case 16:H71.Q2J(10);B*=H71.c2J(1E3,y);Q60=15;break;case 43:d=Math.min(f,d);Q60=15;break;case 42:Q60=(f=Math.max(k - m,0),f < u && f < D)?41:34;break;case 25:D=Math.max(F,p);Q60=24;break;case 40:return {result:!0,BW:d / (y / 1E3),Rt:!0};break;case 23:(m=h,v+=A[E],++E,f=z[E],h+=f);Q60=24;break;case 20:H71.Q2J(10);m*=H71.c2J(1E3,y);H71.Q2J(10);k*=H71.z2J(1E3,y);H71.x2J(10);w*=H71.c2J(1E3,y);H71.x2J(10);u*=H71.c2J(1E3,y);Q60=16;break;case 30:(v+=A[E],++E,h+=z[E]);Q60=31;break;case 35:H71.Q2J(0);f=H71.c2J(m,k);Q60=34;break;case 2:var g8J="1SI";g8J+="YbZrN";g8J+="JC";g8J+="p";g8J+="9";g8J;y=f.S;l=Math.min(f.length,l);(z=f.sd,A=f.sizes,B=d - m);Q60=3;break;case 26:Q60=v < F?25:42;break;case 24:Q60=v < D?23:22;break;case 29:++n;Q60=28;break;case 15:Q60=n < l?27:40;break;case 44:D=f;Q60=43;break;case 41:return {result:!1,BW:Math.min(f,d) / (y / 1E3),Rt:!0};break;case 22:Q60=!x && (f=k - m,f < w)?21:35;break;case 3:d=Infinity;(D=0,E=0);f=f.sd[0];Q60=7;break;case 27:(F=A[n],C=z[n]);Q60=26;break;case 31:Q60=h < m && E < n?30:29;break;case 7:var i8J=" >= fragment";i8J+="sLength:";i8J+=" ";var S8J="Stre";S8J+="amingIn";S8J+="d";S8J+="ex: ";H71.x2J(11);h=H71.z2J(y,f,1E3,h);H71.x2J(12);f=H71.z2J(8,0,g,t);H71.Q2J(13);t=H71.c2J(8,t,0);H71.Q2J(10);g=H71.c2J(1E3,y);n >= l && c.error(S8J + n + i8J + l);m+=f;Q60=10;break;case 32:v-=F;Q60=31;break;case 21:return {result:!1,BW:f / (y / 1E3),Rt:!1};break;}}};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.lKb=b.a8a=void 0;c=a(2);f=c.__importDefault(a(86));l=c.__importStar(a(10));m=a(25);d=a(361);h=c.__importDefault(a(6));r=c.__importDefault(a(114));a=c.__importDefault(a(35));g=a.default.GOb;k=a.default.Zsb;n=a.default.Q3;q=a.default.rp;p=r.default.gwa;a=(function(){function v(B,D){var S60,E,F;S60=2;for(;S60 !== 12;){switch(S60){case 2:E=new q();E.Jg=B;B=E.Jg.wb || ({});E.Ko=B.bm && B.Ck;S60=3;break;case 7:S60=(F=l.Ba(D.y$) && 0 <= D.y$ && 100 >= D.y$ && !l.ia(B) && !l.Bb(B))?6:14;break;case 3:E.Jo=B.bm?B.bm:0;B=f.default(E.Ko,{});S60=7;break;case 6:(F=d.ZKa.nGb(B),l.ed(F)?(B.uj=F,F=!0):F=!1);S60=14;break;case 14:var a8J="h";a8J+="ist_throu";a8J+="gh";a8J+="p";a8J+="ut";var s8J="hi";s8J+="st_td";s8J+="i";s8J+="g";s8J+="est";F?(D=B.uj(D.y$ / 100) || E.Jg.Ra,E.eu=D,E.reason=s8J):E.Jg.Ra && (D=E.Jg.Ra,E.eu=D,E.reason=a8J);return E;break;}}}var R60;function A(B,D,E,F){var d70,C;d70=2;for(;d70 !== 7;){switch(d70){case 2:var n8J="v";n8J+="b";C=h.default.storage.get(n8J);d70=1;break;case 1:var L8J="nu";L8J+="m";L8J+="b";L8J+="e";L8J+="r";d70=L8J !== typeof C?5:4;break;case 4:var H8J="h";H8J+="is";H8J+="t";H8J+="_bitrate";B=new q();B.Jg=m.hg(E.slice().reverse(),function(G){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return G.bitrate <= C;break;}}}) || E[0];B.reason=H8J;d70=8;break;case 5:return B.sT?x(B,D,E,F):z(B,D,E,F);break;case 8:return B;break;}}}function y(B,D,E,F,C,G){var Z60;Z60=2;for(;Z60 !== 5;){switch(Z60){case 2:var K8J="no";K8J+="_va";K8J+="lid_";K8J+="Bitrate";var d8J="n";d8J+="o_va";d8J+="lid";d8J+="_VM";d8J+="AF";var A8J="no_v";A8J+="a";A8J+="lid_D";A8J+="elayTarg";A8J+="et";B=E?B.sb >= G.tu && B.sb <= G.v2a:B.bitrate >= G.Iw && B.bitrate <= G.dA;return (F=F < C && B)?{k5:F}:{k5:F,reason:B?A8J:E?d8J:K8J};break;}}}function t(B,D,E){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:B=k(E.rj,B * E.ura);return g(B,D);break;}}}function x(B,D,E){var X60,F,C,G,K,I,J;X60=2;for(;X60 !== 19;){switch(X60){case 1:X60=0 <= G && (F?E[G].sb >= B.tu:E[G].bitrate >= B.Iw)?5:11;break;case 2:(F=! !B.tu && ! !B.v2a && E.every(function(M){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 4:return M.sb || 166 > M.sb;break;Y60=1;break;case 2:return M.sb && 110 >= M.sb;break;}}}),C=null,G=E.length - 1);X60=1;break;case 3:(K=t(J.bitrate * D.playbackRate,C.eu,B),I=w(C.eu,B));I=y(J,C.eu,F,K,I,B);J=I.k5;I=I.reason;C.Hz=K;X60=14;break;case 12:G--;X60=1;break;case 13:C.reason=I;X60=12;break;case 5:J=E[G];C=v(J,B);X60=3;break;case 14:X60=J?11:13;break;case 11:l.Bb(C) && (C=v(E[0],B));X60=10;break;case 10:var u8J="fallback";u8J+="_no_acceptable_st";u8J+="ream";l.Bb(C) && (C=v(E[0],B),C.reason=u8J);return C;break;}}}function z(B,D,E){var a70,F,C;a70=2;for(;a70 !== 4;){switch(a70){case 2:(F=new q(),C=Math.max(B.Iw,B.t8,D.wpa?B.Gra:-Infinity));F.Jg=m.hg(E.filter(function(G){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return G.bitrate <= B.dA;break;}}}).reverse(),function(G){var c70,I,J,K;c70=2;for(;c70 !== 13;){switch(c70){case 9:I=u(B,G);c70=8;break;case 3:c70=K?9:6;break;case 1:c70=G.bitrate > C?5:14;break;case 7:return J;break;case 2:J={Ra:G.Ra,bm:G.wb && G.wb.bm,Ck:G.wb && G.wb.Ck};c70=1;break;case 5:G=G.bitrate * D.playbackRate;K=J.Ra;c70=3;break;case 8:var P8J="hi";P8J+="st_";P8J+="bufftim";P8J+="e";t(G,K,B) <= I?(F.eu=K,J && (F.Jo=J.bm?J.bm:0,F.Ko=J.bm && J.Ck),F.reason=P8J,J=!0):J=!1;c70=7;break;case 6:J=!1;c70=7;break;case 14:var N8J="no_h";N8J+="istor";N8J+="ical_lte_";N8J+="minbitrate";var U8J="hist_";U8J+="tp";U8J+="ut";U8J+="_lt_minbitr";U8J+="ate";var W8J="lt_h";W8J+="ist_lte_mi";W8J+="nbitrat";W8J+="e";(K=J.Ra,G.bitrate * D.playbackRate <= K?(F.eu=K,J && (F.Jo=J.bm?J.bm:0,F.Ko=J.bm?J.Ck:void 0),F.reason=W8J,J=!0):K?(F.eu=K,J && (F.Jo=J.bm?J.bm:0,F.Ko=J.bm?J.Ck:void 0),F.reason=U8J,J=!1):(F.reason=N8J,J=!0));c70=7;break;}}}) || E[0];return F;break;}}}R60=2;for(;R60 !== 5;){switch(R60){case 2:var Y8J="1SIY";Y8J+="b";Y8J+="ZrN";Y8J+="JCp9";Y8J;return {Xob:function(B,D,E,F){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:var X8J="hi";X8J+="sto";X8J+="ri";X8J+="c";X8J+="al";return X8J === B.dpa?A(B,D,E,F):B.sT?x(B,D,E,F):z(B,D,E,F);break;}}},zmb:y};break;}}function w(B,D){var P71=a000;var W60,E;W60=2;for(;W60 !== 9;){switch(W60){case 2:P71.Q2J(10);var A31=P71.c2J(4,4000);B=n(B,0,1E5) / A31;W60=1;break;case 7:P71.x2J(14);var B31=P71.c2J(6,6,21,115);P71.Q2J(15);var D31=P71.c2J(16,61,4);B=n(B,B31,281) % D31;W60=7;break;W60=1;break;case 1:var D8J="l";D8J+="o";D8J+="g";W60=0 === D.ZO.lastIndexOf(D8J,0)?5:3;break;case 4:return (E=D.b8a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * Math.log(1 + B)):D.$r;break;case 3:var z8J="s";z8J+="igmoi";z8J+="d";return 0 === D.ZO.lastIndexOf(z8J,0)?(E=D.ZO,(E=D.b8a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * p(B)):D.$r):D.$r;break;case 5:E=D.ZO;W60=4;break;}}}function u(B,D){var U60,E,F;U60=2;for(;U60 !== 13;){switch(U60){case 3:U60=-1 === F?9:8;break;case 1:(E=B.V6,F=m.Lp(E,function(C){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 2:return D <= C.r;break;}}}));U60=5;break;case 2:U60=B.V6?1:14;break;case 5:U60=0 === F?4:3;break;case 6:return Math.floor(B.d + (E.d - B.d) * (D - B.r) / (E.r - B.r));break;case 9:return E[E.length - 1].d;break;case 14:return B.$r;break;case 4:return E[0].d;break;case 8:a000.x2J(0);B=E[a000.c2J(1,F)];E=E[F];U60=6;break;}}}})();r=a.zmb;b.a8a=a.Xob;b.lKb=r;},function(r,b,a){var f,l,m,d;function c(h,g,k){var n,q;n=this.qga;g=g.buffer.Fc;q="forward" === h.TVb;if(f.ia(n))return (n=q?l(k):l(k,k.length),this.rga=g,this.qga=n,new d(n));m(k[n]) || (n=l(k,n),this.rga=g,this.qga=n);if(0 > n)return null;if(g > this.rga + h.c_b){h=k.map(function(p,v){return p.ku?v:null;}).filter(function(p){return null !== p;});if(!h.length)return null;q?n=(h.indexOf(n) + 1) % h.length:(n=h.indexOf(n) - 1,0 > n && (n=h.length - 1));this.qga=h[n];this.rga=g;return new d(h[n]);}return new d(n);}f=a(10);b=a(35);l=b.jma;m=b.pH;d=b.rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function c(t,u){var h70,w;h70=2;for(;h70 !== 4;){switch(h70){case 2:w=void 0;u.some(function(x){var i70,y;i70=2;for(;i70 !== 4;){switch(i70){case 5:return y;break;case 2:y=x.profiles;(y=y && 0 <= y.indexOf(t)) && (w=x.override);i70=5;break;}}});return w;break;}}}var g70,l,m,d,h,g,k,n,q,p,v;function f(t,u,w,x){var j70,y,J,K,G,B,D,E,F,C,z,A;j70=2;for(;j70 !== 32;){switch(j70){case 16:var x8J=" ";x8J+="kb";x8J+="p";x8J+="s";var Q8J=" kb";Q8J+="p";Q8J+="s";Q8J+=" ";Q8J+="> ";var c8J="throughput for a";c8J+="ud";c8J+="io ";j70=E < A.length - 1 && F > C.vab * D * u.playbackRate && (h && d.log(c8J + F + Q8J + C.vab + "*" + D + x8J),D=u.buffer,G=D.im - D.Jc,B.U && B.U.length)?15:21;break;case 1:y=w[x].ih;j70=5;break;case 6:j70=0 > E?14:13;break;case 22:var G8J="m";G8J+="s";var r8J=", bu";r8J+="ff";r8J+="e";r8J+="r level";r8J+=" = ";var C8J=", lastUpswitchPt";C8J+="s";C8J+=" = ";var E8J=" ";E8J+=" Upswitch not allowed. l";E8J+="astDownswi";E8J+="tchPts = ";h && d.log(E8J + K + C8J + J + r8J + G + G8J);j70=21;break;case 15:(J=this.mqa,K=this.I7);j70=27;break;case 24:j70=(D=A[E],G=w[D],n(G) && F > C.vab * G.bitrate * u.playbackRate)?23:25;break;case 5:j70=!(t && t.BP && 0 <= t.BP.indexOf(y))?4:3;break;case 26:var y9J=", streamingP";y9J+="t";y9J+="s = ";var R9J=",";R9J+=" lastU";R9J+="pswitc";R9J+="hPts ";R9J+="= ";var m8J="  Upswitch";m8J+=" ";m8J+="allowed. lastDownswit";m8J+="chPts";m8J+=" = ";h && d.log(m8J + K + R9J + J + y9J + D.Fc);j70=25;break;case 18:z=D;j70=21;break;case 12:var e9J=" ";e9J+="kbps, try to do";e9J+="wnswitch";var O9J=" k";O9J+="bps <";O9J+=" ";var h9J="t";h9J+="hroughput ";h9J+="f";h9J+="or audio";h9J+=" ";(h && d.log(h9J + F + O9J + C.xUa + "*" + D + e9J),--E);j70=11;break;case 11:j70=0 <= E?10:21;break;case 25:j70=++E < A.length?24:21;break;case 10:D=A[E];G=w[D];j70=19;break;case 4:return new q(x);break;case 23:z=D;j70=21;break;case 21:var V9J="kbps";V9J+=", st";V9J+="reamingPts";V9J+=" ";V9J+=":";var p9J=", au";p9J+="dio ";p9J+="throughp";p9J+="ut:";var I9J=" kbps, profile";I9J+=" ";I9J+=":";var F9J="se";F9J+="lectAudioStream: s";F9J+="elected stream :";var q9J=" k";q9J+="b";q9J+="p";q9J+="s";var B9J=" ";B9J+="k";B9J+="bps,";B9J+=" to ";var t9J="switchi";t9J+="ng audio";t9J+=" from ";var J9J="d";J9J+="o";J9J+="w";J9J+="n";var T9J="u";T9J+="p";F=w[z];z !== x && h && d.log((z > x?T9J:J9J) + t9J + B.bitrate + B9J + F.bitrate + q9J);h && d.log(F9J + F.bitrate + I9J + y + p9J + F.Ra + V9J + u.buffer.Fc);return new q(z);break;case 13:j70=E && F < C.xUa * D * u.playbackRate?12:16;break;case 17:E--;j70=11;break;case 7:(B=w[x],D=B.bitrate,E=A.indexOf(x),F=B.Ra,C=t.Srb);j70=6;break;case 27:j70=u.rq && G > C.Xz && (void 0 === K || Number(J) > K || D.Fc - K > C.S7)?26:22;break;case 19:j70=n(G) && (0 == E || G.bitrate * u.playbackRate * C.xUa < F)?18:17;break;case 14:z=0;j70=21;break;case 2:var l9J="Must have at least one";l9J+=" selected";l9J+=" s";l9J+="tream";g(!l.ia(x),l9J);j70=1;break;case 9:t.k$a.some(function(I){var k70,H,Q,N,L,M,R;k70=2;for(;k70 !== 9;){switch(k70){case 5:(H=(I=I.uX) && I.A8 || t.A8,Q=I && I.mac || -Infinity,N=I && I.MN || Infinity,L=u.buffer.cw);k70=4;break;case 6:k70=R?6:9;break;k70=R?5:3;break;case 2:(M=I.profiles,R=M && 0 <= M.indexOf(y));k70=1;break;case 4:A=w.filter(function(P){var l70,S;l70=2;for(;l70 !== 5;){switch(l70){case 2:S=P.bitrate;return S >= Q && S <= N && 0 <= M.indexOf(P.ih) && S * H / 8 < L;break;}}}).map(function(P){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:return P.Kf;break;case 4:return P.Kf;break;m70=1;break;}}});k70=3;break;case 3:return R;break;case 1:k70=R?5:3;break;}}});j70=8;break;case 3:z=x;j70=9;break;case 8:j70=A && 1 < A.length?7:21;break;}}}g70=2;for(;g70 !== 4;){switch(g70){case 2:var j9J="1SIYb";j9J+="Z";j9J+="r";j9J+="NJ";j9J+="Cp9";(l=a(10),m=a(35),d=m.console,h=m.debug,g=m.assert,k=a(86),n=m.pH,q=m.rp,p=a(388),v=a(16).ma);r.exports={STARTING:function(t,u,w,x){var n70,y,z;n70=2;for(;n70 !== 7;){switch(n70){case 2:(y=t,z=w[x || 0].ih);n70=1;break;case 4:var b9J=" ";b9J+="kbps, ";b9J+="profile";b9J+=" :";var w9J="selectA";w9J+="udioStreamStarting: selecte";w9J+="d strea";w9J+="m :";t=p[v[v.yh]](y,u,w,x);w=w[t.Ie];h && d.log(w9J + w.bitrate + b9J + w.ih);return t;break;case 5:var k9J="selectAudioStream";k9J+="Starting: overridi";k9J+="ng config with ";(y={minInitAudioBitrate:t.UW,minHCInitAudioBitrate:t.TW,maxInitAudioBitrate:t.FW,minRequiredAudioBuffer:t.A8},h && d.log(k9J + JSON.stringify(z)),k(z,y));n70=4;break;case 1:n70=(z=t && t.BP && 0 <= t.BP.indexOf(z)?c(z,t.k$a):c(z,t.Qrb))?5:4;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};j9J;g70=4;break;}}})();},function(r,b,a){var f;function c(){return new f(0);}a(10);f=a(35).rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){return new f(d.length - 1);}a(10);f=a(35).rp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var o70,f,l,m,d;o70=2;for(;o70 !== 6;){switch(o70){case 2:f=a(10);a(28);l=a(35);a(6);o70=3;break;case 3:(m=l.assert,d=l.rp);l=a(174).default;r.exports={STARTING:l.STARTING,BUFFERING:l.BUFFERING,REBUFFERING:l.REBUFFERING,PLAYING:c,PAUSED:c};o70=7;break;case 7:var f9J="1";f9J+="SI";f9J+="YbZrNJ";f9J+="Cp9";f9J;o70=6;break;}}function c(h,g,k,n){var p70,q;p70=2;for(;p70 !== 12;){switch(p70){case 8:p70=q.wb && q.wb.Ra && q.bitrate < q.wb.Ra.Ga - h.$Zb?7:6;break;case 9:q=k[n];p70=8;break;case 2:var M9J="playe";M9J+="r missing fragme";M9J+="ntIndex";var Z9J="Mu";Z9J+="st have at lea";Z9J+="st ";Z9J+="one selected stream";m(!f.ia(n),Z9J);m(f.Ba(g.Pd),M9J);g=d(n);p70=4;break;case 3:p70=-1 < n?9:14;break;case 4:a000.x2J(16);var E31=a000.z2J(17,12,5);n=k.length - E31;p70=3;break;case 7:return (g.Ie=n,g);break;case 14:g.Ie=0;return g;break;case 6:--n;p70=3;break;}}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(843);b.default={PLAYING:r.Zw,PAUSED:r.Zw};},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Zw=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(35));l=r.__importDefault(a(174));m=a(101);d=r.__importDefault(a(6));h=f.default.assert;g=f.default.rp;b.Zw=k;(function(){var q70;q70=2;for(;q70 !== 5;){switch(q70){case 2:var g9J="1";g9J+="SI";g9J+="YbZr";g9J+="NJCp9";b.Zw=k=function(n,q,p,v,t,u,w){var r70,I,M,R,E,F,C,x,y,z,A,B,H,Q,D,K,G,J;r70=2;for(;r70 !== 66;){switch(r70){case 21:B=0;r70=35;break;case 38:K=void 0;D.wb && D.wb.tputTrace && (K=D.wb.tputTrace);(I=[],M=D.U,R=0);r70=54;break;case 11:r70=D === A?10:58;break;case 70:r70=y[B].f === A?69:68;break;case 48:H=q.Pd;r70=47;break;case 58:x=void 0;r70=57;break;case 71:r70=0 <= B?70:73;break;case 77:r70=y[B].f === A?76:75;break;case 27:u=q.buffer;u=u.im - u.Jc;w=m.Om.oTa(q.buffer.U);r70=24;break;case 16:t=[];r70=27;break;case 67:B--;r70=71;break;case 76:x=B;r70=73;break;case 73:A=x;r70=20;break;case 54:r70=void 0 !== M?53:65;break;case 60:return z;break;case 39:J.push(K.max);r70=38;break;case 47:r70=H < M.length?46:65;break;case 7:return l.default.PLAYING.call(this,n,q,p,v,t,u,w);break;case 56:B+=1;r70=55;break;case 19:z.Ie=y[A].ZVb;r70=18;break;case 8:r70=A < x || A > B?7:6;break;case 62:B++;r70=35;break;case 30:r70=D.wb && D.wb.tdigest?29:38;break;case 52:r70=H < Math.min(H + n.Vrb,M.length)?51:48;break;case 2:var o9J="player miss";o9J+="i";o9J+="ng frag";o9J+="mentIndex";var v9J="Must have a";v9J+="t leas";v9J+="t one selected stream";h(!c.ia(v),v9J);h(c.Ba(q.Pd),o9J);(y=n.VYb,z=new g(v),A=null !== (x=q.Pd) && void 0 !== x?x:-1);x=y[0].f;B=y[y.length - 1].f;r70=8;break;case 72:--B;r70=71;break;case 59:return l.default.PLAYING.call(this,n,q,p,v,t,u,w);break;case 65:M=void 0;q.ST && (M=d.default.time.ea() - q.ST);t.push({Pd:q.Pd,bcc:M,X$b:R,u8b:G,Zbc:J,acc:K,Via:u,J9b:w,O8b:I,C$b:y.bitrate,D$b:null !== (E=y.sb) && void 0 !== E?E:0,V8b:D.bitrate,W8b:null !== (F=D.sb) && void 0 !== F?F:0,ybc:A.bitrate,zbc:null !== (C=A.sb) && void 0 !== C?C:0,fD:x});r70=62;break;case 10:A=B;r70=20;break;case 49:H++;r70=52;break;case 46:R+=M.get(H).duration;r70=45;break;case 68:r70=y[B].f < A?73:67;break;case 45:H++;r70=47;break;case 18:z.Jg=p[z.Ie];r70=17;break;case 17:r70=n.sBb?16:60;break;case 53:H=q.Pd;r70=52;break;case 28:J.push(K.min);J.push(K.o9);J.push(K.Hl);J.push(K.uk);r70=41;break;case 55:r70=B < y.length?77:73;break;case 51:Q=M.get(H);I.push({d:Q.duration,b:Q.fa});r70=49;break;case 75:r70=y[B].f > A?73:74;break;case 41:J.push(K.Il);J.push(K.p9);r70=39;break;case 57:r70=D < A?56:72;break;case 74:B++;r70=55;break;case 69:x=B;r70=73;break;case 35:r70=B < p.length?34:61;break;case 61:z.JQa=t;r70=60;break;case 6:a000.Q2J(0);B=a000.c2J(x,A);0 > B && (B=0);B >= y.length && (B=y.length - 1);D=y[B].f;r70=11;break;case 29:K=D.wb.tdigest;r70=28;break;case 24:w=q.buffer.cw - w.fa;y=p[v];A=p[v];r70=21;break;case 20:r70=void 0 !== A?19:59;break;case 34:D=p[B];x=B <= v?!0:!1;(G=void 0,J=[]);D.wb && D.wb.throughput && (G=D.wb.throughput.Ga);r70=30;break;}}};g9J;q70=5;break;}}})();},function(r,b,a){(function(){var s70,c;s70=2;for(;s70 !== 8;){switch(s70){case 2:a(10);a(28);a(35);c=a(16).Gc;r.exports={checkBuffering:function(f,l,m,d,h,g){var c71=a000;var t70,t,w,n,q,p,v,u;t70=2;for(;t70 !== 37;){switch(t70){case 8:t70=l <= g.Nqa && (0 < l || !g.Pla)?7:6;break;case 21:var S9J="h";S9J+="i";S9J+="g";S9J+="h";S9J+="tp";return {complete:!0,reason:S9J};break;case 20:t=0;f.U.forEach(function(x){var v70;v70=2;for(;v70 !== 1;){switch(v70){case 2:t+=x.Y + x.duration > f.Jc?x.fa:0;v70=1;break;}}});m=Math.max(m,1);q=m * d.bitrate;t70=16;break;case 43:return (p=Math.min(v,n + w),{complete:!1,sI:p,progress:k(p)});break;case 6:c71.Q2J(17);var F31=c71.z2J(11,331,19,18);p=g.rj * (q?g.qua:F31);g.nBb && d.wb && d.wb.yj && d.wb.yj.Ga > g.Hqa && (p+=g.Nha + d.wb.yj.Ga * g.ata);h && (p+=h.Ht * g.Oha);p=v?Math.min(v,p):p;t70=11;break;case 10:return {complete:!1,sI:p};break;case 35:p=d.U.sd(h);g=Math.min(h + Math.floor(g.dY / p),d.U.length - 1);w=d.U.Rd(g);c71.Q2J(18);var G31=c71.c2J(17,57,48);p=G31 * u * m / l - f.Jc;t70=31;break;case 27:h=d.U.wn(f.Fc);t70=26;break;case 30:t70=g > h?29:40;break;case 23:t70=n >= p?22:39;break;case 41:--g;t70=30;break;case 29:q=d.U.get(g);w=8 * w * m / l - q.Y - p;t70=44;break;case 42:w=q.offset;t70=41;break;case 31:--g;t70=30;break;case 25:var i9J="o";i9J+="ut";i9J+="ofr";i9J+="ang";i9J+="e";return {complete:!0,reason:i9J};break;case 11:t70=!l?10:20;break;case 2:(n=f.im - f.Jc,q=l === c.Nf);l=d.Ra || 0;(p=0,v=g.Txa && !q?g.tD:g.kra);t70=4;break;case 24:u=d.U.Rd(h);t70=23;break;case 15:return (l < q && (p=Math.min(v,Math.max(g.dY * (q / l - 1),p))),{complete:!1,sI:p,progress:0});break;case 44:t70=0 < w?43:42;break;case 22:t70=l > q * g.j5?21:35;break;case 7:return {complete:!1,pD:!0};break;case 9:var s9J="max";s9J+="s";s9J+="i";s9J+="z";s9J+="e";return {complete:!0,reason:s9J};break;case 16:t70=!d.U || !d.U.length?15:27;break;case 4:v=Math.min(g.eA,v);t70=3;break;case 3:t70=n >= v?9:8;break;case 26:t70=-1 === h?25:24;break;case 39:0 < l && l < q && (p=Math.min(v,Math.max(g.dY * (q / l - 1),p)));return {complete:!1,sI:p,progress:k(p)};break;case 40:var a9J="nor";a9J+="e";a9J+="b";a9J+="uf";a9J+="f";return {complete:!0,reason:a9J};break;}}function k(x){var u70;u70=2;for(;u70 !== 5;){switch(u70){case 2:x=d.U.m5(f.Jc + x,void 0,!0);return (t - f.$k) / (t + (x.offset + x.fa) - u);break;}}}}};s70=9;break;case 9:var n9J="1";n9J+="SI";n9J+="YbZrNJCp";n9J+="9";n9J;s70=8;break;}}})();},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q){h=q;g=q.map(function(p,v){return v;});if(null === d)return (k=l(q),d=q[k].bitrate,new m(k));if(!q.length)return null;k=g.filter(function(p){return q[p].bitrate == d;})[0];return void 0 === k?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(g[0])):new m(k);}b=a(35);a=a(6).default;f=b.console;l=b.jma;m=b.rp;d=null;h=null;g=null;a.Stb && (a.Stb.il={xb:function(){g=h=d=null;},Bva:function(k){d=k;},W9b:function(){return {all:h,Vab:g};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;c=a(2);r=c.__importDefault(a(114));f=c.__importDefault(a(6));l=a(245);m=a(246);d=r.default.Q3;h=r.default.yub;g=r.default.zVa;k=r.default.QBb;n=r.default.fWb;new f.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(q){var w70;w70=2;function p(v,t){var x70,u;x70=2;for(;x70 !== 12;){switch(x70){case 4:Array.isArray(v.vt.curves) && (u.BTa=h(v.vt.curves[0],0,0,1),u.ATa=h(v.vt.curves[1],0,0,1));u.msb=d(v.vt.threshold || 6E3,1,1E5);u.hsb=d(v.vt.gamma || 1,.1,10);u.filter=v.vt.filter;x70=7;break;case 2:u=q.call(this,v,t) || this;u.PD=function(w,x){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:return m.PD(u.config,w,x);break;}}};u.L9=function(w,x,y){var z70,z,A,B,D,E,F;z70=2;for(;z70 !== 13;){switch(z70){case 2:y=null !== y && void 0 !== y?y:u.MN;F=null !== (A=null === (z=w.Ra) || void 0 === z?void 0:z.Ga) && void 0 !== A?A:0;z=null !== (D=null === (B=w[u.filter]) || void 0 === B?void 0:B.Ga) && void 0 !== D?D:F;z70=3;break;case 6:void 0 !== w && (E=k(u.ZOb,w),x=Math.min(x * E,1));a000.x2J(19);return u.kUa(a000.c2J(F,x,1),y);break;case 3:B=Math.pow(Math.max(1 - z / u.msb,0),u.hsb);D=x.im - x.Jc;u.lYb?(x=g(u.BTa,D,1),D=g(u.ATa,D,1),x=x * B + D * (1 - B)):x=g(n(u.BTa,u.ATa,B),D,1);w=u.y3a && (null === (E=w[u.y3a]) || void 0 === E?void 0:E.fX);z70=6;break;}}};x70=4;break;case 7:var L9J="1SIYbZrN";L9J+="J";L9J+="Cp";L9J+="9";u.lYb=! !v.vt.simpleScaling;v.vt.niqrfilter && v.vt.niqrcurve && (u.y3a=v.vt.niqrfilter,u.ZOb=h(v.vt.niqrcurve,1,0,4));L9J;return u;break;}}}for(;w70 !== 5;){switch(w70){case 2:c.__extends(p,q);return p;break;}}})(l.xJ);b.HFa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tKa=void 0;c=a(2);r=c.__importDefault(a(6));f=a(245);l=a(246);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var A70;A70=2;for(;A70 !== 3;){switch(A70){case 2:c.__extends(d,m);d.bYb=function(h,g){var E70,k,n;E70=2;for(;E70 !== 4;){switch(E70){case 2:n=! !h.Wr;g.Uwa && (null === (k=h.Ra) || void 0 === k?void 0:k.Ga) < g.fU && (n=!0);return n;break;}}};d.prototype.gEb=function(h,g){var F70,k,n;F70=2;for(;F70 !== 3;){switch(F70){case 2:(k=this.config,n=g?k.Wja:k.Bia);g=g?k.Xja:k.Dia;Array.isArray(g) && (n=l.yVa(g,h.im - h.Jc,k.Cia));return n;break;}}};return d;break;}}function d(h,g){var B70,k;B70=2;for(;B70 !== 9;){switch(B70){case 4:var H9J="1";H9J+="S";H9J+="IYb";H9J+="ZrNJCp9";H9J;return k;break;case 2:k=m.call(this,h,g) || this;k.PD=function(n,q){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:return l.PD(k.config,n,q);break;}}};k.L9=function(n,q,p){var D70,v;D70=2;for(;D70 !== 3;){switch(D70){case 4:return k.kUa(n,p);break;case 2:p=null !== p && void 0 !== p?p:k.MN;v=d.bYb(n,k.config);n=n.Ra?n.Ra.Ga * (100 - k.gEb(q,v)) / 100 | 0:0;D70=4;break;}}};B70=4;break;}}}})(f.xJ);b.tKa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;r=(function(){function a(c,f,l,m,d,h,g,k){this.gb=c;this.jRa=f;this.config=l;this.console=m;this.mediaType=d;this.Cb=h;this.Pa=g;this.Yb=k;this.Wq=this.Th=!1;}a.prototype.RL=function(c,f){!this.gb.O.av || this.Yb.YK || this.Yb.r2 || (c-=this.gb.Ee,this.Th && !this.Wq && c + this.config.B$a >= f && 0 === this.Pa.GD && 0 === this.Pa.Hs && 0 === this.Pa.NTb && (f=this.Yb.Fe.P.Nb,c=this.Yb.XM(),f + 1 < c || (this.jRa[this.mediaType].d$a || this.Cb.qnb(this.mediaType),this.Wq=!0,this.jRa[this.mediaType].a9())));};return a;})();b.yEa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wEa=void 0;c=a(2);f=a(20);r=a(390);l=a(384);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.Szb=function(h){m.prototype.C7.call(this,{value:h});};d.prototype.Q_a=function(){return !0;};d.prototype.twa=function(){};d.prototype.C7=function(h){m.prototype.C7.call(this,h);h.done && (h=this.WB.n4,f.ga && this.H.trace("Requests drained",{v8b:h && h.O.id}),(h=h && h.eb(this.Rg)) && h instanceof l.x0 && h.RL(this.Ng.pna() || 0));};return d;})(r.uba);b.wEa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yza=void 0;c=a(2);f=a(149);l=a(20);r=(function(){function m(d,h,g){this.H=d;this.Tkb=h;this.Rg=g;this.M1=0;this.g2=!1;this.dS=[];this.wF=void 0;l.ga && d.trace("BranchRequestIterator [" + this.Rg + "]: created");}Object.defineProperties(m.prototype,{Ayb:{get:function(){return this.M1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{n4:{get:function(){return this.HMa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xk:{get:function(){return this.g2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zTa:{get:function(){return this.rl?this.rl.Nz?"Complete":this.rl.Sta?"WaitingForBranch":void 0 !== this.wF && 0 !== this.wF?"In Policy " + this.dS[this.wF].name:"WaitingForRequest":"Uninitialized;Prior:" + this.ENa;},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,h,g,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.rl;if(!d)return [3,6];this.wF=void 0;return [4,d.next()];case 1:(h=n.$c(),g=0,n.label=2);case 2:if(!(g < this.dS.length))return [3,5];this.wF=g;k=this.dS[g];return [4,k.process(h)];case 3:(h=n.$c(),n.label=4);case 4:return (g++,[3,2]);case 5:this.wF=void 0;if(h.done || this.rl !== d)return [2,{done:!0}];this.M1++;h.value.mPa();return [2,{done:!1,value:h.value.value}];case 6:return [2,f.AsyncIterator.Zna()];}});});};m.prototype.KVb=function(){this.H9a();this.gUb();};m.prototype.H9a=function(){var d;if(this.rl){this.ENa=this.zTa;d=this.rl;d && d.Fh();this.dS.forEach(function(h){return h.reset();});d && l.ga && this.H.trace("BranchRequestIterator [" + this.Rg + "]: Disposing iterator that was on branch ",this.n4 && this.n4.O.id);this.g2=!1;this.wF=this.rl=void 0;}};m.prototype.wqb=function(d){this.dS.push(d);};m.prototype.gUb=function(){var d,h,g,k;d=this;if(!this.g2){h=this.H;g=this.Tkb;k=this.Rg;this.M1=0;this.ENa=this.HMa=void 0;this.rl=f.flatten(f.map(g.QYa(),function(n){return c.__awaiter(d,void 0,void 0,function(){var q;return c.__generator(this,function(p){switch(p.label){case 0:return (this.HMa=n,this.M1=0,l.ga && h.trace("BranchRequestIterator [" + this.Rg + "]: new branch " + n.O.id),[4,n.wz(k)]);case 1:if(q=p.$c())return [2,{value:q}];l.ga && h.error("BranchRequestIterator [" + this.Rg + "]: skipping branch " + n.O.id);return [2,{value:[]}];}});});},h),h);this.g2=!0;}};return m;})();b.yza=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oJa=void 0;c=a(2);f=a(852);l=a(853);r=(function(){function m(d,h,g,k,n,q,p,v){this.mediaType=d;this.Fa=g;this.events=n;this.BZ=[];1 === this.mediaType && this.BZ.push(new l.lKa(d,h,g,k,n,q,p,v,2));this.BZ.push(new f.LKa(d,h,g,k,n,q,p,"stream",1));}m.prototype.reset=function(){this.BZ.forEach(function(d){return d.reset();});};m.prototype.close=function(){this.BZ.forEach(function(d){return d.close();});};m.prototype.Ji=function(d){return c.__read(this.BZ,1)[0].Ji(d);};return m;})();b.oJa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LKa=void 0;c=a(2);f=a(5);l=a(20);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.hA=function(h){var g,k;g=h.stream;k=h.vj;h=h.we;f.assert(void 0 !== k);this.zPa(g,k,h) && l.ga && this.trace("stream " + g.id + ", " + g.bitrate + "kbit/s @ " + k.W + "ms");};d.prototype.TUa=function(h,g){var k,n,q;n=h.gJ;q=this.Fa.js(g);f.assert(void 0 !== q);l.ga && this.trace("emitStreamPresentingEvent @ " + h.timestamp.W + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:g,position:q,trackIndex:null === (k=null === n || void 0 === n?void 0:n.track) || void 0 === k?void 0:k.gC,streamIndex:null === n || void 0 === n?void 0:n.Kf});};return d;})(a(391).jea);b.LKa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=void 0;c=a(2);f=a(20);l=a(5);m=a(9);r=(function(d){function h(g,k,n,q,p,v,t,u,w){g=d.call(this,g,k,n,q,p,v,t,"segment",w) || this;g.ex=u;return g;}c.__extends(h,d);h.prototype.hA=function(g){var k,n,q;n=g.vj;g=g.we;l.assert(void 0 !== n);q=null === (k=this.Fa.js(n)) || void 0 === k?void 0:k.wa;l.assert(void 0 !== q);this.zPa(q,n,g) && f.ga && this.trace("segment " + q + " @ " + n.W + "ms");};h.prototype.TUa=function(g,k){var n,q;n=g.gJ;q=this.Fa.js(k);l.assert(void 0 !== q);f.ga && this.trace("emitSegmentPresentingEvent @ " + g.timestamp.W + "ms for segment " + n);q.wa !== n && (f.ga && this.console.warn("player position:",q,"not equal to trackedElement:",n),q={wa:n,offset:m.T.Gb});g={type:"segmentPresenting",playerTimestamp:k,position:q};this.ex && (g.metrics=this.ex.una(n));f.ga && this.trace("segmentPresenting: " + JSON.stringify(g));this.events.emit(g.type,g);};return h;})(a(391).jea);b.lKa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pCa=void 0;c=a(2);f=a(20);l=a(72);r=(function(){function m(d,h,g){this.Xf=d;this.jOb=h;this.H=g;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var h;d=l.hya(this.Xf,d,!0);h=d.promise;this.Ipb=d.Ds;return h;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var h,g;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];h=d.value.value;if(!h.pma)return [3,2];g=h.vj.Qa(this.jOb);f.ga && this.H.trace("[" + h.mediaType + "] JIT: waiting until playertime >= " + g.W,"to append next request " + h.toString());return [4,this.waitUntil(g)];case 1:(k.$c(),f.ga && this.H.trace("[" + h.mediaType + "] JIT: now appending request " + h.toString()),k.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.Ipb) || void 0 === d?void 0:d.Mb();};return m;})();b.pCa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;r=(function(){function a(c,f,l,m,d,h,g,k,n,q){var p;p=this;this.id=c;this.P=f;this.Y=l;this.uU=d;this.zl=h;this.av=g;this.gq=k;this.Vo=n;this.Zd=q;this.hN=function(v){var t,u;return (null === (u=null === (t=p.zl) || void 0 === t?void 0:t[v]) || void 0 === u?void 0:u.M_b) || p.Zd;};this.Ha=m || Infinity;}Object.defineProperties(a.prototype,{Z:{get:function(){return this.P.Z;},enumerable:!1,configurable:!0}});a.prototype.nXa=function(){var c,f,l;c=this;l=Object.keys(this.zl || ({})).filter(function(m){var d,h;return !(null === (h=null === (d=c.zl) || void 0 === d?void 0:d[m]) || void 0 === h || !h.weight);});return l.length?null !== (f=l.map(this.hN).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== f?f:this.Zd:this.Zd;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Vo + " viewableId: " + this.P.Z + " pts: " + this.Y + "-" + this.Ha + " defaultKey: " + this.uU + " dests: " + JSON.stringify(this.zl) + " terminal: " + ! !this.av;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.P.Z,"startPts:":this.Y,endPts:this.Ha,defaultKey:this.uU,"dests:":this.zl,terminal:! !this.av,playlistSegmentId:this.Vo};};return a;})();b.fKa=r;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Aya=void 0;r=a(2);c=r.__importStar(a(10));f=a(175);l=r.__importDefault(a(857));m=a(362);d=r.__importDefault(a(28));h=r.__importDefault(a(6));a=(function(){function g(k,n,q,p,v,t,u,w,x){var H70,y,J70,z,I70;H70=2;for(;H70 !== 32;){switch(H70){case 27:this.iga=!1;H70=26;break;case 33:v.Taa && (this.A2=this.z2=!1);H70=32;break;case 34:this.PK=new m.Bca(u,v,this.H);H70=23;break;case 10:n=this.hNa(q);void 0 !== n && void 0 !== n.Hl && void 0 !== n.uk && void 0 !== n.Il && (y=(n.Il - n.Hl) / n.uk);p=v.$W?d.default.Mf.Bx:d.default.Mf.nB;q && q.confidence >= p && q.Ra && y && this.wmb(q,n,y);H70=16;break;case 4:var A9J="1";A9J+="SIYbZr";A9J+="NJC";A9J+="p9";this.JF=x;A9J;this.rb=k;this.Qb=this.H.warn.bind(this.H);this.en=this.H.trace.bind(this.H);H70=6;break;case 22:var d9J="L";d9J+="R";H70=I70 === d9J?21:35;break;case 15:try{J70=2;for(;J70 !== 4;){switch(J70){case 2:z=new l.default(k,this.H,{bufferSize:h.default.Go()},v);this.eg.fqb(z);this.uOa=z;J70=4;break;}}}catch(A){var K9J="Hindsight:";K9J+=" Error ";K9J+="when creati";K9J+="ng QoEEvalu";K9J+="ator: ";a000.Q2J(1);k.Cb.Hn(a000.c2J(A,K9J));}H70=27;break;case 26:H70=u && 1 < u.length && v.wla?25:33;break;case 2:this.H=n;this.eg=p;this.dc=w;H70=4;break;case 25:var u9J="bas";u9J+="eli";u9J+="n";u9J+="e";I70=v.uIb;H70=I70 === u9J?24:22;break;case 16:H70=this.JF.Jr?15:27;break;case 23:this.iga=this.PK.o7();H70=33;break;case 24:this.PK=new m.Bca(u,v,this.H);H70=23;break;case 6:this.I=v;a000.x2J(0);var I31=a000.c2J(18000000,19000000);this.JNa=0 === Math.floor(I31 * Math.random()) % v.Oia;this.YC=this.OZa=this.PZa=this.a4=this.Wr=void 0;this.Wwa=this.i9a=this.j9a=this.Vwa=this.H4a=this.I4a=0;this.s2=f.bN(v,t);H70=10;break;case 21:this.PK=new m.qDa(u,v,this.H);H70=23;break;case 35:H70=34;break;}}}var G70;G70=2;for(;G70 !== 27;){switch(G70){case 8:g.prototype.fP=function(k){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:this.s2.fP(k);Q70=1;break;case 4:this.s2.fP(k);Q70=3;break;Q70=1;break;}}};g.prototype.Xpb=function(k,n,q,p,v,t){var R70,u;R70=2;for(;R70 !== 5;){switch(R70){case 2:u=this.I;u.Taa && this.gob(n) || !q || !p || !(q=t?Math.min(q,p,t):Math.min(q,p)) || (this.eg.get(),p=this.rb.La,k=p.aw(p.Tc,k),n.track.ju() && k > u.Nia && q === v?(u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:1}),u.set({maxActiveRequestsPerSession:2}),u.set({maxPendingBufferLen:500})):(u.yq=!0,u.NN=1,u.Cw=2,u.sD=500),n.track.Z9({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:u.QP,minRequestSize:u.VN}),this.Vwa++,u.Taa && (this.z2=!0)):u.yq && !n.ju() && (k < u.Mia || q !== v) && (u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:3}),u.set({maxActiveRequestsPerSession:3}),u.set({maxPendingBufferLen:12E3})):(u.yq=!0,u.NN=3,u.Cw=3,u.sD=12E3),n.track.Z9({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:u.QP,minRequestSize:u.VN}),this.Wwa++,u.Taa && (this.A2=!0)));R70=5;break;}}};g.prototype.$pb=function(k,n){var S70,q,p,v;S70=2;for(;S70 !== 6;){switch(S70){case 1:S70=this.JNa?5:6;break;case 8:(this.Ym.DT[v]=k,this.Ym.TZ[v]=n);S70=7;break;case 2:q=this.I;S70=1;break;case 9:S70=void 0 === p || q > p?8:7;break;case 7:this.Ym.cqa=q;S70=6;break;case 5:void 0 === this.Ym && (this.Ym={startTime:h.default.time.ea(),DT:[],TZ:[],jqa:void 0,cqa:void 0});q=Math.floor((h.default.time.ea() - this.Ym.startTime) / q.IL);(p=this.Ym.cqa,v=this.Ym.jqa?q - this.Ym.jqa - 1:q);S70=9;break;}}};G70=14;break;case 14:g.prototype.XPb=function(){var T70,k,U70;T70=2;for(;T70 !== 4;){switch(T70){case 1:T70=this.JF.Jr?5:4;break;case 9:k=this.rb;T70=6;break;T70=1;break;case 2:k=this.rb;T70=1;break;case 5:try{U70=2;for(;U70 !== 1;){switch(U70){case 2:(this.eg.SUb(),this.uOa.cd());U70=1;break;}}}catch(n){var P9J="H";P9J+="indsight: ";P9J+="Error during c";P9J+="lean";P9J+=" up: ";a000.Q2J(1);k.Cb.Hn(a000.z2J(n,P9J));}T70=4;break;}}};g.prototype.kQb=function(k){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.I.uM && k === d.default.Ta.Lb && (this.Wwa=this.Vwa=this.i9a=this.j9a=this.H4a=this.I4a=0);V70=1;break;}}};g.prototype.iQb=function(k,n){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:k === d.default.Ta.Lb && (this.R1b=n);W70=1;break;}}};g.prototype.dub=function(k){var X70,p,n,q,v,t;X70=2;for(;X70 !== 6;){switch(X70){case 5:p=this.eg.get();X70=4;break;case 1:var W9J="n";W9J+="o";W9J+="n";W9J+="e";X70=W9J !== n.hE && !0 !== this.Wr && k.state <= n.jra?5:6;break;case 2:n=this.I;X70=1;break;case 4:var U9J="i";U9J+="q";U9J+="r";X70=U9J === n.hE?3:8;break;case 3:v=this.hNa(p);X70=9;break;case 9:void 0 !== v && void 0 !== v.Hl && void 0 !== v.uk && void 0 !== v.Il && (q=(v.Il - v.Hl) / v.uk);X70=8;break;case 8:t=n.$W?d.default.Mf.Bx:d.default.Mf.nB;p && p.confidence >= t && this.jga(n.hE,p,v,q) && (this.Wr=!0,this.a4=k.state);X70=6;break;}}};G70=10;break;case 2:Object.defineProperties(g.prototype,{o7:{get:function(){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:return this.iga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bua:{get:function(){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 2:return this.uOa;break;}}},enumerable:!1,configurable:!0}});g.prototype.A8a=function(k,n,q){var M70;M70=2;for(;M70 !== 4;){switch(M70){case 2:this.YC=k;c.ia(n) || (this.PZa=n);c.ia(q) || (this.OZa=q);M70=4;break;}}};g.prototype.Exa=function(k){var N70;N70=2;for(;N70 !== 5;){switch(N70){case 2:this.I=k;this.s2.Exa(k);N70=5;break;}}};g.prototype.jga=function(k,n,q,p){var O70,v;O70=2;for(;O70 !== 7;){switch(O70){case 2:v=this.I;O70=1;break;case 5:O70=void 0 !== p?4:3;break;case 4:return ! !(n.Ra && q && c.Ba(p) && n.Ra.Ga < v.fU && p > v.Fca);break;case 1:var N9J="i";N9J+="q";N9J+="r";O70=k === N9J?5:9;break;case 9:var Y9J="a";Y9J+="v";Y9J+="g";O70=k === Y9J?8:3;break;case 3:return !1;break;case 8:return n.Ra?n.Ra.Ga < v.fU:!0;break;}}};g.prototype.bN=function(k){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:return 1 === k?this.s2.L9:this.s2.PD;break;}}};G70=8;break;case 10:g.prototype.uqb=function(k){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:k.Wr=this.Wr;Y70=1;break;}}};g.prototype.yCb=function(k){var Z70,n,q,p,v,u,t,w,x;Z70=2;for(;Z70 !== 25;){switch(Z70){case 2:var D9J="st";D9J+="a";D9J+="rtpl";D9J+="ay";var X9J="l";X9J+="og";X9J+="d";X9J+="at";X9J+="a";(n={},q=this.I,p=this.rb,v={type:X9J,target:D9J,fields:{}});v.fields=n;Object.keys(k).forEach(function(y){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 4:n[y]=k[y];a80=9;break;a80=1;break;case 2:n[y]=k[y];a80=1;break;}}});Z70=4;break;case 6:n.isLowEnd=this.uKb;n.histdiscbw=this.YC;u=this.OZa;Z70=12;break;case 4:t=this.eg.get();t && t.Ra && (t=t.Ra.Ga);n.actualbw=t;Z70=8;break;case 12:Z70=u?11:16;break;case 8:n.isConserv=this.Wr;n.ccs=this.a4;Z70=6;break;case 11:w=function(y){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:return c.Ba(y)?Number(y).toFixed(2):-1;break;}}};t=[w(u.min || void 0),w(u.o9 || void 0),w(u.Hl || void 0),w(u.uk || void 0),w(u.Il || void 0),w(u.p9 || void 0),w(u.max || void 0)];x=[];u=c.isArray(u.Ki) && u.Ki.reduce(function(y,z){var c80,A;c80=2;for(;c80 !== 3;){switch(c80){case 5:-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;case 2:A=w(z.pg || void 0);z=w(z.n || void 0);c80=5;break;}}},x);n.histtdc=u;Z70=17;break;case 17:n.histtd=t;Z70=16;break;case 27:p.ec && (q=h.default.Go(),n.maxAudioBufferAllowedBytes=q[d.default.Ta.Ub],n.maxVideoBufferAllowedBytes=q[d.default.Ta.Lb]);p.emit(v.type,v);Z70=25;break;case 16:n.histage=this.PZa;q.wla && this.PK && (n.ishighstable=this.iga,n.avg_avtp=this.PK.$rb,n.avg_ne=Number(this.PK.csb).toFixed(4));Z70=27;break;}}};g.prototype.zCb=function(k){var d80,t,u,w,n,q,p,v;d80=2;for(;d80 !== 6;){switch(d80){case 9:var z9J="n";z9J+="o";z9J+="n";z9J+="e";k.location={responseTime:u,httpResponseTime:w,bandwidth:t,confidence:p.confidence,name:this.R1b};this.JNa && (k.bt={startTime:this.Ym.startTime,audioMs:this.Ym.DT,videoMs:this.Ym.TZ},this.Ym.DT=[],this.Ym.TZ=[],this.Ym.jqa=this.Ym.cqa);z9J !== q.hE && (k.isConserv=this.Wr,k.ccs=this.a4);d80=6;break;case 5:k.stat=v;(t=0,u=0,w=0);p.confidence && (t=p.Ra?p.Ra.Ga:0,u=p.yj?p.yj.Ga:0,w=p.fu?p.fu.Ga:0);d80=9;break;case 2:(n=this,q=this.I,p=this.eg.get(),v=[]);[d.default.Ta.Lb,d.default.Ta.Ub].forEach(function(x){var e80,y;e80=2;for(;e80 !== 4;){switch(e80){case 2:e80=n.dc(x)?1:4;break;case 1:y=n.rb.UYa(x);void 0 !== y && (x === d.default.Ta.Lb && (q.uM && (y.parallelDownloadMs=n.I4a,y.parallelDownloadBytes=n.H4a,y.singleDownloadMs=n.j9a,y.singleDownloadBytes=n.i9a,y.switchFromParallelToSingle=n.Vwa,y.switchFromSingleToParallel=n.Wwa),p && p.confidence && p.Ra && (y.asetput=p.Ra,y.aseiqr=p.gu,y.tdigest=p.Ck && p.Ck.uz() || void 0),p && p.avtp && (y.avtp=p.avtp.Ga)),v.push(y));e80=4;break;}}});d80=5;break;}}};g.prototype.gob=function(k){var f80,n;f80=2;for(;f80 !== 6;){switch(f80){case 1:f80=this.z2 && k.ju()?5:4;break;case 2:n=this.I;f80=1;break;case 3:f80=this.A2 && n.yq && !k.ju()?9:8;break;case 4:this.z2 && (this.z2=!1);f80=3;break;case 5:return !0;break;case 9:return !0;break;case 8:this.A2 && (this.A2=!1);return !1;break;}}};g.prototype.hNa=function(k){var g80,h80;g80=2;for(;g80 !== 4;){switch(g80){case 1:k=k.Ck;g80=5;break;case 2:var c9J="t";c9J+="d";c9J+="i";c9J+="g";c9J+="est";h80=this.I.Joa;g80=h80 === c9J?1:3;break;case 3:g80=9;break;case 5:return k;break;case 9:k=k.gu && k.gu.x9;g80=5;break;case 12:g80=6;break;g80=9;break;}}};g.prototype.wmb=function(k,n,q){var i80,p;i80=2;for(;i80 !== 3;){switch(i80){case 5:this.a4=0;this.jga(p.Jqa,k,n,q) && (this.uKb=!0);i80=3;break;case 2:p=this.I;this.jga(p.hE,k,n,q)?this.Wr=!0:this.Wr=!1;i80=5;break;}}};G70=15;break;case 15:return g;break;}}})();b.Aya=a;},function(r,b,a){var f,l,m;function c(d,h,g,k){this.rb=d;this.H=h;this.Jk=this.H.error.bind(this.H);this.Qb=this.H.warn.bind(this.H);this.en=this.H.trace.bind(this.H);this.Cg=this.H.log.bind(this.H);this.Dkb=new l();this.I=k;this.q2=[];this.H2=void 0;d=k.H6;f.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.dga=!0;}a(28);b=a(6).default;f=a(143);a(393);l=a(858);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(125).qJa || a(125);c.prototype=Object.create(f.prototype);c.prototype.add=function(d,h,g){this.H2 || (this.H2=h);f.prototype.add.call(this,d,h,g);};c.prototype.sEb=function(){var d;if(0 !== this.q2.length){d=[];this.q2.forEach(function(h){h && h.zL && d.push(h.uz());});return d;}};c.prototype.cd=function(){this.q2=[];};c.prototype.iHb=function(){var d,h,g;d=this.get(this.I.H6.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,q){if(n)return (h=n,g=q,!0);});if(h)for(var k=0;k < g;k++){d[k]=h;}}d={trace:d,timestamp:this.H2,Gy:this.Gd};this.dga=!1;f.prototype.reset.call(this);this.dga=!0;this.H2=void 0;return d;};c.prototype.Mla=function(d){var h,g,k,n,q,p;if(d && !d.zL){g=d.Mt.i0a;g && (d.pua=this.Wha(d),d.X9=!1);if((h=this.iHb()) && h.trace && h.trace.length){k=d.Cj.MD;n=h.timestamp;if(n > k){q=h.Gy;p=h.trace[0];k=Math.ceil((n - k) / q);h.timestamp=n - k * q;for(n=0;n < k;n++){h.trace.splice(0,0,p);}}h.trace.length && h.trace.pop();}d.TA=h;h.trace && 0 === h.trace.length || void 0 === h.timestamp || (h=this.etb(d),d.o4a=h,g && h && (d.X9=h.fD),d.zL=!0,this.q2.push(d));}};c.prototype.etb=function(d){var q,p,v,t;function h(u){var y;for(var w,x=0;x < u.length;x++){y=u[x].reduce(function(z,A){return A.sb?z + 1:z;},0);if(void 0 === w)w=y;else if(y !== w)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > w?y - w:w - y) * Math.LOG2E) + "]");}}for(var g=this.I.G6,k={fD:!1,d7:!1,MAb:0},n=0;n < g.length;n++){q=g[n];p=this.Dkb.create(q);if(p){v=m.now();t={};try{h(d.kx);t=p(d);}catch(u){t.BM=u;}t.Rqb=m.now() - v;k[q]=t;k.fD=k.fD || t.fD;k.d7=k.d7 || t.d7;k.BM=k.BM || t.BM;}}return k;};c.prototype.Wha=function(d){var h;d=d.Mt;h="";1E3 > d.Xn && (h+=d.zbb);1E3 > d.vr && (h=h + ("" !== h?",":"") + d.nQa);1E3 <= d.Xn && 1E3 <= d.vr && (h="media");return h;};r.exports=c;},function(r,b,a){var l;function c(){}function f(m,d,h){return function(g){g.XD=d;g.compare=h;return m(g);};}l=a(859);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=f(l.NV,!1,l.rSa);break;case "htwbr-segvmaf":d=f(l.NV,!0,l.rSa);break;case "hvmafgr":d=f(l.NV,!1,l.Oja);break;case "hvmafgr-dlvmaf":d=f(l.NV,!1,l.Oja);break;case "hvmafgr-segvmaf":d=f(l.NV,!0,l.Oja);break;case "hvmafdp":d=f(l.dp,!1);break;case "hvmafdp-dlvmaf":d=f(l.dp,!1);break;case "hvmafdp-segvmaf":d=f(l.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var p,v,t,u,w,x,y,z,A,B,D;function c(E){var F,C,G;F=E.TA;C=E.Cj;G=E.Mt.Ha - C.Y;F.timestamp > C.MD && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + C.MD);E=[];for(var J,K=F.timestamp,I=0;I < F.trace.length;I++){K >= C.MD && (E.push(F.trace[I]),J=F.trace[I]);K+=F.Gy;G-=F.Gy;}for(;0 < G;){E.push(J);G-=F.Gy;}C=F.Gy;F=E.length;if(0 === F)F=[];else {for(C=[C / 1E3];2 * C.length <= F;){C=C.concat(C);}C.length < F && (C=C.concat(C.slice(0,F - C.length)));F=C;}return new x(E,F,!1);}function f(E,F,C){F=E.kx[F][C];return F.fa + E.Cj.IT * F.duration / 8;}function l(E){var F,C,G,J,K,I,M,R,H;F=E.Cj;C=F.Im;G=E.Mt;J=G.jw;I=[];for(G=J=Math.min(G.AH,J);G >= C;G--){D.update("backward step loop");M=K=E.kx[0][G].Y - E.Cj.Y;G < J && (p(void 0 !== I[G + 1],"expect solution[(fragIndex + 1)] !== undefined"),M=Math.min(I[G + 1].startTime,M));R=f(E,0,G);H=q(R,M,E.TA,F.MD);if(0 > H)throw Error("Infeasible: reason throughput at min bitrate");R={startTime:H,endTime:M,p4:M,mAb:K,$O:R,Ie:0};R.wWa=G;I[G]=R;}F=0;for(G=C;G <= J;G++){F+=I[G].$O;I[G].cla=F;}if(!m(E,I,C,J))throw Error("Infeasible: reason buffer capacity at min bitrate");return {fD:!0,$ra:0 == I.length,Nq:I};}function m(E,F,C,G){var J,K,I,M,R,H,Q,N,L,P;for(;C <= G;C++){D.update("checkBuffer");J=E;K=F;I=C;D.update("check buffer vacancy");M=J.Cj;R=J.kx[M.aW];H=J.iRa;Q=!0;J=J.QCb(Math.floor(K[I].startTime) + M.Y);N=M.jx + K[I].cla;L=0;P=0;if(J.index < M.Im){for(var S=0,U=M.OA;U < J.index;U++){S+=R[U].fa;}L+=S;S=0;for(U=M.OA;U < J.index;U++){S+=R[U].duration;}P+=S;}else (L+=M.jx,P+=M.Xn);S=0;for(U=M.Im;U < J.index;U++){S+=K[U].$O;}L+=S;S=0;for(U=M.Im;U < J.index;U++){S+=R[K[U].wWa].duration;}P+=S;J=N - L;M=R[I].Y + R[I].duration - M.Y - P;if(M >= H.eA || J >= H.mbb)Q=!1;K[I].qRa=J;K[I].Via=M;if(!Q)return !1;}return !0;}function d(E){E=E.Cj.U;for(var F=[],C,G=0;G < E.length;G++){D.update("get prebuffered chunks loop");C=E[G];p(void 0 !== C.sb,"expect frag.vmaf !== undefined");C=new t(C.fa,C.duration / 1E3,C.sb);F.push(C);}return F;}function h(E){var F,C,G,J,K,I,H;F=E.kx;C=E.Cj;G=E.Mt;J=G.jw;K=E.Yd;I=[];J=Math.min(G.AH,J);for(var M=0;M < F.length;M++){G=[];for(var R=C.Im;R <= J;R++){D.update("get chunk map from play segment");H=F[M][R];H=new t(H.fa,H.duration / 1E3,E.XD && void 0 !== H.sb?H.sb:K[M].sb);G.push(H);}I.push(G);}return new u(I,!1);}function g(E,F,C){p(E.jN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K,I,M=0;M < F.length;M++){D.update("calculate twvmaf");p(F[M].YZa === M,"expect stream_choices[idx].i_epoch === idx");I=E.Ok[F[M].M6][M];K=void 0 !== C?C(I.quality):I.quality;I=I.Fm;G+=K * I;J+=I;}return {rUa:G / J,qUa:1E3 * J};}function k(E,F,C){p(E.jN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K=C.Cj.IT,I,M=0,R=0,H=0;H < F.length;H++){D.update("calculate Bytes");p(F[H].YZa === H,"expect stream_choices[idx].i_epoch === idx");I=E.Ok[F[H].M6][H];G+=I.fa;J+=K * I.Fm * 1E3 / 8;M+=I.Fm * C.Yd[F[H].M6].bitrate;R+=I.Fm;}return {pUa:G,mUa:J,oUa:0 < R?1 * M / R:0};}function n(E,F,C){F=Math.min(E.length - 1,F);F=Math.max(0,F);return E[F] * C / 8;}function q(E,F,C,G){var J,K,I,M,R;J=C.trace;K=1 * C.Gy;I=F + G - C.timestamp;M=Math.floor(1 * I / K);F=(I - M * K) / K * n(J,M,K);if(F >= E)R=I - 1 * E / F * (I - M * K);else for(I=M;F < E;){D.update("find download start time");--I;if(0 > I)return -1;M=n(J,I,K);if(F + M >= E){E=(E - F) / M * K;R=(I + 1) * K - E;break;}F+=M;}return R + C.timestamp - G;}p=a(5).assert;v=a(860);t=a(394).Kdb;u=a(394).Ldb;w=a(861).Zeb;x=a(395).$jb;y=a(247).Dza;z=a(237).A0;A=a(86).default;B=new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");D=a(125).qJa || a(125);r.exports={NV:function(E){var F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya,ja,pa,sa,Qa,Ua,Za,ab;B.debug("greedy DEBUG false");D.Ova("greedy-" + (E.XD?"segvmaf":"dlvmaf") + ": ");try{E.zH=[];F=E.kx;C=E.Cj;G=E.Mt;J=G.jw;K=E.Yd;J=Math.min(G.AH,J);for(M=C.Im;M <= J;M++){R=new v();E.zH[M]=R;F[0][M].Yia=F[0][M].fa;for(I=1;I < F.length;I++){F[I][M].Yia=F[I][M].fa;}I=0;H=F[I][M];H.qD=Infinity;H.Kf=I;for(I=1;I < F.length;I++){H=F[I][M];H.Kf=I;Q=R.k7()?F[0][M]:R.ERb();N=8 * H.Yia / H.duration;L=8 * Q.Yia / Q.duration;if(E.XD && void 0 !== H.sb)(P=H.sb,S=Q.sb);else (P=K[I].sb,S=K[Q.Kf].sb);H.pu=N - L;H.qD=(P - S) / H.pu;isFinite(H.qD) && (0 < H.qD || I == F.length - 1) && 0 < H.pu && R.enqueue(H);}}for(M=C.Im;M <= J;M++){C=[];U=[];da=[];ka=E.zH[M].fp();for(F=0;F < ka.length;F++){H=ka[F];C.push(H.pu.toFixed(2));E.XD && void 0 !== H.sb?U.push(H.sb):U.push(K[H.Kf].sb);da.push(H.qD.toFixed(4));}}ma=l(E);if(ma.$ra)return ma;X=E.Cj;ua=E.Mt;ya=ua.jw;ya=Math.min(ua.AH,ya);da=[];for(var O=X.Im;O <= ya;O++){E.zH[O].k7() || da.push(E.zH[O].jM());}p(void 0 !== E.compare,"playSegment.compare required for greedy");for(var T=new z(da,E.compare);0 < T.length;){D.update("upgrade frags");ja=T.pop();a:{ya=X=void 0;O=E;da=ma;U=ja;pa=O.Cj;sa=O.Mt;Qa=Math.min(sa.AH,sa.jw);Ua=JSON.parse(JSON.stringify(da.Nq));p(U && Ua[U.index].Ie < U.Kf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");ya=U.index;X=Ua[ya];X.Ie=U.Kf;X.$O=f(O,X.Ie,ya);X.startTime=q(X.$O,X.p4,O.TA,pa.MD);Ua[ya]=X;if(0 > X.startTime)Za=!1;else {for(ya=U.index - 1;ya >= pa.Im;ya--){X=Ua[ya];ab=Ua[ya + 1].startTime;if(X.p4 <= ab)break;X.p4=ab;X.startTime=q(X.$O,X.p4,O.TA,pa.MD);Ua[ya]=X;if(0 > X.startTime){Za=!1;break a;}}for(var kb=U.index + 1;kb <= Qa;kb++){Ua[kb].cla=Ua[kb].$O + (kb > O.Cj.Im?Ua[kb - 1].cla:0);}for(var Ya=U.index + 1;Ya <= Qa;Ya++){if(Ua[Ya].startTime > Ua[U.index].mAb){Qa=Ya - 1;break;}}m(O,Ua,U,Math.min(ya + 1,U.index),Qa)?(da.Nq=Ua,Za=!0):Za=!1;}}Za && (E.zH[ja.index].k7() || T.push(E.zH[ja.index].jM()));}}finally{delete E.zH;}for(Qa=sa=pa=Za=ja=T=0;Qa < ma.Nq.length;Qa++){if(Ua=ma.Nq[Qa])(ab=E.kx[Ua.Ie][Ua.wWa],T+=(ab.sb?ab.sb:E.Yd[Ua.Ie].sb) * ab.duration,ja+=ab.duration,Za+=ab.fa,pa+=E.Cj.IT * ab.duration / 8,sa+=ab.duration * E.Yd[Ua.Ie].bitrate);}ma.rUa=0 < ja?1 * T / ja:0;ma.qUa=ja;ma.pUa=Za;ma.mUa=pa;ma.oUa=0 < ja?1 * sa / ja:0;ma.cA=D.fYa();B.debug("Max heap used: " + Math.round(ma.cA / 1024 / 1024) + " MB");return ma;},Oja:function(E,F){if(E.qD < F.qD)return 1;if(E.qD > F.qD)return -1;if(E.pu > F.pu)return 1;if(E.pu < F.pu)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},rSa:function(E,F){if(E.pu > F.pu)return 1;if(E.pu < F.pu)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(E){var F,C,G,J,K,I;D.Ova("dp-" + (E.XD?"segvmaf":"dlvmaf") + ": ");F=l(E);if(!1 === F.fD || !0 === F.$ra)return F;C=h(E);G=new w(C);J=d(E);J={H$a:c(E),HQa:E.Cj.IT,Z2a:0,z2a:240,y2a:8 * E.iRa.mbb / 1E3,nRa:.5,VQa:new y(J),nVa:0,Z9b:void 0,lZa:void 0,i6a:void 0,WPa:!0};G=G.Yw(J);J=g(C,G,void 0);C=k(C,G,E);K=[];I=E.Cj.Im;G.forEach(function(M){K[I]={Ie:M.M6};I++;});A(J,F);A(C,F);F.Nq=K;F.cA=D.fYa();B.debug("Max heap used: " + Math.round(F.cA / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(f){this.zg=a(f);this.Pg=this.kf=0;if(c(f)){for(var l=f.length,m=0;m < l;++m){this[m]=f[m];}this.kf=l;}}function a(f){if("number" !== typeof f)if(c(f))f=f.length;else return 16;f=Math.min(Math.max(16,f),1073741824);f=(f >>> 0) - 1;f|=f >> 1;f|=f >> 2;f|=f >> 4;f|=f >> 8;return (f | f >> 16) + 1;}b.prototype.fp=function(){for(var f=this.kf,l=Array(f),m=this.Pg,d=this.zg,h=0;h < f;++h){l[h]=this[m + h & d - 1];}return l;};b.prototype.push=function(f){var l,m,d,g;l=arguments.length;m=this.kf;if(1 < l){d=this.zg;if(m + l > d){for(var h=0;h < l;++h){this.B1(m + 1);g=this.Pg + m & this.zg - 1;this[g]=arguments[h];m++;this.kf=m;}return m;}g=this.Pg;for(h=0;h < l;++h){this[g + m & d - 1]=arguments[h];g++;}this.kf=m + l;return m + l;}if(0 === l)return m;this.B1(m + 1);h=this.Pg + m & this.zg - 1;this[h]=f;this.kf=m + 1;return m + 1;};b.prototype.pop=function(){var f,l,m;f=this.kf;if(0 !== f){l=this.Pg + f - 1 & this.zg - 1;m=this[l];this[l]=void 0;this.kf=f - 1;return m;}};b.prototype.shift=function(){var f,l,m;f=this.kf;if(0 !== f){l=this.Pg;m=this[l];this[l]=void 0;this.Pg=l + 1 & this.zg - 1;this.kf=f - 1;return m;}};b.prototype.unshift=function(f){var l,m,d,g;l=this.kf;m=arguments.length;if(1 < m){d=this.zg;if(l + m > d){for(var h=m - 1;0 <= h;h--){this.B1(l + 1);d=this.zg;g=(this.Pg - 1 & d - 1 ^ d) - d;this[g]=arguments[h];l++;this.kf=l;this.Pg=g;}return l;}g=this.Pg;for(h=m - 1;0 <= h;h--){g=(g - 1 & d - 1 ^ d) - d;this[g]=arguments[h];}this.Pg=g;this.kf=l + m;return l + m;}if(0 === m)return l;this.B1(l + 1);d=this.zg;h=(this.Pg - 1 & d - 1 ^ d) - d;this[h]=f;this.kf=l + 1;this.Pg=h;return l + 1;};b.prototype.ERb=function(){var f;f=this.kf;if(0 !== f)return this[this.Pg + f - 1 & this.zg - 1];};b.prototype.get=function(f){var l;if(f === (f | 0)){l=this.kf;0 > f && (f+=l);if(!(0 > f || f >= l))return this[this.Pg + f & this.zg - 1];}};b.prototype.k7=function(){return 0 === this.kf;};b.prototype.clear=function(){for(var f=this.kf,l=this.Pg,m=this.zg,d=0;d < f;++d){this[l + d & m - 1]=void 0;}this.Pg=this.kf=0;};b.prototype.toString=function(){return this.fp().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.jM=b.prototype.shift;b.prototype.toJSON=b.prototype.fp;Object.defineProperty(b.prototype,"length",{get:function(){return this.kf;},set:function(){throw new RangeError("");}});b.prototype.B1=function(f){this.zg < f && this.Rob(a(1.5 * this.zg + 16));};b.prototype.Rob=function(f){var l,m;l=this.zg;this.zg=f;f=this.Pg;m=this.kf;if(f + m > l)for((f=f + m & l - 1,m=0);m < f;++m){this[m + l]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var p,v,t,u;function c(w,x,y){this.YQa=this.ilb(w,x,y);}function f(){}function l(){}function m(){}function d(w){this.qub=w;}function h(){}function g(){}function k(){}function n(){this.$ka={};}function q(w,x){return Array.apply(0,Array(x)).map(function(y,z){return z + w;});}p=a(5).assert;b=a(247).Dza;v=a(395).akb;t=a(247).ndb;new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");u=a(125).qJa || a(125);c.prototype.constructor=c;c.prototype.ilb=function(w,x,y){p(w < x,"expect min_buffer_sec < max_buffer_sec but got " + w + " and " + x);p(0 < y,"expect buffer_step_sec > 0. but got " + y);for(var z=[];w < x;w+=y){z.push(w);}z[z.length - 1] < x && z.push(x);return z;};c.prototype.SC=function(w){return this.hmb(w,this.YQa);};c.prototype.hmb=function(w,x){w=this.Pzb(w,x);if(0 === w)throw new f();if(w === x.length)throw new l();return w;};c.prototype.Pzb=function(w,x){p(0 < x.length,"expect bins.length > 0 but got " + x.length);if(w < x[0])return 0;if(w >= x[x.length - 1])return x.length;for(var y=1;y < x.length;y++){if(x[y - 1] <= w && w < x[y])return y;}p(!1,"expect not coming here in digitize()");};c.prototype.r6=function(){return q(1,this.YQa.length - 1);};f.prototype=Error();l.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.feb=-20;d.prototype.eeb=20;d.prototype.deb=void 0;d.prototype.Zdb=new b(void 0);d.prototype.aeb=0;d.prototype.$db=1;d.prototype.ieb=!1;d.prototype.ceb=!0;d.prototype.beb=!0;d.prototype.geb=void 0;d.prototype.Xdb=!0;d.prototype.Ydb=0;d.prototype.Yw=function(w){p(void 0 !== w.H$a,"expect recipe.time_varying_bandwidth !== undefined");return this.Tob(this.qub,w.H$a,void 0 !== w.Z2a?w.Z2a:this.feb,void 0 !== w.z2a?w.z2a:this.eeb,void 0 !== w.y2a?w.y2a:this.deb,void 0 !== w.VQa?w.VQa:this.Zdb,void 0 !== w.nVa?w.nVa:this.aeb,void 0 !== w.nRa?w.nRa:this.$db,void 0 !== w.qYb?w.qYb:this.ieb,void 0 !== w.EHb?w.EHb:this.ceb,void 0 !== w.lZa?w.lZa:this.beb,void 0 !== w.i6a?w.i6a:this.geb,void 0 !== w.WPa?w.WPa:this.Xdb,void 0 !== w.HQa?w.HQa:this.Ydb);};d.prototype.Tob=function(w,x,y,z,A,B,D,E,F,C,G,J,K,I){var R,H,Q,N,L,P,ma,ja,pa,sa,Qa,Ua,Za,ab,kb,Ya,Sa,Ba,Ka;function M(Na){return Na[L];}u.Ova("dp: ");p(y <= B.wh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");p(B.wh <= z,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");p(y <= D,"expect min_buffer_sec <= end_buffer_sec");p(D <= z,"expect end_buffer_sec <= max_buffer_sec");void 0 !== A && p(B.Pl <= A,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + B.Pl + " and " + A);R=new c(y,z,E);E=new n();H=0;Q=B;E.put([0,R.SC(B.wh)],[H,Q,void 0,void 0,x,void 0,void 0,void 0]);N=Q=0;x=w.zHb();p(w.jN() == x.length,"expect chunk_map.get_n_epoch() == durations_sec.length");L=-1;for(P in x){L+=1;for(var S=!0,U=w.Ok.map(M),da=R.r6(),ka=0;ka < da.length;ka++){ma=da[ka];if(E.Xpa([L,ma]))for(var X=E.get([L,ma]),ua=X[0],ya=X[1],O=X[4],T=0;T < U.length;T++){x=U[T];u.update("epoch-ibuf-chunk loop");B=void 0 !== J?J(x.quality):x.quality;ja=O.Dt();try{X=this.Olb(ya,x,ja,I);pa=X[0];sa=X[1];Qa=X[2];Ua=X[3];Za=X[4];ab=X[5];}catch(Na){if(Na instanceof v)continue;else if(Na instanceof f){Q+=1;continue;}else throw Na;}kb=H=!1;try{Ya=R.SC(Ua.wh);C && R.SC(pa);G && R.SC(sa);if(void 0 !== A)if(G){if(Qa.Pl > A)throw new m();}else if(Ua.Pl > A)throw new m();}catch(Na){if(Na instanceof f)(Ya=void 0,Q+=1);else if(Na instanceof l)(K?H=!0:N+=1,Ya=void 0);else if(Na instanceof m)(K?kb=H=!0:N+=1,Ya=void 0);else throw Na;}try{if(H && kb){p(void 0 !== A,"expect max_buffer_kb !== undefined");Sa=G?Qa.Pl - A:Ua.Pl - A;p(0 <= Sa,"pause dlnd kb cannot be -ve but is " + Sa);try{Ba=Ua.aSb(Sa);}catch(Na){if(Na instanceof t)throw new f();throw Na;}ja.$4a(Ba);Za+=Ba;p(Ua.wh < z,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Ya=R.SC(Ua.wh);}else if(H && !kb){Ba=G?Qa.wh - z + 1E-8:Ua.wh - z + 1E-8;p(0 <= Ba,"pause dlnd kb cannot be -ve but is " + Ba);try{Ua.t5a(Ba);}catch(Na){if(Na instanceof t)throw new f();throw Na;}ja.$4a(Ba);Za+=Ba;p(y <= Ua.wh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");p(Ua.wh < z,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Ya=R.SC(Ua.wh);}else Ba=0;}catch(Na){if(Na instanceof f)(Ya=void 0,Q+=1,Ba=void 0);else if(Na instanceof v)continue;else throw Na;}H=E.Xpa([L + 1,Ya])?E.get([L + 1,Ya])[0]:-Infinity;this.Apb(Ua,Ya,x,B,ma,L + 1,H,E,ua,T,ja,Za,ab,Ba) && (S=!1);}}if(S){--L;break;}}try{Ka=this.ZMa(L + 1,R.SC(D),E,F,R);}catch(Na){if(Na instanceof h)try{Ka=this.ZMa(L + 1,R.SC(D),E,!F,R);}catch(Wa){if(Wa instanceof h){if(Q > N)throw new g();throw new k();}throw Wa;}else throw Na;}ma=Ka;for(y=[];-1 < L;L--){X=E.get([L + 1,ma]);H=X[0];Q=X[1];z=X[3];A=X[5];D=X[6];F=X[7];X=X[2];x=w.Ok[X][L];C=x.zz();B=x.quality;y.unshift({YZa:L,M6:X,info:{z8b:C,quality:B,Qia:Q.wh,Pia:Q.Pl,PUa:A,Ra:D,Vsa:F}});ma=z;}return y;};d.prototype.ZMa=function(w,x,y,z,A){var B,D;B=!1;D=A.r6()[0];for(A=A.r6()[A.r6().length - 1];;){if(x < D || x > A){B=!0;break;}if(y.Xpa([w,x]))break;else x=z?x - 1:x + 1;}if(B)throw new h("backtrack fails to find a solution");return x;};d.prototype.Apb=function(w,x,y,z,A,B,D,E,F,C,G,J,K,I){y=F + z * y.Fm;return void 0 !== x && y > D?(E.put([B,x],[y,w,C,A,G,J,K,I]),!0):!1;};d.prototype.Olb=function(w,x,y,z){var A,B,D;z=(x.zz() + z) * x.Fm;y=y.uAb(z);z/=y;A=w.wh - y;B=w.wh + x.Fm;D=w.Dt();D.add(x,void 0);w=w.Dt();w.add(x,void 0);try{w.t5a(y);}catch(E){if(E instanceof t)throw new f();throw E;}return [A,B,D,w,y,z];};h.prototype=Error();g.prototype=new h();k.prototype=new h();n.prototype={wxa:function(w){return w.join(",");},put:function(w,x){this.$ka[this.wxa(w)]=x;},get:function(w){return this.$ka[this.wxa(w)];},Xpa:function(w){return (this.wxa(w) in this.$ka);}};r.exports={Zeb:d,g3b:c,H2b:f,I2b:l};},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.eKa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);l=a(16);m=r.__importDefault(a(6));d=a(216);h=a(392);a=(function(){function g(k,n,q,p){var k80;k80=2;for(;k80 !== 9;){switch(k80){case 4:var Q9J="1SI";Q9J+="Yb";Q9J+="ZrNJCp9";this.Zh=p;Q9J;k80=9;break;case 2:this.Za=k;this.H=n;this.dc=q;k80=4;break;}}}var j80;j80=2;for(;j80 !== 13;){switch(j80){case 3:g.prototype.rT=function(k){var s80,n;s80=2;for(;s80 !== 4;){switch(s80){case 2:n=this;k=this.Za.oh(k);k.xT || (k.xT=!0,l.yf.forEach(function(q){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:n.Za.Og[q].resume();t80=1;break;}}}),this.Za.dT());s80=4;break;}}};g.prototype.sob=function(k,n){var u80,q,p,v;u80=2;for(;u80 !== 8;){switch(u80){case 3:(this.Za.zh.Ll.forEach(function(t){var v80;v80=2;for(;v80 !== 1;){switch(v80){case 4:q.Za.XF(t,~3);v80=2;break;v80=1;break;case 2:q.Za.XF(t,!1);v80=1;break;}}}),this.Za.zh=void 0);u80=9;break;case 9:this.Za.GU.xOa(v,k.gb.P);u80=8;break;case 4:u80=(null === (p=this.Za.zh) || void 0 === p?0:p.WC())?3:9;break;case 2:(q=this,v=k.mediaType);k.FI(n);k.CVb();u80=4;break;}}};g.prototype.Qfa=function(){var w80,k,n;w80=2;for(;w80 !== 4;){switch(w80){case 2:w80=this.TB?1:4;break;case 1:(k=this.TB.ek,n=this.TB.Nb);this.Za.oh(n) && (this.TB=void 0,this.ss(k,n));w80=4;break;case 9:w80=this.TB?0:6;break;w80=this.TB?1:4;break;}}};g.prototype.Sn=function(k){function n(v,t){var y80;y80=2;for(;y80 !== 5;){switch(y80){case 2:var x9J="skip: unexpected behaviour - a non";x9J+="-presenting branch doesn't h";x9J+="ave a pr";x9J+="evious br";x9J+="anch";v !== q.Za.La.mi && (v.sg?n(v.sg,t):q.H.error(x9J));(v=v.Qd(t)) && v.Sn();y80=5;break;}}}var x80,q,p;x80=2;for(;x80 !== 7;){switch(x80){case 2:q=this;null === (p=this.FNa) || void 0 === p?void 0:p.cancel();this.Za.Bwa();this.Za.La.mi.Sn(k);x80=3;break;case 3:l.yf.forEach(function(v){var z80,t;z80=2;for(;z80 !== 9;){switch(z80){case 2:z80=q.dc(v)?1:9;break;case 7:z80=q.dc(v)?2:6;break;z80=q.dc(v)?1:9;break;case 1:var E9J="skip: ";E9J+="not resuming bufferManager,";E9J+=" audio track switch in progr";E9J+="ess";t=q.Za.zb.Jf[v];q.Za.Jr && (t.owa=m.default.time.ea());t.UP?t.Qb(E9J):q.Za.Og[v].resume();n(q.Za.La.Tc,v);z80=9;break;}}});this.FNa=k=new d.mF(this.Za.MI());return k.Bsa(function(){var A80;A80=2;for(;A80 !== 5;){switch(A80){case 2:q.Za.V.Ue(f.ma.Hc);q.Za.lT();A80=5;break;}}}).dva;break;}}};g.prototype.Ji=function(k){var B80,n,q,p;B80=2;for(;B80 !== 8;){switch(B80){case 2:(q=this.Za.La.mi,p=0 < Object.keys(q.O && q.O.zl || ({})).length && !q.Qk?q.je - this.Za.I.yD:q.je);B80=1;break;case 5:return !1;break;case 1:B80=k < (null !== (n=q.xd) && void 0 !== n?n:q.gpa) || k >= p?5:4;break;case 4:n=this.Za.Qt(k,0,!0);k=this.Za.Qt(k,1,!0);return void 0 !== n && void 0 !== k && n.complete && k.complete;break;}}};j80=14;break;case 2:g.prototype.ss=function(k,n){var l80,w,x,u,q,p,v,t;l80=2;for(;l80 !== 50;){switch(l80){case 39:this.Za.Wga();w=this.Za.La.Tc.L3(k).AO;v.dsa();x=this.Za.La.Tc;l80=54;break;case 12:l80=n != t.P.Nb?11:26;break;case 15:l80=this.Cr(h.Fba.Jma(n),!1,!0)?27:26;break;case 54:l.yf.forEach(function(y){var o80,z;o80=2;for(;o80 !== 5;){switch(o80){case 2:z=x.Qd(y);q.dc(y) && q.sob(z,w[y]);o80=5;break;}}});l80=53;break;case 27:return;break;case 25:l80=t.length?24:52;break;case 20:l.yf.forEach(function(y){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:(y=u.Qd(y)) && q.Za.KOa(y);m80=1;break;}}});l80=19;break;case 21:l80=!this.Za.R2(v.P.Nb + 1)?35:31;break;case 42:var r9J="s";r9J+="e";r9J+="e";r9J+="k";var C9J="p";C9J+="t";C9J+="sc";C9J+="han";C9J+="ged";return (this.Za.emit(C9J,p),this.Za.emit(r9J),this.rT(n),k=t && this.Za.zb.ay()?100:0,this.Za.F2(1,k),this.Za.Yj(),p);break;case 31:this.Za.V.Ue(f.ma.yh);this.Za.Bwa();this.Za.La.CZb(k,n);l80=28;break;case 19:l80=!this.Za.DMa(n)?18:15;break;case 18:var G9J="s";G9J+="ee";G9J+="kD";G9J+="elaye";G9J+="d";this.TB={Nb:n,ek:k};this.Za.emit(G9J);l80=16;break;case 33:return;break;case 44:l.yf.forEach(function(y){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:q.Za.Nv[y].Em(!0);n80=1;break;}}});l80=43;break;case 26:t=this.Za.La.Tc.$U(v.Ha || Infinity,v.P);l80=25;break;case 7:l80=(v=this.Za.oh(n))?6:51;break;case 13:t=this.Za.Fe;l80=12;break;case 32:(k=t,p=k + this.Za.La.Ee);l80=31;break;case 22:l80=v.P.rf.Ug?21:32;break;case 51:var R41="see";R41+="kFa";R41+="ile";R41+="d";var m9J="seek, ";m9J+="no man";m9J+="ifest at manifestIndex:";(this.H.warn(m9J,n),this.Za.emit(R41));l80=50;break;case 41:var h41="see";h41+="kF";h41+="a";h41+="il";h41+="ed";var y41="aft";y41+="er seekin";y41+="g, playerState no l";y41+="onger STARTING: ";this.H.warn(y41 + this.Za.V.getState());this.Za.emit(h41);l80=50;break;case 11:n < t.P.Nb && v.P.rf.replace && (v.P.rf.replace=!1);u=this.Za.La.Tc;l80=20;break;case 6:!v.P.rf.JW && 0 < n && (p=this.Za.ZL(n,k));this.Za.V.Ue(f.ma.cj);l80=13;break;case 43:l80=this.Za.V.m0a()?42:41;break;case 35:var O41="see";O41+="kDel";O41+="ayed";this.TB={Nb:v.P.Nb + 1,ek:k};this.Za.emit(O41);l80=33;break;case 16:return;break;case 28:l80=(t=this.Za.Fe.P.Nb === n && !this.Amb(n) && k === v.Y)?44:39;break;case 23:l80=k > t?22:31;break;case 24:t=this.Za.yr?this.Za.Mm?Math.min(t[0].Y,t[1].Y):t[0].Y:t[1].Y;l80=23;break;case 2:var B41=" pla";B41+="yerS";B41+="t";B41+="at";B41+="e: ";var t41=" me";t41+="dia.cu";t41+="rre";t41+="ntPt";t41+="s: ";var J41=" curren";J41+="t manife";J41+="st: ";var T41=" ";T41+="manifestI";T41+="ndex: ";var e41="s";e41+="e";e41+="e";e41+="k:";e41+=" ";q=this;null === (p=this.FNa) || void 0 === p?void 0:p.cancel();(v=this.Za.I,t=this.Za.V.Pe());p=k;v.ei && this.Zh.ym(e41 + k + T41 + n + J41 + this.Za.Fe.P.Nb + t41 + t + B41 + this.Za.V.getState());c.ia(n) && (n=this.Za.Fe.P.Nb);this.Za.La.z7a();l80=7;break;case 52:var q41="s";q41+="e";q41+="ekD";q41+="elay";q41+="ed";(this.TB={Nb:n,ek:k},this.Za.emit(q41));l80=50;break;case 53:this.Za.dT();l80=43;break;}}};g.prototype.seek=function(k,n){var p80,q;p80=2;for(;p80 !== 9;){switch(p80){case 2:q=k;c.ia(n) && (n=this.Za.Fe.P.Nb);this.Za.La.z7a();this.Za.oh(n).P.rf.JW || this.Za.YK || (q=this.Za.Ct(n,k));return this.ss(q,n);break;}}};g.prototype.Cr=function(k,n,q){var q80,p,v;q80=2;for(;q80 !== 9;){switch(q80){case 1:q80=n?5:4;break;case 5:return v;break;case 2:v=this.Za.La.Cr(k,n);q80=1;break;case 4:var I41="se";I41+="e";I41+="k";var F41="p";F41+="tschang";F41+="ed";v?(this.Za.V.Ue(f.ma.cj),(k=this.Za.La.mi.children[k]) && this.Za.emit(F41,null !== (p=k.xd) && void 0 !== p?p:k.gpa),this.Za.V.Ue(f.ma.yh),this.Za.emit(I41),k && this.rT(k.P.Nb),this.Za.F2(1),this.Za.Yj(),this.Za.zb.ay()):q || (p=this.Za.La.OGb(k),this.ss(p));return v;break;case 14:return v;break;q80=4;break;}}};g.prototype.Amb=function(k){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:return ! !this.Za.oh(k).xT;break;}}};j80=3;break;case 14:return g;break;}}})();b.eKa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sBa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);l=r.__importDefault(a(6));a=(function(){var C80;function m(d,h,g){var D80;D80=2;for(;D80 !== 9;){switch(D80){case 4:var p41="1SIYbZrNJ";p41+="Cp";p41+="9";p41;this.xMa=this.sF=void 0;D80=9;break;case 2:this.Sa=d;this.H=h;this.dc=g;D80=4;break;}}}C80=2;for(;C80 !== 18;){switch(C80){case 7:m.prototype.Elb=function(d,h){var N80,p,v,g,n,q,t,u,k;N80=2;for(;N80 !== 23;){switch(N80){case 3:d.CK=void 0;N80=8;break;case 17:n=v[0].gb;q=v[0].weight;d.CK=n;N80=27;break;case 4:N80=Math.min(k[0] - d.ufa[0],k[1] - d.ufa[1]) >= g.pub?3:9;break;case 13:N80=1 < v.length?12:20;break;case 18:return;break;case 10:0 !== t && 0 !== u?(c.lf(v,function(w){var R80;R80=2;for(;R80 !== 4;){switch(R80){case 2:w.g2b=w.weight / t;w.Msb=w.S2a / u;R80=5;break;case 5:w.usage=w.Msb - w.g2b;R80=4;break;}}}),v.sort(function(w,x){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:return w.usage - x.usage;break;}}})):v.sort(function(w,x){var T80;T80=2;for(;T80 !== 4;){switch(T80){case 2:w=Math.min.apply(null,w.gb.Dm);x=Math.min.apply(null,x.gb.Dm);a000.Q2J(0);return a000.z2J(x,w);break;}}});N80=20;break;case 7:(p=[],v=[]);c.lf(d.children,function(w,x){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:x=h.zl[x].weight;0 !== x && (x={weight:x,gb:w},w.tja(!0,!0) || v.push(x),p.push(x));O80=5;break;}}});0 === v.length?v=p:2 < v.length && (v.sort(function(w,x){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 4:return x.weight * w.weight;break;P80=1;break;case 2:return x.weight - w.weight;break;}}}),v.length=2);N80=13;break;case 8:N80=!n?7:26;break;case 2:g=this.Sa.I;N80=1;break;case 20:N80=0 === v.length?19:17;break;case 1:N80=this.Sa.ec.Poa && d.CK && d.ufa?5:8;break;case 9:(n=d.CK,q=h.zl[n.O.id].weight);N80=8;break;case 12:n=v.reduce(function(w,x){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 2:x.Dm=x.gb.Dm;x.S2a=Math.min(x.Dm[0],x.Dm[1]);a000.Q2J(20);var J31=a000.c2J(338,17,20,16);return [w[0] + x.weight,w[J31] + x.S2a];break;}}},[0,0]);(t=n[0],u=n[1]);N80=10;break;case 19:var V41="No subbranch candid";V41+="ates t";V41+="o";V41+=" drive";this.H.warn(V41);N80=18;break;case 5:k=d.CK.Dm;N80=4;break;case 27:d.ufa=n.Dm;N80=26;break;case 26:n.ie || (n.ie={W6:l.default.time.ea(),FA:0});n.ie.weight=q;this.OMa(n,!0);N80=23;break;}}};C80=6;break;case 2:m.prototype.C1=function(){var E80;E80=2;for(;E80 !== 1;){switch(E80){case 2:this.sF && (clearTimeout(this.sF),this.sF=void 0);E80=1;break;}}};m.prototype.RMa=function(){var F80,d,h,g,k;F80=2;for(;F80 !== 6;){switch(F80){case 9:h && !h.Wq || !g || this.Sa.YK || (this.Sa.ec.Ff && this.Sa.ec.Ff.Kp(!0,this.Sa.Vl.sessionId),this.Sa.Cb.P3a());this.OMa(d.Tc);this.vpb();F80=6;break;case 1:var l41="firstDriveSt";l41+="reamin";l41+="g";void 0 === this.Sa.Alb && (this.Sa.Alb=!0,this.Sa.Cb.Yl(l41));(d=this.Sa.La,h=d.Tc.Qd(0),g=d.Tc.Qd(1),k=!g || g.Th);(!h || h.Th) && k && this.Sa.YK && d.Pub(g?g.Ic:h.Ic);g=!g || g.Wq;F80=9;break;case 2:F80=!this.Sa.Ni.hha && !this.Sa.bn()?1:6;break;}}};m.prototype.TOa=function(){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:return this.Sa.bn() || this.Sa.V.o0a() || this.Sa.V.n0a()?!0:!1;break;}}};m.prototype.G1=function(d){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return this.TOa() || this.Sa.zb.Jf[d.mediaType].UP || this.Sa.Xx.hC?!1:!0;break;}}};m.prototype.Yj=function(){var I80,d,h;I80=2;for(;I80 !== 5;){switch(I80){case 2:(d=this,h=this.Sa.I);I80=1;break;case 1:!this.Sa.mOa || this.Sa.x2 || this.Sa.J2 || (this.Sa.x2=setTimeout(function(){var J80;J80=2;for(;J80 !== 4;){switch(J80){case 2:clearTimeout(d.Sa.x2);d.Sa.x2=void 0;d.RMa();J80=4;break;}}},h.jta),h.uM && this.Sa.Mm && (this.sF || (this.sF=setTimeout(function(){var K80,g;K80=2;for(;K80 !== 3;){switch(K80){case 4:g && d.lMa(g);K80=3;break;case 14:g || d.lMa(g);K80=4;break;K80=3;break;case 2:clearTimeout(d.sF);d.sF=void 0;g=d.Sa.La.Tc.Qd(1);K80=4;break;}}},h.Ypb))));I80=5;break;}}};m.prototype.lMa=function(d,h){var L80,q,g,k,n;L80=2;for(;L80 !== 3;){switch(L80){case 5:q=this.Sa.zb.Jf[g].Hf;q && (this.Sa.V.og() || this.Sa.xg.Xpb(g,q,k.bitrate,n.bitrate,d.xIb.bitrate,h));L80=3;break;case 2:(g=d.mediaType,k=this.Sa.zb.Gw[g].wH,n=d.tg.qW);L80=1;break;case 1:L80=k && n?5:3;break;case 7:L80=k || n?1:6;break;L80=k && n?5:3;break;}}};m.prototype.OMa=function(d,h){var M80,g,k,n,q,p;M80=2;for(;M80 !== 7;){switch(M80){case 2:(g=d.O,k=d.Qd(1),n=d.Qd(0),q=!n || n.Th,p=!k || k.Th);g.cs || this.Sa.La.V8(d,g,d.P.rf.Ug && 0 === d.P.Nb);M80=5;break;case 9:var w41="Still in buffering state w";w41+="hile pipeline's ";w41+="ar";w41+="e done";this.Sa.V.og() && (this.H.warn(w41),this.Sa.zb.ay());h || g.av || d.P.rf.Ug || !this.$tb(d) || ((h=this.Sa.V.og()) && this.Sa.I.Gka && (this.Sa.cha(),h=!1),d.v5 || this.Sa.La.BIb(d,h),d.EL(),d.aub() && (h=Object.keys(d.children),this.Sa.I.N4 && 1 === h.length && !d.children[h[0]].active && this.Sa.La.J1a(d,h[0]),this.Elb(d,g)));M80=7;break;case 5:M80=!p || !q?4:9;break;case 4:M80=(this.Sa.Mm && this.PMa(d,k,n),this.Sa.yr && this.PMa(d,n,k),q=!n || n.Th,p=!k || k.Th,!p || !q)?3:9;break;case 3:return;break;}}};C80=7;break;case 12:m.prototype.dlb=function(d,h){var X80,g,k,n,q,p,v,t,u,w,x;X80=2;for(;X80 !== 32;){switch(X80){case 17:u=void 0;h && (u=h.mediaType,w=l.default.Go()[u],u=k.c1b?this.Sa.La.L1a(q,u).$g / w:x / w);X80=15;break;case 23:X80=!c.ia(k.Cw) && u >= k.Cw || d.UL + p >= Math.max(k.eA,this.Sa.ec.MA + k.msa * q.P.mNb[n])?22:21;break;case 2:(k=this.Sa.I,n=d.mediaType,q=d.O7,p=this.Sa.V.Pe(),v=this.Sa.V.getState(),t=this.Sa.La.aw(q,n),u=d.Fc + q.Ee - p);X80=1;break;case 21:X80=(q=this.Sa.V.og())?35:33;break;case 27:return !1;break;case 15:X80=void 0 === u || u < k.jNb?27:26;break;case 7:return !1;break;case 13:X80=v === f.ma.Hc && t > k.cra && !g.rf.Ug && !x && !g.IW || t && p > Math.max(t * k.hra / 100,k.Hra)?12:11;break;case 33:return 0 < k.qu && !q && v + (h?x:0) > k.qu || void 0 !== this.xMa && t > this.xMa || 1 === n && g.rf.Ug && t > k.fra && (h=this.Sa.ec.Ob.get(),h.confidence && h.Ra && h.Ra.Ga * d.UL > k.dra)?!1:!0;break;case 18:return !1;break;case 26:X80=this.fmb(n) >= k.PN?25:24;break;case 12:return !1;break;case 24:u=this.Sa.La.y_b();X80=23;break;case 8:X80=p >= k.sD?7:6;break;case 3:return !1;break;case 22:return !1;break;case 19:X80=this.Sa.ec.Rpa?18:17;break;case 4:X80=(null === (g=d.Zg) || void 0 === g?0:g.bIb())?3:9;break;case 9:p=d.Pa.Ssa;X80=8;break;case 11:v=this.Sa.La.jG(q,n);x=0;X80=20;break;case 25:return !1;break;case 5:w=h?h.Fc:0;X80=4;break;case 1:var k41="floo";k41+="re";k41+="d to 0";var b41="negative";b41+=" schedul";b41+="edBufferLevel:";0 > u && (d.Qb(b41,u,k41),u=0);X80=5;break;case 35:X80=(p=1,d.Sia < k.fA && (p=k.fA),d.Pa.GD >= p)?34:33;break;case 20:X80=h && (x=this.Sa.La.jG(q,h.mediaType),w=d.Fc - w,this.dc(h.mediaType) && !h.Th && w >= k.mra && u > k.rj)?19:26;break;case 6:g=this.Sa.Fe.P;x=this.Sa.V.Mo(g);X80=13;break;case 34:return !1;break;}}};m.prototype.fmb=function(d){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 2:return this.Sa.La.Jb.reduce(function(h,g){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 4:return h % g.HGb(d);break;Z80=1;break;case 2:return h + g.HGb(d);break;}}},0);break;}}};m.prototype.$tb=function(d){var a90,h,g,k;a90=2;for(;a90 !== 4;){switch(a90){case 2:(h=this,g=this.Sa.La,k=!0);c.lf(d.O.zl,function(n,q){var b90,p;b90=2;for(;b90 !== 7;){switch(b90){case 1:q=n.P;n=q.qh[0];p=q.qh[1];b90=3;break;case 2:b90=(n=g.te(q))?1:8;break;case 3:n && p && n.stream.he && p.stream.he || (k=!1);h.Sa.V.Mo(q) || (k=!1);b90=7;break;case 8:var f41="in ";f41+="d";f41+="es";f41+="t";f41+="s:";var j41="invalid segme";j41+="nt";j41+=":";d.Qb(j41,q,f41,d.O.zl);b90=7;break;}}});return k;break;}}};m.prototype.vpb=function(){var c90,d,h,g;c90=2;for(;c90 !== 5;){switch(c90){case 2:(d=this.Sa.I,h=this.Sa.La,g=h.Tc);this.Sa.V.og() || h.aw(g,1) < d.RW || g.P.sxa();c90=5;break;}}};return m;break;case 6:m.prototype.PMa=function(d,h,g){var U80,q,p,v,k,n,t;U80=2;for(;U80 !== 8;){switch(U80){case 5:(q=this.Sa.zb.Jf[n],p=this.Sa.zb.PA[n],v=this.Sa.zb.Gw[n]);U80=4;break;case 1:U80=!h.Th?5:8;break;case 2:(k=this.Sa.I,n=h.mediaType);U80=1;break;case 4:U80=q.Hf && (void 0 === h.ZH || (h.FI(h.ZH,h.FRb),void 0 === h.ZH))?3:8;break;case 3:var M41="Still in buffering state while pipeline do";M41+="e";M41+="s not ha";M41+="ve vacancy";var Z41="drivePipeline, de";Z41+="laying audio u";Z41+="ntil video actualStar";Z41+="tPts dete";Z41+="rmined";t=this.Sa.Fe;c.ia(t.QH) || (k.TD && 0 === n && c.ia(this.Sa.zb.Jf[1].uo)?h.Qb(Z41):(c.ia(h.Gn) && (h.Gn=h.fe?h.fe.index:h.ama(h.Fc)),h.Gf && h.Gn > h.Gf.index?d.P.rf.Ug && c.ia(t.Ha) && c.ia(d.Ic) || (h.Th || this.Sa.KOa(h),d=this.Sa.Fe.P.Nb,d < this.Sa.XM() - 1 && this.Sa.R2(d + 1)):this.G1(h) && (k.pBb && !this.Sa.V.og() && 0 >= h.CH?h.B0b(k.PNb):this.dlb(h,g)?(h.ALb=l.default.time.ea(),g=this.Sa.zb.Una(h),k=g.Kf,c.ia(k) || (k=h.track.Yd[k],this.clb(h,k) || ((n=k.V5())?(h.uLb=k.bitrate,h.RMb(k,n,this.Sa.V.og(),q.Hf,g.wu),this.M0b(k,v,p),d.ie && ++d.ie.FA):k.mE()))):this.Sa.V.og() && (h.en(M41),this.Sa.zb.ay()))));U80=8;break;}}};m.prototype.M0b=function(d,h,g){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:h.gqa=d.yd;c.Ba(g.pw) || (g.J0b(d.ws,d.Hz || -1,d.bitrate),c.ia(d.Ava) || this.Sa.xg.A8a(d.Ava,d.Jo,d.Ko));d.url && (h.nqa=d.url);V80=4;break;}}};m.prototype.clb=function(d,h){var W80,g;W80=2;for(;W80 !== 5;){switch(W80){case 2:g=this.Sa.zb.Gw[d.mediaType];return this.Sa.mOa && h.yd && g.gqa && h.yd !== g.gqa && (0 < d.Pa.GD || 0 < d.Pa.Hs)?!0:!1;break;}}};C80=12;break;}}})();b.sBa=a;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.LEa=void 0;c=a(169);f=a(16);l=a(16);m=a(9);r=(function(){var d90;d90=2;function d(h,g,k,n){var e90;e90=2;for(;e90 !== 8;){switch(e90){case 4:var v41="1S";v41+="I";v41+="Yb";v41+="ZrN";v41+="JCp9";this.JF=n;this.jOa=this.hha=!1;v41;e90=8;break;case 2:this.Yb=h;this.H=g;this.dc=k;e90=4;break;}}}for(;d90 !== 6;){switch(d90){case 2:d.prototype.play=function(){var f90,h;f90=2;for(;f90 !== 5;){switch(f90){case 2:var S41="p";S41+="l";S41+="a";S41+="y";var o41="pl";o41+="ay called after pipelines al";o41+="re";o41+="ady shutdown";h=this;this.bn()?this.H.warn(o41):(this.Yb.V.Ue(f.ma.Hc),this.Yb.epb(),this.Yb.zb.Jf.forEach(function(g){var g90;g90=2;for(;g90 !== 1;){switch(g90){case 2:var g41="p";g41+="lay: n";g41+="ot resum";g41+="ing bu";g41+="fferManager, audio track switch in progress";h.dc(g.mediaType) && (g.UP?g.Qb(g41):(h.Yb.Og[g.mediaType].resume(),h.Yb.Nv[g.mediaType].resume()));g90=1;break;}}}),this.Yb.lT(),this.Yb.emit(S41));f90=5;break;}}};d.prototype.stop=function(){var h90,n,h,g,k;h90=2;for(;h90 !== 6;){switch(h90){case 4:g || k || this.Yb.La.mi.cE(!1,this.Yb.V);n=this.Yb.La.Tc;l.yf.forEach(function(q){var i90;i90=2;for(;i90 !== 5;){switch(i90){case 1:q.Th=!1;i90=5;break;case 2:i90=(q=n.Qd(q))?1:5;break;}}});h90=8;break;case 2:(h=this,g=this.Yb.V.o0a(),k=this.Yb.V.n0a());this.Yb.V.Ue(f.ma.gr);this.Yb.C1();h90=4;break;case 8:var i41="s";i41+="t";i41+="op";l.yf.forEach(function(q){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:(q=h.Yb.Og[q]) && q.pause();j90=1;break;}}});this.Yb.emit(i41);h90=6;break;}}};d.prototype.suspend=function(){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:this.hha=!0;k90=1;break;}}};d.prototype.resume=function(){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:this.hha=!1;this.Yb.kg.Yj();l90=5;break;}}};d90=3;break;case 3:d.prototype.close=function(){var m90,h;m90=2;for(;m90 !== 6;){switch(m90){case 2:h=this.Yb.I;this.jOa=!0;m90=5;break;case 5:var n41="endpl";n41+="a";n41+="y";var a41="lo";a41+="gd";a41+="ata";var s41="c";s41+="lo";s41+="s";s41+="e";this.stop();this.Yb.emit(s41);h.fVa && (h=c.sx.instance().wb()) && (h={type:a41,target:n41,fields:{bridgestat:h}},m.Va(this.Yb,h.type,h));this.Yb.ec.Ff && this.Yb.ec.Ff.Kp(!0,this.Yb.Vl.sessionId,!0);this.Yb.Cb.P3a();this.Yb.X6a();m90=6;break;}}};d90=9;break;case 9:d.prototype.flush=function(){var n90,n,q,p,o90,v,t,h,g,k;n90=2;for(;n90 !== 16;){switch(n90){case 5:(n={},q=k.get(),p={});q && q.avtp && q.avtp.Ga && (n.avtp=q.avtp.Ga,n.dltm=q.avtp.CC,p.avtp=n.avtp);q && q.cdnavtp && (n.cdnavtp=q.cdnavtp,n.activecdnavtp=q.activecdnavtp);k.flush();n90=8;break;case 17:try{o90=2;for(;o90 !== 1;){switch(o90){case 2:this.Yb.a5(f.ma.gr);o90=1;break;}}}catch(w){var L41="Hindsight: ";L41+="Erro";L41+="r evaluat";L41+="ing QoE at stopping: ";a000.x2J(1);this.Yb.Cb.Hn(a000.c2J(w,L41));}n90=16;break;case 8:(v=k.EXa(),t=k.nPa);n90=7;break;case 19:this.Yb.Cb.$Na();n90=18;break;case 20:var P41="e";P41+="nd";P41+="p";P41+="la";P41+="y";var u41="logd";u41+="at";u41+="a";var K41="t";K41+="hr";K41+="ough";K41+="put-sw";var d41="t";d41+="hroughp";d41+="u";d41+="t";d41+="-sw";var A41="throughpu";A41+="t";A41+="-sw";var H41="thro";H41+="ug";H41+="hp";H41+="ut-sw";g.SU && (q && q[H41] && q[A41].Ga && this.Yb.Wu.mqb({avtp:q[d41].Ga,variance:q[K41].Zi}),this.Yb.Wu.gqb(p,null === (h=q.avtp) || void 0 === h?void 0:h.CC),h=this.Yb.Wu.HEb(),g=this.Yb.Wu.RGb(),h && (h.n=g,h={type:u41,target:P41,fields:{ibef:h}},m.Va(this.Yb,h.type,h),this.Yb.Wu.save()));n90=19;break;case 2:(g=this.Yb.I,k=this.Yb.ec.Ob);n90=1;break;case 7:n90=v?6:14;break;case 14:var U41="endp";U41+="l";U41+="a";U41+="y";var W41="l";W41+="ogdat";W41+="a";t && t.length && (n.activeRequests=JSON.stringify(t));n.aseApiVersion=this.Yb.aG;g.dVa && (v=k.f6()) && (v.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=v.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=v.estimatedBytesPacedVideo,n.bytestotalVideo=v.bytestotalVideo,n.pacedAvtpVideo=v.pacedAvtpVideo),v.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=v.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=v.estimatedBytesPacedAudio,n.bytestotalAudio=v.bytestotalAudio,n.pacedAvtpAudio=v.pacedAvtpAudio),v.pacedAvtp && (n.pacedAvtp=v.pacedAvtp));g.Q4 && (k=k.W5()) && (n.initial_avtp=k.lH,n.initial_dltime=k.CC,n.initial_responses_audio=k.z_a,n.initial_responses_video=k.A_a,n.initial_tput_samples=k.gO,n.initial_1sec_tput_samples=k.eO);Object.keys(n).length && (n={type:W41,target:U41,fields:n},m.Va(this.Yb,n.type,n));n90=20;break;case 6:for(var u in v){var X41="n";X41+="e";var Y41="n";Y41+="e";var N41="n";N41+="e";v.hasOwnProperty(u) && (n[N41 + u]=Number(v[u]).toFixed(6),p[Y41 + u]=1 * n[X41 + u]);}n90=14;break;case 1:n90=k?5:19;break;case 18:n90=this.JF.Jr?17:16;break;}}};d.prototype.bn=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return this.jOa || this.Yb.La.jk;break;case 4:return this.jOa && this.Yb.La.jk;break;q90=1;break;}}};return d;break;}}})();b.LEa=r;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.FGa=void 0;r=a(2);c=r.__importStar(a(10));f=a(142);l=r.__importDefault(a(28)).default.Ta;m=r.__importDefault(a(6));d=a(9);h=a(5);a=(function(){var r90;r90=2;function g(k,n){var s90;s90=2;for(;s90 !== 4;){switch(s90){case 2:this.ab=k;s90=1;break;case 1:var D41="1SI";D41+="Yb";D41+="Z";D41+="rNJC";D41+="p9";this.H=n;D41;s90=4;break;}}}for(;r90 !== 38;){switch(r90){case 2:g.prototype.Yl=function(k){var t90;t90=2;for(;t90 !== 5;){switch(t90){case 2:var z41="st";z41+="artEv";z41+="en";z41+="t";k={type:z41,event:k,time:m.default.time.ea()};d.Va(this.ab,k.type,k);t90=5;break;}}};g.prototype.Cnb=function(){var u90,k;u90=2;for(;u90 !== 5;){switch(u90){case 2:var c41="o";c41+="penCo";c41+="mplete";k={type:c41};d.Va(this.ab,k.type,k);u90=5;break;}}};g.prototype.Dnb=function(k,n,q,p,v){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:var Q41="pt";Q41+="sSta";Q41+="rts";this.ab.I.Uzb || (k={type:Q41,manifestIndex:k,mediaType:n,movieId:p,streamId:q,ptsStarts:v.C9a()},d.Va(this.ab,k.type,k));v90=1;break;}}};g.prototype.tnb=function(k,n){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var x41="hea";x41+="d";x41+="erCacheHit";k={type:x41,movieId:k,streamId:n};w90=1;break;case 1:d.Va(this.ab,k.type,k);w90=5;break;}}};g.prototype.snb=function(k,n,q,p,v){var x90,t;x90=2;for(;x90 !== 3;){switch(x90){case 2:var E41="head";E41+="erC";E41+="acheDat";E41+="a";E41+="Hit";t=this.ab.qNa;this.ab.qNa=void 0;k={type:E41,movieId:k,audio:n,audioFromMediaCache:p,video:q,videoFromMediaCache:v,actualStartPts:t && t.uo,headerCount:t && t.mN,stats:t && t.Md};d.Va(this.ab,k.type,k);x90=3;break;}}};r90=9;break;case 10:g.prototype.Cga=function(k,n){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var C41="la";C41+="stSeg";C41+="men";C41+="tPts";n={type:C41,segmentId:k.id,pts:Math.floor(n)};k.ND || d.Va(this.ab,n.type,n);H90=5;break;}}};g.prototype.ynb=function(k,n,q,p,v){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var r41="ma";r41+="n";r41+="ifestRange";k={type:r41,index:k,manifestOffset:n,startPts:Math.floor(q),endPts:Math.floor(p),maxPts:Math.floor(v)};d.Va(this.ab,k.type,k);I90=5;break;}}};g.prototype.cOa=function(k){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var G41="ma";G41+="xBitrate";G41+="s";k={type:G41,audio:k[0],video:k[1]};d.Va(this.ab,k.type,k);J90=5;break;}}};g.prototype.znb=function(k,n){var K90,q;K90=2;for(;K90 !== 3;){switch(K90){case 2:var R31="notifyMan";R31+="ifestSelected:";R31+=" ";var m41="man";m41+="ifestS";m41+="e";m41+="le";m41+="cted";q=this.ab.I;k={type:m41,index:k,replace:n.P.rf.replace,ptsStarts:n.AO,streamingOffset:n.Y + n.zw};q.ei && (n=R31 + JSON.stringify(k),q.ei && this.ym(n));d.Va(this.ab,k.type,k);K90=3;break;}}};r90=17;break;case 9:g.prototype.Anb=function(k,n,q,p){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var O31="ma";O31+="xPo";O31+="siti";O31+="on";k={type:O31,index:k,endPts:n,maxPts:q,maxSeekPts:p};d.Va(this.ab,k.type,k);y90=5;break;}}};g.prototype.Jnb=function(k,n,q,p,v,t,u){var z90;z90=2;for(;z90 !== 3;){switch(z90){case 4:d.Va(this.ab,k.type,k);z90=3;break;case 2:var V31="n";V31+="o";V31+="tifyStreaming";V31+="Erro";V31+="r: ";var T31="e";T31+="r";T31+="r";T31+="o";T31+="r";void 0 === u && (u=!1);k={type:T31,error:k,errormsg:n,networkErrorCode:q,httpCode:p,nativeCode:v,manifestIndex:t,temporaryFailure:u};this.H.error(V31 + JSON.stringify(k));z90=4;break;}}};g.prototype.m2=function(k,n){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var Z31="s";Z31+="egmentSta";Z31+="rting";n={type:Z31,segmentId:k.id,contentOffset:n,maxBitrates:{audio:k.P.Dw[0],video:k.P.Dw[1]}};k.ND || d.Va(this.ab,n.type,n);A90=5;break;}}};g.prototype.Dga=function(k){var B90,n;B90=2;for(;B90 !== 5;){switch(B90){case 2:var M31="segm";M31+="en";M31+="tAborted";n={type:M31,segmentId:k.id};k.ND || d.Va(this.ab,n.type,n);B90=5;break;}}};r90=14;break;case 17:g.prototype.xnb=function(k,n,q,p,v){var L90;L90=2;for(;L90 !== 4;){switch(L90){case 2:var S31="mani";S31+="festPresent";S31+="in";S31+="g";k={type:S31,index:k.Nb,pts:Math.floor(n),movieId:k.J,replace:k.rf.replace,contentOffset:q};null != p && null != v && (k.previousMovieId=p,k.previousIndex=v);d.Va(this.ab,k.type,k);L90=4;break;}}};g.prototype.Hnb=function(k,n,q,p){var M90,v;M90=2;for(;M90 !== 3;){switch(M90){case 2:var L31="streamP";L31+="r";L31+="esent";L31+="in";L31+="g";v=k.mediaType;f.Nm.jq(v);k={type:L31,startPts:Math.floor(n),contentStartPts:Math.floor(q),mediaType:v,manifestIndex:p,trackIndex:k.track.gC,streamIndex:k.Kf};M90=4;break;case 4:d.Va(this.ab,k.type,k);M90=3;break;}}};g.prototype.Mnb=function(k){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var K31="v";K31+="ideo";K31+="Loo";K31+="ped";k={type:K31,offset:k};d.Va(this.ab,k.type,k);N90=5;break;}}};g.prototype.Knb=function(k,n,q,p,v){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 5:d.Va(this.ab,n.type,n);O90=4;break;case 2:var P31="up";P31+="dat";P31+="eStre";P31+="amingPt";P31+="s";n={type:P31,mediaType:k,manifestIndex:n,trackIndex:q,movieTime:Math.floor(p),segmentId:v};f.Nm.jq(k);O90=5;break;}}};r90=26;break;case 26:g.prototype.rnb=function(k){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:var W31="firs";W31+="tRequ";W31+="estAp";W31+="pend";W31+="ed";k={type:W31,manifestIndex:k.Pa.gb.P.Nb,mediatype:k.mediaType,time:m.default.time.ea()};d.Va(this.ab,k.type,k);P90=5;break;}}};g.prototype.vnb=function(k,n){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 1:d.Va(this.ab,k.type,k);Q90=5;break;case 2:var U31="init";U31+="ia";U31+="lA";U31+="udioTrack";k={type:U31,trackId:n,trackIndex:k};Q90=1;break;}}};g.prototype.mnb=function(k,n){var R90;R90=2;for(;R90 !== 3;){switch(R90){case 2:var N31="audioTrackSwi";N31+="tch";N31+="S";N31+="tarted";k=k.aA;n=n.aA;n={type:N31,oldLangCode:k.language,oldNumChannels:k.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};d.Va(this.ab,n.type,n);R90=3;break;}}};g.prototype.lnb=function(k,n){var S90,q;S90=2;for(;S90 !== 5;){switch(S90){case 2:q=this;setTimeout(function(){var T90,p;T90=2;for(;T90 !== 5;){switch(T90){case 2:var Y31="aud";Y31+="ioTr";Y31+="ackSwitchC";Y31+="omplete";p={type:Y31,trackId:k,trackIndex:n};d.Va(q.ab,p.type,p);T90=5;break;}}},0);S90=5;break;}}};g.prototype.pnb=function(k){var U90,n;U90=2;for(;U90 !== 4;){switch(U90){case 2:var X31="buffer";X31+="ingSt";X31+="a";X31+="rted";n={type:X31,time:m.default.time.ea(),percentage:k || 0};d.Va(this.ab,n.type,n);this.pga=k || 0;U90=4;break;}}};g.prototype.nnb=function(){var V90,k,n,q,p,v;V90=2;for(;V90 !== 3;){switch(V90){case 2:(k=this.ab.I,n=m.default.time.ea(),q=this.ab.La.Tc,p=this.ab.Mm?1:0,v=q.eb(p));q=q.Gh(p);k=Math.min(Math.max(Math.round(100 * (v.pD?(n - this.ab.nfa) / k.tA:v.progress?v.progress:q / k.rj)),this.pga),99);V90=4;break;case 4:var Q31="buf";Q31+="fer";Q31+="in";Q31+="g";k != this.pga && (n={type:Q31,time:n,percentage:k},d.Va(this.ab,n.type,n),this.pga=k);V90=3;break;}}};g.prototype.Bga=function(){var W90,k,n,q,p,v;W90=2;for(;W90 !== 8;){switch(W90){case 3:this.ab.xg.yCb({initSelReason:p.Iz,initSelectionPredictedDelay:p.Hz,buffCompleteReason:p.yt,hashindsight:this.ab.Jr,hasasereport:! !this.ab.ns,bcVBufferLevelMs:k.vBufferLevelMs,bcABufferLevelMs:k.aBufferLevelMs});d.Va(this.ab,k.type,k);W90=8;break;case 2:var R51="bufferin";R51+="gCompl";R51+="ete";(k=this.ab.La.Tc,n=k.eb(0),q=k.eb(1));this.aOa();(p=this.ab.Mm?this.ab.zb.PA[l.Lb]:this.ab.zb.PA[l.Ub],v=p.UT);k={type:R51,time:m.default.time.ea(),actualStartPts:v,aBufferLevelMs:k.Gh(0),vBufferLevelMs:k.Gh(1),selector:q?q.cP:n.cP,initBitrate:p.pw,skipbackBufferSizeBytes:this.ab.ec.aE};W90=3;break;}}};r90=34;break;case 31:g.prototype.$Na=function(){var a01,k;a01=2;for(;a01 !== 4;){switch(a01){case 2:a01=this.ab.ns?1:4;break;case 1:var y51="as";y51+="ere";y51+="por";y51+="t";k={type:y51};a01=5;break;case 5:this.ab.ns.xCb(k) && d.Va(this.ab,k.type,k);a01=4;break;}}};g.prototype.knb=function(){var b01,k;b01=2;for(;b01 !== 5;){switch(b01){case 2:var h51="aser";h51+="epo";h51+="r";h51+="ten";h51+="abled";k={type:h51};d.Va(this.ab,k.type,k);b01=5;break;}}};g.prototype.unb=function(k){var C71=a000;var c01,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,M;c01=2;for(;c01 !== 6;){switch(c01){case 3:n.report=k;c01=9;break;case 4:c01=this.ab.OU || this.ab.Xw?3:9;break;case 1:var O51="h";O51+="inds";O51+="igh";O51+="trep";O51+="ort";(n={type:O51},q=this.ab.I.G6);for(M in q){var t51="h";t51+="vm";t51+="a";t51+="fdp";var J51="hv";J51+="m";J51+="af";J51+="gr";var T51="hvma";T51+="f";T51+="tb";var e51="h";e51+="t";e51+="w";e51+="b";e51+="r";p=q[M];v=0;t=0;u=0;w=0;x=0;y=0;z=void 0;A=void 0;B=!1;D=-1;E=-1;F=-1;C=-1;G=-1;J=-1;for(K in k){A=k[K];void 0 === A.nd && (z=(z=A.sols) && z[p]) && (B=!0,u+=z.dlvdur,v+=z.dltwbr * z.dlvdur,t+=z.dlvmaf * z.dlvdur);y+=A.pbdur;w+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (D=1 * w / y,C=1 * x / y);B && (0 < u && (E=1 * v / u,G=1 * t / u),0 < u + y && (F=1 * (v + w) / (u + y),J=1 * (t + x) / (u + y)));switch(p){case e51:n.htwbr=F;n.hptwbr=E;n.pbtwbr=D;z && (n.rr=z,n.ra=A);break;case T51:n.hvmaftb=J;n.hpvmaftb=G;n.pbvmaftb=C;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case J51:n.hvmafgr=J;n.hpvmafgr=G;n.pbvmafgr=C;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case t51:(n.hvmafdp=J,n.hpvmafdp=G,n.pbvmafdp=C,z && (n.rrvmafdp=z,n.ravmafdp=A));}}c01=4;break;case 9:c01=this.ab.Xw?8:7;break;case 2:c01=k?1:6;break;case 8:for(var I in k){if((q=k[I],void 0 !== q.r9a))for(p in q.r9a){if((z=q.r9a[p],void 0 !== z.X$)){var I51=" a";I51+="n";I51+="d";I51+=" ";var F51="expe";F51+="c";F51+="t sol.st";F51+="rmsel.len";F51+="gth === sol.fragsel.length but got ";var q51="expect rep";q51+="ort.fragmen";q51+="tsPrebuffered !== undefined";var B51="exp";B51+="ect report.fragmentsPrebuffered !";B51+="== undefined";M=void 0 !== q.yWa;M || (console.error(B51),h.assert(M,q51));M=[];for(var R in q.yWa){v=q.yWa[R];M.push({fa:v.fa,Fm:v.duration / 1E3,quality:v.sb});}M=z.X$.length === z.zWa.length;v=F51 + z.X$.length + I51 + z.zWa.length;M || (console.error(v),h.assert(M,v));M=[];v=0;for(var H in z.X$){u=z.X$[H];t=z.zWa[H];C71.x2J(1);v=u=C71.c2J(u,v);M.push({Abc:u,ccc:z.PUa[H],k9b:z.Ra[H],Qia:z.Qia[H],Pia:z.Pia[H],mRa:z.mRa[H],P8b:{fa:t.fa,Fm:t.duration / 1E3,quality:t.sb?t.sb:z.Yd[u].sb,Fbc:t.Kf,Q8b:t.Le},A6a:0,fbc:0,Vsa:z.Vsa[H]});}z=[];M=0;for(var Q in q.TA.trace){v=q.TA.trace[Q];C71.x2J(1);M=v=C71.z2J(v,M);z.push(v);}}}}c01=7;break;case 7:d.Va(this.ab,n.type,n);c01=6;break;}}};g.prototype.qnb=function(k){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var p51="e";p51+="ndOf";p51+="St";p51+="ream";k={type:p51,mediaType:k};d.Va(this.ab,k.type,k);d01=5;break;}}};r90=44;break;case 34:g.prototype.aOa=function(){var X90,k,n,q,p,v,t,u;X90=2;for(;X90 !== 12;){switch(X90){case 2:k=this.ab.I;X90=1;break;case 5:(n=this.ab.La.Tc,q=n.Gh(0),p=n.Gh(1));this.ab.xg.$pb(q,p);X90=3;break;case 1:X90=!this.ab.bn()?5:12;break;case 3:v=this.ab.ec.Ob.get();v=v.confidence?v.Ra.Ga:0;(t=this.ab.La,u=t.jG(n,0));n=t.jG(n,1);X90=6;break;case 6:var V51="updateB";V51+="uffe";V51+="rLevel";q={type:V51,abuflbytes:u,vbuflbytes:n,totalabuflmsecs:q,totalvbuflmsecs:p,currentBandwidth:v};p > k.T2a && this.ab.ec.Ff && this.ab.ec.Ff.Kp(!0,this.ab.Vl.sessionId);d.Va(this.ab,q.type,q);X90=12;break;}}};g.prototype.Mmb=function(k){var Y90,n,q,p;Y90=2;for(;Y90 !== 7;){switch(Y90){case 1:c.Ba(k.kZ);Y90=5;break;case 2:Y90=!c.ia(k)?1:7;break;case 5:Y90=!c.ia(this.$K)?4:8;break;case 4:(n=k.OVa - this.$K.OVa,q=k.LZa - this.$K.LZa,p=k.t4a - this.$K.t4a);Y90=3;break;case 3:var k51=", ";k51+="osAllocat";k51+="orDelta:";k51+=" ";var b51=",";b51+=" jsHeap";b51+="Delta:";b51+=" ";var w51=", fas";w51+="tMallocDel";w51+="ta: ";var l51="memo";l51+="ryUsa";l51+="ge at t";l51+="ime: ";(4194304 < n || 4194304 < p) && this.H.warn(l51 + m.default.time.ea() + w51 + n + b51 + q + k51 + p);Y90=9;break;case 9:var f51=", systemDel";f51+="t";f51+="a: ";var j51="mem";j51+="oryUsa";j51+="g";j51+="e at";j51+=" time: ";c.Ba(k.kZ) && c.Ba(this.$K.kZ) && (n=k.kZ - this.$K.kZ,4194304 < n && this.H.warn(j51 + m.default.time.ea(),f51 + n));Y90=8;break;case 8:this.$K=k;Y90=7;break;}}};g.prototype.Lnb=function(){var Z90,k;Z90=2;for(;Z90 !== 3;){switch(Z90){case 5:this.ab.xg.zCb(k);d.Va(this.ab,k.type,k);Z90=3;break;case 2:var Z51="stre";Z51+="amings";Z51+="tat";this.ab.I.wMb && m.default.memory.oFb(this.Mmb.bind(this));k={type:Z51,time:m.default.time.ea(),playbackTime:this.ab.V.Pe()};Z90=5;break;}}};r90=31;break;case 14:g.prototype.gmb=function(k,n){var C90,q,p;C90=2;for(;C90 !== 12;){switch(C90){case 3:var M51="sea";M51+="m";M51+="les";M51+="s";q.transitionType=p;n.Qka || (q.delayToTransition=n.A4);p=M51 === p?0:m.default.time.ea() - n.startTime;q.durationOfTransition=p;q.atTransition=n.bab;C90=14;break;case 14:q.srcsegmentduration=this.ab.La.NGb(n.P$);return q;break;case 2:var i51="re";i51+="s";i51+="et";var S51="sk";S51+="i";S51+="p";var g51="l";g51+="on";g51+="g";var o51="l";o51+="o";o51+="n";o51+="g";var v51="s";v51+="ea";v51+="ml";v51+="e";v51+="ss";(q={segment:k,srcsegment:n.P$,srcoffset:n.sP,seamlessRequested:n.Te,atRequest:{},discard:{}},p=n.ie[k]);p?q.atRequest={weight:p.weight,abuflmsec:p.Br.vr,vbuflmsec:p.Br.Xn,abuflbytes:p.Br.uL,vbuflbytes:p.Br.jx}:(p=this.ab.La.PYa(n.P$,k),void 0 !== p && (q.atRequest.weight=p));c.lf(n.ie,function(v,t){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:t != k && (q.discard[t]={weight:v.weight,abuflmsec:v.Br.vr,vbuflmsec:v.Br.Xn,abuflbytes:v.Br.uL,vbuflbytes:v.Br.jx});D90=1;break;}}});p=n.Te?n.QV?v51:o51:n.q3a?g51:n.Sn?S51:i51;C90=3;break;}}};g.prototype.Gnb=function(k,n,q){var E90;E90=2;for(;E90 !== 4;){switch(E90){case 5:d.Va(this.ab,k.type,k);E90=4;break;case 2:var s51="segmentPre";s51+="s";s51+="enting";q=q?this.gmb(k.id,q):void 0;k={type:s51,segmentId:k.id,contentOffset:n,metrics:q,playlistSegment:k.ND,manifestIndex:k.P.Nb};E90=5;break;}}};g.prototype.Enb=function(k,n){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var a51="segmentA";a51+="p";a51+="pended";n={type:a51,segmentId:k.id,metrics:n};k.ND || d.Va(this.ab,n.type,n);F90=5;break;}}};g.prototype.Fnb=function(k,n,q){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 2:var n51="se";n51+="gm";n51+="entCo";n51+="mplet";n51+="e";k={type:n51,mediaType:k,manifestIndex:n,segmentId:q.id};d.Va(this.ab,k.type,k);G90=5;break;}}};r90=10;break;case 44:g.prototype.Hn=function(k){var e01;e01=2;for(;e01 !== 1;){switch(e01){case 2:var H51="aseexce";H51+="pti";H51+="o";H51+="n";var L51="ase";L51+="exc";L51+="e";L51+="pt";L51+="ion";this.ab.emit(L51,{type:H51,msg:k});e01=1;break;}}};g.prototype.nPb=function(k,n,q,p){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var d51="maxv";d51+="id";d51+="eobitra";d51+="techanged";var A51="m";A51+="ax";A51+="videobitr";A51+="a";A51+="techanged";k={type:A51,time:m.default.time.ea(),spts:p,maxvb_old:k,maxvb:n,reason:q};this.ab.emit(d51,k);f01=5;break;}}};r90=42;break;case 42:g.prototype.P3a=function(){var g01,k;g01=2;for(;g01 !== 3;){switch(g01){case 2:g01=!this.npb && this.ab.I.M3a?1:3;break;case 1:var K51="stre";K51+="am";K51+="erend";this.npb=!0;k={type:K51,time:m.default.time.ea()};d.Va(this.ab,k.type,k);g01=3;break;}}};g.prototype.uPb=function(k){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var u51="streamSelectionA";u51+="u";u51+="gmentData";k={type:u51,augmentData:k,fragmentIndex:k[0].Pd};d.Va(this.ab,k.type,k);h01=5;break;}}};g.prototype.ym=function(k){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var W51=",";W51+=" ";var P51="m";P51+="anag";P51+="er";P51+="debugeve";P51+="nt";k={type:P51,message:"@" + m.default.time.ea() + W51 + k};d.Va(this.ab,k.type,k);i01=5;break;}}};return g;break;}}})();b.FGa=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.jDa=void 0;c=a(2);r=a(17);f=c.__importStar(a(10));a(5);a(222);l=a(240);m=a(374);d=a(83);a(365);a(380);h=a(124);g=c.__importDefault(a(28));a(235);k=a(867);n=c.__importDefault(a(123));a(16);q=c.__importDefault(a(6));a(175);a(244);a(243);a(99);p=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");v=q.default.EJ;t=p.trace.bind(p);a.trace.bind(a);u=p.warn.bind(p);w=p.error.bind(p);x=p.info.bind(p);a=(function(y){function z(A,B,D,E){var k01;k01=2;for(;k01 !== 25;){switch(k01){case 9:A.b2=Object.create(null);A.mo=B;A.cg=Object.create(null);k01=6;break;case 2:A=y.call(this) || this;A.en=t;A.Jk=w;A.Qb=u;A.Z7b=x;k01=9;break;case 17:var Y51="1SIYbZr";Y51+="NJC";Y51+="p9";A.Uj=void 0;A.oha && (A.mo.CU || (B=(q.default.options || ({})).TN || 0,A.mo.set?A.mo.set({CU:B}):A.mo.CU=(q.default.options || ({})).TN || 0),A.Uj=new k.RFa(A.mo,q.default,A),A.Uj.xb(A,E).then(function(){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 4:t("");l01=2;break;l01=1;break;case 2:var U51="M";U51+="edia cache ini";U51+="tialized";t(U51);l01=1;break;}}}).catch(function(F){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 4:w("",F);m01=4;break;m01=1;break;case 2:var N51="M";N51+="edia cache d";N51+="id not initial";N51+="ize";w(N51,F);m01=1;break;}}}));A.Vl=D;Y51;k01=26;break;case 6:A.tF=0;A.po=[];k01=13;break;case 13:A.MNa=B.w4;A.Qv=[];A.O1=!1;A.IK=[];A.OF={};A.oha=(A.mo.Uxa || A.mo.Vxa) && 0 < (A.mo.CU || (q.default.options || ({})).TN || 0);A.AF=A.mo.pra;k01=17;break;case 26:return A;break;}}}var j01;j01=2;for(;j01 !== 39;){switch(j01){case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 2:return this.cg;break;}}},enumerable:!1,configurable:!0}});z.prototype.Gzb=function(){var o01;o01=2;for(;o01 !== 5;){switch(o01){case 3:this.flush();this.LMa();o01=8;break;o01=5;break;case 2:this.flush();this.LMa();o01=5;break;}}};j01=4;break;case 24:z.prototype.Uga=function(A,B){var U01,G,M,R,H,J,K,I,D,E,F,C;U01=2;for(;U01 !== 53;){switch(U01){case 31:I.Oh=A.Oh;U01=30;break;case 44:(I.d3(J.get(R)),I.ZN=R + 1,K=R);U01=43;break;case 1:U01=this.O1?5:9;break;case 9:G=this.cg[D] || A.xm;U01=8;break;case 20:U01=-1 === K || void 0 === K?19:18;break;case 6:U01=void 0 === G.uo?14:12;break;case 16:I.Oh=A.Oh;M=I.gma(B);M && (I.mediaType === g.default.Ta.Ub && !C.vra && M.Dd < (C.cm && !C.cG && F.tf?Math.floor(F.tf.W):0) && (++M.fl,M.Dd+=I.qa.W),0 < M.fl && I.Aj({start:M.fl}));U01=26;break;case 22:D=this.Umb(C,A,J);M=F=0;(R=I && I.mediaType,H=R === g.default.Ta.Lb?C.C8:C.u8);U01=34;break;case 36:++K;U01=33;break;case 7:U01=A.mediaType === g.default.Ta.Ub?6:11;break;case 8:U01=G?7:53;break;case 28:U01=R < J.length && (I.fa < H || I.duration < C)?44:42;break;case 25:void 0 === G.data && (G.data={});void 0 === G.data[E] && (G.data[E]=[]);B=G.data[E];U01=22;break;case 14:G.Ska=A;U01=13;break;case 11:A.mediaType === g.default.Ta.Ub && C.cm && !C.cG && F.tf && (B=Math.max(F.U && F.U.Bj(0) || 0,B + F.tf.W));(J=A.stream.U,K=J && J.wn(B));U01=20;break;case 17:U01=!f.ia(I)?16:25;break;case 19:var X51="no";X51+=" proper fragme";X51+="nt foun";X51+="d to request data at pts";w(X51,B);U01=53;break;case 33:U01=K < (J && J.length || 0) && !D(M,F)?32:54;break;case 12:B=G.uo;U01=11;break;case 54:G.Ska && !f.ia(G.uo) && (A=G.Ska,delete G.Ska,this.Uga(A,G.uo));U01=53;break;case 30:U01=!f.ia(J) && !I.ta?29:42;break;case 3:this.IK.shift();U01=4;break;case 18:I=A.stream.Uk(K);U01=17;break;case 32:U01=(void 0 === I && (I=A.stream.Uk(K)),void 0 !== I)?31:36;break;case 4:U01=this.IK.length > C.nIb?3:53;break;case 29:a000.x2J(1);R=a000.c2J(1,K);U01=28;break;case 38:F+=I.duration;U01=37;break;case 2:(D=A.J,E=A.Oa,F=A.stream,C=A.Ne);U01=1;break;case 34:C=R === g.default.Ta.Lb?C.rOb:C.lOb;U01=33;break;case 42:var D51="un";D51+="d";D51+="ef";D51+="i";D51+="ned";f.ia(G.uo) && (G.uo=I.Y);I.Oh && (I.responseType=0);A.Oh && this.Uj && A.LW && A.LW[E] && D51 !== typeof I.Y && A.LW[E][I.Y] || (R=this.llb(I,A.Ne),R.Oh && (R.xm=A.xm),R.lO(),++G.oU,B.push(R));++M;U01=38;break;case 43:++R;U01=28;break;case 13:return;break;case 37:I=void 0;U01=36;break;case 5:this.IK.push({rIb:A,Dd:B});U01=4;break;case 26:var E51="ma";E51+="nagerdeb";E51+="u";E51+="g";E51+="event";var x51=",";x51+=" sta";x51+="rtPts";x51+=": ";var Q51=", ";Q51+="p";Q51+="ts";Q51+=": ";var c51=", s";c51+="trea";c51+="mId";c51+=": ";var z51=", headerCache ";z51+="r";z51+="equestData:";z51+=" movieId: ";C.ei && (B="@" + q.default.time.ea() + z51 + D + c51 + E + Q51 + B + x51 + I.Y,this.emit(E51,{message:B}));U01=25;break;}}};z.prototype.zkb=function(A){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:this.nMa(A,A.xm);V01=1;break;}}};z.prototype.ykb=function(A,B){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:this.nMa(A,B);W01=1;break;}}};z.prototype.nMa=function(A,B){var X01,D;X01=2;for(;X01 !== 4;){switch(X01){case 2:D=A.Oa;X01=1;break;case 5:(B.Fqb || B.Oh && !this.AF || (B.Fqb=!0,++this.tF),B.headers || (B.headers={}),B.headers[D]=A,this.mo.vBb && (B.mN || (B.mN=0),++B.mN),this.sfa());X01=4;break;case 1:X01=(B=this.cg[A.J] || B)?5:4;break;case 9:D=A.Oa;X01=9;break;X01=1;break;}}};z.prototype.sfa=function(){var Y01,B,D,E;Y01=2;function A(C){var Z01;Z01=2;for(;Z01 !== 5;){switch(Z01){case 1:D+=C.bytesReceived;Z01=5;break;case 9:D/=C.bytesReceived;Z01=8;break;Z01=5;break;case 2:C.abort();Z01=1;break;}}}for(;Y01 !== 12;){switch(Y01){case 5:Y01=this.tF > this.MNa?4:13;break;case 2:D=0;Y01=1;break;case 4:Y01=(B=this.po.shift())?3:5;break;case 3:E=B.J;Y01=9;break;case 1:Y01=!(this.tF <= this.MNa)?5:12;break;case 9:Y01=B.data?8:7;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}Y01=7;break;case 7:delete this.cg[E];--this.tF;Y01=14;break;case 13:this.Gob(D);Y01=12;break;case 14:this.Fob(E);Y01=5;break;}}};j01=34;break;case 8:z.prototype.list=function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.po;break;}}};z.prototype.zW=function(A,B){var t01;t01=2;for(;t01 !== 4;){switch(t01){case 9:t01=(A=this.cg[A])?4:0;break;t01=(A=this.cg[A])?1:4;break;case 2:t01=(A=this.cg[A])?1:4;break;case 8:t01=(B=A.headers[B])?9:5;break;t01=(B=A.headers[B])?5:4;break;case 1:t01=(B=A.headers[B])?5:4;break;case 5:return B;break;}}};z.prototype.GMb=function(A,B){var u01,D,E;u01=2;for(;u01 !== 5;){switch(u01){case 1:return E || !this.Uj?Promise.resolve(E):(this.AF?this.Jmb(A,B):this.Imb(A,B)).then(function(F){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 4:return D.Z5a(F);break;v01=1;break;case 2:return D.Z5a(F);break;}}});break;case 2:(D=this,E=this.FMb(A));u01=1;break;}}};z.prototype.FMb=function(A){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 2:return this.Z5a(this.cg[A]);break;}}};z.prototype.lWa=function(){var x01,D,E,F;x01=2;function B(G,J){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:G && G.data && G.data[J].forEach(function(K){var A01;A01=2;for(;A01 !== 5;){switch(A01){case 2:K.abort();D+=K.bytesReceived;A01=5;break;}}});z01=1;break;}}}function A(G){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 4:G.bSa();y01=2;break;y01=1;break;case 2:G.bSa();y01=1;break;}}}for(;x01 !== 4;){switch(x01){case 2:D=0;for(E in this.cg){F=this.cg[E];if(F.data){for(var C in F.data){var r51="in e";r51+="nt";r51+="ry:";var C51="missing hea";C51+="d";C51+="erEn";C51+="try for streamId:";F.headers[C] || w(C51,C,r51,F);B(F,C);F.data[C].forEach(A);delete F.data[C];}delete F.data;}}this.Iob(D);x01=4;break;}}};j01=12;break;case 28:z.prototype.Imb=function(A,B){var h11,D,E,F;h11=2;for(;h11 !== 8;){switch(h11){case 2:D=this;h11=1;break;case 5:(E=void 0,F=!1);this.Uj.b0a(this.cg[A])?(E=Promise.resolve(this.cg[A]),F=!0):E=this.Uj.mMb(A);h11=3;break;case 3:return E.then(function(C){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:return !f.ia(C) && D.Uj?D.Uj.iMb(A,B,C).then(function(G){var j11;j11=2;for(;j11 !== 5;){switch(j11){case 2:G && (F || (D.cg[A]=C,++D.tF,D.sfa(),D.po.push(C),D.po.sort(D.W5a)),D.oMa(A,G));return D.cg[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 1:h11=this.Uj?5:9;break;case 9:var G51="Media cache is not e";G51+="na";G51+="bl";G51+="ed";return Promise.reject(G51);break;}}};z.prototype.oMa=function(A,B){var k11,D,E,F,C;k11=2;for(;k11 !== 7;){switch(k11){case 1:k11=B?5:7;break;case 2:D=this;k11=1;break;case 5:(E=this.cg[A],F=B.headers);E && F && Object.keys(F).forEach(function(G){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 2:D.ykb(F[G],E);l11=1;break;}}});k11=3;break;case 9:C=B.data;Object.keys(C).forEach(function(G){var m11,J,K;m11=2;for(;m11 !== 9;){switch(m11){case 2:J=C[G];f.ia(E.data) && (E.data={});f.ia(E.data[G]) && (E.data[G]=[]);K=E.data;J.forEach(function(I){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 4:K[G].push(I);n11=2;break;n11=1;break;case 2:K[G].push(I);n11=1;break;}}});m11=9;break;}}});k11=7;break;case 3:k11=B.data?9:7;break;}}};z.prototype.W5a=function(A,B){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 4:return B.priority % A.priority;break;o11=1;break;case 2:return B.priority - A.priority;break;}}};z.prototype.Z5a=function(A){var p11,B,D,E;p11=2;for(;p11 !== 11;){switch(p11){case 13:B.Ko=A.Ko;return B;break;case 2:B={};p11=1;break;case 1:p11=A && A.data?5:11;break;case 5:for(D in A.data){E=A.data[D];0 < E.length && (B[E[0].mediaType]={Oa:D,header:A.headers[D],data:E});}B.uo=A.uo;B.mN=A.mN;B.Md=A.Md;B.pw=A.pw;p11=7;break;case 7:B.Iz=A.Iz;B.YC=A.YC;B.Jo=A.Jo;p11=13;break;}}};j01=41;break;case 12:z.prototype.oA=function(A){var B01,B;B01=2;for(;B01 !== 5;){switch(B01){case 2:B=this.cg[A.J];B && (this.Zc(A)?f.ia(B.Md.sIb) && !f.ia(A.loadTime) && (B.Md.sIb=A.loadTime):f.ia(B.Md.J5a) && !f.ia(A.loadTime) && (B.Md.J5a=A.loadTime));B01=5;break;}}};z.prototype.tk=function(A){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:this.Zc(A)?this.KQb(A):this.LQb(A);C01=1;break;}}};j01=10;break;case 41:z.prototype.Zc=function(A){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:return ! !A.Zc;break;}}};return z;break;case 4:z.prototype.Daa=function(A){var p01;p01=2;for(;p01 !== 5;){switch(p01){case 2:this.Vl=A;this.Qv.forEach(function(){});p01=5;break;}}};j01=3;break;case 31:z.prototype.Mob=function(A,B){var d11,D;d11=2;for(;d11 !== 3;){switch(d11){case 2:D=A.Ne;f.ia(A.rVb) || this.Uga(A,A.rVb);!this.Uj || !A.Oh || this.AF || f.ia(A.LW) || A.LW[A.Oa] && A.LW[A.Oa].header?B():this.Uj.dWb(A,B);D.Sxa || 0 !== Object.keys(this.b2).length || this.LMa();d11=3;break;}}};z.prototype.Zob=function(A,B){var e11;e11=2;for(;e11 !== 4;){switch(e11){case 2:var m51="pre";m51+="buffs";m51+="tats";A.Md.ESb=B;A={type:m51,movieId:A.J,stats:{prebuffstarted:A.Md.J5a,prebuffcomplete:A.Md.ESb}};this.emit(A.type,A);e11=4;break;}}};j01=29;break;case 10:z.prototype.sX=function(A){var D01;D01=2;for(;D01 !== 5;){switch(D01){case 2:var R61="_o";R61+="nE";R61+="rr";R61+="or";R61+=": ";u(R61,A.toString());this.D1(A);D01=5;break;}}};z.prototype.KQb=function(A){var E01,B;E01=2;for(;E01 !== 9;){switch(E01){case 2:B=this;E01=1;break;case 1:A.d_b=A.qf;this.zkb(A);f.ia(A.oIb) || A.oIb(A.d_b);E01=3;break;case 3:this.Mob(A,function(){var F01;F01=2;for(;F01 !== 1;){switch(F01){case 2:f.ia(A) || (f.ia(A.xm) || A.xm.JZa--,B.D1(A));F01=1;break;}}});E01=9;break;}}};z.prototype.LQb=function(A){var G01,B,D,E,F;G01=2;for(;G01 !== 8;){switch(G01){case 2:(B=this,D=A.J,E=this.cg[D] || A.xm);G01=1;break;case 4:F=q.default.time.now();this.Uj.cWb(A,E,function(C){var H01;H01=2;for(;H01 !== 4;){switch(H01){case 2:C || f.ia(E) || (C=q.default.time.ea() - F,f.ia(E.Md) && (E.Md={}),f.ia(E.Md.Fs) && (E.Md.Fs=0),E.Md.Fs+=C);--E.oU;B.D1(A);H01=4;break;}}});G01=8;break;case 5:var T61="ma";T61+="nag";T61+="erdebugeven";T61+="t";var e61=", ";e61+="re";e61+="m";e61+="a";e61+="ining: ";var O61=",";O61+=" pt";O61+="s";O61+=":";O61+=" ";var h61=", s";h61+="treamId:";h61+=" ";var y61=", hea";y61+="derC";y61+="ache dataComplete: movieId: ";G01=(this.mo.ei && (D="@" + q.default.time.ea() + y61 + D + h61 + A.Oa + O61 + A.Y + e61 + (E.oU - 1),this.emit(T61,{message:D})),A.Oh && 0 === A.responseType && this.Uj && !this.AF)?4:9;break;case 9:(--E.oU,B.D1(A));G01=8;break;case 1:G01=E?5:8;break;}}};z.prototype.GMa=function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:0 === this.Qv.length && (this.Qv=[h.lp.instance.Gt(0,void 0,!1,!1,this.Vl,this.mo),h.lp.instance.Gt(1,void 0,!1,!1,this.Vl,this.mo)],this.Qv.forEach(function(A){var J01;J01=2;for(;J01 !== 1;){switch(J01){case 4:return A.xb();break;J01=1;break;case 2:return A.xb();break;}}}),v.ng());I01=1;break;}}};j01=17;break;case 34:z.prototype.Gob=function(A){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:var J61="d";J61+="iscar";J61+="dedB";J61+="yte";J61+="s";0 !== A && (A={type:J61,bytes:A},this.emit(A.type,A));a11=1;break;}}};z.prototype.Iob=function(A){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:var t61="flu";t61+="s";t61+="hedB";t61+="yt";t61+="es";0 !== A && (A={type:t61,bytes:A},this.emit(A.type,A));b11=1;break;}}};z.prototype.Fob=function(A){var c11;c11=2;for(;c11 !== 5;){switch(c11){case 2:var B61="cach";B61+="e";B61+="Evi";B61+="ct";A={type:B61,movieId:A};this.emit(A.type,A);c11=5;break;}}};j01=31;break;case 17:z.prototype.LMa=function(){var K01,A;K01=2;for(;K01 !== 4;){switch(K01){case 5:A.forEach(function(B){var L01;L01=2;for(;L01 !== 1;){switch(L01){case 2:h.lp.instance.kM(B);L01=1;break;case 4:h.lp.instance.kM(B);L01=9;break;L01=1;break;}}});K01=4;break;case 2:A=this.Qv;this.Qv=[];K01=5;break;}}};z.prototype.Omb=function(){var M01,A;M01=2;for(;M01 !== 5;){switch(M01){case 1:!this.O1 && 0 < this.IK.length && (this.IK.forEach(function(B){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:A.Uga(B.rIb,B.Dd);N01=1;break;}}}),this.IK=[]);M01=5;break;case 2:A=this;M01=1;break;case 3:A=this;M01=3;break;M01=1;break;}}};z.prototype.EMa=function(A,B){var O01,D;O01=2;for(;O01 !== 8;){switch(O01){case 9:return B;break;case 2:D=A.stream.mediaType;2 > this.Qv.length && this.GMa();B=new m.sba(A.stream,B,this.Qv[D],A,this,!0,p);O01=4;break;case 4:B.Oh=A.Oh;B.Ff=this;O01=9;break;}}};z.prototype.llb=function(A,B){var P01,D;P01=2;for(;P01 !== 8;){switch(P01){case 2:D=A.stream.mediaType;2 > this.Qv.length && this.GMa();B=l.t_.create(A.stream,B,this.Qv[D].track,A,this,!0,p);B.Oh=A.Oh;P01=3;break;case 3:B.Ff=this;return B;break;}}};z.prototype.D1=function(A){var Q01,B;Q01=2;for(;Q01 !== 9;){switch(Q01){case 2:var q61="save";q61+="t";q61+="od";q61+="i";q61+="sk";this.Zc(A) && delete this.b2[A.Oa];this.Zc(A) || delete A.response;A.cd();B=this.cg[A.J] || A.xm;B && 0 === B.JZa && 0 === B.oU && (this.Zob(B,A.qf),B.Oh && this.Uj && (B.Md.hac || (this.AF?this.Uj.eWb(B):this.Uj.dP(q61,{T7a:B.Md.Fs}))));Q01=9;break;}}};z.prototype.Umb=function(A,B,D){var R01,E,F;R01=2;for(;R01 !== 8;){switch(R01){case 2:E=A.v4;B.Oh && this.Uj && (A.D2a?E=A.D2a:A.m2a && 0 < A.m2a && (E=2E3 * A.m2a));R01=5;break;case 5:R01=0 < E?4:3;break;case 4:return function(C,G){var J81=a000;var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:J81.Q2J(21);return J81.z2J(E,G);break;case 4:J81.x2J(22);return J81.c2J(G,E);break;S01=1;break;}}};break;case 3:F=D && D.length < A.RTa?D.length:A.RTa;return function(C){var T81=a000;var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:T81.Q2J(21);return T81.z2J(F,C);break;case 4:T81.x2J(23);return T81.z2J(C,F);break;T01=1;break;}}};break;}}};j01=24;break;case 29:z.prototype.Jmb=function(A,B){var f11,D;f11=2;for(;f11 !== 5;){switch(f11){case 2:var F61="Media ca";F61+="che is not enab";F61+="l";F61+="ed";D=this;return this.Uj?this.Uj.jMb(A,B).then(function(E){var g11;g11=2;for(;g11 !== 5;){switch(g11){case 2:g11=E && E.xm?1:5;break;case 1:return (D.cg[A]=E.xm,++D.tF,D.sfa(),D.po.push(E.xm),D.po.sort(D.W5a),D.oMa(A,E),D.cache[A]);break;}}}):Promise.reject(F61);break;}}};j01=28;break;case 3:z.prototype.Kp=function(A,B,D){var q01,E,F;q01=2;for(;q01 !== 9;){switch(q01){case 4:D && delete E[B];F?(this.O1=!1,this.Omb()):this.O1=!0;q01=9;break;case 2:(E=this.OF,F=A);q01=1;break;case 1:q01=(E[B]=A)?5:4;break;case 5:for(var C in E){E.hasOwnProperty(C) && !1 === E[C] && (F=!1);}q01=4;break;}}};z.prototype.flush=function(){var r01,B;r01=2;for(;r01 !== 8;){switch(r01){case 9:var p61="ma";p61+="nagerdebu";p61+="gevent";var I61=",";I61+=" headerCach";I61+="e flush: ";this.mo.ei && (B="@" + q.default.time.ea() + I61,this.emit(p61,{message:B}));r01=8;break;case 2:this.lWa();for(var A in this.b2){B=this.b2[A];B.abort();}r01=5;break;case 5:this.cg=Object.create(null);this.tF=0;this.po=[];r01=9;break;}}};j01=8;break;}}})(d.hv);b.jDa=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RFa=void 0;c=a(2);f=a(17);l=c.__importStar(a(868));m=c.__importStar(a(10));a(5);d=a(240);h=a(9);r=a(42);g=c.__importStar(a(879));k=g.mFa;a=(function(){function n(q,p,v){var s11;s11=2;for(;s11 !== 12;){switch(s11){case 2:var l61="me";l61+="dia";l61+="|asej";l61+="s";var V61="ME";V61+="DIACA";V61+="CHE";this.H=new p.Console(V61,l61);this.oha=(q.Uxa || q.Vxa) && 0 < (q.CU || (p.options || ({})).TN || 0);this.Ilb=q.iBb?q.iBb:!1;s11=4;break;case 4:this.AF=q.pra?q.pra:!1;this.Tmb=q.C2a?q.C2a:!1;s11=9;break;case 9:var w61="Media ";w61+="cache has not been in";w61+="itiaized";this.I=q;this.oo=p;this.$e=v;this.ft=Promise.reject(w61);this.ft.catch(function(){});s11=13;break;case 13:var b61="1";b61+="S";b61+="IY";b61+="bZrN";b61+="JCp9";b61;s11=12;break;}}}var r11;r11=2;for(;r11 !== 18;){switch(r11){case 2:n.prototype.xb=function(q,p){var t11,v;t11=2;for(;t11 !== 4;){switch(t11){case 2:var j61="Media";j61+=" cach";j61+="e is";j61+=" disable";j61+="d";v=this;this.oha?this.ft=new Promise(function(t,u){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:(void 0 !== p && null !== p?p.sN:function(w){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return l.sN(v.oo,v.I,w);break;}}})(function(w){var w11,x;w11=2;for(;w11 !== 4;){switch(w11){case 2:var k61="Media cache did";k61+=" not initia";k61+="lize";v.lo=w;x=w.Bn;(w=w.nH)?u(w):x?(v.LXb(q),t()):u(Error(k61));w11=4;break;}}});u11=1;break;}}}):(this.ft=Promise.reject(j61),this.ft.catch(function(){}));return this.ft;break;}}};n.prototype.mMb=function(q){var x11,p,v,t;x11=2;for(;x11 !== 5;){switch(x11){case 2:(p=this,v=[k.rFa,q].join("."),t=this.oo.time.ea());return this.ft.then(function(){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return new Promise(function(u){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:p.lo.XX(k.Xq,v,function(w){var A11,x;A11=2;for(;A11 !== 3;){switch(A11){case 5:x=w[0];p.lo.read(k.Xq,x,function(y,z){var B11,B,C11,A;B11=2;for(;B11 !== 14;){switch(B11){case 5:B11=z instanceof ArrayBuffer?4:3;break;case 2:var Z61=" fa";Z61+="i";Z61+="l";Z61+="ed";var f61="Re";f61+="ading mov";f61+="ie entry ";y && p.H.warn(f61 + x + Z61,y);B11=1;break;case 1:B11=!m.ia(z)?5:9;break;case 9:m.ia(A) || (B=g.wna(A));m.ia(B) || m.Bb(B) || (B.Md=B.Md || ({}),B.headers=B.headers || ({}));p.b0a(B)?u(B):(p.Vob(q),u());B11=14;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};B11=9;break;case 4:try{C11=2;for(;C11 !== 1;){switch(C11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));C11=1;break;}}}catch(D){}B11=9;break;}}});A11=3;break;case 1:var M61="med";M61+="ia";M61+="cachelo";M61+="okup";(u(),p.dP(M61,{V7:p.oo.time.ea() - t,o4:!1}));A11=3;break;case 2:A11=!w || 0 >= w.length?1:5;break;}}});z11=1;break;}}});break;}}});break;}}};n.prototype.iMb=function(q,p,v){var D11,t,u;D11=2;for(;D11 !== 9;){switch(D11){case 5:var v61="Media cac";v61+="he is not e";v61+="nab";v61+="le";v61+="d";return Promise.reject(v61);break;case 2:t=this;D11=1;break;case 1:D11=!this.ft?5:4;break;case 4:u=this.oo.time.ea();return this.ft.then(function(){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:return new Promise(function(w){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:t.lo.XX(k.Xq,q,function(x){var G11;G11=2;for(;G11 !== 5;){switch(G11){case 1:t.KTb(x,p).then(function(y){var I11,z,A;I11=2;for(;I11 !== 8;){switch(I11){case 5:var o61="No";o61+=" content data fou";o61+="n";o61+="d for ";(z=t.oo.time.ea() - u,A=!1);m.ia(y) || m.ia(y.data) || !m.Jh(y.data)?t.H.trace(o61 + q,v):A=!0;I11=3;break;case 1:return w();break;case 2:I11=void 0 === v || void 0 === y?1:5;break;case 9:w(y);I11=8;break;case 3:var g61="mediac";g61+="ac";g61+="helookup";t.dP(g61,{V7:z,o4:A});I11=9;break;}}},function(){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:w();J11=1;break;}}});G11=5;break;case 2:x=x.reduce(function(y,z){var H11,A;H11=2;for(;H11 !== 9;){switch(H11){case 5:return y;break;case 1:var S61="drmHeader";S61+=".__emb";S61+="e";S61+="d";S61+="__";H11=-1 !== A.indexOf(S61)?5:4;break;case 2:A=z.substr(0,z.lastIndexOf("."));H11=1;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;}}},{});G11=1;break;}}});F11=1;break;}}});break;}}});break;case 7:t=this;D11=7;break;D11=1;break;case 6:D11=+this.ft?4:5;break;D11=!this.ft?5:4;break;case 14:return Promise.reject("");break;D11=4;break;}}};n.prototype.jMb=function(q,p){var K11,v,t;K11=2;for(;K11 !== 5;){switch(K11){case 2:(v=this,t=this.oo.time.ea());return this.ft.then(function(){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 4:return v.Bmb(q);break;L11=1;break;case 2:return v.Bmb(q);break;}}}).then(function(u){var M11;M11=2;for(;M11 !== 5;){switch(M11){case 2:M11=u?1:4;break;case 4:var i61="media";i61+="cac";i61+="heloo";i61+="k";i61+="up";v.dP(i61,{V7:v.oo.time.ea() - t,o4:!1});M11=5;break;case 1:return v.yob(q.toString(),p,t);break;case 8:return v.yob(q.toString(),p,t);break;M11=4;break;case 9:M11=u?8:8;break;M11=u?1:4;break;}}});break;}}};r11=3;break;case 3:n.prototype.dWb=function(q,p){var N11,v,t,u,w,x,y;N11=2;for(;N11 !== 13;){switch(N11){case 4:N11=q.stream.he && !m.ia(q.stream.U)?3:14;break;case 2:(v=this,t=[q.J,q.Oa,k.Cfb].join("."),u=this.oo.time.ea(),w=g.OXa(q),x={});x[t + "." + k.dda]={Jq:w,Dc:k.ME};x[t + "." + k.bgb]={Jq:h.wC(q.Vg.map(function(z){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return z.data;break;}}})),Dc:k.ME};N11=4;break;case 14:this.lo.S7a(k.Xq,x,function(z){var P11;P11=2;for(;P11 !== 5;){switch(P11){case 2:z || (z=v.oo.time.ea() - u,q.xm && (m.ia(q.xm.Md.Fs) && (q.xm.Md.Fs=0),q.xm.Md.Fs+=z));p();P11=5;break;}}});N11=13;break;case 3:w={timescale:q.stream.U.S,startTicks:q.stream.U.gl,offset:q.stream.U.Rd(0)};y=q.stream.U.$w;x[t + "." + k.uCa]={Jq:w,Dc:k.ME};x[t + "." + k.tfb]={Jq:y.sizes.buffer,Dc:k.ME};N11=6;break;case 6:x[t + "." + k.sfb]={Jq:y.sd.buffer,Dc:k.ME};N11=14;break;}}};r11=9;break;case 9:n.prototype.cWb=function(q,p,v){var Q11,w,x,y,t,u;Q11=2;for(;Q11 !== 14;){switch(Q11){case 5:(w=this.oo.time.ea(),x=[q.J,q.Oa,q.dd].join("."));q=g.tna(q);y={};y[x + "." + k.dda]={Jq:q,Dc:k.ME};Q11=8;break;case 2:(t=this,u=q.response);Q11=1;break;case 1:Q11=u instanceof ArrayBuffer?5:6;break;case 8:m.ia(u) || (y[x + "." + k.hhb]={Jq:u,Dc:k.ME});this.lo.S7a(k.Xq,y,function(z){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 2:var s61="Fa";s61+="iled to";s61+=" save fragm";s61+="ent";z?t.H.warn(s61,z):(z=t.oo.time.ea() - w,m.ia(p.Md.Fs) && (p.Md.Fs=0),p.Md.Fs+=z);R11=1;break;case 1:v();R11=5;break;case 9:v();R11=7;break;R11=5;break;}}});Q11=14;break;case 6:var a61="Unabl";a61+="e to save fragment because respon";a61+="se is not an";a61+=" ArrayBuffer";v(Error(a61));Q11=14;break;}}};n.prototype.eWb=function(q){var S11,p,v,t,u,w,x,y,z,A,B,U11,D,E,F,C,V11,G,J,K,I,W11,X11,Y11,Z11,a21,b21;S11=2;for(;S11 !== 20;){switch(S11){case 2:(u=this,w=this.oo.time.ea(),x={},y=g.mYa(q));x.movieEntry=y;S11=5;break;case 5:S11=q.headers?4:8;break;case 4:z={};Object.keys(q.headers).forEach(function(R){var T11,H;T11=2;for(;T11 !== 5;){switch(T11){case 2:H=g.MXa(q.headers[R]);z[R]=H;T11=5;break;}}});S11=9;break;case 12:M={lifespan:259200};this.Tmb && (M.convertToBinaryData=!0);this.lo.save(k.Xq,q.J,x,M,function(R){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:var n61="sa";n61+="v";n61+="et";n61+="odi";n61+="sk";R || u.dP(n61,{T7a:u.oo.time.ea() - w});c21=1;break;}}});S11=20;break;case 9:x.headers=z;S11=8;break;case 8:S11=q && q.data?7:12;break;case 7:y={};(A=q.data,B=Object.keys(q.data));try{U11=2;for(;U11 !== 6;){switch(U11){case 1:U11=!E.done?5:6;break;case 8:y[F]=B;U11=7;break;case 2:(D=c.__values(B),E=D.next());U11=1;break;case 5:(F=E.value,C=A[F]);B={};U11=3;break;case 7:E=D.next();U11=1;break;case 9:try{V11=2;for(;V11 !== 7;){switch(V11){case 8:J=G.next();V11=1;break;case 2:(G=(v=void 0,c.__values(C)),J=G.next());V11=1;break;case 4:V11=K instanceof d.t_ && K.response instanceof ArrayBuffer && !m.ia(K.dd)?3:8;break;case 5:K=J.value;V11=4;break;case 3:I=g.tna(K);V11=9;break;case 1:V11=!J.done?5:7;break;case 9:B[K.dd]={mediaType:I.mediaType,streamId:I.streamId,movieId:I.movieId,bitrate:I.bitrate,location:I.location,serverId:I.serverId,saveToDisk:I.saveToDisk,offset:I.offset,bytes:I.bytes,timescale:I.timescale,startTicks:I.startTicks,durationTicks:I.durationTicks,response:K.response};V11=8;break;}}}catch(R){v={error:R};}finally{W11=2;for(;W11 !== 1;){switch(W11){case 2:try{X11=2;for(;X11 !== 1;){switch(X11){case 2:J && !J.done && (t=G.return) && t.call(G);X11=1;break;}}}finally{Y11=2;for(;Y11 !== 5;){switch(Y11){case 9:throw v.error;Y11=0;break;Y11=5;break;case 1:throw v.error;Y11=5;break;case 3:Y11=v?7:3;break;Y11=v?1:5;break;case 2:Y11=v?1:5;break;}}}W11=1;break;}}}U11=8;break;case 3:U11=C?9:7;break;}}}catch(R){var M;M={error:R};}finally{Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:try{a21=2;for(;a21 !== 1;){switch(a21){case 2:E && !E.done && (p=D.return) && p.call(D);a21=1;break;}}}finally{b21=2;for(;b21 !== 5;){switch(b21){case 1:throw M.error;b21=5;break;case 2:b21=M?1:5;break;case 9:throw M.error;b21=7;break;b21=5;break;case 3:b21=M?3:9;break;b21=M?1:5;break;}}}Z11=1;break;}}}S11=13;break;case 13:x.data=y;S11=12;break;}}};n.prototype.b0a=function(q){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return !(m.ia(q) || m.Bb(q) || m.ia(q.Md) || m.Bb(q.Md) || m.ia(q.J) || m.Bb(q.J) || m.ia(q.priority) || m.Bb(q.priority));break;}}};n.prototype.dP=function(q,p){var e21,v;e21=2;for(;e21 !== 9;){switch(e21){case 2:var d61="medi";d61+="acach";d61+="e";var A61="mediacac";A61+="heloo";A61+="k";A61+="up";var H61="s";H61+="avet";H61+="odisk";var L61="media";L61+="ca";L61+="chest";L61+="at";L61+="s";v={type:L61,operation:q};H61 === q && (v.saveTime=p.T7a);A61 === q && (v.lookupTime=p.V7,v.dataFound=p.o4);v.oneObject=this.AF;this.Ilb && this.emit(d61,v);e21=9;break;}}};r11=14;break;case 14:n.prototype.KTb=function(q,p){var f21,v,t;f21=2;for(;f21 !== 5;){switch(f21){case 2:(v=this,t=Object.keys(q).map(function(u){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 2:return v.xxb(q[u]);break;}}}));return Promise.all(t).then(function(u){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:u.sort(function(w,x){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 2:return w.Zc === x.Zc?0:w.Zc?-1:1;break;}}});return g.xna(v.I,v.H,v.$e,u,p);break;}}});break;}}};n.prototype.xxb=function(q){var j21,p,v,t,u;j21=2;for(;j21 !== 5;){switch(j21){case 2:(p=this,u={});return new Promise(function(w,x){var k21,y;k21=2;for(;k21 !== 5;){switch(k21){case 2:p.lo.W9(k.Xq,q,function(z,A){var l21,m21,B;l21=2;for(;l21 !== 1;){switch(l21){case 2:try{m21=2;for(;m21 !== 19;){switch(m21){case 3:m21=v instanceof ArrayBuffer?9:7;break;case 5:Object.keys(A).map(function(D){var n21,o21,F,E;n21=2;for(;n21 !== 3;){switch(n21){case 1:n21=E === k.dda?5:4;break;case 5:try{o21=2;for(;o21 !== 5;){switch(o21){case 2:F=new Uint8Array(A[D]);t=JSON.parse(String.fromCharCode.apply(null,F));o21=5;break;}}}catch(C){t=A[D];}n21=3;break;case 2:E=D.substr(D.lastIndexOf(".") + 1);n21=1;break;case 4:E === k.uCa?v=A[D]:u[E]=A[D];n21=3;break;case 7:n21=E != k.dda?3:5;break;n21=E === k.dda?5:4;break;}}});m21=4;break;case 2:m21=z || void 0 === A?1:5;break;case 4:m21=g.V_a(t)?3:20;break;case 8:return x(B);break;case 10:var K61="Mi";K61+="ssing o";K61+="r invalid ";K61+="media data parts for stream ";return (B=K61 + y.Oa,x(B));break;case 20:y=g.Mma(t,{response:u.response});m21=6;break;case 12:w(y);m21=19;break;case 14:m21=g.ypa(y)?13:12;break;case 1:return x(z);break;case 13:var u61="Missing or invalid header";u61+=" data par";u61+="ts ";u61+="for ";u61+="stream ";return (B=u61 + y.Oa,x(B));break;case 6:m21=y.Zc?14:11;break;case 9:var P61="Header ";P61+="fra";P61+="gm";P61+="ents was an array buffer, is invalid type ";B=P61 + y.Oa;m21=8;break;case 11:m21=g.xpa(y)?10:12;break;case 7:y=g.Nma(t,u,v);m21=6;break;}}}catch(D){x(D);}l21=1;break;}}});k21=5;break;}}});break;}}};n.prototype.yob=function(q,p,v){var p21,t;p21=2;for(;p21 !== 5;){switch(p21){case 2:t=this;return new Promise(function(u,w){var q21,x;q21=2;for(;q21 !== 5;){switch(q21){case 2:t.lo.read(k.Xq,q,function(y,z){var r21,F,w21,Q,N,L,x21,P,S,U,da,y21,z21,A21,B21,C21,D21,C,s21,M,R,G,J,K,I,t21,u21,v21,A,B,D,E;r21=2;for(;r21 !== 4;){switch(r21){case 8:F=z[q];r21=7;break;case 3:r21=m.ia(z)?9:8;break;case 5:w(y);r21=4;break;case 17:x=g.xna(t.I,t.H,t.$e,z,p);r21=16;break;case 18:try{w21=2;for(;w21 !== 8;){switch(w21){case 1:w21=!N.done?5:8;break;case 9:N=Q.next();w21=1;break;case 2:(Q=c.__values(A),N=Q.next());w21=1;break;case 5:K=N.value;L=Object.keys(H[K]);try{x21=2;for(;x21 !== 7;){switch(x21){case 2:(P=(D=void 0,c.__values(L)),S=P.next());x21=1;break;case 1:x21=!S.done?5:7;break;case 4:x21=g.xpa(da)?3:9;break;case 5:(U=H[K][S.value],da=g.Mma(U,U));x21=4;break;case 3:var W61="Missing or invalid media data ";W61+="par";W61+="ts f";W61+="or stream ";return (M=W61 + da.Oa,w(M));break;case 9:z.push(da);x21=8;break;case 8:S=P.next();x21=1;break;}}}catch(ma){D={error:ma};}finally{y21=2;for(;y21 !== 1;){switch(y21){case 2:try{z21=2;for(;z21 !== 1;){switch(z21){case 2:S && !S.done && (E=P.return) && E.call(P);z21=1;break;}}}finally{A21=2;for(;A21 !== 5;){switch(A21){case 2:A21=D?1:5;break;case 1:throw D.error;A21=5;break;}}}y21=1;break;}}}w21=9;break;}}}catch(ma){var ka;ka={error:ma};}finally{B21=2;for(;B21 !== 1;){switch(B21){case 2:try{C21=2;for(;C21 !== 1;){switch(C21){case 2:N && !N.done && (B=Q.return) && B.call(Q);C21=1;break;}}}finally{D21=2;for(;D21 !== 5;){switch(D21){case 1:throw ka.error;D21=5;break;case 2:D21=ka?1:5;break;}}}B21=1;break;}}}r21=17;break;case 12:C=Object.keys(F.headers);r21=11;break;case 11:try{s21=2;for(;s21 !== 12;){switch(s21){case 9:return w(M);break;case 3:var U61="Header fragments was an array buffer, is invalid ty";U61+="pe";U61+=" ";M=U61 + I.streamId;s21=9;break;case 7:s21=g.ypa(R)?6:14;break;case 4:s21=I.fragments instanceof ArrayBuffer?3:8;break;case 8:R=g.Nma(I,I,I.fragments);s21=7;break;case 13:J=G.next();s21=1;break;case 1:s21=!J.done?5:12;break;case 6:var N61="Miss";N61+="ing o";N61+="r invalid header data p";N61+="arts for strea";N61+="m ";return (M=N61 + R.Oa,w(M));break;case 14:z.push(R);s21=13;break;case 2:(G=c.__values(C),J=G.next());s21=1;break;case 5:(K=J.value,I=F.headers[K]);s21=4;break;}}}catch(ma){var H;H={error:ma};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:J && !J.done && (A=G.return) && A.call(G);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 3:v21=H?0:4;break;v21=H?1:5;break;case 1:throw H.error;v21=5;break;case 2:v21=H?1:5;break;case 9:throw H.error;v21=1;break;v21=5;break;}}}t21=1;break;}}}r21=10;break;case 6:y=g.wna(F.movieEntry);z=[];r21=13;break;case 27:u(x);r21=4;break;case 13:r21=F.headers?12:10;break;case 1:r21=y?5:3;break;case 10:r21=F.data?20:17;break;case 7:r21=F.movieEntry?6:15;break;case 15:var Y61="m";Y61+="e";Y61+="diacacheloo";Y61+="k";Y61+="up";t.dP(Y61,{V7:t.oo.time.ea() - v,o4:!0});r21=27;break;case 20:H=F.data;A=Object.keys(H);r21=18;break;case 2:r21=1;break;case 9:u();r21=4;break;case 16:void 0 !== x && (x.xm=y);r21=15;break;}}});q21=5;break;}}});break;}}};n.prototype.Bmb=function(q){var E21,p;E21=2;for(;E21 !== 5;){switch(E21){case 2:var X61="Med";X61+="ia cache is not";X61+=" ";X61+="e";X61+="nabled";p=this;return this.ft?this.ft.then(function(){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:return new Promise(function(v){var G21;G21=2;for(;G21 !== 1;){switch(G21){case 2:p.lo.XX(k.Xq,q.toString(),function(t){var H21;H21=2;for(;H21 !== 1;){switch(H21){case 2:t && 0 !== t.length?1 === t.length && t[0] === q.toString()?v(!0):v(!1):v(!1);H21=1;break;}}});G21=1;break;}}});break;}}}):Promise.reject(X61);break;}}};r11=10;break;case 10:n.prototype.Vob=function(q){function v(w){var K21;K21=2;for(;K21 !== 1;){switch(K21){case 2:w.map(p);K21=1;break;}}}function p(w){var J21;J21=2;for(;J21 !== 1;){switch(J21){case 2:t.lo.delete(k.Xq,w);J21=1;break;}}}var I21,t,u;I21=2;for(;I21 !== 4;){switch(I21){case 2:(t=this,u=q.toString());this.lo.XX(k.Xq,[k.rFa,q].join("."),v);this.lo.XX(k.Xq,u,v);I21=4;break;}}};n.prototype.LXb=function(q){var L21,p;L21=2;for(;L21 !== 4;){switch(L21){case 2:var c61="mediac";c61+="a";c61+="che-error";var D61="m";D61+="ed";D61+="i";D61+="acach";D61+="e";p=new f.Uh();p.on(this.lo,D61,function(v){var M21;M21=2;for(;M21 !== 4;){switch(M21){case 2:M21=v.keys || v.items?1:5;break;case 9:M21=v.keys && v.items?2:4;break;M21=v.keys || v.items?1:5;break;case 5:var z61="me";z61+="di";z61+="aca";z61+="c";z61+="he";q.emit(z61,v);M21=4;break;case 1:v.keys || v.items.map(function(t){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 4:return t.key;break;N21=1;break;case 2:return t.key;break;}}});M21=5;break;}}});p.on(this.lo,c61,function(v){var O21;O21=2;for(;O21 !== 5;){switch(O21){case 2:var x61="medi";x61+="a";x61+="cac";x61+="he";var Q61="err";Q61+="o";Q61+="r";v.type=Q61;q.emit(x61,v);O21=5;break;}}});L21=4;break;}}};return n;break;}}})();b.RFa=a;r.wf(f.EventEmitter,a);},function(r,b,a){var c,f,l,m,d;c=a(10);l=[];d=!1;r.exports={sN:function(h,g,k){var n;if(d)c.ed(k) && (f.Bn || f.nH?setTimeout(function(){k(f);},0):l.push(k));else {d=!0;n=a(126);n.$V(h);m=new n.Console("MEDIACACHE","media|asejs");f=new (a(397))(g,function(q){q && m.warn("Failed to initialize MediaCache",q);c.ed(k) && setTimeout(function(){k(f);},0);l.map(function(p){setTimeout(function(){p(f);},0);});});}return f;},I9b:function(h,g){f=new (a(397))(h,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.ed(g) && setTimeout(function(){g(n);},0);});}};},function(r,b,a){var f,l,m,d,h;function c(g){this.jr=g;this.context=g.context;this.I3a="NULLCONTEXT" === g.context?!0:!1;}f=a(10);l=a(126);m=new l.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(g,k,n,q,p){p("MediaCache is not supported");},remove:function(g,k,n){n("MediaCache is not supported");},create:function(g,k,n,q){q("MediaCache is not supported");},append:function(g,k,n,q){q("MediaCache is not supported");},query:function(g,k,n){n([]);}};c.prototype.UF=function(){var g,k,n;g=Array.prototype.slice.call(arguments);k=g[0];n=g[g.length - 1];g=g.slice(1,g.length - 1);g.push(function(q){n(null,q);});try{if(this.I3a)throw Error("Media Cache not supported");k.apply(this.jr,g);}catch(q){n(q);}};c.prototype.query=function(g,k,n,q){try{if(this.I3a)throw Error("Media Cache not supported");this.jr.query(g,k,function(p){n(null,p);},q);}catch(p){n(p);}};c.prototype.read=function(g,k,n,q,p){this.UF(this.jr.read,g,k,n,q,p);};c.prototype.remove=function(g,k,n){this.UF(this.jr.remove,g,k,n);};c.prototype.create=function(g,k,n,q){this.UF(this.jr.create,g,k,n,q);};c.prototype.append=function(g,k,n,q){this.UF(this.jr.append,g,k,n,q);};c.prototype.info=function(g){this.UF(this.jr.info,g);};c.prototype.validate=function(g){this.UF(this.jr.validate,g);};c.prototype.flush=function(g){this.UF(this.jr.flush,g);};c.prototype.clear=function(){this.jr.clear();};r.exports={Axb:function(g){var k,n,q,p,v;k=g.e9b || "NRDMEDIADISKCACHE";h=g.CU || 0;0 !== h || f.ia(l.options) || f.ia(l.options.TN) || (h=l.options.TN);g=h;try{q=l.storage.aAb;if(!q || !f.Jh(q))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=q[k]){m.warn("Disk store exists, returning");p=new c(n);}else {if(f.ia(l.storage) || !f.ed(l.storage.aTa) || l.options && 0 === l.options.TN)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + g);v=l.storage.aTa({context:k,size:g,encrypted:!0,signed:!0});if(!v || !v.valid)throw "Failed to create disk store context";p=new c(v);}}catch(t){m.warn("Exception creating disk store context - returning NullContext (noops)",t);p=new c(d);}return p;},PEb:function(){return h;},Q3b:c};},function(r,b,a){var h,g,k,n,q,p,v,t,u;function c(){}function f(w,x,y,z,A){var B;B=h.ed(z)?z:c;this.Mv=w;this.zg=y.cw;this.ry=0;this.Nlb=y.TBb || "NONE";this.cy=h.ia(A) || h.Bb(A)?0:A;this.Ce={};this.$s=y.gac || g.storage.xR;this.Fv=x;this.sL=q.create(this.Fv,y.Cyb * this.cy,this.Mv);this.on=this.addEventListener=u.addEventListener;this.removeEventListener=u.removeEventListener;this.emit=this.Va=u.Va;this.oNa=m(this,f.Ke.REPLACE);this.nmb=m(this,f.Ke.aMa);this.NF;this.NF=y.dbb?a(875):a(876);this.Fv.query(this.$s,this.xq(""),(function(D,E){var F;if(D)B(D);else {F=this.sL.ona();D=Object.keys(E).filter(function(C){return C !== F && p.yN(C);}).map(this.qxa.bind(this));this.W9(D,(function(C,G){Object.keys(G).map((function(J){var K,I;K=G[J];this.Ce[p.h5(J)]=K;if(K.ava && 1 < Object.keys(K.ava).length){I=0;Object.keys(K.ava).forEach((function(M){E[this.xq(M)] && h.Ba(E[this.xq(M)].size) && (I+=E[this.xq(M)].size);}).bind(this));J=p.h5(J);this.Ce[J].size=I;}else (J=p.h5(J),E[this.xq(J)] && (this.Ce[J].size=E[this.xq(J)].size));}).bind(this));l(this.Fv,this.$s,this.Mv,(function(J,K){this.ry=K;J?B(J):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function l(w,x,y,z){var A;A=h.ed(z)?z:c;w.query(x,y,function(B,D){B?A(B):(B=Object.keys(D).reduce(function(E,F){return E + (D[F].size || 0);},0),A(null,B));});}function m(w,x){return function(y,z,A,B,D){return function(E,F){var C;if(E)(z || w.Va(f.Ke.Lf,{itemKey:y,error:E}),A(E));else {C={Mk:0,duration:0,items:[],time:g.time.now()};Object.keys(F.actions).map(function(G){var J;J=F.actions[G];G={key:w.qxa(J.B7),Zk:G};J.$?(C.Mk+=J.Mk,G.A7=J.Mk,h.Ba(J.duration) && (C.duration+=J.duration)):G.error=J.error;C.items.push(G);});E=h.ed(B)?B():0;0 < D && (C.fM=D - E);l(w.Fv,w.$s,w.Mv,function(G,J){G?A(G):(w.ry=J,C.xn=w.zg - J,z || w.Va(x,t.gXa(C)),A(null,C));});}};};}function d(w,x){return 0 < x && w >= x?!0:!1;}h=a(10);g=a(126);k=a(249);b=a(86);n=new g.Console("MEDIACACHE","media|asejs");q=a(871);p=a(398);v=a(127);t=a(250);u=a(399).EventEmitter;b({Ke:{aMa:"writeitem",REPLACE:"replaceitem",Jca:"journalupdate",Lf:"mediacache-error"}},f);f.prototype.WFb=function(){return this.Mv;};f.prototype.qxa=function(w){return w.slice(this.Mv.length + 1);};f.prototype.ina=function(){return Object.keys(this.Ce).filter((function(w){w=p.Fma(this.Ce[w]);return void 0 === w || 0 >= w.BSa();}).bind(this));};f.prototype.hGb=function(){return Object.keys(this.Ce).reduce((function(w,x){var y;y=this.Ce[x];return y && y.creationTime < w.creationTime?{resourceKey:x,creationTime:y.creationTime}:w;}).bind(this),{resourceKey:null,creationTime:g.time.now()}).kbc;};f.prototype.aFb=function(){var w;switch(this.Nlb){case "FIFO":w=this.hGb();}return w;};f.prototype.tzb=function(w){var x;x=h.ed(w)?w:c;this.UXa((function(y){var z,A,B;z=this.Ce;A=Object.keys(z).reduce(function(D,E){E=z[E];E.resourceIndex && Object.keys(E.resourceIndex).forEach(function(F){D.push(F);});return D;},[]);if((y=y.filter(function(D){return !p.yN(D) && 0 > A.indexOf(D);})) && 0 < y.length){B=this;y=g.Promise.all(y.map(function(D){return new g.Promise(function(E,F){B.delete(D,function(C){C?F(C):E();});});})).then(function(){x(void 0,{vua:!0});},function(D){x(D,{vua:!1});});t.Rw(y);}else w(void 0,{vua:!1});}).bind(this));};f.prototype.XTb=function(w,x,y){var z,A;z=h.ed(x)?x:c;x=this.xq(w);A=g.time.now();this.Fv.read(this.$s,x,0,-1,(function(B,D){var E;if(B)z(B);else if(D && D.$ && D.value){h.ed(y) || (y=this.NF.sV(v.Yq.yE),p.yN(w)?y=this.NF.sV(v.Yq.J0):(B=this.Ce[w],!h.ia(B) && h.Ba(B.resourceIndex[w])?(B=B.resourceIndex[w],h.ia(B) && (B=v.Yq.yE),y=this.NF.sV(B)):n.warn("Metadata is undefined or does not contain a resource format for key",w,":",B)));try{E=y(D.value);}catch(F){return z(k.eK.Tq(F.message));}D={duration:g.time.now() - A};this.Ce[w] && h.Ba(this.Ce[w].size) && (D.Iy=h.Ba(this.Ce[w].size)?this.Ce[w].size:0);z(null,E,D);}else z(k.eK.Tq(D.error));}).bind(this));};f.prototype.read=function(w,x,y){this.XTb(w,x,y);};f.prototype.W9=function(w,x,y){var z,A,B;z=h.ed(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(w))z(k.eK.Tq("item keys must be an array"));else {A={};B=[];w=g.Promise.all(w.map((function(D){return new g.Promise((function(E,F){var C;y && !h.ia(y[D]) && (C=this.NF.sV(y[D]));this.read(D,function(G,J,K){G?(J={},J[D]=G,F(J)):(A[D]=J,B.push({duration:K.duration,Iy:K.Iy}),E());},C);}).bind(this));}).bind(this))).then(function(){var D;D={};0 < B.length && (D=B.reduce(function(E,F){h.Ba(F.duration) && (E.duration+=F.duration);h.Ba(F.Iy) && (E.Iy+=F.Iy);return E;},{duration:0,Iy:0}));z(null,A,D);},function(D){z(D);});t.Rw(w);}};f.prototype.write=function(w,x,y,z,A){var B,D,E;y=h.ed(y)?y:c;B=this.xq(w);D="function" === typeof A?A():0;E=v.goa(x);E=this.NF.Pna(E)(x);E.byteLength + this.ry >= this.zg?y(k.yJ):d(E.byteLength + D,this.cy)?y(k.u1):this.sL.save(this.$s,B,x,this.nmb(w,z,y,A,this.cy),E.byteLength);};f.prototype.replace=function(w,x,y,z,A){var B,D,E,F;B=h.ed(y)?y:c;D=this.xq(w);E=0;"function" === typeof A && (E=A());y=v.goa(x);F=this.NF.Pna(y)(x);y=(this.Ce[w] || ({})).size || 0;0 >= y && this.Ce[w]?this.xYa([w],(function(C){n.trace("Replacing key",w,"which exists:",! !this.Ce[w],this.Ce[w]?this.Ce[w]:void 0,"and has size",C,"with",x,"with size",F.byteLength,"plus _used",this.ry,"vs capacity",this.zg);F.byteLength - C + this.ry >= this.zg?B(k.yJ):d(F.byteLength - C + E,this.cy)?B(k.u1):this.sL.replace(this.$s,D,x,this.oNa(w,z,B,A,this.cy),F.byteLength);}).bind(this)):(n.trace("Replacing key",w,"which exists:",! !this.Ce[w],this.Ce[w]?this.Ce[w]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.ry,"vs capacity",this.zg),F.byteLength - y + this.ry >= this.zg?B(k.yJ):d(F.byteLength - y + E,this.cy)?B(k.u1):this.sL.replace(this.$s,D,x,this.oNa(w,z,B,A,this.cy),F.byteLength));};f.prototype.eVb=function(w,x,y,z){var A;A=h.ed(x)?x:c;"[object Object]" !== Object.prototype.toString.call(w)?A(k.t1.Tq("items must be a map of keys to objects")):(x=g.Promise.all(Object.keys(w).map((function(B){return new g.Promise((function(D){this.replace(B,w[B],function(E,F){E?D({error:E,Jq:B}):D(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var D,E,F,C;try{D=Number.MAX_VALUE;E=B.reduce(function(G,J){J.error || (G.Mk+=J.Mk,h.Ba(J.duration) && (G.duration+=J.duration),!h.ia(J.xn) && J.xn < D && (D=J.xn),J.items.map(function(K){G.items.push({key:K.key,Zk:K.Zk,A7:K.A7,AMb:K.AMb,duration:K.duration});}),D < Number.MAX_VALUE && (G.xn=D));return G;},{Mk:0,items:[],time:g.time.now(),duration:0});0 < this.cy && (E.fM=this.cy - z());F=B.filter(function(G){return !h.ia(G.error);});C=t.kZa(F);y || (C?C.forEach((function(G){this.Va(f.Ke.Lf,G);}).bind(this)):this.Va(f.Ke.REPLACE,t.gXa(E)));A(C,E);}catch(G){A(G);}}).bind(this),(function(B){y || this.Va(f.Ke.Lf,B);A(B);}).bind(this)),t.Rw(x));};f.prototype.delete=function(w,x){var y;y=h.ed(x)?x:c;this.Fv.remove(this.$s,this.xq(w),(function(z,A){z?y(z):A && A.$?l(this.Fv,this.$s,this.xq(""),(function(B,D){B?y(B):(this.ry=D,y());}).bind(this)):y(k.jeb.Tq(A.error));}).bind(this));};f.prototype.UXa=function(w){this.query("",function(x,y){x?(n.error("Failed to get keys",x),w([])):w(y);});};f.prototype.query=function(w,x){var y,z;y=h.ed(x)?x:c;z=this.sL.ona();this.Fv.query(this.$s,this.xq(w),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(D){return D !== z;}).map(this.qxa.bind(this)));}).bind(this));};f.prototype.xq=function(w){return this.Mv + "." + w;};f.prototype.clear=function(w){var x;x=h.ed(w)?w:c;this.UXa((function(y){var z;z=g.Promise.all(y.map((function(A){return new g.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.Va(f.Ke.Lf,A);x([],A);}).bind(this));t.Rw(z);}).bind(this));};f.prototype.xYa=function(w,x){var y,z;y=h.ed(x)?x:c;z=(w || []).map((function(A){return this.xq(A);}).bind(this));this.Fv.query(this.$s,this.Mv,(function(A,B){A?(n.error("failed to get persisted size for keyset ",w,A),y(0)):(A=Object.keys(B).filter(function(D){return 0 <= z.indexOf(D);}).reduce(function(D,E){return D + (B[E].size || 0);},0),y(A));}).bind(this));};f.prototype.qEb=function(w){return this.sL.XWa(w);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v){var A,B;function t(D,E,F,C){D.info.call(D,(function(G,J){var K;if(G)C(G);else {try{K=J.values[this.context].entries[E][F].size;}catch(I){K=-1;}-1 < K?C(null,K):this.validate(function(I,M){I?C(I):(M[F] && (K=M[F].size),C(null,K));});}}).bind(D));}function u(D,E,F,C,G,J,K){var I;J?J.actions || (J.actions={}):J={actions:{}};A(C);I=l.time.now();C=new k(function(M,R){D.create(l.storage.xR,E,F,function(H,Q){H?R(H):M(Q);});}).then(function(M){M.$?t(D,l.storage.xR,E,function(R,H){R?K(R):(B(H),A(H),J.actions[c.h_.Jca]={$:!0,time:G,Mk:H,B7:E,q6a:M,duration:l.time.now() - I},J.xn=M.xn,K(null,J));}):(J.actions[c.h_.Jca]={$:!1,B7:E,error:M.error},K(null,J));},function(M){K(M);});h.Rw(C);}function w(D,E,F,C,G,J){C.pq(F.time,F);for(var K=F.time - 864E5,I=C.Mw();I && !isNaN(I.time) && I.time < K;){I=C.jM();A(0 - (I.fa || 0));I=C.Mw();}C=C.fp().map(function(M){return M.time + ";" + M.fa;});u(D,E,Array.prototype.join.call(C,"|"),F.fa,F.time,G,J);}function x(D,E,F,C,G,J,K,I,M){var R;R=l.time.now();D.create(F,C,G,function(H,Q){var N;if(H)g.error("Failed to replace item",C,H);else if(Q.$){N=Q.xn;t(D,F,C,function(L,P){var S,U;if(L)M(L);else {L={time:I,fa:P || 0};S={xn:N,actions:{}};U=l.time.now() - R;S.actions[c.h_.REPLACE]={$:!0,time:I,Mk:P,B7:C,q6a:Q,duration:U};J?w(D,E,L,K,S,M):(A(P),M(null,S));}});}else M(m.t1.Tq(Q.error || "Failed to create item"));});}function y(D,E,F,C,G,J,K,I,M){var R;R=l.time.now();D.append(F,C,G,function(H,Q){var N;if(H)(g.error("Failed to save item " + C,H),M(H));else if(Q.$){N=Q.xn;t(D,F,C,function(L,P){var S,U;if(L)M(L);else {L={time:I,fa:P || 0};S={xn:N,actions:{}};U=l.time.now() - R;S.actions[c.h_.rjb]={$:!0,time:I,Mk:P,B7:C,q6a:Q,duration:U};J?w(D,E,L,K,S,M):(A(P),M(null,S));}});}else M(m.t1.Tq(Q.error || "Failed to save item"));});}function z(D,E){D && f.ed(D.remove) && D.jr.valid && D.remove(l.storage.xR,E.UK,function(F,C){if(F)g.error("Failed to delete old journal key",F);else try{C && (f.ia(C.error) || C.error.some(function(G){return "NFErr_FileNotFound" === G.v9b;})) && w(D,E.UK,{time:0,fa:0},E.aT,0,function(){});}catch(G){}});}if(!q.jr.valid)return n;this.KMa=f.ia(p) || f.Bb(p)?0:p;this.Gfa=q;this.mga=this.iS=0;this.aT=new d();this.dob=v || "default";this.UK=this.dob + ".NRDCACHEJOURNALKEY";A=(function(D){isNaN(D) || (this.iS+=D);return this.iS;}).bind(this);B=(function(D){isNaN(D) || (this.mga+=D);return this.mga;}).bind(this);this.ona=function(){return this.UK;};this.save=function(D,E,F,C){var G;G=l.time.now();y(this.Gfa,this.UK,D,E,F,0 <= this.KMa,this.aT,G,C);};this.replace=function(D,E,F,C){var G;G=l.time.now();x(this.Gfa,this.UK,D,E,F,0 <= this.KMa,this.aT,G,C);};this.XWa=function(D){var E,G;E=this.iS;D-=864E5;for(var F=this.aT.fp(),C=0;C < F.length;C++){G=F[C];G.time < D && !isNaN(G.fa) && (E-=G.fa);}return E;};(function(D){var E;E=D.Gfa;D.iS=0;E.read(l.storage.xR,D.UK,0,-1,function(F,C){var G,J,K,M;G=[];J=0;K=!0;if(F)g.error("Failed to compile records",F);else if(C.$){F=String.fromCharCode.apply(null,new Uint8Array(C.value));F=String.prototype.split.call(F,"|");C=F.reduce(function(R,H){return R + (H.length + 40);},0);A(C);G=F.map(function(R){R=R.split(";");return {time:Number(R[0]),fa:Number(R[1])};});try{if(!isNaN(G.reduce(function(R,H){return R + H.fa;},0))){K=!1;for(var I=l.time.now() - 864E5;J < G.length;J++){M=G[J];M.time < I || (D.aT.pq(M.time,M),A(M.fa));}}}catch(R){}}K && z(E,D);});})(this);}f=a(10);l=a(126);m=a(249);d=a(872);b=a(86);h=a(250);g=new l.Console("DISKWRITEMANAGER","media|asejs");k=l.Promise;b({h_:{rjb:"saveitem",REPLACE:"replaceitem",Jca:"journalupdate"}},c);n={save:function(q,p,v,t){t(m.nFa);},replace:function(q,p,v,t){t(m.nFa);},ona:function(){return "";},XWa:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(q,p,v){return new c(q,p,v);},Y5b:n};},function(r){function b(f){if(!(this instanceof b))return new b(f);if("undefined" === typeof f)this.Zm=function(l,m){return l <= m;};else {if("function" !== typeof f)throw Error("heap comparator must be a function");this.Zm=f;}this.Ap=[];}function a(f,l){var m,d,h,g,k,n,q;m=f.Ap;d=f.Zm;h=2 * l + 1;g=2 * l + 2;k=m[l];n=m[h];q=m[g];n && d(n.priority,k.priority) && (!q || d(n.priority,q.priority))?(c(m,l,h),a(f,h,d)):q && d(q.priority,k.priority) && (c(m,l,g),a(f,g,d));}function c(f,l,m){var d;d=f[l];f[l]=f[m];f[m]=d;}b.prototype.clear=function(){this.Ap=[];};b.prototype.pq=function(f,l){this.Ap.push({priority:f,value:l});f=this.Ap;l=this.Zm;for(var m=f.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && l(f[m].priority,f[d].priority);){c(f,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var f;if(0 !== this.Ap.length){f=this.Ap[0];c(this.Ap,0,this.Ap.length - 1);this.Ap.pop();a(this,0);return f.value;}};b.prototype.Mw=function(){if(0 !== this.Ap.length)return this.Ap[0].value;};b.prototype.enqueue=b.prototype.pq;b.prototype.jM=b.prototype.remove;b.prototype.k7=function(){return 0 === this.Ap.length;};b.prototype.fp=function(){return this.Ap.map(function(f){return f.value;});};r.exports=b;},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.zd)return (this.zd={},this.zd[c]=[f],!0);l=this.zd[c];return void 0 === l?(this.zd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.zd?this.zd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.zd)return !1;l=this.zd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.zd[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.zd && (void 0 === c?delete this.zd:delete this.zd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,f,l,m;c=a(10);f=a(127);l={};l[f.Yq.yE]=function(d){return d;};l[f.Yq.d1]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};l[f.Yq.J0]=function(d){var h;h=d || new ArrayBuffer(0);d="";h=new Uint8Array(h);for(var g=0;g < h.byteLength;g++){d+=String.fromCharCode(h[g]);}return JSON.parse(d);};m={};m[f.Yq.yE]=function(d){return d;};m[f.Yq.d1]=function(d){for(var h=new ArrayBuffer(d.length),g=new Uint8Array(h),k=0,n=d.length;k < n;k++){g[k]=d.charCodeAt(k);}return h;};m[f.Yq.J0]=function(d){return c.ia(d) || c.Bb(d)?d:m[f.Yq.d1](JSON.stringify(d));};r.exports={sV:function(d){return l[d] || l[f.Yq.yE];},Pna:function(d){return m[d] || m[f.Yq.yE];}};},function(r,b,a){function c(l){return l;}function f(){return c;}a(10);r.exports={sV:f,Pna:f};},function(r,b,a){var l;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function f(m,d){var h,g,k;h=[];if(l.Jh(d)){g={};k={};k[m]=g;h.push(k);h=Object.keys(d).reduce(function(n,q){var p,v,t;p=d[q];v={};if(l.g7(p)){t=m + ".__embed__." + q;v[t]=p;n.push(v);}else l.Jh(p)?(t=m + ".__sub__." + q,p=f(t,p),g[q]=p[0][t],n=n.concat(p.slice(1))):g[q]=p;return n;},h);}else (k={},k[m]=d,h.push(k));return h;}l=a(127);r.exports={$zb:f,KJb:function(m){var d,h,g,t;d=Object.keys(m).map(function(u){return u.split(".");});d.sort(c);h=d[0];g=h.length;h=m[h.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,q=!1,p=h,v=g;v < d[k].length;v++){t=d[k][v];switch(t){case "__metadata__":break;case "__sub__":q=!0;break;case "__embed__":n=!0;break;default:q?(p=p[t],q=!1):n && (p[t]=m[d[k].join(".")],n=!1);}}}return h;},rKb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(h,g,k){Object.keys(h).forEach(function(n){var q,p;if(m.Jh(h[n]))if(h[n].g7){q=h[n];p=k + q.offset;h[n]=g.slice(p,p + q.byteLength);}else h[n]=c(h[n],g,k);});return h;}function f(h,g,k){Object.keys(h).forEach(function(n){var q;if(m.g7(h[n])){q=h[n];g.push(q);h[n]={g7:!0,offset:k.uka,byteLength:q.byteLength};k.uka+=q.byteLength;}else m.Jh(h[n]) && f(h[n],g,k);});return h;}function l(){var h,g,k;h=Array.prototype.concat.apply([],arguments);g=h.reduce(function(n,q){return n + q.byteLength;},0);k=new Uint8Array(g);h.reduce(function(n,q){k.set(new Uint8Array(q),n);return n + q.byteLength;},0);return k.buffer;}m=a(127);d=a(86);r.exports={Fvb:function(h){var g,k,n;g=d(h,{});h=[];g=f(g,h,{uka:0});g=JSON.stringify(g);k=new ArrayBuffer(g.length + 4);n=new DataView(k);n.setUint32(0,g.length);for(var q=4,p=0,v=g.length;p < v;p++){n.setUint8(q,g.charCodeAt(p));q++;}h=[k].concat(h);return l.apply(null,h);},Evb:function(h){for(var g=new DataView(h,0,4).getInt32(0),k=new Uint8Array(h,4,g),n="",q=0;q < k.byteLength;q++){n+=String.fromCharCode(k[q]);}g=4 + g;n=JSON.parse(n);return c(n,h,g);}};},function(r,b,a){var f,l,m,d,h;function c(g){return {mediaType:g.mediaType,streamId:g.Oa,movieId:g.J,bitrate:g.bitrate,location:g.location,serverId:g.Ld,saveToDisk:!0,offset:g.offset,bytes:g.fa,timescale:g.S,frameDuration:g.stream.qa && g.stream.qa.oc,encrypted:g.Rk,initSegments:1 < g.Vg.length?g.Vg.map(function(k){return {fi:k.Pd,s:k.data.byteLength,e:! !k.Rk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.xpa=b.ypa=b.V_a=b.mYa=b.MXa=b.OXa=b.tna=b.xna=b.wna=b.Mma=b.Nma=b.mFa=void 0;f=a(2).__importStar(a(10));l=a(880);m=a(375);d=a(9);h=a(22);b.mFa={rFa:"movieEntry",Cfb:"header",dda:"metadata",bgb:"headerData",R4b:"headerMetadata",tfb:"sizes",sfb:"durations",uCa:"fragments",hhb:"response",Xq:"billboard",ME:{lifespan:259200}};b.Nma=function(g,k,n){var q,p;q=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (p={gl:n.startTicks,offset:n.offset,S:n.timescale,sizes:new Uint32Array(k.sizes),sd:new Uint32Array(k.durations)});return {Zc:!0,mediaType:g.mediaType,J:g.movieId,Oa:g.streamId,bitrate:g.bitrate,location:g.location,Ld:g.serverId,fa:g.bytes,offset:g.offset,zoa:q,T6:g.initSegments,Rk:g.encrypted,S:g.timescale,qa:g.frameDuration,Oh:g.saveToDisk,U:p};};b.Mma=function(g,k){var n,q,p;k=k.response;n=g.startTicks;q=g.durationTicks;void 0 !== n && void 0 !== q && (p=n + q);return {Zc:!1,mediaType:g.mediaType,J:g.movieId,Oa:g.streamId,bitrate:g.bitrate,location:g.location,Ld:g.serverId,fa:g.bytes,offset:g.offset,response:k,S:g.timescale,Wa:g.startTicks,Kt:q,Oh:g.saveToDisk,ob:p};};b.wna=function(g){return {priority:g.priority,J:g.movieId,headers:{},mN:0,oU:0,JZa:0,Oh:g.saveToDisk,Md:g.stats,pw:g.firstSelectedStreamBitrate,Iz:g.initSelectionReason,YC:g.histDiscountedThroughputValue,Ko:g.histTdigest,Jo:g.histAge,uo:void 0};};b.xna=function(g,k,n,q,p){var v,t;v={headers:{},data:{}};q.forEach(function(u){var w,x,A;w=u.mediaType;w=p && p.tw(w,u.Oa);x=[];if(u.Zc)if(!Array.isArray(u.T6) || 2 > u.T6.length)x.push({Pd:0,data:u.zoa});else for(var y=0,z=0;z < u.T6.length;++z){A=u.T6[z];x.push({Pd:A.fi,data:u.zoa.slice(y,y + A.s),Rk:A.e});y+=A.s;}w?(u.U && w.e9(x,u.S,u.qa?new h.T(u.qa,u.S):void 0,u.U),u.Zc && w && w.he?(void 0 === v.headers && (v.headers={}),v.headers[u.Oa]=new m.u_(w,{fa:u.fa,offset:u.offset,Vg:x,Rk:u.Rk},k)):u.response instanceof ArrayBuffer && void 0 !== w.U && void 0 !== u.Wa && void 0 !== u.S && void 0 !== u.ob && (x=w.U.m5(new h.T(u.Wa,u.S).W),void 0 !== x && (w=new l.Iya(w,{S:u.S,Wa:u.Wa,ob:u.ob,index:x.index,offset:u.offset,fa:u.fa},u.response,n,g,k),void 0 === v.data && (v.data={}),v.data[u.Oa] || (v.data[u.Oa]=[]),v.data[u.Oa].push(w)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + u.Oa + " movieId: " + u.J);});if(!f.ia(v.data)){t=v.data;Object.keys(t).forEach(function(u){t[u].sort(function(w,x){return w.Wa - x.Wa;});});}return v;};b.tna=function(g){return {mediaType:g.mediaType,streamId:g.Oa,movieId:g.J,bitrate:g.bitrate,location:g.location,serverId:g.Ld,saveToDisk:!0,offset:g.offset,bytes:g.fa,timescale:g.S,startTicks:g.Wa,durationTicks:g.Kt};};b.OXa=c;b.MXa=function(g){var k,n,q,p;k=c(g);if(g.stream.he && g.stream && g.stream.U){n={timescale:g.stream.U.S,startTicks:g.stream.U.gl,offset:g.stream.U.Rd(0)};q=g.stream.U.$w;p=q.sizes.buffer;q=q.sd.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:d.wC(g.Vg.map(function(v){return v.data;})),initSegments:k.initSegments,encrypted:g.Rk,fragments:n,sizes:p,durations:q};};b.mYa=function(g){return {priority:g.priority,movieId:g.J,saveToDisk:g.Oh,firstSelectedStreamBitrate:g.pw,initSelectionReason:g.Iz,histDiscountedThroughputValue:g.YC,histTdigest:g.Ko,histAge:g.Jo};};b.V_a=function(g){return !f.has(g,"startTicks");};b.ypa=function(g){return !g.zoa || !g.S || !g.U || void 0 === g.U.gl || void 0 === g.U.offset || void 0 === g.U.sd || !g.U.sd.length || void 0 === g.U.sizes || !g.U.sizes.length;};b.xpa=function(g){return void 0 === g.fa || void 0 === g.offset || void 0 === g.S || void 0 === g.Wa || void 0 === g.Kt;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Iya=void 0;c=a(2);f=a(9);r=a(42);l=a(101);a=(function(m){function d(h,g,k,n,q,p){n=m.call(this,h,g,n,q,p) || this;g.fa=k.byteLength;l.Om.xb(n,h,g);n.gL=k;n.Xkb=g.fa;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{Zc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ju:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.gL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pMb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DM:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rua:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Xkb;},enumerable:!1,configurable:!0}});d.prototype.hu=function(){return !0;};d.prototype.bG=function(h){this.df=h.appendBuffer(this.response,f.uq(this));return {$:this.df};};d.prototype.ii=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.cd=function(){};d.prototype.aaa=function(){return !1;};return d;})(a(234).vJ);b.Iya=a;r.wf(l.Om,a);},function(r,b,a){var c,f,l,m,d,h,g,k,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.oKa=void 0;c=a(2);r=a(17);f=a(67);l=c.__importDefault(a(6));m=a(16);d=a(251);h=a(9);g=a(5);k=a(947);n=a(354);q=new l.default.Console("ASEJS","media|asejs");q.trace.bind(q);r=(function(p){var P21;P21=2;for(;P21 !== 17;){switch(P21){case 5:Object.defineProperties(v.prototype,{Fn:{get:function(){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 4:return this.Ka.Fn;break;S21=1;break;case 2:return this.Ka.Fn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kh:{get:function(){var T21;T21=2;for(;T21 !== 1;){switch(T21){case 2:return this.Ka.Kh;break;}}},enumerable:!1,configurable:!0}});v.prototype.xb=function(t,u,w,x,y,z,A,B){var U21;U21=2;for(;U21 !== 5;){switch(U21){case 2:this.Ka.Nva({audio:t,video:u,oia:A,bya:B},{W:x,fa:y});this.Ka.open(this.config,this.jE);U21=5;break;}}};v.prototype.OY=function(t,u,w){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:this.Ka.Nva({total:t},{W:u,fa:w});V21=1;break;}}};P21=8;break;case 2:c.__extends(v,p);Object.defineProperties(v.prototype,{Ob:{get:function(){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 4:return this.Ka.Ob;break;R21=1;break;case 2:return this.Ka.Ob;break;}}},enumerable:!1,configurable:!0}});P21=5;break;case 8:v.prototype.createSession=function(t,u,w,x,y,z,A,B,D,E){var W21,C,F;W21=2;for(;W21 !== 19;){switch(W21){case 13:var E61="endPts";E61+=" is no";E61+="t s";E61+="up";E61+="ported";E[1] && C.push(this.HV(F,E[1].Ca,w,D));g.assert(void 0 === x.Ha,E61);this.M7=new k.pKa(this.console,this,t,E,u,C,x,y,z,A,B);B.wr || B.NH || this.Jy();W21=20;break;case 8:E=this.$xb(F,t,B.B5a,B,y,E || v.jzb,x);C=E[0];D=C.Ca.Aa[C.Ca.Qe].xc;C=[this.HV(F,C.Ca,w,D)];W21=13;break;case 20:return this.M7;break;case 2:var C61="cr";C61+="eat";C61+="i";C61+="ng s";C61+="ession";this.console.trace(C61);this.Ka.Ob.reset();F=Number(t.movieId);D=this.q6(F,y.ba);this.KA[D]={hja:function(){},ba:y.ba,equals:function(G){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return G.Z === F && (y.ba === G.ba || !G.ba || !y.ba);break;}}},Nt:!1,fv:Promise.resolve({oa:t,di:! !x.di,Ad:m.p8(! !x.ET,! !x.pE),config:B}),Z:F};B.hz && this.Ka.YD(this.KA[D],{ds:y.ds,ba:y.ba,DC:y.DC});W21=8;break;}}};v.prototype.HV=function(t,u,w,x){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:var r61="invalid ";r61+="sta";r61+="rt position ";r61+="relative to playgraph";return u.Aa[u.Qe].xc === x?(t=n.cka(u,t,h.T.Fb(w)),g.assert(t,r61),t):{wa:u.Qe,offset:h.T.Gb};break;}}};v.prototype.ix=function(t,u,w){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:return c.__awaiter(this,void 0,void 0,function(){var a31,x,y,z,A;a31=2;for(;a31 !== 5;){switch(a31){case 2:return c.__generator(this,function(B){var b31,c31;b31=2;for(;b31 !== 3;){switch(b31){case 4:return (B.$c(),[2]);break;case 2:c31=B.label;b31=c31 === 0?1:9;break;case 1:var G61="Can not upda";G61+="te";G61+=" viewabl";G61+="e. Viewable not";G61+=" found ";return (x=this.zn.bind(this,w.ba),y=this.q6(t,w.ba),z=x(t),g.assert(void 0 !== z,G61 + y),[4,z.fv]);break;case 8:b31=c31 === 2?4:3;break;case 5:return (A=B.$c(),this.KA[y]={hja:function(){},ba:w.ba,equals:function(D){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:return D.Z === t && (w.ba === D.ba || !D.ba || !w.ba);break;}}},Nt:!1,fv:Promise.resolve({oa:u,di:A.di,Ad:A.Ad,config:A.config}),Z:t},[4,this.Ka.ix(this.KA[y])]);break;case 9:b31=c31 === 1?5:8;break;}}});break;}}});break;}}};v.prototype.$xb=function(t,u,w,x,y,z,A){var e31,B,D,E,F,C,G;e31=2;for(;e31 !== 7;){switch(e31){case 4:e31=D && D.hRb?3:8;break;case 2:var O71="vi";O71+="de";O71+="o";var h71="aud";h71+="i";h71+="o";var y71="au";y71+="d";y71+="i";y71+="o";var R71="v";R71+="i";R71+="d";R71+="eo";var m61="Generate";m61+="d playgraph f";m61+="rom c";m61+="hoicemap.";(B=this,D=u.choiceMap);D?(t=f.tC(D,{config:x}),this.console.trace(m61)):t=f.II(t,z,A.ET || A.pE?A.pE?[R71]:[y71]:[h71,O71]);(E=Object.create(x,{gz:{value:y.DC},iDb:{value:y.DL}}),F=this.zn.bind(this,y.ba),C=[this.Ka.YF(t,w,E,{zn:F})]);e31=4;break;case 3:G=D.hRb;e31=9;break;case 8:return C;break;case 9:Object.keys(G).forEach(function(J,K){var f31;f31=2;for(;f31 !== 9;){switch(f31){case 2:var J71="Curre";J71+="ntly parallel graph can only be";J71+=" media type [au";J71+="di";J71+="o]";var T71="a";T71+="u";T71+="di";T71+="o";var e71="Currently onl";e71+="y one paralle";e71+="l graph is supported";a000.Q2J(24);g.assert(a000.z2J(0,K),e71);K=G[J];g.assert(K.Ad && 1 === K.Ad.length && T71 === K.Ad[0],J71);J=f.tC(D,c.__assign(c.__assign({},G[J]),{config:x}));C.push(B.Ka.YF(J,w,E,{zn:F}));f31=9;break;}}});e31=8;break;}}};v.prototype.Fub=function(){var g31;g31=2;for(;g31 !== 1;){switch(g31){case 2:this.Ob.hP(null);g31=1;break;}}};P21=12;break;case 18:return v;break;case 12:v.prototype.zn=function(t,u){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 2:return this.KA[this.q6(u,t)];break;}}};P21=11;break;case 11:var I71="s";I71+="0";v.prototype.YUb=function(t){var i31,u,w;i31=2;for(;i31 !== 13;){switch(i31){case 7:t === this.M7 && delete this.M7;this.Ka.Fua(this.KA[u]);delete this.KA[u];i31=13;break;case 3:t.Fa && this.Ka.HO(t.Fa);t.Hg && this.Ka.Pu(t.Hg);t.tj && this.Ka.HO(t.tj);i31=7;break;case 2:this.Fub();(u=this.q6(t.Z,t.ba),w=this.KA[u]);w && (w.Nt=!0);this.Ka.Pu(t.pa);i31=3;break;}}};v.prototype.Mb=function(){var j31;j31=2;for(;j31 !== 9;){switch(j31){case 2:var F71="Attempt to destruc";F71+="t Sh";F71+="imMan";F71+="ager with latest";F71+=" session still defined";var q71="Attempted to destruct S";q71+="himManag";q71+="er with session conf";q71+="ig ";q71+="active";var B71="At";B71+="tempt";B71+="ed to destruct ";B71+="ShimManager wi";B71+="th players present in ASE";var t71="Attempted to de";t71+="struct ShimMana";t71+="ger with playgraphs present in A";t71+="SE";g.assert(0 === this.Ka.LD.length,t71);g.assert(0 === this.Ka.A5a.length,B71);g.assert(0 === Object.keys(this.KA).length,q71);g.assert(void 0 === this.M7,F71);this.Ka.close();j31=9;break;}}};v.prototype.q6=function(t,u){var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:a000.Q2J(5);return a000.c2J("-",t,u);break;}}};v.jzb=I71;P21=18;break;}}function v(t,u,w,x){var Q21,y;Q21=2;for(;Q21 !== 11;){switch(Q21){case 2:y=p.call(this) || this;y.config=t;y.Jy=u;y.Kp=w;y.jE=x;y.KA={};t=a(400);Q21=7;break;case 7:var V71="DE";V71+="B";V71+="UG:";var p71="nf-ase";p71+=" s";p71+="him ver";p71+="s";p71+="ion:";y.console=q;y.console.trace(p71,t,V71,!1);y.Ka=d.YG();Q21=13;break;case 13:var l71="1SIYbZ";l71+="rN";l71+="JCp9";l71;Q21=12;break;case 12:return y;break;}}}})(r.EventEmitter);b.oKa=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q;Object.defineProperties(b,{__esModule:{value:!0}});b.xya=void 0;c=a(2);f=a(17);l=a(352);m=a(222);d=a(883);h=a(218);g=a(16);a(212);k=a(884);n=a(403);q=a(918);p=a(396);v=a(25);t=a(5);u=a(381);w=a(919);x=a(920);y=a(921);z=a(117);A=a(253);B=a(922);D=a(72);E=a(252);F=a(9);C=c.__importDefault(a(6));G=a(923);J=a(924);K=a(925);I=a(926);M=a(54);R=a(409);H=a(937);Q=a(938);r=(function(){function N(L){this.H=L;this.events=new f.EventEmitter();this.Yc=l.Ns.CLOSED;this.Tv=[];this.RY=[];this.TS=[];this.Bp=[];this.wMa={};this.E2={};this.Kwa=l.hQ.default;this.spb=new z.FB({vu:this,source:"engine",uD:10,console:L});}Object.defineProperties(N.prototype,{Fu:{get:function(){t.assert(this.ky);return this.ky;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{state:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{A5a:{get:function(){return this.TS;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{LD:{get:function(){return this.Bp.map(function(L){return L.Ca;});},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{oSb:{get:function(){return this.Bp;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Ob:{get:function(){this.YI();return this.Qy.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Fn:{get:function(){this.YI();return this.Qy.Fn;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Kh:{get:function(){this.YI();return this.Qy.Kh;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{U1b:{get:function(){return this.Tv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{C3:{get:function(){return this.wMa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{KI:{get:function(){return this.E2;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{VNb:{get:function(){return this.SNa || (this.SNa=this.mtb());},enumerable:!1,configurable:!0}});N.prototype.open=function(L,P,S,U){var da;da=this;if(this.Yc === l.Ns.OPEN)return !1;this.I=L;this.Ks=new D.VR(new E.i1({Xk:!0,currentTime:function(){return F.T.Fb(C.default.time.ea());},speed:1}),this.H,"Engine Scheduler");this.mNa=new d.MCa(this.H,L);this.XB=new q.NJa(this.z7.bind(this),L);this.Qy=h.BJ.vYa(L,P);this.Yc=l.Ns.OPEN;L=Object.create(L,{Uqb:{value:L.NH || L.wr}});this.ky=R.CV(L);S && this.ky.pXb(S);U && this.ky.Uva(U);this.C5a=new H.XIa({Nk:function(){da.Yc !== l.Ns.CLOSED && da.XB.Nk("playgraphOpportunity");}});this.TNa=new K.gGa(function(){return da.c6();},function(){return da.d6().global;},this.H);this.fyb();return !0;};N.prototype.YF=function(L,P,S,U,da){var ka,ma,X;ka=this;void 0 === da && (da=!0);this.YI();ma=Object.create(S,{nP:{value:this.KI}});if(da && (S=this.Fu.wub(L,ma)))return (S.Pab(P),S);L=[L,P,ma,N.WOb++,this.Ob,this.SO.bind(this,U),function(ua,ya){var O,T;T=U.zn(ua);ua=null === (O=v.hg(ka.Tv,function(ja){return ja.VL.equals(T);})) || void 0 === O?void 0:O.P;return null === ua || void 0 === ua?void 0:ua.vn(ma,ya);},function(ua){return ka.XB.Nk(ua);},da?this.Fu.vub.bind(this.Fu):function(){},this.c6.bind(this)];if(this.I.sla){P=a(939);X=P.$Sa.apply(P,c.__spread([{}],L));}else X=new (n.w_.bind.apply(n.w_,c.__spread([void 0],L)))();X.Gi(new x.EKa(X));X.Gi(new y.YKa(X.Bu));X.q1a.Gi(new I.Vya(X));this.ny.KO.forEach(function(ua){return X.Gi(ua);});this.C5a.YF(X);L=new f.Uh();L.on(X.events,"requestsPruned",this.wVb.bind(this));L.on(X.events,"weightUpdated",this.Msa.bind(this));L.on(X.events,"underflow",this.sk.bind(this,X));this.Bp.push({Ca:X,Wg:L,gY:0});this.Msa();return X;};N.prototype.sk=function(L){L=this.TNa.vDb(L);(null === L || void 0 === L?0:L.D4) || this.Fu.reset();};N.prototype.Pu=function(L){this.C5a.Pu(L);this.Bp=this.Bp.filter(function(P){return P.Ca === L?(P.Wg.clear(),!1):!0;});L.Mb();this.Msa();};N.prototype.DPa=function(L,P){var S,U,da;this.YI();da=P.Ad;L=new k.Qya(L,void 0 === da?[0,1]:da,c.__assign({nP:null !== (U=null !== (S=P.nP) && void 0 !== S?S:this.E2) && void 0 !== U?U:{}},P));this.TS.push(L);return L;};N.prototype.HO=function(L){this.YI();this.TS=this.TS.filter(function(P){return P !== L;});L.Mb();};N.prototype.Nva=function(L,P){this.wMa=L;this.E2=P;this.SNa=void 0;};N.prototype.YD=function(L,P){var S,U;U=null === (S=v.hg(this.Tv,function(da){return da.VL.equals(L);})) || void 0 === S?void 0:S.P;U?U.YD(c.__assign(c.__assign({},P),{Hn:this.gsa.bind(this)})):this.RY.push({vbb:L,g9a:P});};N.prototype.Fua=function(L){this.RY=this.RY.filter(function(P){return !P.vbb.equals(L);});};N.prototype.close=function(){this.Yc !== l.Ns.CLOSED && (this.NUb(),t.assert(0 === this.Tv.length,"Unexpected viewable lease after Playgraph destruction."),this.MUb(),this.RY=[],delete this.Qy,this.Yc=l.Ns.CLOSED,this.Ks.Mb());};N.prototype.xXb=function(L){this.Kwa=L;this.XB.Nk("streamingModeChanged");};N.prototype.Fo=function(){return this.ny.Fo();};N.prototype.fyb=function(){this.ny=new M.tea(this.I);this.ny.Gi(new G.eCa(this));this.ny.Gi(new B.PJa(this.Ob,this.XB));this.ny.Gi(new w.aCa(this.Ob));this.ny.Gi(new A.EB(this.spb));this.ny.Gi(new A.EB(this.XB.sq));this.ny.Gi(new A.EB(this.mNa.vi));this.ny.Gi(new A.EB(this.TNa.vi));};N.prototype.gsa=function(){};N.prototype.ix=function(L){return c.__awaiter(this,void 0,void 0,function(){var P,S,U,da;return c.__generator(this,function(ka){switch(ka.label){case 0:return (t.assert(L,"ase.updateViewable(): Viewable config not found."),P=v.hg(this.Tv,function(ma){return !0 !== ma.VL.Nt && ma.VL.equals(L);}),t.assert(P,"ase.updateViewable(): Viewable entry not found."),[4,P.qE]);case 1:return (S=ka.$c(),da=(U=S).ix,[4,L.fv]);case 2:return (da.apply(U,[ka.$c()]),[2]);}});});};N.prototype.SO=function(L,P){var S,U,da;S=this;U=L.zn(P);t.assert(U,"ase.requestViewable(): Viewable config not found.");da=v.hg(this.Tv,function(ka){return !0 !== ka.VL.Nt && ka.VL.equals(U);});da || (da={VL:U,qE:(function(){return c.__awaiter(S,void 0,void 0,function(){var ka,ma;return c.__generator(this,function(X){switch(X.label){case 0:return [4,U.fv];case 1:return (ka=X.$c(),ma=this.mU(P,U,ka),da.P=ma,[2,ma]);}});});})(),P:void 0,FLb:new u.vEa(function(ka){ka() && S.Y6a(da);},F.vq(C.default,this.H,"" + P))},this.Tv.push(da));return {get P() {return null === da || void 0 === da?void 0:da.P;},qE:da.qE,N7:da.FLb.ty()};};N.prototype.Y6a=function(L){var P,S;t.assert(L,"expected viewableEntry to exist");P=L.P;S=L.qE;P?P.Mb():S.then(function(U){U.Mb();});this.Tv=this.Tv.filter(function(U){return U !== L;});};N.prototype.mU=function(L,P,S){var da,ka,ma,X,ua,ya;function U(O){da.events.emit("logdata",O);}da=this;this.YI();ma=S.oa;X=S.di;ua=S.Ad;ua=void 0 === ua?g.yf:ua;S=S.config;ya=[new p.lda(0),new p.lda(1)];ma={oa:ma,config:S,di:X,Ad:ua,C5:void 0,Ob:this.Qy.Ob,Kh:this.Qy.Kh,wVa:{Pr:function(){return da.XB.Nk("networkFailureReset");},Mh:this.Mh.bind(this,L),Cn:this.Cn.bind(this,L),In:U},IZa:{In:U,GV:void 0,OC:function(O){return ya[O];},i7:function(){return !0;},Ff:void 0,Ml:void 0,oh:void 0,XC:void 0},RO:{wy:this.wy.bind(this),mI:this.mI.bind(this)},KI:this.E2,Nb:0,Vo:void 0,A2a:{upa:!1,k0a:!1},gX:function(){}};L=new m.wba(L,ma);S.hz && (ma=(null === (ka=v.hg(this.RY,function(O){return O.vbb.equals(P);})) || void 0 === ka?void 0:ka.g9a) || ({}),this.Fua(P),L.YD(c.__assign(c.__assign({},ma),{Hn:this.gsa.bind(this)})));return L;};N.prototype.z7=function(){var L,P;t.assert(this.state === l.Ns.OPEN);L=this.d6();P=this.eN();return this.mNa.j4a(L,P);};N.prototype.eN=function(){var L,P,S;L=this;S=null !== (P=this.I.NSb) && void 0 !== P?P:this.Bp.every(function(U){return !U.Ca.B6;});P=v.flatten(this.Bp.map(function(U){return U.Ca.eN().map(function(da){U.Ca.B6 || 1 === U.gY || (da.cH=U.gY);return da;});}));this.Kwa === l.hQ.disabled?P=[]:this.Kwa === l.hQ.HMb && (P=P.filter(function(U){return L.I.cra >= U.Cs - U.Er;}));S || (S=P.filter(function(U){var da;return 1 === (null !== (da=U.cH) && void 0 !== da?da:1);}),S.length && (P=S));S=this.Tv.reduce(function(U,da){return da.P?c.__spread(U,da.P.eN()):U;},[]);return v.flatten(c.__spread(P,S));};N.prototype.YI=function(){if(this.Yc === l.Ns.CLOSED)throw Error("Engine CLOSED");};N.prototype.NUb=function(){var L,U;try{for(var P=c.__values(this.Bp),S=P.next();!S.done;S=P.next()){U=S.value;U.Wg.clear();this.Pu(U.Ca);}}catch(ka){var da;da={error:ka};}finally{try{S && !S.done && (L=P.return) && L.call(P);}finally{if(da)throw da.error;}}};N.prototype.MUb=function(){var L;try{for(var P=c.__values(this.TS),S=P.next();!S.done;S=P.next()){this.HO(S.value);}}catch(da){var U;U={error:da};}finally{try{S && !S.done && (L=P.return) && L.call(P);}finally{if(U)throw U.error;}}};N.prototype.Mh=function(L,P,S,U,da,ka,ma){var X;void 0 === ma && (ma=!1);X=!1;this.CYa(L).forEach(function(ua){if(!ma || g.Lo(ua.Bf.value))(ua.Mh(P,L,S,U,da,ka,ma),X=!0);});return X;};N.prototype.Cn=function(L){return this.CYa(L).some(function(P){return P.Cn();});};N.prototype.CYa=function(L){return this.Bp.filter(function(P){P=P.Ca.Ca;return "" + L === "" + P.Aa[P.Qe].Z;}).map(function(P){return P.Ca;});};N.prototype.d6=function(){var L;L=new J.JCa();this.Bp.forEach(function(P){var S,U;S=P.Ca;P=P.gY;U=S.d6();U.cH=P;L.add(S.id,U);});return L;};N.prototype.c6=function(){return this.VNb;};N.prototype.mtb=function(){var L,P;P=Q.DRa(this.I,this.C3);return {total:(L={},L[1]=this.C3.video || Infinity,L[0]=this.C3.audio || Infinity,L.total=this.C3.total || Infinity,L),Awa:P};};N.prototype.wy=function(L){this.XB.wy(L);};N.prototype.mI=function(L){this.XB.mI(L);};N.prototype.Msa=function(){var L;L=this.LD.reduce(function(P,S){return Math.max(S.weight,0) + P;},0);this.Bp.forEach(function(P){P.gY=0 >= P.Ca.weight?0:P.Ca.weight / L;});};N.prototype.wVb=function(){};N.WOb=0;c.__decorate([z.Zb({methodName:"open"})],N.prototype,"open",null);c.__decorate([z.Zb({methodName:"addPlaygraph",context:function(L){var P,S;return {playgraphCount:null !== (S=null === (P=L.Z3a.Bp) || void 0 === P?void 0:P.length) && void 0 !== S?S:0};}})],N.prototype,"YF",null);c.__decorate([z.Zb({methodName:"removePlaygraph",context:function(L){return {playgraphCount:L.Z3a.Bp.length};}})],N.prototype,"Pu",null);c.__decorate([z.Zb({methodName:"close"})],N.prototype,"close",null);c.__decorate([z.Zb({methodName:"setStreamingMode",xr:!0})],N.prototype,"xXb",null);c.__decorate([z.Zb({methodName:"notifyAseException",xr:!0})],N.prototype,"gsa",null);c.__decorate([z.Zb({methodName:"updateViewable"})],N.prototype,"ix",null);c.__decorate([z.Zb({methodName:"requestViewable"})],N.prototype,"SO",null);c.__decorate([z.Zb({methodName:"removeViewable"})],N.prototype,"Y6a",null);c.__decorate([z.Zb({methodName:"createViewable"})],N.prototype,"mU",null);c.__decorate([z.Zb({methodName:"issueRequestOpportunity",lm:!0,return:!0})],N.prototype,"z7",null);c.__decorate([z.Zb({methodName:"reportStreamingFailure",xr:!0})],N.prototype,"Mh",null);return N;})();b.xya=r;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q){return n.filter(function(p){return p.groupId === q.groupId;}).reduce(m.U2a(function(p){return p.qA;}),q).qA;}Object.defineProperties(b,{__esModule:{value:!0}});b.MCa=void 0;f=a(2);l=a(212);m=a(25);d=a(16);h=a(117);g=f.__importDefault(a(6));k=a(401);r=(function(){function n(q,p){this.H=q;this.config=p;this.V0a=0;this.vi=new h.FB({uD:10,vu:this,source:"GraphStreamingProcess"});}n.prototype.j4a=function(q,p){var v,t,u,w,x,y,z,A,E,F,C,G,J;u=!1;w=[];if(0 < p.length){x=this.uYb(p);y=x.some(function(I){return 1 === k.FRa(I) && d.Lo(I.Bf);});z=x.slice();A=[!1,!1];try{for(var B=f.__values(x),D=B.next();!D.done;D=B.next()){E=D.value;if(E.iD && "global" !== A[E.mediaType]){F=E.x0a(q,null !== (t=E.cH) && void 0 !== t?t:1);C=l.y6a(F.reason);C && (A[E.mediaType]=C,m.sQa(z,E));if(F.result){G=c(z,E);if(this.jub(E,y,G)){J=E.B0a();this.Cqa(w,E,J.reason);J.Dn && (this.V0a=g.default.time.ea());if(u=J.Dn)break;}else if((this.Cqa(w,E,"concurrencyCheck"),!C))break;}else this.Cqa(w,E,F.reason);}}}catch(I){var K;K={error:I};}finally{try{D && !D.done && (v=B.return) && v.call(B);}finally{if(K)throw K.error;}}}this.vi.uy({streamableCount:p.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.V0a});return u;};n.prototype.uYb=function(q){return this.hTb(q).sort(function(p,v){return p.priority - v.priority;}).map(function(p){return p.WYb;});};n.prototype.hTb=function(q){var p;p=this;return q.map(function(v){return {priority:-k.ERa(p.config,v,p.H),WYb:v};});};n.prototype.Cqa=function(q,p,v){this.vi.enabled && q.push(this.cHb(v,p));};n.prototype.cHb=function(q,p){return {mediaType:p.mediaType,reason:q,bufferingState:p.Bf,currentPlayerMs:p.Er,pathCompletePlayerMs:p.qA,streamingPlayerMs:p.Cs};};n.prototype.jub=function(q,p,v){return this.config.TT && (p || d.Lo(q.Bf))?this.kub(q,v):this.lub(q,v);};n.prototype.mub=function(q){return q.Cs <= q.qA;};n.prototype.lub=function(q,p){return q.Cs - (q.Er > p?q.Er:p) <= Math.max(this.config.Ira,Math.min((q.qA - q.Er) * this.config.Hwa,this.config.xNb));};n.prototype.kub=function(q,p){var v,t;if(void 0 === this.config.TT)return !0;v=this.config.TT;t=q.Er + v;return q.Cs <= t?!0:this.mub(q) && p >= t && q.Cs - p < v;};f.__decorate([h.Zb({methodName:"onRequestOpportunity",lm:!0})],n.prototype,"j4a",null);return n;})();b.MCa=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Qya=void 0;c=a(2);f=a(17);l=a(9);m=a(5);d=c.__importDefault(a(6));h=a(72);g=a(25);k=a(885);r=a(402);n=a(887);a=(function(q){function p(v,t,u){var w;w=q.call(this) || this;w.V=v;w.Ad=t;w.Ov=u;w.IU=[];w.Nfa=new f.Uh();w.H=new d.default.Console("ASEJS","media|asejs");w.Nfa.on(w.V,"underflow",function(){return w.sk();});w.kS=new n.EIa(v);w.Nfa.on(w.V,"skipped",function(){return w.oX();});w.Pv=new h.VR(w.kS,w.H,"player");w.jya=new l.j1();return w;}c.__extends(p,q);Object.defineProperties(p.prototype,{ex:{get:function(){var v;return null === (v=this.Ch) || void 0 === v?void 0:v.ex;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bu:{get:function(){return this.Pv;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jb:{get:function(){var v,t;return null !== (t=null === (v=this.Ch) || void 0 === v?void 0:v.pz()) && void 0 !== t?t:[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{pa:{get:function(){var v;return null === (v=this.Ch) || void 0 === v?void 0:v.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ya:{get:function(){return this.kS;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{RA:{get:function(){var v;return !(null === (v=this.Ch) || void 0 === v || !v.RA);},enumerable:!1,configurable:!0}});p.prototype.KY=function(v){-1 === this.IU.indexOf(v) && this.IU.push(v);this.Ch && this.Ch.mX(v);this.events.emit("drmReady",{viewableId:v});};p.prototype.Pva=function(v){v=this.IU.indexOf(v);-1 !== v && this.IU.splice(v,1);};p.prototype.Mo=function(v){var t;return -1 !== this.IU.indexOf(v) || !(null === (t=g.hg(this.Jb,function(u){return u.P.Z === v;})) || void 0 === t || !t.P.di);};p.prototype.reset=function(){var v;this.jya=new l.j1();q.prototype.reset.call(this);this.FF=void 0;null === (v=this.Ch) || void 0 === v?void 0:v.reset();};p.prototype.uY=function(v){var t;q.prototype.uY.call(this,v);null === (t=this.Ch) || void 0 === t?void 0:t.uY(v);};p.prototype.lG=function(){var v;null === (v=this.Ch) || void 0 === v?void 0:v.lG();};p.prototype.pause=function(v){this.NI(v);q.prototype.pause.call(this,null !== v && void 0 !== v?v:this.Ad);};p.prototype.resume=function(v){var t;null === (t=this.Ch) || void 0 === t?void 0:t.resume(v);q.prototype.resume.call(this,null !== v && void 0 !== v?v:this.Ad);};p.prototype.Mb=function(){this.jt=this.C6()?this.Io():void 0;this.Ch && this.Wka(this.Ch.pa);this.kS.Mb();this.Pv.Mb();this.Nfa.clear();q.prototype.Mb.call(this);};p.prototype.TM=function(){var v,t;if(null === (v=this.Ch) || void 0 === v?0:v.gTb){v=this.V.Jc;if(this.ya.Xk){if(this.FF){if(this.FF.greaterThan(v))return (v=this.FF.Qa(v),this.jya.push(v.W),this.FF);if(this.Jb.length){t=this.Ch.DLb;if(t && t.lessThan(v))return (this.events.emit("logdata",{type:"logdata",target:"endplay",bc:{clockdrift:{type:"count"}}}),this.FF);}}this.FF=v;}return v;}return q.prototype.TM.call(this);};p.prototype.Ho=function(){var v;v=this.V.playbackRate;void 0 === v && (v=q.prototype.Ho.call(this));return v;};p.prototype.C6=function(){return ! !this.jt || 0 < this.Jb.length;};p.prototype.Io=function(){if(this.jt)return this.jt;m.assert(0 < this.Jb.length,"Could not find presenting branch. Player has no branches.");return this.mi;};p.prototype.Wka=function(v){var t;m.assert(v === this.pa);null === (t=this.Ch) || void 0 === t?void 0:t.Mb();this.Ch=void 0;};p.prototype.o3=function(v,t){this.jt=void 0;if(t=q.prototype.o3.call(this,v,t))(this.Ch=new k.cza(v,this,this.H,v.config,this.Ov,this.events,this.Ad,this.Pv,this.QB,this.PB),this.NI(this.nO));return t;};p.prototype.Ela=function(){var u;for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}u=this.Ch;m.assert(u);v.forEach(function(w){return u.GBb(w);});};p.prototype.Ji=function(v){var t,u,w;if(!this.Ch)return !1;t=this.E5(v);if(!t)return !1;u=t.O;w=l.T.Fb(this.Ov.yD);return u.Sk.Qa(w).lessThan(v) || !t.sG(v)?!1:this.Ch.Ji(v);};p.prototype.sk=function(){var v,t,u;t=this.Tg;m.assert(this.pa);u=this.js(t);m.assert(u);null === (v=this.Ch) || void 0 === v?void 0:v.sk();v=this.E5(t);null === v || void 0 === v?void 0:v.P.sk();this.pa.sk(u);};p.prototype.oX=function(){this.FF=void 0;};p.prototype.Pma=function(){var v;return null === (v=this.Ch) || void 0 === v?void 0:v.Pma();};p.prototype.NI=function(v){var t;null === (t=this.Ch) || void 0 === t?void 0:t.NI(v);};p.prototype.kxa=function(v){m.assert(this.pa && this.Ch);return q.prototype.kxa.call(this,v);};return p;})(r.eea);b.Qya=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.cza=void 0;c=a(2);f=a(390);l=c.__importDefault(a(6));m=a(242);a(16);d=a(236);h=a(9);g=a(25);k=a(72);n=a(214);q=a(5);p=a(886);r=(function(){function v(t,u,w,x,y,z,A,B,D,E){var F;F=this;this.pa=t;this.V=u;this.H=w;this.I=x;this.Ov=y;this.Xh=z;this.Ad=A;this.Bu=B;this.QB=D;this.PB=E;this.A1=!1;this.$Ma=new h.sKa();this.Ega=this.SPb.bind(this);this.gj=new m.x_(this.H);this.ex=new p.rLa(this.H,t);this.Wxb(this.ex);this.ql && (this.mob=this.Oma(this.xGb()),this.Smb=h.dr.iya(this.ql.map(function(C){return C.hA;}),function(C){return C.every(function(G){return G;});},function(C){return F.QB.set(C);}),this.Vkb=new n.wda(this.ql.map(function(C){return C.oW;}),function(C){return h.T.min.apply(h.T,c.__spread(C));},function(C){F.PB.set(C);},h.T.Fb(-Infinity)));this.Cp=B.xG(function(){return F.Hsb();},"branchPruner");}v.prototype.Hsb=function(){var t,u,w,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.gj.wSa)return [3,2];t=c.__read(this.gj.laa(),1);u=t[0];w=null !== (A=null === (z=this.Ov.nP) || void 0 === z?void 0:z.W) && void 0 !== A?A:0;x=u.L7 || u.we;y=x.add(h.T.Fb(w + 1E3));return [4,k.Ik.TP(y)];case 1:return (B.$c(),this.gj.remove(u),u.events.removeListener("branchEdited",this.Ega),u.Cf(),[3,0]);case 2:return [2];}});};Object.defineProperties(v.prototype,{gTb:{get:function(){var t;return !(null === (t=this.mob) || void 0 === t || !t.hA.value);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{RA:{get:function(){var t;return !(null === (t=this.ql[0]) || void 0 === t || !t.RA);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{DLb:{get:function(){return this.A1?h.T.max.apply(h.T,c.__spread(this.ql.map(function(t){var u;return null === (u=t.Frb) || void 0 === u?void 0:u.Q0a;}).filter(g.W8))):void 0;},enumerable:!1,configurable:!0}});v.prototype.SPb=function(){var t;this.Cp.Em();t=this.ql.filter(function(u){return u.ZJb;}).map(function(u){return u.mediaType;});this.NI(t);this.resume(t);};v.prototype.GBb=function(t){q.assert(-1 === this.gj.laa().indexOf(t),"Branch " + t.O.id + " is already in the collection, cannot re-queue");t.events.addListener("branchEdited",this.Ega);this.gj.enqueue(t);this.Cp.state === k.Vm.complete && this.Cp.Em();t.O.av && this.gj.V4();this.A1 || this.ZCb(t);};v.prototype.mX=function(t){this.ql.forEach(function(u){u.mX(t);});};v.prototype.reset=function(){this.ql.forEach(function(t){t.reset();});this.A1=!1;this.$Ma.removeAllListeners();this.lG();};v.prototype.uY=function(t){t=this.Oma(t);null === t || void 0 === t?void 0:t.reset();};v.prototype.lG=function(){var t;t=this;this.gj.laa().forEach(function(u){return u.events.removeListener("branchEdited",t.Ega);});this.gj.clear();this.Cp.Em();};v.prototype.resume=function(t){this.ql.forEach(function(u){void 0 !== t && -1 === t.indexOf(u.mediaType) || u.resume();});};v.prototype.NI=function(t){this.ql.forEach(function(u){return (void 0 === t || -1 !== t.indexOf(u.mediaType)) && u.stop();});};v.prototype.sk=function(){this.H.trace("attached-player: onUnderflow");};v.prototype.QYa=function(){return this.gj.getIterator();};v.prototype.tFb=function(){return this.pz()[0];};v.prototype.pz=function(){return this.gj.laa();};v.prototype.Wxb=function(t){var u,w;u=this;this.Yl("createMediaSourceStart");if(this.Ov.AV)w=this.Ov.AV();else (w=new l.default.MediaSource(this.V.V),w.jc || (w.jc=l.default.MediaSource.jc));if(1 !== w.readyState)this.Dp("exception in init","NFErr_MC_StreamingInitFailure");else {this.Yl("createMediaSourceEnd");this.dg=w;if(!w.Z2(this.Ad))throw (this.H.trace("Error:",w.error),this.Dp("error creating source buffers","NFErr_MC_StreamingInitFailure"),w.error);this.ql=w.sourceBuffers.filter(function(x){return 0 <= u.Ad.indexOf(x.mediaType);}).map(function(x){var y;y=new d.Gba(u.H,x.mediaType,w,x,u.I,!0,{Pe:function(){return u.V.Tg.W;},Mo:function(z){return u.V.Mo(z.Z);}},u.Bu);y.addListener("error",function(z){return u.Dp(z.errorstr);});y.addListener("logdata",function(z){return u.Xh.emit("logdata",z);});return new f.uba(y,x.mediaType,u,u.I,u.H,u.V,u.Ov,u.Bu,t);});}};v.prototype.Mb=function(){this.Smb.clear();this.Vkb.clear();this.ql.forEach(function(t){return t.Mb();});this.Ov.AV || this.dg.Xp();this.lG();this.Cp.Mb();};v.prototype.Ji=function(t){return this.ql.every(function(u){return u.Ji(t);});};v.prototype.Pma=function(){return {RTb:this.pz(),gSb:this.ql};};v.prototype.ZCb=function(t){var u;u=this;this.A1=!0;t.ug.forEach(function(w){var x;x=u.Oma(w.mediaType);if(void 0 !== x)u.$Ma.once(w.nma,function(y){return x.$Cb(y);});});if(t.Sc)this.UUa();else t.events.once("branchNormalized",function(){return u.UUa();});};v.prototype.UUa=function(){var t;t=this.tFb();t && (q.assert(t.vj),this.Xh.emit("ptsChanged",{initialTimestamp:t.vj}));};v.prototype.Oma=function(t){return g.hg(this.ql,function(u){return u.mediaType === t;});};v.prototype.xGb=function(){return -1 !== this.Ad.indexOf(1)?1:0;};v.prototype.Yl=function(t){t={type:"startEvent",event:t,time:l.default.time.ea()};this.Xh.emit(t.type,t);};v.prototype.Dp=function(t,u){this.pa.Mh(t,void 0,u);};return v;})();b.cza=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rLa=void 0;c=a(2).__importDefault(a(6));f=a(35);r=(function(){function l(m,d){this.H=m;this.eL=d;}l.prototype.cE=function(m,d,h,g,k){var n,q;void 0 === k && (k=!1);n=m.O;q=this.amb(n);this.jT={startTime:c.default.time.ea(),wYb:m,vYb:h.W,GAb:d,Zd:this.IFb(g,d),N_b:this.mHb(g,k),Qka:k,Te:g,VRa:q,VOb:this.$Fb(n,h)};};l.prototype.una=function(m){var d,h,g,k,n,q,p,v,t,u,w,x,y;if(this.jT && 0 !== Object.keys(this.jT.VRa).length && m === this.jT.GAb){d=this.jT;h=d.VRa;g=d.VOb;k=d.Qka;n=d.Te;q=d.wYb;p=d.vYb;v=d.startTime;t=d.Zd;d=d.N_b;this.jT=void 0;u=this.Xfa(m).Br;w=this.XDb(q.O.id,m,h);u=this.KNa(w.weight,u);x={};for(y in h){y !== m && (x[y]=h[y].details);}h=c.default.time.ea() - v;return {segment:m,srcsegment:q.O.id,srcsegmentduration:q.raa.W,srcoffset:this.XGb(q,p,n,k),seamlessRequested:n,atRequest:w,atTransition:u,discard:x,transitionType:t,transitionTypeAtRequest:d,delayToTransition:this.JEb(h,n,k),durationOfTransition:n?0:h,nextExitPositionAtRequest:g};}};l.prototype.XDb=function(m,d,h){var g,k,n;n={};(h=h[d])?n=h.details:(f.assert(this.eL),n.weight=null === (k=null === (g=this.eL.Ca.Aa[m].next) || void 0 === g?void 0:g[d]) || void 0 === k?void 0:k.weight);return n;};l.prototype.JEb=function(m,d,h){var g;h || (g=d?m:0);return g;};l.prototype.$Fb=function(m,d){var h,g,k;g=m.Lg.add(d);null === (h=m.Ww) || void 0 === h?void 0:h.some(function(n){g.lessThan(n.Sc) && (k=n.Sc.W);});return k;};l.prototype.XGb=function(m,d,h,g){return h || g?m.raa.W:d;};l.prototype.IFb=function(m,d){return m?"seamless":this.Xfa(d).QV?"reset":"long";};l.prototype.mHb=function(m,d){return m || d?"lazy":"immediate";};l.prototype.amb=function(m){var d,h;d=this;h={};m.mA.forEach(function(g){var k,n;k=m.YOb[g];n=d.Xfa(g).Br;h[g]={details:d.KNa(k,n)};});return h;};l.prototype.Xfa=function(m){var d,h;m=this.eL.Tma(m);d=0 < m.length?m[0]:void 0;m=null === d || void 0 === d?void 0:d.KC();if(!d || !m)return {QV:!1,Br:{Xn:0,vr:0,jx:0,uL:0}};h=d.wZa(0) && !m.vr;d=d.wZa(1) && !m.Xn;return {QV:!h && !d,Br:m};};l.prototype.KNa=function(m,d){return {weight:m,vbuflmsec:d.Xn,abuflmsec:d.vr,vbuflbytes:d.jx,abuflbytes:d.uL};};return l;})();b.rLa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=void 0;c=a(17);r=a(42);a=(function(){function f(l){var m;m=this;this.V=l;this.kga=!1;this.BF=new c.Uh();this.BF.on(l,"paused",function(){return m.k9();});this.BF.on(l,"playing",function(){return m.k9(!0);});this.BF.on(l,"underflow",function(){return m.k9();});this.BF.on(l,"skipped",function(){return m.oX();});this.BF.on(l,"clockAdjusted",function(){return m.lX();});this.BF.on(l,"playbackRateChanged",function(){return m.oQb();});}Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.ROa || this.V.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xk:{get:function(){return this.kga;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var l;return null !== (l=this.V.playbackRate) && void 0 !== l?l:1;},enumerable:!1,configurable:!0}});f.prototype.k9=function(l){void 0 === l && (l=!1);l !== this.kga && (this.ROa=(this.kga=l)?void 0:this.V.Jc);this.emit("stopStart",{type:"stopStart"});};f.prototype.oX=function(){this.ROa=void 0;this.lX();};f.prototype.lX=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};f.prototype.oQb=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.Mb=function(){this.k9();this.BF.clear();};return f;})();b.EIa=a;r.wf(c.EventEmitter,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Aza=void 0;c=a(2);r=(function(){function f(l,m,d,h){this.Z=l;this.SO=m;this.Ksa=d;this.Lsa=h;}Object.defineProperties(f.prototype,{P:{get:function(){var l;return null === (l=this.ZZ) || void 0 === l?void 0:l.P;},enumerable:!1,configurable:!0}});f.prototype.Mb=function(){var l;this.P && (this.P.Cxa(this.gb),this.Lsa(this.P));null === (l=this.ZZ) || void 0 === l?void 0:l.N7.release();this.ZZ=void 0;};f.prototype.xb=function(l){return c.__awaiter(this,void 0,void 0,function(){var m,d,h,g,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.gb=l,m=this.SO(this.Z),d=m.qE,h=m.P,g=m.N7,this.ZZ={N7:g,P:h},h?(this.x_a(h,l,!1),[2,h]):[4,d]);case 1:return (k=n.$c(),this.x_a(k,l,!0),[2,k]);}});});};f.prototype.x_a=function(l,m,d){this.ZZ && (this.ZZ.P=l,l.xua(m),this.Ksa(m,l,d));};return f;})();b.Aza=r;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u){return (1 === t.mediaType?0:1) - (1 === u.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.wza=b.zza=b.zhb=void 0;f=a(2);l=a(17);m=a(9);d=a(22);r=a(102);h=a(42);g=a(890);k=a(5);n=a(892);q=a(239);p=a(20);b.zhb={qbb:c};(function(t){t[t.Iba=0]="CREATED";t[t.Gza=1]="CANCELLED";})(v=b.zza || (b.zza={}));a=(function(){function t(u,w,x,y,z,A,B,D,E,F,C,G){var J,K;J=this;this.I=u;this.H=w;this.z9=x;this.Fp=y;this.X5=z;this.Sr=A;this.Ys=B;this.zS=D;this.parent=E;this.$x=F;this.Pv=C;this.YZ=G;this.Yc=v.Iba;this.Q2=[];this.Jz=new q.XJ();this.m7a=0;this.Csa=function(){!J.Dh && J.z6 && (J.P.du.ED("onHeaderFragments",J.Csa),J.X6.resolve());};this.events=new l.EventEmitter();this.cs=new m.BQ();this.X6=new m.BQ();if(null === (K=this.parent) || void 0 === K?0:K.we)this.Ys=this.parent.we.Qa(this.Fp.Lg);}Object.defineProperties(t.prototype,{state:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Dh:{get:function(){return this.Yc === v.Gza;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{O:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xw:{get:function(){var u;return !(null === (u=this.wd) || void 0 === u || !u.xw);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ul:{get:function(){var u;return !(null === (u=this.wd) || void 0 === u || !u.ul);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{tt:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.tt) && void 0 !== w?w:0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ki:{get:function(){var u;return !(null === (u=this.wd) || void 0 === u || !u.ki);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Y1b:{get:function(){return this.cs.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ug:{get:function(){return this.Q2;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{TV:{get:function(){var u;return !(null === (u=this.YZ) || void 0 === u || !u.P);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{z6:{get:function(){return ! !this.ug.length && this.Q2.every(function(u){return u.he;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{P:{get:function(){k.assert(this.YZ.P,"viewable should be available");return this.YZ.P;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{S:{get:function(){var u;return (null === (u=this.wd) || void 0 === u?void 0:u.S) || this.Sr.S;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wa:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.Wa) && void 0 !== w?w:this.Sr.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ob:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.ob) && void 0 !== w?w:this.O.Sk.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xj:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.xj) && void 0 !== w?w:this.ig.Yf(this.S).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Tr:{get:function(){var u,w,x;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.Tr) && void 0 !== w?w:null === (x=this.Sr) || void 0 === x?void 0:x.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{GM:{get:function(){var u,w;w=null === (u=this.O.O.gq) || void 0 === u?void 0:u[0];return w && this.Sc?d.T.Fb(Math.max(0,w[0] - this.Sc.W - this.O.Lg.W)):d.T.Gb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cI:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.cI) && void 0 !== w?w:this.O.Lg.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{uO:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.uO) && void 0 !== w?w:this.O.Sk.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{L7:{get:function(){var u;return null === (u=this.wd) || void 0 === u?void 0:u.L7;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ig:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.ig) && void 0 !== w?w:this.Ys;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Qq:{get:function(){var u,w;return null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.Qq) && void 0 !== w?w:this.O.Sk.Qa(this.Sr || this.O.Lg);},enumerable:!1,configurable:!0}});t.prototype.xb=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(u){switch(u.label){case 0:if(this.Dh)return [2];p.ga && this.H.log("AseBranch {" + this.O.id + "} awaiting viewable");return [4,this.YZ.xb(this)];case 1:u.$c();p.ga && this.H.log("AseBranch {" + this.O.id + "} viewable available, branch " + (this.Dh?"cancelled":"active"));if(this.Dh)return [2];k.assert(this.X5,"tracks need to exist upon initialization");this.Q2=this.X5(this.P).sort(c);this.B8a(this.Sr);return [4,this.QVa()];case 2:return (u.$c(),p.ga && this.H.log("AseBranch {" + this.O.id + "} have headers"),this.Dh?[2]:this.parent?[4,this.parent.Y1b]:[3,4]);case 3:u.$c();if(this.Dh)return [2];u.label=4;case 4:return (this.normalize(),[2]);}});});};t.prototype.QVa=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(){this.z6?this.X6.resolve():(this.P.du.on("onHeaderFragments",this.Csa),this.events.emit("needsRequest"));return [2,this.X6.promise];});});};t.prototype.normalize=function(){this.Dh || (this.wd=new g.EGa(this,this.I,this.H,this.P,this.z9,this.Fp,this.Sr,this.Jz.items,this.Ys,this.zS,this.parent,this.$x,this.events,this.Pv),this.rla(this.wd.BC),this.cs.resolve(this.wd));};t.prototype.update=function(u){var w;this.Fp=u;(null === (w=this.wd) || void 0 === w?0:w.update(u)) && this.rla(!0);};t.prototype.hx=function(u){var w;this.Ys=u;null === (w=this.wd) || void 0 === w?void 0:w.hx(u);};t.prototype.wz=function(u){return f.__awaiter(this,void 0,void 0,function(){var w;return f.__generator(this,function(x){switch(x.label){case 0:return [4,this.cs];case 1:return (w=x.$c(),[2,null === w || void 0 === w?void 0:w.wz(u)]);}});});};t.prototype.HG=function(){var u;null === (u=this.wd) || void 0 === u?void 0:u.HG();};t.prototype.reset=function(){var u;null === (u=this.wd) || void 0 === u?void 0:u.reset();};t.prototype.Cf=function(){var u;this.Yc=v.Gza;this.TV && this.P.du.ED("onHeaderFragments",this.Csa);null === (u=this.wd) || void 0 === u?void 0:u.Cf();this.Jz.forEach(function(w){return w.cancel();});this.YZ.Mb();};t.prototype.fW=function(u){var w;return !(null === (w=this.wd) || void 0 === w || !w.fW(u));};t.prototype.eb=function(u){var w;return null === (w=this.wd) || void 0 === w?void 0:w.eb(u);};t.prototype.wZa=function(u){return this.ug.some(function(w){return w.mediaType === u;});};t.prototype.kq=function(u){var w,x;void 0 === u && (u=c);return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.kq(u)) && void 0 !== x?x:[];};t.prototype.aHb=function(u){var w,x;return (null === (w=this.eb(u)) || void 0 === w?void 0:w.il.tg) || (null === (x=this.Jz.get(u)) || void 0 === x?void 0:x.il.tg);};t.prototype.b6=function(){var u,w;return this.z6?null !== (w=null === (u=this.wd) || void 0 === u?void 0:u.b6()) && void 0 !== w?w:[]:this.Jz.items;};t.prototype.YM=function(u){var w;return (null === (w=this.wd) || void 0 === w?void 0:w.YM(u)) || this.Jz.get(u);};t.prototype.Gh=function(u,w){var x;return (null === (x=this.wd) || void 0 === x?void 0:x.Gh(u,w)) || 0;};t.prototype.KC=function(){var u;return (null === (u=this.wd) || void 0 === u?void 0:u.KC()) || ({});};t.prototype.IV=function(u){var w;return (null === (w=this.wd) || void 0 === w?void 0:w.IV(u)) || this.Tr.W;};t.prototype.ZD=function(u,w,x){return f.__awaiter(this,void 0,void 0,function(){var y,z,A,B;return f.__generator(this,function(D){switch(D.label){case 0:this.Q2=u.sort(c);this.B8a(w);if(!this.ki)return [3,2];k.assert(this.wd);y=this.Jz.filter(function(E){return E.track.he;}).items;z=this.wd.Hab(y,w,x);A=z.AU;B=z.BC;A && this.rla(B);if(this.z6)return [3,2];this.X6=new m.BQ();this.cs=new m.BQ();p.ga && this.H.log("AseBranch {" + this.O.id + "} setTracks waiting for headers");return [4,this.QVa()];case 1:D.$c();if(this.Dh)return [2];this.wd.Hab(this.Jz.items,w,x);p.ga && this.H.log("AseBranch {" + this.O.id + "} setTracks pipelines updated");this.cs.resolve(this.wd);this.events.emit("needsRequest");D.label=2;case 2:return [2];}});});};t.prototype.B8a=function(u){var w;w=this;this.Jz=new q.XJ(this.ug.map(function(x){var y,z;z=w.Jz.find(function(A){return A.track === x;});z || (++w.m7a,z=new n.nDa(w,x,(null === u || void 0 === u?void 0:u.add(w.ig)) || d.T.Gb,w.I,w.H,null === (y=w.parent) || void 0 === y?void 0:y.aHb(x.mediaType),w.z9,function(){0 === --w.m7a && w.events.emit("requestQueuesCreated");}));return z;}));};t.prototype.Lm=function(u){var w;return (null === (w=this.wd) || void 0 === w?void 0:w.Lm(u)) || [];};t.prototype.kX=function(u){var w;return null === (w=this.wd) || void 0 === w?void 0:w.kX(u);};t.prototype.sG=function(u){var w;return !(null === (w=this.wd) || void 0 === w || !w.sG(u));};t.prototype.M5=function(u){return this.wd?this.wd.M5(u):d.T.Gb;};t.prototype.txa=function(u){var w;return !(null === (w=this.wd) || void 0 === w || !w.txa(u));};t.prototype.rla=function(u){u={type:"branchNormalized",segmentContentStart:this.O.Lg,branchContentStart:this.Sc,branchContentEnd:this.Od,didNormalizeSegment:u};this.events.emit(u.type,u);p.ga && this.H.trace("branchNormalized:",u);};t.prototype.toJSON=function(){var u;return (null === (u=this.wd) || void 0 === u?void 0:u.toJSON()) || ({});};return t;})();b.wza=a;h.wf(r.px,a);h.wf(r.iB,a);},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.EGa=b.Qda=void 0;f=a(2);l=a(385);m=a(83);d=a(149);h=a(383);g=a(16);k=a(404);n=a(891);q=a(9);p=a(25);v=a(5);t=a(22);u=f.__importDefault(a(6));r=a(102);w=a(42);x=a(239);b.Qda={qbb:c};a=(function(y){function z(A,B,D,E,F,C,G,J,K,I,M,R,H,Q){var N,L;L=y.call(this,E) || this;L.gb=A;L.I=B;L.P=E;L.z9=F;L.Fp=C;L.Ys=K;L.zS=I;L.parent=M;L.$x=R;L.events=H;L.Pv=Q;L.ce=new x.XJ([]);L.Ul=!1;L.IS=0;L.hS=L.kX.bind(L);v.assert(E.Z === L.O.Z || isNaN(E.Z) && isNaN(L.O.Z));L.console=q.vq(u.default,D,C.id && C.id.length?"{" + C.id + "}":"");L.Sr=null !== G && void 0 !== G?G:t.T.Fb(L.O.Y);L.Jga=null === M || void 0 === M?void 0:M.we;null === (N=L.$x) || void 0 === N?void 0:N.addListener(L.hS);A=L.gTa(J,L.Sr,! !L.parent).BC;L.BC=A;return L;}f.__extends(z,y);Object.defineProperties(z.prototype,{Dh:{get:function(){return this.Ul;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{O:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xw:{get:function(){return this.ce.every(function(A){return A.xw;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ul:{get:function(){return this.ce.every(function(A){return A.ul;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tt:{get:function(){return this.kq().reduce(function(A,B){return A + B.tt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ki:{get:function(){return this.kq().every(function(A){return A.ki();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ug:{get:function(){return this.gb.ug;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){return this.kt.S;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wa:{get:function(){return this.kt.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ob:{get:function(){return this.kt.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xj:{get:function(){return this.ig.Yf(this.S).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Tr:{get:function(){return this.Sr.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{cI:{get:function(){return this.O.Lg.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{uO:{get:function(){return this.O.Sk.add(this.ig);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{L7:{get:function(){return this.ce.reduce(function(A,B){return A && B.we?t.T.max(A,B.we):B.we?B.we:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gpa:{get:function(){return this.Tr.W;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ee:{get:function(){return this.ig.W;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Qq:{get:function(){return this.kt.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ig:{get:function(){return this.Ys;},enumerable:!1,configurable:!0}});z.prototype.Hab=function(A,B,D){var E;void 0 === B && (B=null !== (E=this.Sc) && void 0 !== E?E:this.Sr);return this.gTa(A,B,D);};z.prototype.update=function(A){var B,D,E;E=A.Sk.X8(this.Fp.Sk);this.Fp=A;return E && this.UB?(E=f.__read(this.UB.cVb(A,A.Sk),2),A=E[0],E=E[1],v.assert(A && E,"branch.update: lastFragment should be defined"),null === (B=this.eb(0)) || void 0 === B?void 0:B.truncate(A),null === (D=this.eb(1)) || void 0 === D?void 0:D.truncate(E),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};z.prototype.hx=function(A){this.ig.equal(A) || (this.Ys=A);};z.prototype.wz=function(A){return f.__awaiter(this,void 0,void 0,function(){var B;return f.__generator(this,function(D){switch(D.label){case 0:return [4,Promise.resolve()];case 1:return (D.$c(),(B=this.eb(A))?[2,B.wz()]:[2,d.AsyncIterator.CXa()]);}});});};z.prototype.HG=function(){this.kq().forEach(function(A){return A.HG();});};z.prototype.pT=function(){this.ce.forEach(function(A){return A.pT();});};z.prototype.reset=function(){this.ce.forEach(function(A){A.reset();});};z.prototype.Cf=function(){var A,B;this.Ul || (this.Ul=!0,null === (A=this.UB) || void 0 === A?void 0:A.cd(),this.UB=void 0,this.ce.forEach(function(D){D.Cf();}),null === (B=this.$x) || void 0 === B?void 0:B.removeListener(this.hS),this.events.removeAllListeners());};z.prototype.fW=function(){return !0;};z.prototype.eb=function(A){return this.ce.get(A);};z.prototype.kq=function(A){void 0 === A && (A=c);return this.ce.items.slice().sort(A);};z.prototype.b6=function(){return this.ce.items;};z.prototype.YM=function(A){return this.eb(A);};z.prototype.Gh=function(A,B){A=this.eb(A);if(!A)return 0;if(B)return A.Dm;B=A.Sp;if(void 0 === B)return 0;A=this.zS();return B - A;};z.prototype.KC=function(){var A,B,D,E,F,C,G;G=null === (A=this.eb(0)) || void 0 === A?void 0:A.nn;A=null === (B=this.eb(1)) || void 0 === B?void 0:B.nn;return {Xn:null !== (D=null === A || void 0 === A?void 0:A.W) && void 0 !== D?D:0,vr:null !== (E=null === G || void 0 === G?void 0:G.W) && void 0 !== E?E:0,jx:null !== (F=null === A || void 0 === A?void 0:A.fa) && void 0 !== F?F:0,uL:null !== (C=null === G || void 0 === G?void 0:G.fa) && void 0 !== C?C:0};};z.prototype.IV=function(A){var B;return (A=this.eb(A))?null !== (B=A.Sp) && void 0 !== B?B:0:0;};z.prototype.Lm=function(A){A=this.eb(A);return (null === A || void 0 === A?void 0:A.Lm()) || [];};z.prototype.kX=function(A){g.Lo(A.newValue) && this.qr();};z.prototype.sG=function(A){return this.ce.every(function(B){return B.sG(A);});};z.prototype.M5=function(A){var B,D;return null !== (D=null === (B=this.ce.get(A)) || void 0 === B?void 0:B.yTa) && void 0 !== D?D:t.T.Gb;};z.prototype.txa=function(A){var B,D,E;B=this.kt.rLb;if(!B)return !1;D=p.hg(A,function(F){return B.W <= F.Sc.W;});if(!D)return !1;A=!1;E=f.__read(k.Kua(this.I,this.ce,D.Sc),2);D=E[0];if(E=E[1])(this.eb(1).truncate(E),A=!0);D && (this.eb(0).truncate(D),A=!0);A && (D={type:"branchEdited"},this.events.emit(D.type,D));return A;};z.prototype.tk=function(A){this.Ul || (A.c3 || v.assert(!A.Zc),this.qr(),this.ul && this.Hga());this.Tt(A);};z.prototype.UH=function(A){this.I.R4 && this.qr(!0);this.OG(A);};z.prototype.TH=function(A){this.I.R4 && this.qr(!0);this.IC(A);};z.prototype.gTa=function(A,B,D){var E,F,C;E=this;F=new x.XJ();C=!1;A.forEach(function(G){var J;J=E.ce.find(function(K){return K.track === G.track;});void 0 === J?(C=!0,J=new h.tda(G.mediaType,E.I,E.console),J=new l.Pda(E,E.I,E.console,E.z9,E.gb,G.track,B,G.il,J,!0,void 0,G.H_b(),E.Pv),J.events.on("lastRequestIssued",function(){return E.xw && E.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(E.ce.remove(J),J.pT());F.add(J);});this.ce.forEach(function(G){return G.Cf();});this.ce=F;return C?this.normalize(B,D):{AU:!1,BC:!1};};z.prototype.normalize=function(A,B){var D,E;null === (D=this.UB) || void 0 === D?void 0:D.cd();this.UB=new n.cIa({console:this.console,config:this.I,P:this.P,O:this.O,al:this.ce,Sc:A,Od:null !== (E=this.O.Sk) && void 0 !== E?E:void 0 !== this.O.Ha?t.T.Fb(this.O.Ha):void 0,splice:B});this.kt=this.ce.SX;B=this.UB.normalize();A=B.AU;B=B.BC;A && this.Jga && (this.Ys=this.Jga.Qa(this.Sc));return {AU:A,BC:B};};z.prototype.cwa=function(A){var B;return g.Lo((null === (B=this.$x) || void 0 === B?void 0:B.value) || g.Gc.dj) && (!A || this.IS + this.I.w8 < u.default.time.ea());};z.prototype.qr=function(A){void 0 === A && (A=!1);this.cwa(A) && (this.IS=u.default.time.ea(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};z.prototype.Hga=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};z.prototype.toJSON=function(){var A,B;return {segment:this.O.id,branchOffset:this.Ee,viewableId:this.Fp.Z,contentStartPts:null === (A=this.Sc) || void 0 === A?void 0:A.W,contentEndPts:null === (B=this.Od) || void 0 === B?void 0:B.W};};return z;})(m.hv);b.EGa=a;w.wf(r.px,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cIa=void 0;c=a(2);f=a(404);l=a(5);r=(function(){function m(d){var h,g,k,n,q,p,v,t;h=this;g=d.console;k=d.config;n=d.P;q=d.al;p=d.O;v=d.Sc;t=d.Od;d=d.splice;this.bW=this.TL=!1;this.ORa=function(){h.TL || h.Sha() && h.csa();};this.console=g;this.config=k;this.al=q;this.P=n;this.O=p;this.Sc=v;this.Od=t;this.splice=d;}m.prototype.xb=function(d){if(this.TL)throw Error("Cannot call init() after cleanup");if(this.bW)throw Error("Cannot call init() twice");this.bW=!0;this.g4a=d;this.P.du.addListener("onHeaderFragments",this.ORa);this.Sha() && this.csa();};m.prototype.normalize=function(){if(this.TL)throw Error("Cannot call normalize() after cleanup");if(this.bW)throw Error("Cannot call init() / normalize() twice");this.bW=!0;l.assert(this.Sha());return this.csa();};m.prototype.cVb=function(d,h){l.assert(this.bW,"expected to be called init() before renormalize");this.O=d;this.Od=h;d=f.Kua(this.config,this.al,this.Od);this.V8();return d;};m.prototype.cd=function(){this.TL || (this.TL=!0,this.g4a=void 0,this.P.du.removeListener("onHeaderFragments",this.ORa));};m.prototype.csa=function(){var d,h,g;if(this.TL)return {AU:!1,BC:!1};h=this.ePb();g=!1;this.O && !this.O.cs && (g=this.V8());null === (d=this.g4a) || void 0 === d?void 0:d.call(this,h,g);this.cd();return {AU:h,BC:g};};m.prototype.Sha=function(){return this.al.every(function(d){return d.track.he;});};m.prototype.ePb=function(){var d,h;d=c.__read(f.E3a(this.config,this.al,this.Sc,this.Od,this.splice),2);h=d[0];return d[1] || void 0 === this.al.get(1) && h;};m.prototype.V8=function(){var d,h,g;l.assert(this.O);l.assert(!this.O.cs);d=this.al.SX;h=f.G3a(this.config,d,this.O.Lg);if(void 0 === h || void 0 === d.Od)return !1;d=d.Od;g=this.config.Rxa && "immediate" !== this.O.Zd?f.$1a(this.console,this.O,this.al):[];this.O.normalize(h,d,g);return !0;};return m;})();b.cIa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.nDa=void 0;c=a(389);f=a(124);l=a(243);m=a(244);d=a(5);r=(function(){function h(g,k,n,q,p,v,t,u){this.gb=g;this.track=k;this.R$=n;this.config=q;this.console=p;this.events=t;this.yQb=u;this.Gn=0;this.S5a=this.ul=!1;this.il=this.hyb(v);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wa:{get:function(){return this.gb.O.id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yg:{get:function(){return this.gb.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dU:{get:function(){return this.R$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gE:{get:function(){return this.R$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{GM:{get:function(){return this.gb.GM;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hf:{get:function(){return this.De || (this.De=this.Gt());},enumerable:!1,configurable:!0}});h.prototype.iD=function(){return this.track.K8;};h.prototype.Ur=function(){return this.track.he;};h.prototype.ki=function(){return !1;};h.prototype.LXa=function(){return {U:[],u9:0,$k:0};};h.prototype.H_b=function(){var g;d.assert(this.Ur());g=this.Hf;this.De=void 0;return g;};h.prototype.iab=function(g){return (g=g.mE(this.Hf))?{Dn:g,reason:"success"}:{Dn:g,reason:"pipelineTryIssueHeaderRequest"};};h.prototype.cancel=function(){this.De && (this.gb.P.tL(this.mediaType,this.De),f.lp.instance.kM(this.De),this.De.removeAllListeners(),this.De=void 0);};h.prototype.hyb=function(g){var k,n;k=0 === this.mediaType?this.config.GQa:this.config.Gwa;g=new l.Hea(g);g.PY(this.track);n=this.config;return new m.Iea(k,this.config,g,0 === this.mediaType?n.tla:n.ula);};h.prototype.Gt=function(){var g,k;g=this;k=c.Gt(this.mediaType,this.track.P,this.config,this.console,function(n){return g.events.emit("transportReport",n);},function(){});k.on("created",this.yQb);return k;};return h;})();b.nDa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NKa=void 0;r=(function(){function a(c,f){this.H=c;this.Xh=f;this.Iwa=!1;}a.prototype.Mh=function(c,f,l,m,d,h,g){void 0 === g && (g=!1);this.Iwa || (g || (this.Iwa=!0),c={type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:c,networkErrorCode:m,httpCode:d,nativeCode:h,viewableId:f,temporaryFailure:g},this.H.error("notifyStreamingError:",c),this.Xh.emit("error",c));};a.prototype.Cn=function(){return this.Iwa;};return a;})();b.NKa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Rda=void 0;c=a(2);f=a(5);l=a(9);m=a(20);d=a(252);r=(function(h){function g(k){var n;n=h.call(this) || this;n.pa=k;n.Jb=[];n.kS=new d.i1({Xk:!1,currentTime:function(){return n.Dl?n.Tg:l.T.bD;},speed:1});return n;}c.__extends(g,h);Object.defineProperties(g.prototype,{ya:{get:function(){return this.kS;},enumerable:!1,configurable:!0}});g.prototype.o3=function(k,n){var q;q=!this.pa;q && (this.pa=k,this.Bfa=(null === n || void 0 === n?0:n.Dl)?n.Tg:void 0);return q;};g.prototype.lG=function(){this.Jb=[];this.Bfa=void 0;};g.prototype.Wka=function(k){m.ga && f.assert(this.pa === k);this.pa=void 0;this.lG();};g.prototype.Ela=function(){for(var k,n=[],q=0;q < arguments.length;q++){n[q]=arguments[q];}(k=this.Jb).push.apply(k,c.__spread(n));};g.prototype.TM=function(){return this.Bfa?this.Bfa:h.prototype.TM.call(this);};g.prototype.Mo=function(){return !1;};g.prototype.NI=function(){};return g;})(a(402).eea);b.Rda=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eIa=void 0;c=a(54);r=(function(){function f(l){this.eb=l;}Object.defineProperties(f.prototype,{lj:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Fo=function(l){var m,d;l=l.Ni;if(l === c.ae.Wn || l === c.ae.Zp){l={};m=this.eb(1);d=this.eb(0);m && (l.videoPipelineSummary=this.b$a(m));d && (l.audioPipelineSummary=this.b$a(d));return l;}};f.prototype.b$a=function(l){var m,d,h,g,k;k=l.Pa.U;return {actualStartPlayerTimestamp:null === (m=k.vj) || void 0 === m?void 0:m.W,actualPartialPlayerTimestamp:k.Y4a,actualCompletePlayerTimestamp:null === (d=l.Aha) || void 0 === d?void 0:d.W,segmentId:l.wa,contentStartMs:null === (h=l.Sc) || void 0 === h?void 0:h.W,contentEndMs:null === (g=l.Od) || void 0 === g?void 0:g.W,streamingPlayerMs:l.gE.W,isStreamable:l.iD(),isNormalized:l.ki(),isDoneStreaming:l.Ur(),trackNeedsHeaderRequest:l.track.K8,completedRequests:k.xSa,activeRequests:l.Pa.Ip,unsentRequests:l.Pa.Hs,bytes:{current:k.fa,received:k.D6a,partial:k.$k,completed:k.vC,unsent:k.m0b}};};return f;})();b.eIa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.KIa=void 0;c=a(2);f=a(20);l=a(54);m=a(406);r=(function(){function d(h){this.nSb=h;}Object.defineProperties(d.prototype,{lj:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{BD:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});d.prototype.Fo=function(h){var g;h=h.Ni;if(h === l.ae.Zp || h === l.ae.Wn){g={};this.nSb.forEach(function(k,n){var q;q=m.Sma(k);g[n]=c.__assign({probabilities:k.Yg.map(function(p){return {duration:p.duration,immediate:p.$C,seamless:p.Te};})},q);});return g;}};return d;})();b.KIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cFa=void 0;r=(function(){function a(c,f,l){this.Xf=c;this.H=f;this.events=l;this.KO=[];}a.prototype.Gi=function(c){var f;f=this;this.KO.push(c);this.Xf.Kxb(function(){f.fab(c,{cKb:!0});},c.xRa,c.lw);};a.prototype.LLb=function(c){var f,l;f=this;l={Ni:c};this.KO.forEach(function(m){f.fab(m,l);});};a.prototype.fab=function(c,f){var l,m;try{l=c.ng(f);m=l.event;l.b9a && this.events.emit(c.lw,m);}catch(d){this.H.error("Error generating event for " + c.lw,d);}};return a;})();b.cFa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.js=b.jZa=b.u0a=void 0;c=a(9);f=a(5);l=a(20);b.u0a=function(d,h){d=d.Aa[h.wa];if(void 0 === d)return !1;if(void 0 === d.Nc || null === d.Nc)throw Error("Cannot validate graph position without endTimeMs");d=d.Nc - d.xc;return 0 <= h.offset.W && h.offset.W < d;};m=c.T.Fb(100);b.jZa=function(d,h){if(d === h)return !0;if(d && h && d.wa === h.wa){if(d.offset === h.offset)return !0;d=c.T.abs(d.offset.Qa(h.offset));if(m.greaterThan(d))return !0;}return !1;};b.js=function(d,h,g){var k,n,q,p;q=h.pa;h=h.BJb;void 0 === g && (g={});p=q.Ca;q=q.navigator;p=q.te(null !== (k=null === h || void 0 === h?void 0:h.id) && void 0 !== k?k:p.Qe);k=null !== (n=null === h || void 0 === h?void 0:h.tWb) && void 0 !== n?n:p.Lg;if(k.greaterThan(d))return g.o9a?{offset:d.Qa(k),wa:p.id}:void 0;h=q.$Kb(p);for(q=h.next();!q.done;){n=q.value;q=n.Sk.Qa(n.Lg);p=k;k=p.add(q);if(k.greaterThan(d))return (d=d.Qa(p),l.ga && f.assert(d.Or(c.T.Gb) && d.lessThan(q)),{wa:n.id,offset:d});q=h.next();if(q.done && g.p9a)return {wa:n.id,offset:d.Qa(p)};}};},function(r,b,a){var c,f,l,m,d,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.LCa=void 0;r=a(2);c=a(16);f=r.__importDefault(a(35)).default.pH;l=r.__importDefault(a(144));m=r.__importDefault(a(6));d=a(175);h=a(25);g=a(5);a=(function(){function k(n,q,p,v,t){this.config=n;this.pYb=q;this.navigator=p;this.events=v;this.console=t;n=d.bN(this.config);this.M5a=[n.PD,n.L9];}k.prototype.yWb=function(n,q,p,v,t,u,w){var x,y,z,A,B,D,E;y=[];if(!this.h5a(t.track))return {stream:B,rP:y,reason:"locationSelectionFailure"};z=t.il;A=z.tg;B=A.lu;D=u?u.tn(t.track.Yd,n):t.track.Yd;if(0 === D.length && (null === u || void 0 === u?0:u.Dtb))return {stream:void 0,rP:y,reason:"allStreamsFiltered"};B && !B.track.equals(t.track) && (B=this.OCb(B,D));if(0 === t.mediaType && B && !this.VXb(A,B))return {stream:B,rP:y};n=this.Xxb(n === c.Gc.ud?c.ma.ud:n === c.Gc.Nf?c.ma.Nf:n === c.Gc.TR?c.ma.ud:n === c.Gc.dj?c.ma.Hc:c.ma.yh,q,v,t,! !w);z=z.Bva(n,D,void 0,this.M5a[t.mediaType],!0,t.track.P.$p);if(!z)return {stream:B,rP:y,reason:"streamSelectionFailure"};if(z.reason){E={reason:z.reason,Ava:z.eu,Hz:z.Hz,Jo:z.Jo,Ko:z.Ko};this.sja(t.mediaType,D,p);}this.RAb(t.mediaType,z,D);B=D[z.Ie];A.M8a(B);if(null === (x=z.cz) || void 0 === x?0:x.length)y=z.cz.map(function(F){return h.hg(D,function(C){return C.id === F;});}).filter(h.W8);p=z.wu;return void 0 !== E?{stream:B,rP:y,AWb:E,wu:p}:{stream:B,rP:y,wu:p};};k.prototype.uja=function(n,q,p,v,t,u,w){var x,y,z;if(!c.Lo(q))return {complete:!0,reason:"playing"};if(!u.S5a)return {complete:!1,reason:"unknown"};if(u.cRb)return (g.assert(u.y4a),u.y4a);x=u.il;y=x.tg;p=this.UWa(u,p);z=y.lu;y=p.im - p.Jc;if(y < this.config.rj || void 0 === z)return {complete:!1,oC:y,reason:"preBuf"};if(0 === u.mediaType)return {complete:!0,oC:y,reason:"audio"};if(n=n.SRa(u.mediaType))return {complete:!0,oC:y,reason:n};this.h5a(u.track);x.Dta([z],!1,p,this.M5a[u.mediaType]);q=x.Oy(p,q,t,z,{Ht:w});if(!q.complete && v)return {complete:!0,reason:"prebufferTimeLimit",oC:y};q.oC=y;return q;};k.prototype.RAb=function(n,q,p){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:q,streamList:p});};k.prototype.QAb=function(n,q,p,v){n={type:"maxVideoBitrateChanged",time:m.default.time.ea(),streaming:v,maxvb_old:n,maxvb:q,reason:p};this.events.emit(n.type,n);};k.prototype.OCb=function(n,q){var p;p=q[0];q.filter(function(v){return v.ku;}).every(function(v){return v.bitrate <= n.bitrate?p=v:!1;});return p;};k.prototype.VXb=function(n,q){return 0 < this.config.BP.length?!0:(n=n.CN) && n === q.location?!1:!0;};k.prototype.h5a=function(n){return n.P.vm.LZ(n.P.Z,n.Yd);};k.prototype.UWa=function(n,q){var B;for(var p,v=q.Qa(this.pYb),t=[],u=n,w=q,x,y,z=0,A=!0;u;){B=u.LXa(v);if(!A && !u.ul)break;0 < B.U.length && (w=B.U[0].vj,void 0 === x && (x=B.U[B.U.length - 1].we,y=B.u9 >= B.U.length?x:B.U[B.u9].vj),t=B.U.concat(t),z+=B.$k);u=this.navigator.parent(u);A=!1;}return {cw:m.default.Go()[n.mediaType],Y:Math.floor(w.W),Jc:q.W,Fc:Math.floor(null !== (p=null === x || void 0 === x?void 0:x.W) && void 0 !== p?p:q.W),im:Math.floor(y?y.W:q.W),$g:t.reduce(function(D,E){return D + E.fa;},0),$k:z,xWa:t.length,U:t};};k.prototype.Xxb=function(n,q,p,v,t){var u,w,x;u=this.UWa(v,q);w=1 === v.mediaType?this.config.RZ:this.config.CT;x=l.default.instance();return {state:n,rq:n === c.ma.Hc,Pd:v.Gn,playbackRate:p,buffer:u,gla:w,x1a:!1,sM:t,Ip:null === x || void 0 === x?void 0:x.Ip,mediaType:v.mediaType,Jc:q.W,Wr:!1,wpa:!1,Y9:0};};k.prototype.sja=function(n,q,p){var u,w;if(1 === n){n="manifest";for(var v=0,t=q.length - 1;0 <= t;--t){u=q[t];w=u.bitrate;if(f(u)){v=Math.max(v,w);break;}else this.config.bZ && !u.Rt?n="bc":u.iu?u.Cz && (n="hf"):n="av";}this.w2a !== v && (this.QAb(this.w2a,v,n,p),this.w2a=v);}};return k;})();b.LCa=a;},function(r,b,a){var l,m;function c(d,h,g,k,n){var q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H;x=d.console;y=d.n0b;z=d.Li;A=d.zVb;B=d.dAb;D=d.Lra;E=d.Jia;d=d.$Qb;F=n || ({complete:!0,Qq:0});C=F.root;G=F.complete;J=F.Wpb;K=F.q7a;K=void 0 === K?0:K;F=F.Qq;I=K < A.length && A[K] === h.id;M=k && z.get(k.id);R=n && k && M !== h.id?void 0 !== M?{Te:0}:k.ntb(h.id):{Te:1};z=R.Te;R=R.$C;H=void 0 === R?0:R;R=(z + H) * (null !== (q=null === n || void 0 === n?void 0:n.jTb) && void 0 !== q?q:1);m && x.trace("reevaluateBranches: visiting " + h.id + ", distance: " + (g + ", probability: ") + (R + ", predecessor: ") + ((null === k || void 0 === k?void 0:k.id) + ", decision: ") + (M + ", predecessorComplete: ") + (G + ", isOnRequiredPath: ") + (I + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (J + ", seamless ") + (z + ", immediate ") + (H + ", predecessor sum of: successor weights=") + ((null === k || void 0 === k?void 0:k.Pwa) + ", immediate weights= ") + (null === k || void 0 === k?void 0:k.Y$));q=null !== (v=null === (p=y[h.id]) || void 0 === p?void 0:p.shift()) && void 0 !== v?v:h.duration.W;p=0 === q;if(!I){if(0 === R)return {Oaa:!1};if(!G && 0 === H && F > E)return (d.FC=Math.min(d.FC || Infinity,F - E),{Oaa:!1});if(!p && g >= B && 1 > R || !1 === C && R < D)return {Oaa:!1};}K < A.length && l.assert(A[K] === h.id,"");n=null !== (t=null === n || void 0 === n?void 0:n.Yg) && void 0 !== t?t:[];k && 1 > z && (0 === H?n=n.concat([{Te:z}]):(t=(null === (w=null === (u=k.O.gq) || void 0 === u?void 0:u[0]) || void 0 === w?void 0:w[0]) || 0,u=Math.max(0,k.duration.W - t),m && x.trace("reevaluateBranches: immediate: " + k.duration.W + ", " + t + ", " + u),n=n.concat([{Te:z,$C:H,duration:u}])));d.p7a.push({O:h,Eu:null === k || void 0 === k?void 0:k.id,Yg:n});g=G?g + h.duration.W:J;m && x.trace("reevaluateBranches: added " + h.id + ", visiting successors, active distance: " + (g + " probabilities: ") + JSON.stringify(n));return {Oaa:!0,state:{root:!k,complete:p,jTb:R,Yg:n,Wpb:g,q7a:K + 1,Qq:F + q}};}function f(d,h,g,k){k("reevaluateBranches: " + Array(g + 1).join(" ") + d.O.id + " (" + (JSON.stringify(d.Yg) + ")"));h.filter(function(n){return n.Eu === d.O.id;}).forEach(function(n){return f(n,h,g + 1,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.A_b=b.X1b=b.a$=void 0;l=a(5);m=a(20).ga && !1;b.a$=function(d,h,g,k,n,q,p,v,t){var u,w,x,y;w={p7a:[]};x=(null === (u=g.Sk) || void 0 === u?void 0:u.Qa(g.Lg).W) || 0;0 < q.length && l.assert(g.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace("reevaluateBranches: starting at " + g.id + " requiredPath: " + JSON.stringify(q));y={console:d,n0b:k,Li:n,zVb:q,dAb:p.W + x,Lra:v,Jia:t.W,$Qb:w};h.W1b(g,function(z,A,B,D){return c(y,z,A,B,D);});return w;};b.X1b=c;b.A_b=function(d,h){f(d[0],d,0,h);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UIa=void 0;c=a(2);f=a(405);r=(function(){function l(m){this.Ca=m;this.Aa={};}l.prototype.te=function(m){var d;d=this.Aa[m];if(void 0 === d){d=this.Ca.Aa[m];if(void 0 === d)throw Error("Segment not found (" + m + ")");d=new f.ZIa(m,d,this.Ca.Zd);this.Aa[m]=d;}return d;};l.prototype.OEb=function(m){var d;d=this;return m.O.next?Object.keys(m.O.next).map(function(h){return d.te(h);}):[];};l.prototype.$Kb=function(m){var d;return c.__generator(this,function(h){switch(h.label){case 0:return [4,m];case 1:(h.$c(),d=m,h.label=2);case 2:if(!d.O.Eh)return [3,4];d=this.te(d.O.Eh);return [4,d];case 3:return (h.$c(),[3,2]);case 4:return [2];}});};l.prototype.dIb=function(m,d){return f.W_a(m.hN(d));};l.prototype.wi=function(m){var d;d=this;Object.keys(m).forEach(function(h){var g;return null === (g=d.te(h)) || void 0 === g?void 0:g.wi(m[h]);});};return l;})();b.UIa=r;},function(r,b,a){var l,m,d;function c(h,g){var k,n;k=Object.keys(h);if(k.some(function(q){var p,v,t,u;return (null === (p=h[q]) || void 0 === p?void 0:p.Zd) !== (null === (v=g[q]) || void 0 === v?void 0:v.Zd) || (null === (t=h[q]) || void 0 === t?void 0:t.weight) !== (null === (u=g[q]) || void 0 === u?void 0:u.weight);}))return !0;n=Object.keys(g);return 0 !== l.__spread(m.ut(k,n),m.ut(n,k)).length?!0:!1;}function f(h,g){return h.some(function(k,n){var q;return 0 !== m.ut(k,null !== (q=g[n]) && void 0 !== q?q:[]).length;}) || h.length !== g.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.ARa=b.ISa=void 0;l=a(2);m=a(25);d=a(903);b.ISa=function(h){return new d.lBa(function(g){return Object.keys(g.O.next || ({})).map(function(k){var n,q,p;k=h.te(k);p=null !== (q=null === (n=g.Sk) || void 0 === n?void 0:n.Qa(g.Lg).W) && void 0 !== q?q:Infinity;return {I1b:k,weight:p};});});};b.ARa=function(h,g){var k,n,q,p,v,t;k=Object.keys(h.Aa);n=Object.keys(g.Aa);q=n.filter(function(u){return -1 === k.indexOf(u);});p=k.filter(function(u){return -1 === n.indexOf(u);});v=k.filter(function(u){var w,x,y,z,A;if(-1 === n.indexOf(u))w=!1;else {w=h.Aa[u];u=g.Aa[u];w=w.Eh !== u.Eh || w.Nc !== u.Nc || w.xc !== u.xc || w.Zd !== u.Zd || w.Z !== u.Z || f(null !== (x=w.gq) && void 0 !== x?x:[],null !== (y=u.gq) && void 0 !== y?y:[]) || c(null !== (z=w.next) && void 0 !== z?z:{},null !== (A=u.next) && void 0 !== A?A:{})?!0:!1;}return w;});t=m.ut(k,l.__spread(v,q,p));return {Eqb:q,IO:p,Wtb:v,g0b:t};};},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lBa=void 0;c=a(5);f=a(237);l=a(904);m=a(407);r=(function(){function d(h){this.IAb=h;this.eya=!1;this.Paa=new l.pea();this.Tw=new l.pea();this.aQa=new m.oea();}d.prototype.W1b=function(h,g){var n,q,p;function k(){var u,w,x,y,z,A;u=v.pop();w=p.get(u);x=w.Eu;y=w.nM;w=w.state;if(!t.Paa.has(u)){t.Paa.add(u);x=g(u,y,x,w);z=x.Oaa;A=x.state;q(u).forEach(function(B){var D,E;D=B.I1b;if(!n.Paa.has(D) && (B=y + B.weight,z))if(n.Tw.has(D)){E=n.aQa.get(D);B < E.nM && (E.nM=B,E.Eu=u,E.state=A,v.iTb(D));}else (n.Tw.add(D),p.set(D,{nM:B,Eu:u,state:A}),v.push(D));});}}n=this;q=this.IAb;p=this.aQa;c.assert(!this.eya);this.eya=!0;this.Paa.clear();this.Tw.clear();p.set(h,{nM:0,state:{root:!1,complete:!0,q7a:0,Qq:0}});for(var v=new f.A0([h],function(u,w){return p.get(u).nM - p.get(w).nM;}),t=this;!v.empty;){k();}this.eya=!1;};return d;})();b.lBa=r;},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.kMa);}function c(d){return (a(d)?d:Object.defineProperties(d,{kMa:{value:{},configurable:!1,enumerable:!1}})).kMa;}Object.defineProperties(b,{__esModule:{value:!0}});b.pea=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.C$=0;this.id=m=(m + 1) % l;}d.prototype.add=function(h){c(h)[this.id]=this.C$;return this;};d.prototype.has=function(h){return a(h) && c(h)[this.id] === this.C$;};d.prototype.delete=function(h){if(!this.has(h))return !1;c(h)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.C$=(this.C$ + 1) % l;return this;};return d;})();b.pea=r;},function(r,b,a){var f,l,m,d;function c(h){return {value:h.gb,parent:h.Eu};}Object.defineProperties(b,{__esModule:{value:!0}});b.LIa=void 0;f=a(9);l=a(25);m=a(5);d=a(906);r=(function(){function h(){this.Jb=new f.uGa();this.Gs=new d.uLa();}Object.defineProperties(h.prototype,{empty:{get:function(){return this.Jb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{size:{get:function(){return this.Jb.size;},enumerable:!1,configurable:!0}});h.prototype.reset=function(){var g;g=this.Jb.values();this.Jb.clear();this.Gs.clear();g.forEach(function(k){return k.Cf();});};h.prototype.pz=function(g){return this.Jb.get(g);};h.prototype.has=function(g){return this.Jb.has(g);};h.prototype.fV=function(g){this.Gs.fV(g);};h.prototype.Fna=function(g){return this.Gs.parent(g);};h.prototype.AEb=function(g){return this.Gs.children(g);};h.prototype.soa=function(g){return this.Gs.soa(g);};h.prototype.Cua=function(g){var k;if(this.Jb.delete(g.O.id,g)){k=this.Gs.children(g);this.Gs.root === g?0 === k.length?this.Gs.clear():(m.assert(1 === k.length,"cannot remove the root branch with multiple successors"),this.Gs.fVb(k[0])):(m.assert(0 === k.length,"cannot remove non-root branch with successors"),this.Gs.remove(g));}};h.prototype.forEach=function(g){var k;k=this;this.Jb.forEach(function(n,q){return g(n,q,k);});};h.prototype.reduce=function(g,k){var n;n=this;return this.Jb.reduce(function(q,p,v){return g(q,p,v,n);},k);};h.prototype.map=function(g){var k;k=this;return this.Jb.map(function(n,q){return g(n,q,k);});};h.prototype.filter=function(g){var k;k=this;return this.Jb.filter(function(n,q){return g(n,q,k);});};h.prototype.pHb=function(){var g;g={};this.forEach(function(k,n){var q;(k=k.Qq) && (null !== (q=g[n]) && void 0 !== q?q:g[n]=[]).push(k.W);});return g;};h.prototype.t0b=function(g,k){var n;n=this;g=this.eNb(g,k).target;k=this.Gs.aUb(g.map(c));g=k.IO;k=k.c7a;g.forEach(function(q){return n.Jb.delete(q.O.id,q);});return {IO:g,c7a:k.map(function(q){return q.value;})};};h.prototype.eNb=function(g,k){var q,p;function n(v,t){(v=k(v.O.id,t)) && q.Jb.set(v.O.id,v);return v;}q=this;p=[];return {target:g.reduce(function(v,t,u){var w,x;m.assert(0 === u || t.Eu);if(t.Eu){x=null === (w=l.rQa(v,function(y){return y.gb.O.id === t.Eu;})) || void 0 === w?void 0:w.gb;if(!x)return (m.assert(void 0 !== l.hg(p,function(y){return y.O.id === t.Eu;}),"predecessorSegmentId " + t.Eu + " specified without previously specifying predecessor requiredBranch."),p.push(t),v);}w=l.hg(q.pz(t.O.id),function(y){return q.Gs.parent(y) === x || 0 === u;});w=null !== w && void 0 !== w?w:n(t,x);w.Yg=t.Yg;v.push({gb:w,Eu:x});(null === w || void 0 === w?0:w.TV) && w.update(t.O);return v;},[])};};return h;})();b.LIa=r;},function(r,b,a){var f,l,m;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(h,g){return 0 === g || m.Lp(d,function(k){return k.value === h.parent;}) < g;});}Object.defineProperties(b,{__esModule:{value:!0}});b.uLa=void 0;f=a(407);l=a(5);m=a(25);r=(function(){function d(){this.K=new f.oea();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.GA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var h;return null === (h=this.GA) || void 0 === h?void 0:h.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var h;h=[];this.fV(function(g){return ! !h.push(g);});return h;},enumerable:!1,configurable:!0}});d.prototype.has=function(h){return ! !this.K.get(h);};d.prototype.parent=function(h){var g;h=this.K.get(h);l.assert(h,"Attempted to find the parent of a node not in the tree");return null === (g=h.parent) || void 0 === g?void 0:g.value;};d.prototype.children=function(h){h=this.K.get(h);l.assert(h,"Attempted to find the children of a node not in the tree");return h.children?h.children.map(function(g){return g.value;}):[];};d.prototype.soa=function(h){h=this.K.get(h);l.assert(h,"Attempted to find the children of a node not in the tree");return void 0 !== h.children && 0 < h.children.length;};d.prototype.add=function(h,g){var k;l.assert(!this.K.get(h),"Attempted to add a value to tree that is already present");k={value:h};void 0 === this.GA?(l.assert(void 0 === g,"a parent cannot be specified when the tree is empty"),this.GA=k):(l.assert(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.K.get(g),l.assert(g,"Parent value does not exist in tree"),this.EQa(k,g));this.K.set(h,k);return this;};d.prototype.remove=function(h){h=this.K.get(h);l.assert(h,"Attempted to remove a node not in the tree");this.removeNode(h);return this;};d.prototype.removeNode=function(h){var g;g=this;this.uma(function(k){return g.K.delete(k);},h.value);void 0 === h.parent?this.GA=void 0:this.detach(h);};d.prototype.move=function(h,g){h=this.K.get(h);g=this.K.get(g);l.assert(h,"cannot move a value that is not in the tree");l.assert(g,"cannot move a value to a parent value not in the tree");l.assert(h.parent,"cannot move the root node");l.assert(!this.YJb(h,g),"cannot move a node below itself or one of its decendants");h.parent !== g && (this.detach(h),this.EQa(h,g));return this;};d.prototype.fVb=function(h){var g,k;g=this;h=this.K.get(h);l.assert(h,"cannot replant at a value that is not in the tree");k=[];this.detach(h);this.uma(function(n){g.K.delete(n);k.unshift(n);return !0;});this.GA=h;};d.prototype.clear=function(){this.GA && this.remove(this.GA.value);return this;};d.prototype.nWa=function(h,g){var k,n;k=this;h=this.K.get(h);l.assert(h,"cannot iterate children of a value not in the tree");null === (n=h.children) || void 0 === n?void 0:n.forEach(function(q){return g(q.value,k);});};d.prototype.fV=function(h,g){var k;k=this;l.assert(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.GA.value,h(g,this) && this.nWa(g,function(n){return k.fV(h,n);}));};d.prototype.uma=function(h,g){var k;k=this;l.assert(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.GA.value,this.nWa(g,function(n){return k.uma(h,n);}),h(g,this));};d.prototype.aUb=function(h){var g,k,n;g=this;l.assert(c(h),"entries must be in topological order");if(0 === h.length){k=this.values;n=[];this.clear();}else (n=h.filter(function(q){return g.has(q.value) && q.parent !== g.parent(q.value);}),k=this.values.filter(function(q){return -1 === m.Lp(h,function(p){return p.value === q;});}),this.clear(),h.forEach(function(q){return g.add(q.value,q.parent);}));return {IO:k,c7a:n};};d.prototype.EQa=function(h,g){var k;h.parent=g;(null !== (k=g.children) && void 0 !== k?k:g.children=[]).push(h);};d.prototype.detach=function(h){var g;l.assert(h.parent,"cannot detach the root");l.assert(void 0 !== h.parent.children,"logic error: parent node does not have children");g=h.parent.children.indexOf(h);l.assert(0 <= g,"logic error: node does not appear in the children of its parent");h.parent.children.splice(g,1);h.parent=void 0;};d.prototype.YJb=function(h,g){for(;void 0 !== g;){if(g === h)return !0;g=g.parent;}return !1;};return d;})();b.uLa=r;},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Eza=void 0;c=a(2);f=c.__importDefault(a(6));l=a(16);m=a(9);d=a(22);h=a(5);g=a(117);k=a(72);r=(function(){function n(q,p,v,t,u,w,x){var y;y=this;void 0 === x && (x=500);this.H=q;this.config=p;this.Ob=v;this.events=t;this.Ila=u;this.Xf=w;this.Qsb=x;this.Kta=this.wl=0;this.q8=[];this.Y4={Ht:0};this.state=new m.dr(l.Gc.cj);this.sf=new m.dr(l.ma.yh);this.vi=new g.FB({uD:10,vu:this,source:"BufferStateTracker",Pha:function(){return {isBuffering:y.og,alwaysRunUnderflowTimer:y.config.xL};}});}Object.defineProperties(n.prototype,{Ht:{get:function(){return this.Y4.Ht;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{og:{get:function(){return l.Lo(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Daa=function(q){var p;p=this;Array.isArray(q) || (q=[q]);q.forEach(function(v){0 === v.mediaType && (p.oRa=c.__assign(c.__assign({},p.oRa),{audio:{trackId:v.trackId,trackIndex:v.lE}}));});};n.prototype.m4a=function(q){this.set(l.Gc.cj);this.MI(q,l.Gc.ud);};n.prototype.c9=function(){this.Y4.Ht++;};n.prototype.pX=function(q){this.config.xL || void 0 === this.Sz && this.og && this.pka();this.Sz={ZC:q.httpCode,mh:q.errorCode,sj:q.nativeCode};};n.prototype.l9=function(){this.Sz=void 0;this.config.xL || this.B4();};n.prototype.sk=function(q){this.og || (this.MI(q,l.Gc.Nf),this.og && (this.Sz || this.config.xL) && this.pka());};n.prototype.GQb=function(q,p){this.state.value !== l.Gc.ud && this.MI(q,l.Gc.TR);this.Daa(p);};n.prototype.dQb=function(q,p){var v;v=this;this.config.Psb && this.og && (-1 === this.q8.indexOf(q) && this.q8.push(q),2 === this.q8.length && Promise.resolve().then(function(){v.og && void 0 !== v.ax && v.Oe("memoryLimit",p.zZ,p.AZ);}));};n.prototype.SWb=function(q,p){h.assert(this.state.value === l.Gc.ud && void 0 === this.ax);this.ax=q;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.lE}),this.Daa(p));};n.prototype.eXb=function(q,p,v){h.assert(this.og);this.hpa=null !== q && void 0 !== q?q:this.hpa;this.cW=null !== p && void 0 !== p?p:this.cW;void 0 === this.Z6?this.Z6=v:void 0 !== (null === v || void 0 === v?void 0:v.reason) && (this.Z6.reason=v.reason);};n.prototype.Oe=function(q,p,v){var t;h.assert(this.og && void 0 !== this.ax && void 0 === this.fG && void 0 === this.Jaa && void 0 === this.V2);this.fG=q;this.Jaa=p;this.V2=v;this.Qp=100;this.aSa();this.B4();null === (t=this.wja) || void 0 === t?void 0:t.Mb();this.state.value === l.Gc.Nf && (this.Kta=f.default.time.ea());this.O4();this.set(l.Gc.dj);this.V2=this.Jaa=this.fG=this.Z6=this.cW=this.hpa=this.ax=void 0;};n.prototype.stop=function(){var q;this.set(l.Gc.cj);this.aSa();this.B4();null === (q=this.wja) || void 0 === q?void 0:q.Mb();};n.prototype.vja=function(q,p,v,t){var u,w,x,y,z,A,B,D,E,F;u=this;h.assert(this.og);null === (w=this.wja) || void 0 === w?void 0:w.Mb();if(this.state.value === l.Gc.Nf && f.default.time.ea() < this.Kta + this.config.Kra){z=this.config.Kra - (f.default.time.ea() - this.Kta);this.wja=this.Xf.lU(k.Ik.oJ(d.T.Fb(z)),function(){u.vja(q,p,v,t);});}else {w=v.YM(0);A=v.YM(1);B=f.default.time.ea() - this.wl;if(w || A){D=function(C){return C?C.iD() || C.Ur()?t.uja(u.state.value,q,B >= u.config.tA,p,C,u.Ht):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};E=D(w);D=D(A);F=function(C){var G;return {reason:C.reason,complete:C.complete,bl:null !== (G=C.oC) && void 0 !== G?G:0};};this.vi.uy({as:F(E),vs:F(D),bt:B});F=A?D:E;F.M1b=A && D.oC || 0;F.Irb=w && E.oC || 0;E.complete && D.complete?(F.complete=!0,this.Oe(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.M1b) && void 0 !== x?x:0,null !== (y=F.Irb) && void 0 !== y?y:0)):(F.complete=!1,this.ftb(F),this.vi.uy({bp:this.Qp}));}}};n.prototype.ftb=function(q){var p,v,t;t=q.progress;q.pD?t=(f.default.time.ea() - this.wl) / this.config.tA:t || (t=(null !== (p=q.oC) && void 0 !== p?p:0) / this.config.rj);q=Math.min(Math.max(Math.round(100 * t),null !== (v=this.Qp) && void 0 !== v?v:0),99);q != this.Qp && (this.Qp=q);};n.prototype.MI=function(q,p){h.assert(p === l.Gc.ud || void 0 !== q);this.ax=q;this.Qp=0;this.Y8=void 0;this.Y4.Ht=0;this.q8=[];q=this.state.value === l.Gc.ud || this.state.value === l.Gc.Nf;this.wl=f.default.time.ea();this.set(p);q || (this.PAb(),this.BXb());};n.prototype.set=function(q){this.state.set(q);switch(q){case l.Gc.cj:this.sf.set(l.ma.cj);break;case l.Gc.ud:case l.Gc.TR:this.sf.set(l.ma.ud);break;case l.Gc.Nf:this.sf.set(l.ma.Nf);break;case l.Gc.dj:this.sf.set(l.ma.Hc);}};n.prototype.PAb=function(){h.assert(this.events && void 0 !== this.Qp);this.Y8=this.Qp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.ea(),percentage:this.Qp});};n.prototype.BXb=function(){var q;q=this;this.fsa=setInterval(function(){return q.OAb();},this.Qsb);};n.prototype.aSa=function(){this.fsa && (clearInterval(this.fsa),this.fsa=void 0);};n.prototype.OAb=function(){this.og && this.events && void 0 !== this.Qp && this.Qp !== this.Y8 && this.events.emit("buffering",{type:"buffering",time:f.default.time.ea(),percentage:this.Qp}) && (this.Y8=this.Qp);};n.prototype.O4=function(){var q;h.assert(this.events && this.ax && void 0 !== this.fG && void 0 !== this.V2 && void 0 !== this.Jaa);this.Y8=this.Qp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.ea(),actualStartPosition:this.ax,reason:this.fG,aBufferLevelMs:this.V2,vBufferLevelMs:this.Jaa,selector:this.hpa,initBitrate:this.cW,initSelReason:null === (q=this.Z6) || void 0 === q?void 0:q.reason,skipbackBufferSizeBytes:this.Gbc},this.oRa));};n.prototype.pka=function(){var q;q=this;this.config.Xab && (!this.YA || this.YA.state !== k.Vm.complete && this.YA.state !== k.Vm.lM?void 0 === this.YA && (this.YA=this.Xf.xG(function(){return q.pab();},"underflow")):this.YA.Em());};n.prototype.B4=function(){this.YA && (this.YA.state !== k.Vm.lM && this.YA.Mb(),this.YA=void 0);};n.prototype.pab=function(){var q,p,v;return c.__generator(this,function(t){switch(t.label){case 0:return (q=this.config.Z7,this.H.trace("BufferingStateTracker: starting underflow timer: " + q + "ms"),[4,k.Ik.oJ(d.T.Fb(q))]);case 1:(t.$c(),t.label=2);case 2:if(!this.og)return [3,4];p=this.Ob.K0a || 0;v=f.default.time.ea() - p;if(v >= q)return (this.H.trace("Forcing streaming failure, " + v + "ms since data received"),this.Ila.IQb(this.Sz),[2]);this.H.trace("BufferingStateTracker: network activity, wait " + (q - v) + "ms");return [4,k.Ik.oJ(d.T.Fb(q - v))];case 3:return (t.$c(),[3,2]);case 4:return [2];}});};c.__decorate([g.Zb({methodName:"onTemporaryNetworkError",lm:!0})],n.prototype,"pX",null);c.__decorate([g.Zb({methodName:"onUnderflow",lm:!0})],n.prototype,"sk",null);c.__decorate([g.Zb({methodName:"bufferingComplete",lm:!0})],n.prototype,"Oe",null);c.__decorate([g.Zb({methodName:"stop",lm:!0})],n.prototype,"stop",null);c.__decorate([g.Zb({methodName:"checkStreamingBufferingComplete",lm:!0})],n.prototype,"vja",null);c.__decorate([g.Zb({methodName:"createUnderflowTask",lm:!0})],n.prototype,"pka",null);c.__decorate([g.Zb({methodName:"destroyUnderflowTask",lm:!0})],n.prototype,"B4",null);c.__decorate([g.Zb({methodName:"onUnderflowTimeout",lm:!0})],n.prototype,"pab",null);return n;})();b.Eza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.AVa=void 0;c=a(25);b.AVa=function(f,l){var m;m=[];f=f.filter(function(d){return d.TV;}).map(function(d){var h,g;h=l(d.P);g=c.ut(h,d.ug).map(function(k){return k.mediaType;});m=c.k3(m,g);return {gb:d,ug:h};});return {Xtb:m,Isb:f};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iKa=void 0;c=a(2);f=a(22);l=a(5);b.iKa=(function(){function m(){}m.wHb=function(d){var h,g,k;if(d.ki){d=c.__read(d.ug,2);k=d[1];d=null === (h=d[0].gp) || void 0 === h?void 0:h.Sk;h=null === (g=null === k || void 0 === k?void 0:k.gp) || void 0 === g?void 0:g.Sk;l.assert(d);g=h?f.T.min(d,h):d;return {T1b:d,V1b:g};}};return m;})();},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.xza=void 0;c=a(17);f=a(9);l=a(72);m=a(20);d=a(16);r=(function(){function h(g,k,n,q,p,v){this.Xf=g;this.Ks=k;this.config=n;this.RPb=q;this.Bf=p;this.console=v;this.Mfa=new c.Uh();}h.nEb=function(g){var k;return null !== (k=g.we) && void 0 !== k?k:g.uO;};h.hFb=function(g){var k,n;k=g.O;n=g.bO;return k.Eh?k.Eh:n.length?n[0]:g.mA[0];};h.prototype.ixa=function(g,k){var n,q,p,v;n=this;p=g.O;this.reset();if(!(p.av || 1 >= p.mA.length && (null === (q=p.Ww) || void 0 === q || !q.length))){v=this.gtb(g);q=v.rva;k=k.lessThan(v.dJb);this.hWb(p,k?q:void 0);if(k)this.Mfa.on(g.events,"branchEdited",function(){n.ixa(g,n.Xf.ya.currentTime);});}};h.prototype.$Ra=function(){var g;null === (g=this.LTa) || void 0 === g?void 0:g.Mb();this.LTa=void 0;};h.prototype.reset=function(){this.$Ra();this.Mfa.clear();};h.prototype.gtb=function(g){var k,n;g=h.nEb(g);k=f.T.Fb(this.config.yD);n=f.T.Fb(this.config.uOb + this.config.WW);k=g.Qa(k);return {dJb:d.Lo(this.Bf.value)?g.Qa(n):k,rva:k};};h.prototype.hWb=function(g,k){var n;n=this;this.$Ra();this.LTa=k?this.Xf.lU(l.Ik.TP(k),function(){return n.H1a(g);},"scheduled branch decision"):this.Ks.lU(l.Ik.$1b,function(){return n.H1a(g);},"immediate branch decision");};h.prototype.H1a=function(g){var k;this.Mfa.clear();k=h.hFb(g);m.ga && this.console.trace("BranchDecisionMaker making decision for " + g.id + ", decision is " + k);this.RPb(g.id,k,!0);};return h;})();b.xza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SWa=void 0;c=a(912);b.SWa=function(f,l){return f.reduce(function(m,d){var h;h=l(d);d.kq().forEach(function(g){return m.Hha(g.mediaType,g.tt,!h);});return m;},new c.TIa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TIa=void 0;c=a(408);r=(function(){function f(){this.Dr=new c.tR();this.BU=new c.tR();}Object.defineProperties(f.prototype,{total:{get:function(){var l;l=new c.tR();l.add(this.Dr);l.add(this.BU);return l;},enumerable:!1,configurable:!0}});f.prototype.add=function(l){this.Dr.add(l.Dr);this.BU.add(l.BU);};f.prototype.Hha=function(l,m,d){(d?this.BU:this.Dr).Hha(l,m);};return f;})();b.TIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XYa=void 0;b.XYa=function(a,c){return a.reduce(function(f,l){return f + l.M5(c).W;},0);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YSa=void 0;c=a(2);f=a(16);b.YSa=function(l){var g,k;function m(n){f.Lo(n.newValue) && !f.Lo(n.oldValue)?(null === k || void 0 === k?void 0:k.Mb(),k=g.lU.apply(g,c.__spread(d))):null === k || void 0 === k?void 0:k.Mb();}for(var d=[],h=1;h < arguments.length;h++){d[h - 1]=arguments[h];}h=l.Pf;g=l.Ks;h.state.addListener(m);m({oldValue:f.Gc.cj,newValue:h.state.value});};},function(r,b,a){var f,l;function c(m,d){return Object.keys(m.LD).map(function(h){return m.LD[h];}).filter(function(h){return void 0 === h.cH || 1 === h.cH;}).reduce(function(h,g){return h + g.Dr[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.MKa=void 0;f=a(16);l=a(20);r=(function(){function m(d,h,g){this.Ca=d;this.console=h;this.kna=g;}m.prototype.Etb=function(d,h,g){var k,n,q,p;k=g && this.Ca.config.p1b;n=this.Ca.config.Qxa || k;q=this.kna();if(k){k=d.global;k=(p={},p[0]=k[0] - c(d,0),p[1]=k[1] - c(d,1),p);}p=k;q=this.SRa(h) || this.gub(d) || this.eub(d,q,p) || this.fub(d,q,p,h);p=f.oua(q);if(q && (!p || n))return (l.ga && this.console.log("canIssueRequest " + this.Ca.id + " [" + h + "] static limit: " + (g + ", usage: " + JSON.stringify(d) + ", failed " + q)),{result:!1,reason:q});l.ga && this.console.log("canIssueRequest " + this.Ca.id + " [" + h + "] static limit: " + (g + ", usage: " + JSON.stringify(d) + ", success " + q));return {result:!0,reason:q};};m.prototype.SRa=function(d){var h;h=this.Ca.config.eA;if(this.Ca.XEb(d) >= (h || Infinity))return "mediaDurationLimit";};m.prototype.gub=function(d){return d.LD[this.Ca.id].total.total > (this.Ca.c6() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.eub=function(d,h,g){d=d.global;return g?g[0] + g[1] > (h.Awa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (h.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.fub=function(d,h,g,k){var n;n=d.global;return g?(l.ga && this.console.log("checkRequestByMediaTypeMemory [" + k + "]: using static limit " + (h.Awa[k] + ", usage: " + g) + (" (global: " + n[k] + "  - certain contiguous: ") + (c(d,k) + ")")),g[k] > (h.Awa[k] || Infinity)?1 === k?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (h.total[k] || Infinity)?1 === k?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.MKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NIa=void 0;r=(function(){function a(c){this.console=c;this.Aja();}a.prototype.get=function(c){return this.u4[c] || this.Li[c];};a.prototype.set=function(c,f){void 0 === this.Li[c] && (this.Li[c]=f);};a.prototype.XWb=function(c,f){void 0 === this.get(c) && (this.u4[c]=f);};a.prototype.clear=function(c){this.u4[c]=void 0;this.Li[c]=void 0;};a.prototype.Cub=function(c){var f;this.Li=(f={},f[c]=this.Li[c],f);this.u4={};};a.prototype.Aja=function(){this.Li={};this.u4={};};return a;})();b.NIa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PIa=b.LE=void 0;c=a(2);f=a(5);(function(m){m[m.Iba=0]="CREATED";m[m.xea=1]="STARTED";m[m.NR=2]="REQUEST_ISSUED";m[m.zx=3]="EVALUATED";})(l=b.LE || (b.LE={}));r=(function(){function m(d){this.Yw=d;this.Yc=l.Iba;this.eE={};this.ZY={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.Yc !== l.xea && (this.PW(l.xea),[l.zx,l.NR].forEach(function(h){var g;g=new Promise(function(k){f.assert(d.ZY && d.eE,"state promises should be defined");d.ZY[h]=k;d.eE[h]=g;});}),this.Yw(),this.PW(l.zx));};m.prototype.PW=function(d){this.Yc=d;this.ZY && (d=this.ZY[d],null === d || void 0 === d?void 0:d());};m.prototype.Mb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Yc !== l.xea)return [3,2];f.assert(this.eE,"state resolves should be defined");return [4,this.eE[l.zx]];case 1:(d.$c(),d.label=2);case 2:return (this.ZY=this.eE=void 0,[2]);}});});};m.prototype.Raa=function(d,h){c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(k){switch(k.label){case 0:if(this.Yc === l.zx)return [3,6];f.assert(this.eE,"state promises should be defined");g=d;switch(g){case l.zx:return [3,1];case l.NR:return [3,3];}return [3,5];case 1:return [4,this.eE[l.zx]];case 2:return (k.$c(),[3,6]);case 3:return [4,this.eE[l.NR]];case 4:return (k.$c(),[3,6]);case 5:return [3,6];case 6:return (null === h || void 0 === h?void 0:h(),[2]);}});});};return m;})();b.PIa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.NJa=void 0;c=a(2);f=a(5);l=c.__importDefault(a(6));m=a(117);d=a(9);r=(function(){var l31;l31=2;for(;l31 !== 13;){switch(l31){case 6:var b71="T";b71+="R";b71+="a";var w71="checkReque";w71+="stO";w71+="pportun";w71+="ityRu";w71+="nner";c.__decorate([m.Zb({methodName:w71,lm:!0})],h.prototype,b71,null);return h;break;case 3:var o71="m";o71+="I";var v71="r";v71+="emoveRe";v71+="quest";var M71="w";M71+="y";var Z71="ad";Z71+="d";Z71+="R";Z71+="equ";Z71+="est";var f71="N";f71+="k";var j71="check";j71+="RequestOppo";j71+="rtu";j71+="nity";h.prototype.TRa=function(g){var t31,k,n,q;t31=2;for(;t31 !== 9;){switch(t31){case 3:var k71="requ";k71+="est";k71+="OpportunityRunnerComplete";this.sq.vT(k71,{requestsIssued:q,scheduledMs:g,timeSinceScheduled:n},!0);t31=9;break;case 1:this.k7a.push(n);t31=5;break;case 2:(k=this.config.Y7,n=l.default.time.ea() - g,q=0);t31=1;break;case 5:t31=this.DF < k && this.z7()?4:3;break;case 4:q++;t31=5;break;}}};c.__decorate([m.Zb({methodName:j71,lm:!0,xr:!0})],h.prototype,f71,null);c.__decorate([m.Zb({methodName:Z71,lm:!0})],h.prototype,M71,null);c.__decorate([m.Zb({methodName:v71,lm:!0})],h.prototype,o71,null);l31=6;break;case 2:Object.defineProperties(h.prototype,{BPb:{get:function(){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 4:return this.DF;break;o31=1;break;case 2:return this.DF;break;}}},enumerable:!1,configurable:!0}});h.prototype.Nk=function(){var p31,g,k;p31=2;for(;p31 !== 9;){switch(p31){case 2:g=this;p31=1;break;case 7:g=this;p31=6;break;p31=1;break;case 1:p31=!this.pva?5:9;break;case 5:this.pva=!0;k=l.default.time.ea();Promise.resolve().then(function(){var q31;q31=2;for(;q31 !== 5;){switch(q31){case 2:g.pva=!1;g.TRa(k);q31=5;break;}}});p31=9;break;}}};h.prototype.wy=function(g){var r31;r31=2;for(;r31 !== 4;){switch(r31){case 2:var g71="More than maxAllowedOu";g71+="tstandingR";g71+="equests are outstanding";this.sq.uy({mediaType:g.mediaType,contentStartPts:g.dd,contentEndPts:g.Ic});this.DF++;f.assert(this.DF <= this.config.Y7,g71);r31=4;break;}}};h.prototype.mI=function(g){var s31;s31=2;for(;s31 !== 3;){switch(s31){case 2:var S71="Re";S71+="ceived re";S71+="move request when ther";S71+="e are ";S71+="no requests outstanding";this.sq.uy({mediaType:g.mediaType,contentStartPts:g.dd,contentEndPts:g.Ic});this.DF--;f.assert(0 <= this.DF,S71);s31=4;break;case 4:var i71="r";i71+="emove";i71+="Re";i71+="q";i71+="uest";this.Nk(i71);s31=3;break;}}};l31=3;break;}}function h(g,k){var m31,n;m31=2;for(;m31 !== 14;){switch(m31){case 6:this.k7a=new d.j1();m31=14;break;case 3:var L71="Req";L71+="ues";L71+="tPac";L71+="er";var n71="1SIYbZr";n71+="N";n71+="JCp9";var a71="media|as";a71+="e";a71+="js";var s71="A";s71+="S";s71+="EJS_REQUEST";s71+="_PACER";this.console=new l.default.Console(s71,a71);this.pva=!1;n71;this.sq=new m.FB({vu:this,source:L71,Pha:function(){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 2:return {numOutstanding:n.DF};break;case 4:return {numOutstanding:n.DF};break;n31=1;break;}}},uD:10});m31=6;break;case 2:n=this;this.z7=g;this.config=k;this.DF=0;m31=3;break;}}}})();b.NJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aCa=void 0;c=a(54);r=(function(){function f(l){this.Ob=l;}Object.defineProperties(f.prototype,{lj:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Fo=function(l){var m;if(l.Ni === c.ae.Zp && this.Ob){l={};m=this.Ob.get();m && m.avtp && m.avtp.Ga && (l.avtp=m.avtp.Ga,l.dltm=m.avtp.CC);m && m.cdnavtp && (l.cdnavtp=m.cdnavtp,l.activecdnavtp=m.activecdnavtp);if(m=this.Ob.f6())(m.bytesRequestedPacingVideo && (l.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,l.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,l.bytestotalVideo=m.bytestotalVideo,l.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (l.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,l.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,l.bytestotalAudio=m.bytestotalAudio,l.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (l.pacedAvtp=m.pacedAvtp));if(m=this.Ob.W5())(l.initial_avtp=m.lH,l.initial_dltime=m.CC,l.initial_responses_audio=m.z_a,l.initial_responses_video=m.A_a,l.initial_tput_samples=m.gO,l.initial_1sec_tput_samples=m.eO);this.Ob.flush();if(m=this.Ob.EXa())for(var d in m){m.hasOwnProperty(d) && (l["ne" + d]=Number(m[d]).toFixed(6));}return l;}};return f;})();b.aCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EKa=void 0;c=a(54);r=(function(){function f(l){l.events.on("streamSelection",this.Isa.bind(this));}f.prototype.Isa=function(l){0 === l.mediaType && void 0 === this.y_a?this.y_a=l:1 === l.mediaType && void 0 === this.B_a && (this.B_a=l);};Object.defineProperties(f.prototype,{lj:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Fo=function(l){var m;if(l.Ni === c.ae.ap)return (l=null !== (m=this.B_a) && void 0 !== m?m:this.y_a,{histdiscbw:null === l || void 0 === l?void 0:l.result.eu,histage:null === l || void 0 === l?void 0:l.result.Jo});};return f;})();b.EKa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YKa=void 0;r=a(2);c=a(17);f=a(20);l=r.__importDefault(a(6));a=(function(){function m(d){this.Xf=d;this.z1=[];this.reset();}Object.defineProperties(m.prototype,{lj:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{BD:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var d,h;d=this;null === (h=this.KK) || void 0 === h?void 0:h.clear();this.KK=new c.Uh();this.KK.on(this.Xf,"clockChanged",function(){d.reset();d.lV("initial");});this.KK.on(this.Xf,"stopping",function(){d.lV("stopping");});this.KK.on(this.Xf.ya,"clockAdjusted",function(){d.lV("clockAdjusted");});this.KK.on(this.Xf.ya,"stopStart",function(){d.lV("stopStart");});this.KK.on(this.Xf.ya,"speedChanged",function(){d.lV("speedChanged");});};m.prototype.lV=function(d){this.z1.push({reason:d,audit:this.Xf.bEb(),time:l.default.time.ea()});5 < this.z1.length && this.z1.shift();};m.prototype.Fo=function(){return this.z1;};return m;})();b.YKa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PJa=void 0;c=a(54);r=(function(){function f(l,m){this.Ob=l;this.l7a=m;}Object.defineProperties(f.prototype,{lj:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Fo=function(l){var m;l=l.Ni;if(l === c.ae.Zp || l === c.ae.Wn || void 0 === l){l={numOutstandingRequests:this.l7a.BPb,requestOpportunityDelayStats:this.l7a.k7a};m=this.Ob.nPa;m && m.length && (l.activeRequests=JSON.stringify(m));return l;}};return f;})();b.PJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eCa=void 0;r=(function(){function a(c){this.U4=c;this.BD="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{lj:{get:function(){return this.BD;},enumerable:!1,configurable:!0}});a.prototype.Fo=function(){var c;c=this.U4.oSb.map(function(f){var l;l=f.Ca;return {id:l.id,weight:l.weight,relativeWeight:f.gY};});return {prefetcher:this.U4.Fu.getStats(),playgraphs:c,viewables:this.U4.U1b,players:this.U4.A5a.length};};return a;})();b.eCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JCa=void 0;c=a(5);f=a(408);r=(function(){function l(){this.global=new f.tR();this.LD={};}l.prototype.add=function(m,d){c.assert(void 0 === this.LD[m],"Cannot add new memory object for playgraph");this.LD[m]=d;this.global.add(d.Dr);this.global.add(d.BU);};return l;})();b.JCa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.gGa=void 0;c=a(2);f=a(20);l=a(401);m=a(117);r=(function(){function d(h,g,k){this.kna=h;this.kFb=g;this.H=k;this.vi=new m.FB({vu:this,console:k,source:"MemoryDeadlockProtector",uD:5});}d.prototype.vDb=function(h){var g,k,n,q;n=h.config;q=n.rj + (null !== (k=null === (g=n.nP) || void 0 === g?void 0:g.W) && void 0 !== k?k:0);g=this.$Hb(q,h);f.ga && this.H.debug("MDP: has prebuf: " + g);return g?{D4:!0}:(k=this.qtb(n),g=k.bRb,k=k.y1b,g && k?(f.ga && this.H.debug("MDP: utilizing " + Math.round(100 * k) + "%"),k >= n.TNb?this.x7a(h,g):{D4:!0}):{D4:!1});};d.prototype.x7a=function(h,g){var k,n,q,p,v,u,y,z;this.vi.uy({o:g});p=h.V;h=h.Jb;v=p.Jb;p=p.sH;for(var t=0;t < v.length;t++){if(!v[t].ul){p=v[t];v=v.slice(0,t + 1);break;}}t=!1;u=[{mediaType:0,pC:0},{mediaType:1,pC:0}];if(null === p || void 0 === p || !p.ul){h=h.map(function(B){return B;}).filter(function(B){return -1 === v.indexOf(B);}).sort(function(B,D){return l.dja(B) - l.dja(D);});try{for(var w=c.__values(h),x=w.next();!x.done;x=w.next()){y=x.value;z=y.KC();u[0].pC+=null !== (n=z.uL) && void 0 !== n?n:0;u[1].pC+=null !== (q=z.jx) && void 0 !== q?q:0;f.ga && this.H.debug("Resetting discontiguous branch " + y.O.id,z);y.reset();if(t=u.every(function(B){return B.pC >= g[B.mediaType].pC;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (k=w.return) && k.call(w);}finally{if(A)throw A.error;}}}return {D4:t,K9b:u};};d.prototype.qtb=function(h){var g,k,n,q;if(!h.UNb)return {};g=this.kFb();k=this.kna().total;n=h.SNb;q=0;h=[0,1].map(function(p){var v;v=g[p] - k[p] * n;q=Math.max(0 < k[p]?g[p] / k[p]:0,q);return {pC:Math.max(0,v),mediaType:p};});return {y1b:q,bRb:h};};d.prototype.$Hb=function(h,g){var k,n;k=!1;g=g.B6?g.V:void 0;if(null === g || void 0 === g?0:g.AJb){k=g.mi.kq().map(function(q){return q.mediaType;});n=g.DEb();k=k.every(function(q){var p,v;if(0 === q)q=null !== (p=n.vr) && void 0 !== p?p:0;else if(1 === q)q=null !== (v=n.Xn) && void 0 !== v?v:0;else throw Error("Unsupported media type:" + q);return q >= h;});}return k;};c.__decorate([m.Zb({methodName:"resetDiscontiguousBranches",return:!0,lm:!0})],d.prototype,"x7a",null);return d;})();b.gGa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=void 0;r=a(2);c=a(9);f=r.__importDefault(a(28));l=a(25);m=r.__importDefault(a(379));d=a(54);a=(function(){function h(g){var k,n;k=this;this.Ca=g;this.lw="aseReport";this.xRa=c.T.bD;this.no=!1;if(0 === Math.floor(1E6 * Math.random()) % g.config.CL || g.config.iDb){this.xRa=c.T.Fb(g.config.l3);this.Ca.DL=!0;n=[];n[f.default.Ta.Lb]=new m.default(g.config,f.default.Ta.Lb);n[f.default.Ta.Ub]=new m.default(g.config,f.default.Ta.Ub);this.fha=n;this.Ca.events.on("openComplete",function(){return k.open();});}}h.prototype.open=function(){this.Ca.DL && !this.no && (this.no=!0,this.Ca.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Ca.events.on("streamSelection",this.Isa.bind(this)));};h.prototype.Isa=function(g){this.fha[g.mediaType].add(g.result,g.streamList);};h.prototype.Vna=function(){var g;g=l.flatten(this.fha.map(function(k){return k.get();}).filter(function(k){return void 0 !== k;}));this.fha.forEach(function(k){return k.reset(!0);});return g;};h.prototype.ng=function(g){var k;k=g.Ni;g=g.cKb;return this.Ca.DL && this.no && (g || k === d.ae.Zp) && (k=this.Vna()) && k.length?{b9a:!0,event:{type:"asereport",strmsel:k}}:{b9a:!1,event:{type:"asereport",strmsel:[]}};};return h;})();b.Vya=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.hJa=void 0;c=a(2);f=a(17);l=a(16);m=a(9);d=a(928);h=a(25);g=a(5);k=a(929);n=a(20);q=a(99);p=a(930);v=c.__importDefault(a(6));t=a(931);u=a(932);w=a(933);x=a(254);y=a(935);z=a(936);r=(function(){function A(B,D,E,F,C){void 0 === F && (F=new u.bBa());void 0 === C && (C=new t.aBa());this.qVa=B;this.config=D;this.J6a=F;this.Cm=[];this.O5a=[];this.nx=[];this.events=new f.EventEmitter();this.H=m.vq(v.default,E,"PREFETCH");this.EPa(new w.EAa(D));this.EPa(new z.mKa(D));this.t8a({iH:D.JSb});this.Uva(C);}Object.defineProperties(A.prototype,{KSb:{get:function(){return this.Cm.map(function(B){return B.context;});},enumerable:!1,configurable:!0}});A.prototype.pXb=function(B){n.ga && g.assert(B,"Reconciliation strategy is undefined");this.J6a=B;};A.prototype.EPa=function(B){this.O5a.unshift(B);};A.prototype.T8a=function(B){n.ga && this.H.debug("Wish list changed",{Aac:B.length});this.nx=B;this.Rta();};A.prototype.reset=function(){var B,F,C,G,J,K;if(this.config.SSb)try{for(var D=c.__values(this.Cm),E=D.next();!E.done;E=D.next()){F=E.value;C=F.Ca;G=F.E7;J=F.context;if(C){C.Cf();G.Dua(function(M){return "segmentNormalized" !== M.lw;});K=x.k6(J.oe,C.Ca);C.zI(K);}}}catch(M){var I;I={error:M};}finally{try{E && !E.done && (B=D.return) && B.call(D);}finally{if(I)throw I.error;}}else this.T8a([]);};A.prototype.t8a=function(B){n.ga && this.H.debug("Budget changed",{Kac:this.RT,zac:B});this.RT=B;this.Rta();};A.prototype.wub=function(B,D){var E,F,C,G,J;if(D=this.J6a.PCb(this.Cm,{Ca:B,Ti:D})){C=this.nx.indexOf(D.context.oe);n.ga && this.H.debug("Claiming item: " + x.nq(D.context.oe.key),{bm:v.default.time.ea() - D.gaa,buffer:null === (E=D.Ca) || void 0 === E?void 0:E.Gh(m.T.Gb)});this.pM(D.context,{Wpa:! !D.Ca});if(D.Ca){E=D.Ca;G=D.context;J=D.ns;y.fJa.gVb(E,D.E7,this.H);B=x.k6(G.oe,B);J.bWb(null !== (F=E.MV(B)) && void 0 !== F?F:m.T.Gb,C);E.yab({iH:this.config.qu || Infinity});}}this.config.Uqb || this.reset();return null === D || void 0 === D?void 0:D.Ca;};A.prototype.vub=function(){};A.prototype.getStats=function(){var B;B=v.default.time.ea();return {wishListLength:this.nx.length,prefetchList:this.KSb.length,contents:this.Cm.map(function(D){var E,F,C,G,J;return {id:x.nq(D.context.oe.key),buffer:null === (E=D.Ca) || void 0 === E?void 0:E.Gh(m.T.Gb),pId:null === (F=D.Ca) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:D.context.C0a.iH},weight:D.context.J9,age:B - D.gaa,timeOpened:B - (null !== (C=D.e_b) && void 0 !== C?C:0),state:l.Gc[null !== (J=null === (G=D.Ca) || void 0 === G?void 0:G.Bf.value) && void 0 !== J?J:l.Gc.cj]};})};};A.prototype.pM=function(B,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var F,C,G,J,K,I;return c.__generator(this,function(M){switch(M.label){case 0:F=c.__assign({Wpa:!1,G0a:!1},D);C=F.Wpa;G=F.G0a;J=h.hg(this.Cm,function(R){return R.context === B;});if(!J)return [3,3];this.Cm.splice(this.Cm.indexOf(J),1);G || (K=this.nx.length,this.nx=this.nx.filter(function(R){return R !== B.oe;}),n.ga && this.H.info("Dropping items from wishlist",K - this.nx.length),this.nx.length >= K && n.ga && this.H.warn("Unable to filter out wishlist item",this.nx.map(function(R){return R.key;}),B.oe.key));n.ga && this.H.debug("Dropping playgraph",{bm:v.default.time.ea() - J.gaa,buffer:null === (E=J.Ca) || void 0 === E?void 0:E.Gh(m.T.Gb),Z:x.nq(B.oe.key),gbc:!C,y9b:!G});if(C)return [3,2];I=this.Pu(J);return J.Ca?[4,I]:[3,2];case 1:(M.$c(),M.label=2);case 2:(this.Rta(),M.label=3);case 3:return [2];}});});};A.prototype.Uva=function(B){g.assert(B,"Playgraph resolver is undefined");this.vta=B;return this;};A.prototype.Rta=function(){var B,D,E,F,C,G;B=this;D=d.kAa.SJb({l2b:this.nx,AHb:this.RT},this.O5a.map(function(J){return J.BRa.bind(J);})).Cm;E=h.ut(D,this.Cm,function(J,K){return x.isEqual(J.oe.key,K.context.oe.key);});F=h.ut(this.Cm,D,function(J,K){return x.isEqual(J.context.oe.key,K.oe.key);});C=h.ut(this.Cm,F);n.ga && this.H.debug("Re-evaluated prefetch items. new:" + E.length + ", evict: " + F.length + ", update: " + E.length);F=F.map(function(J){var K;K=J.context.oe.key;n.ga && B.H.debug("Releasing playgraph",x.nq(K));return B.Pu(J).then(function(){B.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.oe});});});G=C.map(function(J){return c.__awaiter(B,void 0,void 0,function(){var K,I;return c.__generator(this,function(M){switch(M.label){case 0:return (K=h.hg(D,function(R){return x.isEqual(R.oe.key,J.context.oe.key);}),g.assert(K,"Couldn't find the requested item context"),J.context=K,[4,J.uta]);case 1:return (I=M.$c(),h.hg(this.Cm,function(R){return R === J;}) && (this.mQa(J.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.oe})),[2]);}});});});E=E.map(function(J){var K;K=B.ayb(J);B.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.oe});return K;});this.Cm=c.__spread(C,E);C=E.map(function(J){return J.uta;});C=F.concat(G).concat(C);Promise.all(C);};A.prototype.Pu=function(B){var D;D=this;return B.uta.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var F;return c.__generator(this,function(C){switch(C.label){case 0:return (n.ga && this.H.debug("Removing prefetch playgraph",{size:E.Gh(m.T.Gb)}),B.b5.clear(),[4,this.qVa()]);case 1:return (F=C.$c(),F.Pu(E),[2]);}});});});};A.prototype.Yxb=function(B){return c.__awaiter(this,void 0,void 0,function(){var D,E,F,C,G,J,K;K=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=B.context,E=x.nq(D.oe.key),n.ga && this.H.debug("Creating playgraph",E),[4,this.vta.W1a(D)]);case 1:return (F=I.$c(),[4,D.oe.Fj.zn(E).fv]);case 2:return (C=I.$c(),C.oa.xvb?(this.pM(D,{Wpa:!0}),[2,Promise.reject("contentPlaygraph viewable:\n                " + C.oa.J + " is not supported with prefetching")]):[4,this.qVa()]);case 3:return (G=I.$c(),J=G.YF(F,D.J9,D.Ti,D.oe.Fj,!1),B.b5.addListener(J.events,"error",function(M){n.ga && K.H.debug("Prefetch playgraph resulted in error",M.w9b);K.pM(D);}),[2,J]);}});});};A.prototype.MQb=function(B,D){var F,C,G;function E(J){n.ga && F.H.debug("Viewable " + (J?"superseded":"expired"),x.nq(B.context.oe.key));B.O$b=!0;F.pM(B.context,{G0a:!J});}F=this;C=B.context;G=x.nq(C.oe.key);this.mQa(C,D);D.open();D.ZD({us:function(J,K){var I;I=J.recommendedMedia;return I?h.Lp(K,function(M){return M.new_track_id === I.kn;}):h.Lp(K,function(M){return M.track_id === J.defaultTrackOrderList[0].audioTrackId;});}},{us:function(J,K){var I;I=J.recommendedMedia;return I?h.Lp(K,function(M){return M.new_track_id === I.RP;}):h.Lp(K,function(M){return M.track_id === J.defaultTrackOrderList[0].videoTrackId;});}});D.zI(x.k6(C.oe,D.Ca));D=C.oe.Fj.zn(G);D.events && (B.b5.addListener(D.events,"viewableEvicted",function(){E(!0);}),B.b5.addListener(D.events,"viewableExpired",function(){E(!1);}));D.Nt && (n.ga && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.pM(B.context));};A.prototype.mQa=function(B,D){var E;D.Pab(B.J9);D.yab(B.C0a);B=B.SYb;E=B.video;D.J$(new q.jF(B.audio,!0),new q.jF(E,!0));};A.prototype.ayb=function(B){var D,E,F;D=this;E=new k.gJa();F={context:B,gaa:v.default.time.ea(),b5:new f.Uh(),ns:E};F.uta=this.Yxb(F).then(function(C){return c.__awaiter(D,void 0,void 0,function(){var G;G=this;return c.__generator(this,function(){try{return (F.Ca=C,C.Gi(E),E.Drb(C),F.E7=new p.mCa(C.events,{XXb:function(J){var K;K=J.lw;switch(K){case "buffering":return !1;case "bufferingStarted":F.E7.Dua(function(I){return "bufferingComplete" === I.lw || "updateStreamingPts" === I.lw;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.E7.Dua(function(I){return I.lw === K;});default:return !0;}}}),C.events.on("bufferingComplete",function(){G.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:B.oe});}),this.MQb(F,C),F.e_b=v.default.time.ea(),[2,C]);}catch(J){throw (n.ga && this.H.error("Exception occurred creating playgraph",J),this.pM(F.context),J);}});});}).catch(function(C){n.ga && D.H.error("Rejection ocurred while creating playgraph",C);return C;});return F;};return A;})();b.hJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kAa=void 0;b.kAa=(function(){function a(){}a.SJb=function(c,f){var d;function l(h){return m(d++)(h,l);}function m(h){return h >= f.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + h);}:f[h];}d=0;return l(c);};return a;})();},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gJa=void 0;c=a(2).__importDefault(a(6));f=a(54);r=(function(){function l(){this.creationTime=c.default.time.ea();this.bc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}l.prototype.Drb=function(m){this.Ca=m;};l.prototype.bWb=function(m,d){var h;m=null === (h=this.Ca) || void 0 === h?void 0:h.Gh(m);this.bc={isPrefetchItem:!0,prefetchedVideoMs:m.AZ,prefetchedAudioMs:m.zZ,prefetchClaimDurationMs:c.default.time.ea() - this.creationTime,prefetchRank:d};};Object.defineProperties(l.prototype,{lj:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Fo=function(m){if(m.Ni === f.ae.ap)return this.bc;};return l;})();b.gJa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mCa=void 0;c=a(2);r=(function(){function l(m,d){void 0 === d && (d={});this.bq=m;this.options=d;this.KG=[];this.eW=new f(m,this.jqb.bind(this));}l.prototype.jqb=function(m){for(var d,h,g,k,n,q,p=[],v=1;v < arguments.length;v++){p[v - 1]=arguments[v];}p={lw:m,xr:p};(null !== (g=null === (h=(d=this.options).XXb) || void 0 === h?void 0:h.call(d,p,this.KG)) && void 0 !== g?g:1) && this.KG.push(p);return null !== (q=null === (n=(k=this.options).Cbc) || void 0 === n?void 0:n.call(k,p)) && void 0 !== q?q:!0;};l.prototype.Dua=function(m){this.KG=this.KG.filter(function(d,h){return !m(d,h);});};l.prototype.Mua=function(){var m;m=this;this.eW.rab();this.KG.forEach(function(d){var h;(h=m.bq).emit.apply(h,c.__spread([d.lw],d.xr));});this.eW.K_a();};Object.defineProperties(l.prototype,{length:{get:function(){return this.KG.length;},enumerable:!1,configurable:!0}});l.prototype.clear=function(){this.KG=[];};l.prototype.Mb=function(){this.eW.rab();};return l;})();b.mCa=r;f=(function(){function l(m,d){var h;h=this;this.bq=m;this.WT=d;this.eW=function(g){for(var k,n=[],q=1;q < arguments.length;q++){n[q - 1]=arguments[q];}return h.WT.apply(h,c.__spread([g],n))?(k=h.s4a).call.apply(k,c.__spread([h.bq,g],n)):!1;};this.s4a=this.bq.emit;this.K_a();}l.prototype.K_a=function(){this.bq.emit=this.eW;};l.prototype.rab=function(){this.bq.emit=this.s4a;};return l;})();},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aBa=void 0;c=a(2);f=a(67);l=a(254);r=(function(){function m(){}m.prototype.W1a=function(d){return c.__awaiter(this,void 0,void 0,function(){var h,g,k,n,q;return c.__generator(this,function(p){switch(p.label){case 0:h=d.oe.key;if(!l.lW(h))return [3,2];g=h.Z;k=d.oe.Fj.zn(g);return [4,Promise.resolve(k.fv)];case 1:return (n=p.$c(),q=n.oa,q.zo?[2,f.tC(q.zo,{config:n.config})]:[2,f.II(g,"ps0")]);case 2:return [2,h.Ca];}});});};return m;})();b.aBa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bBa=void 0;c=a(2);f=a(5);l=a(254);r=(function(){function m(){}m.nq=function(d){var h,g;h=d.Aa;d=d.Qe;g=h[d].Z;Object.keys(h).forEach(function(k){return f.assert(h[k].Z === g);});return h[d].Z;};m.prototype.PCb=function(d,h){var g;g=Object.keys(h.Ca.Aa).length;return c.__read(d.filter(function(k){var n,q;return m.nq(h.Ca) === l.nq(k.context.oe.key) && (1 === g || g === Object.keys(null !== (q=null === (n=k.Ca) || void 0 === n?void 0:n.Ca.Aa) && void 0 !== q?q:{}).length);}),1)[0];};return m;})();b.bBa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EAa=b.IAa=void 0;c=a(99);f=a(934);b.IAa=625E3;r=(function(){function l(m){this.config=m;}l.prototype.BRa=function(m){var d,h,g;d=this.config.w4;h=(this.config.D2a || this.config.v4) * b.IAa / 1E3;g=Math.floor(m.AHb.iH / h);return {Cm:m.l2b.sort(function(k,n){return k.priority - n.priority;}).slice(0,d).map(function(k,n){var q;q=k.key.config;return {C0a:{iH:n > g - 1?0:h},oe:k,J9:1,Ti:q,SYb:{audio:[c.xC(q),new f.Eea()],video:[c.yC(q),new f.Eea()]}};})};};return l;})();b.EAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Eea=void 0;c=a(16);r=(function(){function f(){}f.prototype.tn=function(l,m){return m === c.Gc.dj?[]:l;};return f;})();b.Eea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fJa=void 0;c=a(20);b.fJa=(function(){function f(){}f.gVb=function(l,m,d){var h;h=l.open;l.open=function(){c.ga && d.log("Replaying " + m.length + " events from prefetched playgraph");m.Mua();m.Mb();l.open=h;return h.call(l);};};return f;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mKa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.BRa=function(c,f){var l,m;l=this;c=f(c);m=c.Cm.map(function(d){return d.oe.priority;}).sort();c.Cm.forEach(function(d){d.J9=l.config.MSb / (2 << m.lastIndexOf(d.oe.priority));});return c;};return a;})();b.mKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XIa=void 0;r=(function(){function a(c){var f;f=this;c=c.Nk;this.dH=function(){f.Nk();};this.Nk=c;}a.prototype.YF=function(c){c.events.on("requestsPruned",this.dH);};a.prototype.Pu=function(c){c.events.removeListener("requestsPruned",this.dH);};return a;})();b.XIa=r;},function(r,b){function a(c,f,l,m){return c && f?Math.min(c - f * l,c - m):(c || Infinity) - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.DRa=void 0;b.DRa=function(c,f){var l,m,d;m=a(f.audio,f.oia,c.RSa,c.PSa);d=a(f.video,f.bya,c.RSa,c.QSa);return (l={},l[0]=m,l[1]=d,l.total=(f.total || Infinity) - c.PSa - c.QSa,l);};},function(r,b,a){var f,l,m,d,h,g;function c(k,n){var t;for(var q,p=[],v=2;v < arguments.length;v++){p[v - 2]=arguments[v];}t=n();t && (p=p.map(function(u,w){w=d.K2a(t.Ara,t.Db[w]);return d.U1a(k,u,w);}));return (q=k.FDb).call.apply(q,f.__spread([void 0],p));}Object.defineProperties(b,{__esModule:{value:!0}});b.GDb=b.$Sa=void 0;f=a(2);l=a(403);m=a(940);d=a(942);h=a(944);g=a(945);b.$Sa=function(k){var p,v,t,u,w;for(var n=[],q=1;q < arguments.length;q++){n[q - 1]=arguments[q];}p=f.__assign({bjb:l.w_,zfb:h.KCa},k);q=p.bjb;p=p.zfb;v=g.k4a(n[5]);n[5]=v.SO;n=new (q.bind.apply(q,f.__spread([void 0],n)))();t={Gla:new p(),Wub:n};u={};w=new g.xAa(t,v.lZb);return new Proxy(n,{get:function(x,y){var z,A;if((y in w))return w[y];if(!u[y]){z=x[y];if("function" === typeof z){A=m.bYa.bind(null,x,y);x=c.bind(x,f.__assign({FDb:z.bind(x)},t),A);return u[y]=x;}return z;}return u[y];},set:function(x,y,z){if((y in w))return (w[y]=z,!0);x[y]=z;delete u[y];return !0;}});};b.GDb=c;},function(r,b,a){var f;function c(l){return function(m,d,h){var g,k,n,q,p,v;q=Reflect.wYa(m,d) || ({Db:{},Ara:{}});p="number" === typeof h;v=p?null !== (g=q.Db[h]) && void 0 !== g?g:{}:q.Ara;g=f.__assign(f.__assign(f.__assign({},v),l),{rules:f.__spread(null !== (k=v.rules) && void 0 !== k?k:[],null !== (n=l.rules) && void 0 !== n?n:[])});p?q.Db[h]=g:q.Ara=g;Reflect.z4("mappingConfigKey",q,m,d);};}Object.defineProperties(b,{__esModule:{value:!0}});b.W3=b.bYa=void 0;f=a(2);a(941);b.bYa=function(l,m){return Reflect.wYa(l.constructor.prototype,m);};b.W3=function(l,m,d){return c({rules:["hasPosition","isPosition"]})(l,m,d);};b.W3.Db=function(l,m,d){return c({rules:["hasPosition","isPosition"]})(l,m,d);};b.W3.Jac=c({rules:[],Tqb:!0});b.W3.Zu=c({rules:[],Zu:!0});},function(r,b,a){(function(c,f){var l;(function(m){(function(d){var g,k;function h(n,q){return function(p,v){"function" !== typeof n[p] && Object.defineProperty(n,p,{configurable:!0,writable:!0,value:v});q && q(p,v);};}g="object" === typeof f?f:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();k=h(m);"undefined" === typeof g.Reflect?g.Reflect=m:k=h(g.Reflect,k);d(k);})(function(d){var J,K,I,M,R,H,Q,N,L,P,S;function h(U,da,ka){var ma;ma=S.get(U);if(u(ma)){if(!ka)return;ma=new L();S.set(U,ma);}U=ma.get(da);if(u(U)){if(!ka)return;U=new L();ma.set(da,U);}return U;}function g(U,da,ka){if(k(U,da,ka))return !0;da=D(da);return null === da?!1:g(U,da,ka);}function k(U,da,ka){da=h(da,ka,!1);return u(da)?!1:! !da.has(U);}function n(U,da,ka){if(k(U,da,ka))return q(U,da,ka);da=D(da);if(null !== da)return n(U,da,ka);}function q(U,da,ka){da=h(da,ka,!1);if(!u(da))return da.get(U);}function p(U,da){var ka,ua,ya;ka=v(U,da);U=D(U);if(null === U)return ka;da=p(U,da);if(0 >= da.length)return ka;if(0 >= ka.length)return da;U=new P();for(var ma=[],X=0;X < ka.length;X++){ua=ka[X];ya=U.has(ua);ya || (U.add(ua),ma.push(ua));}for(ka=0;ka < da.length;ka++){ua=da[ka];(ya=U.has(ua)) || (U.add(ua),ma.push(ua));}return ma;}function v(U,da){var ka,ma;ka=[];U=h(U,da,!1);if(u(U))return ka;U=U.keys();da=B(U,M);if(!A(da))throw new TypeError();U=da.call(U);if(!w(U))throw new TypeError();for(da=0;;){ma=U.next();ma=ma.done?!1:ma;if(!ma)return (ka.length=da,ka);ma=ma.value;try{ka[da]=ma;}catch(ua){var X;try{X=U["return"];X && X.call(U);}finally{throw ua;}}da++;}}function t(U){if(null === U)return 1;switch(typeof U){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === U?1:6;default:return 6;}}function u(U){return void 0 === U;}function w(U){return "object" === typeof U?null !== U:"function" === typeof U;}function x(U,da){var ka;switch(t(U)){case 0:return U;case 1:return U;case 2:return U;case 3:return U;case 4:return U;case 5:return U;}da=3 === da?"string":5 === da?"number":"default";ka=B(U,I);if(void 0 !== ka){U=ka.call(U,da);if(w(U))throw new TypeError();return U;}a:{if("string" === ("default" === da?"number":da)){da=U.toString;if(A(da) && (da=da.call(U),!w(da)))break a;da=U.valueOf;}else {da=U.valueOf;if(A(da) && (da=da.call(U),!w(da)))break a;da=U.toString;}if(!A(da) || (da=da.call(U),w(da)))throw new TypeError();}return da;}function y(U){U=x(U,3);return "symbol" === typeof U?U:"" + U;}function z(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]" === Object.prototype.toString.call(U);}function A(U){return "function" === typeof U;}function B(U,da){U=U[da];if(void 0 !== U && null !== U){if(!A(U))throw new TypeError();return U;}}function D(U){var da,ka;da=Object.getPrototypeOf(U);if("function" !== typeof U || U === N || da !== N)return da;ka=U.prototype;ka=ka && Object.getPrototypeOf(ka);if(null == ka || ka === Object.prototype)return da;ka=ka.constructor;return "function" !== typeof ka || ka === U?da:ka;}function E(){var ma,X,ua;function U(ya){return ya;}function da(ya,O){return O;}function ka(ya,O){return [ya,O];}ma={};X=[];ua=(function(){function ya(O,T,ja){this.Le=0;this.af=O;this.Af=T;this.Yob=ja;}ya.prototype["@@iterator"]=function(){return this;};ya.prototype[M]=function(){return this;};ya.prototype.next=function(){var O,T;O=this.Le;if(0 <= O && O < this.af.length){T=this.Yob(this.af[O],this.Af[O]);O + 1 >= this.af.length?(this.Le=-1,this.Af=this.af=X):this.Le++;return {value:T,done:!1};}return {value:void 0,done:!0};};ya.prototype.throw=function(O){0 <= this.Le && (this.Le=-1,this.Af=this.af=X);throw O;};ya.prototype.return=function(O){0 <= this.Le && (this.Le=-1,this.Af=this.af=X);return {value:O,done:!0};};return ya;})();return (function(){function ya(){this.af=[];this.Af=[];this.Bv=ma;this.Zs=-2;}Object.defineProperty(ya.prototype,"size",{get:function(){return this.af.length;},enumerable:!0,configurable:!0});ya.prototype.has=function(O){return 0 <= this.ey(O,!1);};ya.prototype.get=function(O){O=this.ey(O,!1);return 0 <= O?this.Af[O]:void 0;};ya.prototype.set=function(O,T){O=this.ey(O,!0);this.Af[O]=T;return this;};ya.prototype.delete=function(O){var T,ja;T=this.ey(O,!1);if(0 <= T){ja=this.af.length;for(T+=1;T < ja;T++){this.af[T - 1]=this.af[T];this.Af[T - 1]=this.Af[T];}this.af.length--;this.Af.length--;O === this.Bv && (this.Bv=ma,this.Zs=-2);return !0;}return !1;};ya.prototype.clear=function(){this.af.length=0;this.Af.length=0;this.Bv=ma;this.Zs=-2;};ya.prototype.keys=function(){return new ua(this.af,this.Af,U);};ya.prototype.values=function(){return new ua(this.af,this.Af,da);};ya.prototype.entries=function(){return new ua(this.af,this.Af,ka);};ya.prototype["@@iterator"]=function(){return this.entries();};ya.prototype[M]=function(){return this.entries();};ya.prototype.ey=function(O,T){this.Bv !== O && (this.Zs=this.af.indexOf(this.Bv=O));0 > this.Zs && T && (this.Zs=this.af.length,this.af.push(O),this.Af.push(void 0));return this.Zs;};return ya;})();}function F(){return (function(){function U(){this.Qg=new L();}Object.defineProperty(U.prototype,"size",{get:function(){return this.Qg.size;},enumerable:!0,configurable:!0});U.prototype.has=function(da){return this.Qg.has(da);};U.prototype.add=function(da){return (this.Qg.set(da,da),this);};U.prototype.delete=function(da){return this.Qg.delete(da);};U.prototype.clear=function(){this.Qg.clear();};U.prototype.keys=function(){return this.Qg.keys();};U.prototype.values=function(){return this.Qg.values();};U.prototype.entries=function(){return this.Qg.entries();};U.prototype["@@iterator"]=function(){return this.keys();};U.prototype[M]=function(){return this.keys();};return U;})();}function C(){var ma,X;function U(){var ua,T;do {ua="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ka(new Uint8Array(16),16):ka(Array(16),16);ua[6]=ua[6] & 79 | 64;ua[8]=ua[8] & 191 | 128;for(var ya="",O=0;16 > O;++O){T=ua[O];if(4 === O || 6 === O || 8 === O)ya+="-";16 > T && (ya+="0");ya+=T.toString(16).toLowerCase();}ua="@@WeakMap@@" + ya;}while(Q.has(ma,ua));ma[ua]=!0;return ua;}function da(ua,ya){if(!J.call(ua,X)){if(!ya)return;Object.defineProperty(ua,X,{value:Q.create()});}return ua[X];}function ka(ua,ya){for(var O=0;O < ya;++O){ua[O]=255 * Math.random() | 0;}return ua;}ma=Q.create();X=U();return (function(){function ua(){this.ht=U();}ua.prototype.has=function(ya){ya=da(ya,!1);return void 0 !== ya?Q.has(ya,this.ht):!1;};ua.prototype.get=function(ya){ya=da(ya,!1);return void 0 !== ya?Q.get(ya,this.ht):void 0;};ua.prototype.set=function(ya,O){da(ya,!0)[this.ht]=O;return this;};ua.prototype.delete=function(ya){ya=da(ya,!1);return void 0 !== ya?delete ya[this.ht]:!1;};ua.prototype.clear=function(){this.ht=U();};return ua;})();}function G(U){U.ukb=void 0;delete U.ukb;return U;}J=Object.prototype.hasOwnProperty;K="function" === typeof Symbol;I=K && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=K && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";K="function" === typeof Object.create;R=({__proto__:[]}) instanceof Array;H=!K && !R;Q={create:K?function(){return G(Object.create(null));}:R?function(){return G({__proto__:null});}:function(){return G({});},has:H?function(U,da){return J.call(U,da);}:function(U,da){return (da in U);},get:H?function(U,da){return J.call(U,da)?U[da]:void 0;}:function(U,da){return U[da];}};N=Object.getPrototypeOf(Function);L=(K="object" === typeof c && c.uVa && "true" === c.uVa.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?E():Map;P=K || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;S=new (K || "function" !== typeof WeakMap?C():WeakMap)();d("decorate",function(U,da,ka,ma){var ua;if(u(ka)){if(!z(U))throw new TypeError();if("function" !== typeof da)throw new TypeError();for(ka=U.length - 1;0 <= ka;--ka){if((ma=(0,U[ka])(da),!u(ma) && null !== ma)){if("function" !== typeof ma)throw new TypeError();da=ma;}}return da;}if(!z(U))throw new TypeError();if(!w(da))throw new TypeError();if(!w(ma) && !u(ma) && null !== ma)throw new TypeError();null === ma && (ma=void 0);ka=y(ka);for(var X=U.length - 1;0 <= X;--X){ua=(0,U[X])(da,ka,ma);if(!u(ua) && null !== ua){if(!w(ua))throw new TypeError();ma=ua;}}return ma;});d("metadata",function(U,da){return function(ka,ma){var X;if(!w(ka))throw new TypeError();if(X=!u(ma)){a:switch(t(ma)){case 3:X=!0;break a;case 4:X=!0;break a;default:X=!1;}X=!X;}if(X)throw new TypeError();h(ka,ma,!0).set(U,da);};});d("defineMetadata",function(U,da,ka,ma){if(!w(ka))throw new TypeError();u(ma) || (ma=y(ma));h(ka,ma,!0).set(U,da);});d("hasMetadata",function(U,da,ka){if(!w(da))throw new TypeError();u(ka) || (ka=y(ka));return g(U,da,ka);});d("hasOwnMetadata",function(U,da,ka){if(!w(da))throw new TypeError();u(ka) || (ka=y(ka));return k(U,da,ka);});d("getMetadata",function(U,da,ka){if(!w(da))throw new TypeError();u(ka) || (ka=y(ka));return n(U,da,ka);});d("getOwnMetadata",function(U,da,ka){if(!w(da))throw new TypeError();u(ka) || (ka=y(ka));return q(U,da,ka);});d("getMetadataKeys",function(U,da){if(!w(U))throw new TypeError();u(da) || (da=y(da));return p(U,da);});d("getOwnMetadataKeys",function(U,da){if(!w(U))throw new TypeError();u(da) || (da=y(da));return v(U,da);});d("deleteMetadata",function(U,da,ka){var ma;if(!w(da))throw new TypeError();u(ka) || (ka=y(ka));ma=h(da,ka,!1);if(u(ma) || !ma.delete(U))return !1;if(0 < ma.size)return !0;U=S.get(da);U.delete(ka);if(0 < U.size)return !0;S.delete(da);return !0;});});})(l || (l={}));}).call(this,a(248),a(193));},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.U1a=b.K2a=void 0;c=a(2);f=a(25);l=a(5);m=a(943);b.K2a=function(d,h){var g;if(d || h){g=(null === d || void 0 === d?0:d.rules) && (null === h || void 0 === h?0:h.rules)?f.k3(d.rules,h.rules):(null === d || void 0 === d?void 0:d.rules) || (null === h || void 0 === h?void 0:h.rules);return c.__assign(c.__assign(c.__assign({},d),h),{rules:g});}};b.U1a=function(d,h,g){var k,n;if(g){k=g.Tqb;n=g.Zu;g=g.rules.map(function(q){var p;switch(q){case "hasPosition":p={r0a:m.Dl,Y1a:function(){h.position=d.Gla.wUa(h.position);return h;}};break;case "isPosition":p={r0a:m.f0a,Y1a:function(){return h=d.Gla.wUa(h);}};}return p;});k || l.assert(h,"Param is null");k=g.filter(function(q){return q.r0a(h);});n && l.assert(k.length,"No rules matched for " + h);if(k.length)return k.reduce(function(q,p){return p.Y1a(q);},h);}return h;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kIb=b.f0a=b.Dl=void 0;b.Dl=function(a){return !(null === a || void 0 === a || !a.position);};b.f0a=function(a){return !(null === a || void 0 === a || !a.wa) && !(null === a || void 0 === a || !a.offset);};b.kIb=function(a){return !(null === a || void 0 === a || !a.wa);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KCa=void 0;r=(function(){function a(){}a.prototype.wUa=function(c){return c;};a.prototype.q0b=function(c){return c;};return a;})();b.KCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.k4a=b.xAa=void 0;c=a(2);f=a(946);r=(function(){return function(l,m){var d;d=this;this.JQb=m;this.events=f.jTa(l);this.JQb(function(h){var g;g=h.qE;return c.__awaiter(d,void 0,void 0,function(){return c.__generator(this,function(k){switch(k.label){case 0:return [4,g];case 1:return (k.$c(),[2]);}});});});};})();b.xAa=r;b.k4a=function(l){var m;m=[];return {SO:function(d){var h;h=l(d);m.forEach(function(g){return g({Z:d,qE:h.qE});});return h;},lZb:function(d){m.push(d);}};};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jTa=void 0;c=a(2);f=a(17);b.jTa=function(l){var m;m=l.Wub;return new ((function(d){function h(){var g;g=null !== d && d.apply(this,arguments) || this;g.Pfa={};return g;}c.__extends(h,d);h.prototype.emit=function(g){for(var k=[],n=1;n < arguments.length;n++){k[n - 1]=arguments[n];}l.Gla.q0b;return d.prototype.emit.call(this,g,k[0]);};h.prototype.subscribe=function(g){var k,n;k=this;if(!this.listeners(g).length){n=function(){for(var q=[],p=0;p < arguments.length;p++){q[p]=arguments[p];}return k.emit.apply(k,c.__spread([g],q));};this.Pfa[g]=n;m.events.addListener(g,n);}};h.prototype.addListener=function(g,k){this.subscribe(g);d.prototype.addListener.call(this,g,k);return this;};h.prototype.removeListener=function(g,k){d.prototype.removeListener.call(this,g,k);this.listeners(g) || (m.events.removeListener(g,this.Pfa[g]),delete this.Pfa[g]);return this;};h.prototype.on=function(g,k){this.addListener(g,k);return this;};h.prototype.once=function(g,k){var q;function n(){for(var p=[],v=0;v < arguments.length;v++){p[v]=arguments[v];}try{k.apply(void 0,c.__spread(p));}finally{q.removeListener(g,n);}}q=this;this.addListener(g,n);return this;};h.prototype.MX=function(g,k){this.subscribe(g);d.prototype.MX.call(this,g,k);return this;};h.prototype.R5a=function(g,k){var q;function n(){for(var p=[],v=0;v < arguments.length;v++){p[v]=arguments[v];}try{k.apply(void 0,c.__spread(p));}finally{q.removeListener(g,n);}}q=this;this.MX(g,n);return this;};return h;})(f.EventEmitter))();};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.pKa=void 0;c=a(2);f=a(17);l=c.__importStar(a(10));m=a(16);d=a(215);h=a(16);g=a(9);k=a(5);n=a(22);q=a(216);p=a(54);v=a(99);t=a(117);u=a(253);w=c.__importDefault(a(6));x=a(948);y=a(949);z=0;r=(function(A){function B(D,E,F,C,G,J,K,I,M,R,H){var Q,N,L,P,S;P=A.call(this) || this;P.console=D;P.Qo=E;P.NS=F;P.oL=G;P.WY=J;P.fw=I;P.V=R;P.config=H;P.nr=!1;P.eS=!1;P.jt=void 0;P.Oe=function(){var U,da,ka,ma,X;null === (U=P.AK) || void 0 === U?void 0:U.clear();U=P.Wkb;X=P.$nb;k.assert(U);P.Hg && k.assert(X);P.sl.value !== h.ma.gr && P.sl.value !== h.ma.cj && (null !== (da=P.Fa) && void 0 !== da && da.Dl?(da=null === (ma=null === (ka=P.Qo.Ka.Ob.get()) || void 0 === ka?void 0:ka.Ra) || void 0 === ma?void 0:ma.Ga,P.pa.FZ("startplay",p.ae.ap),P.naa.vT("emitBufferingComplete",{}),x.O4(P,U,P.Fa.Tg,da,X,P.pa.DL)):P.console.error("Shim received buffering complete but player has no position (player " + (P.Fa?"":"un") + "defined, state " + P.sl.value + ")"));};P.HT=function(){var U,da,ka;P.naa.vT("audioTrackSwitchComplete",{});k.assert(void 0 !== P.dn);da=P.NS.audio_tracks[P.dn];ka=P.dn;P.dn=void 0;x.SUa(P,da,ka);null === (U=P.jX) || void 0 === U?void 0:U.call(P);P.jX=void 0;};k.assert(2 >= C.length,"Ase session shim suports a maximum of 1 parallel graph.");F=c.__read(C,2);D=F[0];F=F[1];P.Di=new f.Uh();P.Z=D.Ca.Aa[J[0].wa].Z;P.sl=new g.dr(h.ma.yh);P.bB=new v.oF(P.console);P.pa=D;P.Hg=F;C.forEach(function(U){var da,ka;da=U.yC(P.bB);ka=U.xC();U.J$(ka,da);});P.c9b=!1;P.hUa=!1;x.X1a(P.console,E,P,D,F);S=z++;P.naa=new t.FB({vu:P,source:"ShimSession",console:P.console,uD:50,Pha:function(){return {shimId:S};}});P.pa.Gi(new u.EB(P.naa));P.jbb=void 0 !== (null === (L=null === (N=(Q=P.V).zV) || void 0 === N?void 0:N.call(Q)) || void 0 === L?void 0:L.X);P.Bd=y.KQa(R);E=P.WSa({Ad:P.T1a(P.pa.Ca.Ad),AV:P.e6.bind(P)});P.Fa=E;P.Hg && (P.tj=P.WSa({Ad:P.T1a(P.Hg.Ca.Ad),AV:P.e6.bind(P)}));P.Fa.events.on("segmentPresenting",function(){P.jt=P.iNa();});P.on("streamerend",function(){return P.YYb();});P.J8a();return P;}c.__extends(B,A);Object.defineProperties(B.prototype,{J:{get:function(){return this.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ba:{get:function(){return this.fw.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Wg:{get:function(){return this.Di;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Fe:{get:function(){return {r$b:{1:{U:{Ha:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{dJ:{get:function(){return void 0 !== this.dn;},enumerable:!1,configurable:!0}});B.prototype.eMb=function(){var D,E,F,C,G;D=this;G=null === (C=null === (F=(E=this.V).zV) || void 0 === F?void 0:F.call(E)) || void 0 === C?void 0:C.X;k.assert(G,"video element is not defined");G.addEventListener("play",function(){return D.dPa();});G.addEventListener("pause",function(){return D.Wj();});};B.prototype.YYb=function(){this.Qo.Kp(!0,this.fw.sessionId);};B.prototype.MP=function(D,E){var F;this.pa.wi((F={},F[D]=E,F));};B.prototype.open=function(){var D,E,F,C;D=this;if(!this.nr){this.nr=!0;this.Qo.Kp(this.config.wr,this.fw.sessionId);C=new Promise(function(G){setTimeout(G,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.pa.open();null === (E=this.Hg) || void 0 === E?void 0:E.open();this.pa.zI(this.WY[0]);k.assert(this.Fa,"asePlayer should be defined on session.open");this.WY[1] && (E=this.pa.VC(this.WY[0]),k.assert(E,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (F=this.Hg) || void 0 === F?void 0:F.zI(this.WY[1],E.tG));x.V1a(this.Qo,this,this.Fa,this.console);this.sl.set(h.ma.ud);C.then(function(){D.Rq(D.Oe);});this.pa.kia(this.Fa);this.Hg && (k.assert(this.tj,"parallelPlayer should be defined on session.open"),this.Hg.kia(this.tj));this.jbb && this.eMb();}};B.prototype.e6=function(){this.qj || (this.qj=new w.default.MediaSource(this.Bd),this.qj.jc || (this.qj.jc=w.default.MediaSource.jc));return this.qj;};B.prototype.WSa=function(D){void 0 === D && (D={});D=c.__assign({yD:this.config.yD,rta:this.config.rta},D);return this.Qo.Ka.DPa(this.Bd,D);};B.prototype.T1a=function(D){return D?null === D || void 0 === D?void 0:D.map(function(E){return "video" === E?1:0;}):[0,1];};B.prototype.close=function(){this.nr && (this.nr=!1);this.Qo.Kp(!0,this.fw.sessionId,!0);};Object.defineProperties(B.prototype,{aG:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});B.prototype.flush=function(){var D;this.nr && this.sl.value !== h.ma.cj && this.sl.value !== h.ma.gr && this.stop();this.pa.FZ("endplay",p.ae.Zp);this.pa.Cf();null === (D=this.Hg) || void 0 === D?void 0:D.Cf();this.Qo.Kh.save();this.Qo.Fn.save();};B.prototype.paused=function(){this.jbb || this.Wj();};B.prototype.Wj=function(){this.sl.value === h.ma.Hc && (this.sl.set(h.ma.eh),this.Bd.emit("paused",{type:"paused",Dd:this.Bd.Jc}));};B.prototype.dPa=function(){this.sl.value === h.ma.eh && (this.sl.set(h.ma.Hc),this.Bd.emit("playing",{type:"playing",Dd:this.Bd.Jc}));};B.prototype.cd=function(){var D,E;this.nr && this.sl.value !== h.ma.cj && this.sl.value !== h.ma.gr && this.stop();this.Qo.YUb(this);this.nr && this.close();this.Yx && (clearInterval(this.Yx),this.Yx=void 0);null === (D=this.AK) || void 0 === D?void 0:D.clear();this.Fa && this.Qo.Ka.HO(this.Fa);this.tj && this.Qo.Ka.HO(this.tj);null === (E=this.qj) || void 0 === E?void 0:E.Xp();};B.prototype.suspend=function(){};B.prototype.resume=function(){};B.prototype.play=function(){var D;D=this;this.pa.state !== d.Ij.CLOSED && (k.assert(this.Fa,"ShimSession.play(), expected asePlayer to exist."),this.Fa.resume(this.eS?[1]:void 0),this.Hg && (k.assert(this.tj,"ShimSession.play(), expected parallelPlayer to exist."),this.tj.resume(this.eS?[1]:void 0)),this.sl.set(h.ma.Hc),this.Bd.emit("playing",{type:"playing",Dd:this.Bd.Jc}),this.emit("play"),this.Yx || (this.Yx=setInterval(function(){return D.hPb();},this.config.IL)));};B.prototype.stop=function(){this.sl.set(h.ma.gr);k.assert(this.Fa,"ShimSession.stop(), expected asePlayer to exist.");this.Fa.pause();this.Hg && (k.assert(this.tj,"ShimSession.stop(), expected parallelPlayer to exist."),this.tj.pause());this.Bd.emit("paused",{type:"paused",Dd:this.Bd.Jc});this.emit("stop");};B.prototype.ez=function(D){var E,F,C;void 0 === E && (E=!0);this.Fa?(D=parseInt(D),l.isFinite(D) && (E?(this.Fa.KY(D),null === (F=this.tj) || void 0 === F?void 0:F.KY(D)):(this.Fa.Pva(D),null === (C=this.tj) || void 0 === C?void 0:C.Pva(D)))):this.fail("Must call open prior to drmReady");};B.prototype.A6=function(){var D;if(!this.Fa || !this.Fa.Dl)return !1;D=this.Fa.Mo(this.pa.Ca.Aa[this.Fa.mj.wa].Z);return D && this.Hg && this.tj?this.tj.Mo(this.Hg.Ca.Aa[this.tj.mj.wa].Z):D;};B.prototype.Wn=function(){this.sl.set(h.ma.Nf);this.Bd.emit("underflow",{type:"underflow",Dd:this.Bd.Jc});this.Rq(this.Oe);};B.prototype.Z5=function(D){var E;E=p.ae.ap;switch(D){case "intrplay":E=p.ae.Wn;break;case "endplay":E=p.ae.Zp;}D=this.pa.Z5(E);return c.__assign(c.__assign({},D),{aseApiVersion:this.aG});};B.prototype.ota=function(){this.Bd.emit("playbackRateChanged",{type:"playbackRateChanged",Dd:this.Bd.Jc});};B.prototype.Sn=function(){var D;D=this.Bd.Pe();D={type:"skipped",pts:n.T.Fb(D)};this.Bd.emit(D.type,D);return new q.mF(Promise.resolve()).dva;};B.prototype.eja=function(D,E){var F;E=this.Nna(E || 0,D);return null === (F=this.pa.vn(E,D)) || void 0 === F?void 0:F.dd;};B.prototype.Ct=function(D,E){var F;F=new n.T(E,1E3);return (F=this.pa.js(F,{p9a:!0,o9a:!0}))?this.pa.Ca.Aa[F.wa].xc + Number(F.offset.W.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + E);};B.prototype.ZL=function(D,E){D=this.Nna(D || 0,E);D={wa:D,offset:new n.T(E - this.pa.Ca.Aa[D].xc,1E3)};return (D=this.pa.MV(D))?D.W:E;};B.prototype.c7=function(){var D,E,F;E={};F=null === (D=this.pa) || void 0 === D?void 0:D.MM();D=this.Hg?this.Hg.MM():F;F && (E.vbuflmsec=F.totalvbuflmsecs,E.vbuflbytes=F.vbuflbytes);D && (E.abuflmsec=D.totalabuflmsecs,E.abuflbytes=D.abuflbytes);return E;};B.prototype.J5=function(){return {Ee:0};};B.prototype.Io=function(){var D,E;return null !== (D=this.jt) && void 0 !== D?D:(null === (E=this.Fa) || void 0 === E?0:E.C6())?this.iNa():{id:this.WY[0].wa,Ee:0,dd:0,Ic:Infinity,je:Infinity,xd:0};};B.prototype.iNa=function(){var D,E,F,C,G,J,K,I,M;k.assert(this.Fa,"attempted to get presenting branch information with no player");k.assert(this.Fa.C6(),"attempted to get presenting branch information but player has no branches");J=this.Fa.Io() || ({});K=J.O;I=J.ig;M=J.uO;J=J.cI;return {id:K.id,Ee:null !== (D=null === I || void 0 === I?void 0:I.W) && void 0 !== D?D:0,dd:null !== (E=null === K || void 0 === K?void 0:K.Lg.W) && void 0 !== E?E:0,Ic:null !== (F=null === K || void 0 === K?void 0:K.Sk.W) && void 0 !== F?F:Infinity,je:null !== (C=null === M || void 0 === M?void 0:M.W) && void 0 !== C?C:Infinity,xd:null !== (G=null === J || void 0 === J?void 0:J.W) && void 0 !== G?G:0};};B.prototype.X6a=function(){this.EH("removeSession");};B.prototype.ss=function(D,E){void 0 === E && (E=0);k.assert(!this.Hg,"Seeking with dual playgraphs not supported.");E=this.Nna(E,D);this.Qo.Kp(this.config.wr,this.fw.sessionId);D={wa:E,offset:n.T.Fb(D - this.pa.Ca.Aa[E].xc)};this.jt=void 0;this.pa.zI(D);k.assert(this.Fa);this.Fa.resume();this.sl.set(h.ma.ud);this.Rq(this.Oe);D=this.pa.mva(D);k.assert(D,"Valid position must be provided for seek");return D.offset.W;};B.prototype.seek=function(D,E){D=this.Ct(E,D);return this.ss(D,E);};B.prototype.Cr=function(D,E,F){var C,G;C=this.Io().id;G=this.pa.ZM(C,D);if(E){if(!G.lbb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + C)),!1);if(void 0 !== G.$N)return (this.pa.si(C,D,!1,E),G.$N === D);this.pa.si(C,D,!1,E);return !0;}if(void 0 !== G.$N)return (F || this.ss(G.dd,0),!1);G.JL?(k.assert(this.Fa),this.Fa.reset(),this.pa.si(C,D,!1,E),this.Fa.resume(),this.sl.set(h.ma.ud),this.Rq(this.Oe)):F || this.ss(G.dd,0);return ! !G.JL;};B.prototype.wL=function(){this.EH("addManifest");};B.prototype.rT=function(){return this.EH("activateManifest");};B.prototype.a4a=function(){this.BMa();};B.prototype.baa=function(D){var E,F,C,G,J;E=this.Hg?this.tj:this.Fa;F=D.kn;k.assert(!this.Hg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.dn)return !1;D=this.NS.audio_tracks;if(!D.some(function(K,I){if(K.track_id === F)return (C=K,G=I,!0);}))return !1;D=D[this.oL[0]];this.dn=G;J=null === E || void 0 === E?void 0:E.RA;J?this.BMa():(this.eS=!0,null === E || void 0 === E?void 0:E.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:C.language,newNumChannels:C.channels,sourceBufferReset:J}));return !0;};B.prototype.Kq=function(D,E){this.bB.Kq(D,E);};B.prototype.Ji=function(D){return this.Fa?this.Fa.Ji(n.T.Fb(D)):!1;};B.prototype.a5=function(){this.EH("evaluateQoE");};B.prototype.Bwa=function(){this.EH("stopBuffering");};B.prototype.MI=function(){return this.EH("startBuffering");};B.prototype.UYa=function(){return this.EH("getStreamingStatistics");};B.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};B.prototype.Nna=function(D,E){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.bV(E);};B.prototype.bV=function(D){var E,F,G,J,K,I,M;E=this.pa.Ca;F=[];k.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var C in E.Aa){G=E.Aa[C];J=G.xc;G=G.Nc;K=D < Number(null !== G && void 0 !== G?G:Infinity);if(J <= D && K)F.push(C);else if((J=Math.min(Math.abs(D - J),Math.abs(D - G)),void 0 === I || J < I))(I=J,M=C);}k.assert(1 >= F.length,"Overlapped segments detected in branching, this is not supported");D=F[0] || M;k.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};B.prototype.hPb=function(){var D,E;E=null === (D=this.pa) || void 0 === D?void 0:D.MM();D=this.Hg?this.Hg.MM():E;E && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:E.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:E.totalvbuflmsecs,currentBandwidth:E.currentBandwidth});};B.prototype.EH=function(D){return this.fail("Method not implemented " + D);};B.prototype.BMa=function(){k.assert(void 0 !== this.dn);this.oL[0]=this.dn;this.J8a();this.Rq(this.HT);};B.prototype.J8a=function(){var D;D=this;this.Hg?(this.pa.ZD({us:function(){}},{us:function(){return D.oL[1];}}),this.Hg.ZD({us:function(){return D.oL[0];}},{us:function(){}})):this.pa.ZD({us:function(){return D.oL[0];}},{us:function(){return D.oL[1];}});this.eS && ((this.Hg?this.tj:this.Fa).resume([0]),this.eS=!1);};B.prototype.RWb=function(D){this.Wkb=D;};B.prototype.lXb=function(D){this.$nb=D;};B.prototype.Rq=function(D){var E,F;E=this;D !== this.HT && void 0 !== this.dn?this.jX=D:(null === (F=this.AK) || void 0 === F?void 0:F.clear(),!this.Hg && this.Fa?this.AK=g.dr.iya([this.pa.Bf,this.Fa.oW],function(C){var G,J;C=c.__read(C,2);J=C[1];return C[0] === m.Gc.dj && (null === (G=E.Fa) || void 0 === G?void 0:G.Dl) && J.greaterThan(E.Fa.Tg);},this.XSa(D)):this.Fa && (this.AK=g.dr.iya([this.pa.Bf,this.Fa.oW,this.Hg.Bf,this.tj.oW],function(C){var G,J,K,I,M;C=c.__read(C,4);K=C[1];I=C[2];M=C[3];return C[0] === m.Gc.dj && (null === (G=E.Fa) || void 0 === G?void 0:G.Dl) && K.greaterThan(E.Fa.Tg) && I === m.Gc.dj && (null === (J=E.tj) || void 0 === J?void 0:J.Dl) && M.greaterThan(E.tj.Tg);},this.XSa(D))));};B.prototype.XSa=function(D){var E;E=this;return function(F){var C;F && (null === (C=E.AK) || void 0 === C?void 0:C.clear(),E.AK=void 0,Promise.resolve().then(D));};};c.__decorate([t.Zb({methodName:"updateChoiceMapEntry",xr:!0})],B.prototype,"MP",null);c.__decorate([t.Zb({methodName:"open"})],B.prototype,"open",null);c.__decorate([t.Zb({methodName:"close"})],B.prototype,"close",null);c.__decorate([t.Zb({methodName:"paused"})],B.prototype,"Wj",null);c.__decorate([t.Zb({methodName:"unpaused"})],B.prototype,"dPa",null);c.__decorate([t.Zb({methodName:"cleanup"})],B.prototype,"cd",null);c.__decorate([t.Zb({methodName:"suspend"})],B.prototype,"suspend",null);c.__decorate([t.Zb({methodName:"resume"})],B.prototype,"resume",null);c.__decorate([t.Zb({methodName:"play"})],B.prototype,"play",null);c.__decorate([t.Zb({methodName:"stop"})],B.prototype,"stop",null);c.__decorate([t.Zb({xr:!0,methodName:"drmReady"})],B.prototype,"ez",null);c.__decorate([t.Zb({methodName:"underflow"})],B.prototype,"Wn",null);c.__decorate([t.Zb({methodName:"getLogdataReport"})],B.prototype,"Z5",null);c.__decorate([t.Zb({methodName:"skipped"})],B.prototype,"Sn",null);c.__decorate([t.Zb({methodName:"seekByContentPts"})],B.prototype,"ss",null);c.__decorate([t.Zb({methodName:"seek"})],B.prototype,"seek",null);c.__decorate([t.Zb({methodName:"chooseNextSegment",xr:!0})],B.prototype,"Cr",null);c.__decorate([t.Zb({methodName:"onAudioTrackSwitchStarted"})],B.prototype,"a4a",null);c.__decorate([t.Zb({methodName:"switchTracks"})],B.prototype,"baa",null);return B;})(f.EventEmitter);b.pKa=r;},function(r,b,a){var l,m;function c(d,h,g){var k,n;k=Array.isArray(g)?g[0]:g;n=Array.isArray(g)?g[1]:g;h.on(k,function(q){d.emit(n,l.__assign(l.__assign({},q),{type:n}));});}function f(d,h,g,k){var n,q;h.events.once(d,function(p){(n=p) && q && k(n,q);});g.events.once(d,function(p){q=p;n && q && k(n,q);});}Object.defineProperties(b,{__esModule:{value:!0}});b.SUa=b.O4=b.V1a=b.X1a=void 0;l=a(2);m=a(20);b.X1a=function(d,h,g,k,n){var p;function q(v,t){c(g,v,t);}h=n?[k,n]:[k];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(v){return q(k.events,v);});n?(q(n.events,"initialAudioTrack"),f("streamerEnd",k,n,function(v){g.emit("streamerend",l.__assign(l.__assign({},v),{type:"streamerend"}));})):(q(k.events,["streamerEnd","streamerend"]),q(k.events,"initialAudioTrack"));k.events.on("logdata",function(v){g.emit("logdata",l.__assign(l.__assign({},v),{fields:l.__assign(l.__assign({},v.fields),{aseApiVersion:g.aG})}));});p=!0;k.events.on("bufferingStarted",function(v){g.dJ && p?p=!1:(g.naa.vT("bufferingStarted",{}),g.emit("bufferingStarted",v));});k.events.on("bufferingComplete",function(v){g.dJ?p=!0:g.RWb(v);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(v){g.dJ || g.lXb(v);});k.events.on("maxVideoBitrateChanged",function(v){g.emit("maxvideobitratechanged",l.__assign(l.__assign({},v),{type:"maxvideobitratechanged",Lbc:v.streaming.W}));});k.events.on("error",function(v){v=l.__assign(l.__assign({},v),{manifestIndex:0});g.emit("error",v);});g.on("error",function(){});k.events.on("segmentComplete",function(v){g.emit("segmentComplete",{type:"segmentComplete",mediaType:v.mediaType,manifestIndex:0,segmentId:v.segmentId});});k.events.on("segmentNormalized",function(v){var t;t=Math.floor(v.viewableContentEnd.W);g.emit("maxPosition",{type:"maxPosition",index:0,endPts:t,maxPts:t,maxSeekPts:Math.floor(v.viewableEarliestContentEnd.W)});g.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:t,maxPts:t});});k.events.on("segmentStarting",function(v){g.emit("maxBitrates",{type:"maxBitrates",audio:v.maxBitrates.audio,video:v.maxBitrates.video});g.emit("segmentStarting",v);});h.forEach(function(v){v.events.on("serverSwitch",function(t){g.emit("serverSwitch",{type:"serverSwitch",segmentId:t.segmentId,mediatype:t.mediatype,server:t.server,reason:t.reason,location:t.location,bitrate:t.bitrate,confidence:t.confidence,throughput:t.throughput,oldserver:t.oldserver});});v.events.on("streamSelected",function(t){var u;u=v.VC(t.position);g.emit("streamSelected",{type:"streamSelected",nativetime:t.nativetime,mediaType:t.mediaType,streamId:t.streamId,manifestIndex:0,trackIndex:t.trackIndex,streamIndex:t.streamIndex,movieTime:u.tG.W,bandwidth:t.bandwidth,longtermBw:t.longtermBw,rebuffer:t.rebuffer});});v.events.on("updateStreamingPts",function(t){var u;u=g.J;m.ga && d.trace("converting updateStreamingPts, movieId:",u);g.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:t.mediaType,manifestIndex:0,trackIndex:t.trackIndex,segmentId:t.position.wa,movieTime:Math.floor(t.completePlayerStreamingTimestamp.W)});});});};b.V1a=function(d,h,g,k){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(n){return c(h,g.events,n);});g.events.on("streamPresenting",function(n){var q,p;q=n.playerTimestamp.W;p=h.pa.VC(n.position);void 0 === p?k.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):h.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(q),contentStartPts:Math.floor(p.tG.W),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});g.events.on("segmentPresenting",function(n){var q,p,v;q=h.pa.VC(n.position);p=n.playerTimestamp.Qa(q.tG);v=n.position.wa;h.hUa || (h.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.W,movieId:q.Z.toString(),replace:!1,contentOffset:p.W}),h.hUa=!0);h.emit("segmentPresenting",{type:"segmentPresenting",segmentId:v,contentOffset:p.W,metrics:n.metrics});});g.events.on("ptsChanged",function(n){h.emit("ptschanged",n.initialTimestamp.W);h.Bd.emit("skipped");});};b.O4=function(d,h,g,k,n,q){var p;g=g.W;n=null !== n && void 0 !== n?n:h;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !q,hashindsight:!1,buffCompleteReason:h.reason,actualbw:k,initSelReason:null !== (p=h.initSelReason) && void 0 !== p?p:"unknown",bcVBufferLevelMs:h.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",g);d.emit("bufferingComplete",{type:"bufferingComplete",time:h.time,actualStartPts:g,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:h.vBufferLevelMs,selector:h.selector,initBitrate:h.initBitrate,skipbackBufferSizeBytes:h.skipbackBufferSizeBytes});};b.SUa=function(d,h,g){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:h.track_id,trackIndex:g});};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KQa=void 0;r=a(2);c=a(17);f=r.__importDefault(a(123));l=a(9);b.KQa=function(m){if(m.vkb)return m;f.default(c.EventEmitter.prototype,m);Object.defineProperties(m,{vkb:{value:!0},Jc:{get:function(){return new l.T(this.Pe(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Ho?this.Ho():1,.01);}}});return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qvb={Iw:["minInitVideoBitrate",-Infinity],Gra:["minHCInitVideoBitrate",-Infinity],dA:["maxInitVideoBitrate",Infinity],UW:["minInitAudioBitrate",-Infinity],TW:["minHCInitAudioBitrate",-Infinity],FW:["maxInitAudioBitrate",Infinity],t8:["minAcceptableVideoBitrate",-Infinity],QW:["minAcceptableVMAF",0],iOb:["minAcceptableVMAFRebufferScalingFactor",0],Fra:["minAllowedVideoBitrate",-Infinity],gNb:["maxAllowedVideoBitrate",Infinity],GH:["minAllowedVmaf",-Infinity],c2a:["maxAllowedVmaf",Infinity],yP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],S4:["enableResolutionVMAFStreamFilter",!1],cta:["percentCapTitlesForResolutionVMAFStreamFilter",100],l$:["resolutionVMAFCappingRuleList",[]],$Za:["ignoreUserFilterOnEmptyResult",!0],VW:["minRequiredBuffer",2E4],A8:["minRequiredAudioBuffer",0],rj:["minPrebufSize",5800],w8:["minCheckBufferingCompleteInterval",200],R4:["enableMoreFrequentBufferingCompleteCheck",!1],Kra:["minimumBufferingCompleteInterval",1E4],g$:["requireDownloadDataAtBuffering",!1],q_a:["indicatorForDownloadDataAtBuffering","oncomplete"],h$:["requireSetupConnectionDuringBuffering",!1],qua:["rebufferingFactor",1],$r:["maxBufferingTime",2E3],Txa:["useMaxPrebufSize",!0],tD:["maxPrebufSize",4E4],kra:["maxRebufSize",Infinity],oCb:["fastRebufferRecoveryThreshold",Infinity],nCb:["fastRebufferRecoverBwThrehold",3E3],V6:["initialBitrateSelectionCurve",null],v_a:["initSelectionLowerBound",-Infinity],w_a:["initSelectionUpperBound",Infinity],eaa:["throughputPercentForAudio",15],Bia:["bandwidthMargin",0],Dia:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],isb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Ny:76376,scale:18862.4,gamma:3.0569}],Cia:["bandwidthMarginContinuous",!1],jsb:["bandwidthMarginForAudio",!0],Uwa:["switchConfigBasedOnInSessionTput",!0],Wja:["conservBandwidthMargin",20],fU:["conservBandwidthMarginTputThreshold",6E3],Xja:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],j$a:["switchAlgoBasedOnHistIQR",!1],hE:["switchConfigBasedOnThroughputHistory","iqr"],jra:["maxPlayerStateToSwitchConfig",-1],Jqa:["lowEndMarkingCriteria","iqr"],Fca:["IQRThreshold",.5],Joa:["histIQRCalcToUse","simple"],vt:["bandwidthManifold",{curves:[{min:.05,max:.82,Ny:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Ny:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],qu:["maxTotalBufferLevelPerSession",0],NZa:["highWatermarkLevel",3E4],Q$a:["toStableThreshold",3E4],kaa:["toUnstableThreshold",0],mwa:["skipBitrateInUpswitch",!1],kya:["watermarkLevelForSkipStart",8E3],Doa:["highStreamRetentionWindow",9E4],Kqa:["lowStreamTransitionWindow",51E4],Foa:["highStreamRetentionWindowUp",5E5],Mqa:["lowStreamTransitionWindowUp",1E5],Eoa:["highStreamRetentionWindowDown",6E5],Lqa:["lowStreamTransitionWindowDown",0],Coa:["highStreamInfeasibleBitrateFactor",.5],Xz:["lowestBufForUpswitch",9E3],S7:["lockPeriodAfterDownswitch",15E3],Oqa:["lowWatermarkLevel",15E3],Yz:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Pqa:["lowestWaterMarkLevelBufferRelaxed",!1],ura:["mediaRate",1.5],f8:["maxTrailingBufferLen",15E3],CT:["audioBufferTargetAvailableSize",262144],RZ:["videoBufferTargetAvailableSize",1048576],x2a:["maxVideoTrailingBufferSize",8388608],e2a:["maxAudioTrailingBufferSize",393216],j5:["fastUpswitchFactor",3],NVa:["fastUpswitchFactorWithoutHeaders",3],Vla:["fastDownswitchFactor",3],eA:["maxMediaBufferAllowed",27E4],rac:["minMediaBufferLen",1E4],kwa:["simulatePartialBlocks",!0],h9a:["simulateBufferFull",!0],Yja:["considerConnectTime",!0],Vja:["connectTimeMultiplier",1],z1a:["lowGradeModeEnterThreshold",12E4],A1a:["lowGradeModeExitThreshold",9E4],h2a:["maxDomainFailureWaitDuration",3E4],d2a:["maxAttemptsOnFailure",18],DVa:["exhaustAllLocationsForFailure",!0],n2a:["maxNetworkErrorsDuringBuffering",20],Z7:["maxBufferingTimeAllowedWithNetworkError",6E4],xL:["alwaysRunUnderflowTimer",!0],LVa:["fastDomainSelectionBwThreshold",2E3],v$a:["throughputProbingEnterThreshold",4E4],w$a:["throughputProbingExitThreshold",34E3],m1a:["locationProbingTimeout",1E4],TVa:["finalLocationSelectionBwThreshold",1E4],t$a:["throughputHighConfidenceLevel",.75],u$a:["throughputLowConfidenceLevel",.4],wqa:["locationStatisticsUpdateInterval",6E4],sMb:["locationSelectorPersistFailures",!0],eVa:["enablePerfBasedLocationSwitch",!1],W$b:["maxRateMaxFragmentGroups",4500],jta:["pipelineScheduleTimeoutMs",2],fA:["maxPartialBuffersAtBufferingStart",2],Hra:["minPendingBufferLen",3E3],sD:["maxPendingBufferLen",6E3],lBb:["enableNginxRateLimit",!1],U8:["nginxSendingRate",4E4],pBb:["enableRequestPacingToken",!1],PNb:["mediaRequestPacingSpeed",2],fpa:["initialMediaRequestToken",2E4],X7:["maxActiveRequestsSABCell100",2],d8:["maxPendingBufferLenSABCell100",500],v7a:["resetActiveRequestsAtSessionInit",!0],tla:["enableCprAudio",!1],ula:["enableCprVideo",!1],Hja:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],JYb:["staticPacingRateKbps",0],fRb:["paceRateSelectorAlgorithm","default"],dVa:["enablePaceReportLogging",!1],k0b:["unpacedFragmentInterval",0],$Ib:["ignorePacedRequestsThroughput",!1],ZIb:["ignoreInferredPacedRequestsThroughput",!1],q9:["pacedThresholdPct",.1],zua:["regressionAlgoPacingCoefficients",[{bufferLevelMs:0,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:0,upswitchAverageBitrate:0,maxAverageBitrate:2,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}},{bufferLevelMs:3E4,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:1,upswitchAverageBitrate:0,maxAverageBitrate:0,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}}]],Q4:["enableInitialTputLogging",!1],lra:["maxResponsesInitialTput",6],mra:["maxStreamingSkew",2E3],jNb:["maxBufferOccupancyForSkewCheck",Infinity],c1b:["useBufferOccupancySkipBack",!0],hra:["maxPendingBufferPercentage",10],PN:["maxRequestsInBuffer",120],D6:["headerRequestSize",4096],Lla:["estimateHeaderSize",!0],d$b:["headerCacheEstimateHeaderSize",!1],NH:["neverWipeHeaderCache",!1],o1b:["useSidxInfoFromManifestForHeaderRequestSize",!1],MVa:["fastPlayHeaderRequestSize",0],ON:["maxRequestSize",0],VN:["minRequestSize",65536],RW:["minBufferLenForHeaderDownloading",1E4],n9a:["smartHeaderPreDownloading",!1],WAb:["enableAllHeadersPreDownloading",!1],Oac:["onlyAllowPtsUpdatePolling",!1],oOb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],TO:["reserveForSkipbackBufferMs",15E3],msa:["numExtraFragmentsAllowed",2],yq:["pipelineEnabled",!0],NN:["maxParallelConnections",3],l1b:["usePipelineForAudio",!1],k1b:["usePipelineDetectionForAudio",!1],q9a:["socketReceiveBufferSize",0],q3:["audioSocketReceiveBufferSize",32768],QP:["videoSocketReceiveBufferSize",65536],fbb:["usePipelineDetectionForVideo",!1],sOb:["minVideoSocketReceiveBufferSize",65536],Aoa:["headersSocketReceiveBufferSize",32768],MXb:["shareDownloadTracks",!0],NXb:["shareOpenRangeTracks",!1],Tzb:["disableHeaderDownloadTracks",!1],Jra:["minTimeBetweenHeaderRequests",void 0],Caa:["updatePtsIntervalMs",1E3],Oia:["bufferTraceDenominator",0],IL:["bufferLevelNotifyIntervalMs",2E3],Lwa:["streamingStatusIntervalMs",2E3],tA:["prebufferTimeLimit",6E4],v8:["minBufferLevelForTrackSwitch",2E3],nBb:["enablePenaltyForLongConnectTime",!1],ata:["penaltyFactorForLongConnectTime",2],Hqa:["longConnectTimeThreshold",200],Nha:["additionalBufferingLongConnectTime",2E3],Oha:["additionalBufferingPerFailure",8E3],dY:["rebufferCheckDuration",6E4],bVa:["enableLookaheadHints",!1],w1a:["lookaheadFragments",2],hz:["enableOCSideChannel",!0],Nta:["probeRequestTimeoutMilliseconds",3E4],bbc:["probeRequestConnectTimeoutMilliseconds",8E3],K0:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],qBb:["enableSCByteRangeHints",!1],Bab:["updateDrmRequestOnNetworkFailure",!0],g2a:["maxDiffAudioVideoEndPtsMs",1E3],nzb:["deferAseHeaderCache",!1],VTa:["deferAseScheduling",!1],B$a:["timeBeforeEndOfStreamBufferMark",6E3],fra:["maxFastPlayBufferInMs",2E4],dra:["maxFastPlayBitThreshold",2E8],cra:["maxBufferingCompleteBufferInMs",Infinity],Psb:["bufferingCompleteOnMemoryLimit",!1],u8:["minAudioMediaRequestSizeBytes",0],C8:["minVideoMediaRequestSizeBytes",0],iNb:["maxAudioMediaRequestSizeBytes",Infinity],zNb:["maxVideoMediaRequestSizeBytes",Infinity],pNb:["maxMediaRequestSizeBytesInFraction",1],Hw:["minAudioMediaRequestDuration",0],jA:["minVideoMediaRequestDuration",0],y8:["minMediaRequestDuration",0],hNb:["maxAudioMediaRequestDuration",Infinity],yNb:["maxVideoMediaRequestDuration",Infinity],b8:["maxMediaRequestDuration",Infinity],Tha:["allowFirstRequestAggregation",!1],lOb:["minAudioMediaRequestDurationCache",0],rOb:["minVideoMediaRequestDurationCache",0],kBb:["enableMultiFragmentRequest",!1],abb:[["useHeaderCache","usehc"],!0],Sxa:[["useHeaderCacheData","usehcd"],!0],w4:["defaultHeaderCacheSize",4],RTa:["defaultHeaderCacheDataCount",4],v4:["defaultHeaderCacheDataPrefetchMs",0],nIb:["headerCacheMaxPendingData",6],e$b:["headerCachePriorityLimit",5],HZa:["headerCacheAdoptBothAV",!1],m1b:["usePipelineForBranchedAudio",!0],pub:["childBranchBatchedAmount",1E4],yD:["minimumTimeBeforeBranchDecision",2E3],uOb:["minimumAppendedMediaBeforePlayback",5E3],Uac:["parallelBranchesDuringBuffering",!1],tNb:["maxRequestsToAttachOnBranchActivation",void 0],WW:["minimumJustInTimeBufferLevel",3E3],eBb:["enableJustInTimeAppends",!1],YUa:["enableDelayedSeamless",!1],B8b:["branchEndPtsIntervalMs",250],aJb:["ignorePtsJustBeforeCurrentSegment",!1],j2a:["maxFragsForFittableOnBranching",300],wRb:["pausePlaylistAtEnd",!0],Ypb:["adaptiveParallelTimeoutMs",1E3],uM:["enableAdaptiveParallelStreaming",!1],Nia:["bufferThresholdToSwitchToSingleConnMs",45E3],Mia:["bufferThresholdToSwitchToParallelConnMs",35E3],TAb:["enableAPSForBranching",!1],Taa:["waitForPendingConnAdaptation",!1],Vra:["networkFailureResetWaitMs",2E3],Ura:["networkFailureAbandonMs",6E4],e8:["maxThrottledNetworkFailures",5],daa:["throttledNetworkFailureThresholdMs",200],Nqa:["lowThroughputThreshold",400],Pla:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],c_b:["timeAtEachBitrateRoundRobin",1E4],TVb:["roundRobinDirection","forward"],MIb:["httpsConnectErrorAsPerm",!1],h3a:["mp4ParsingInNative",!1],ei:["enableManagerDebugTraces",!1],O1a:["managerDebugMessageInterval",1E3],N1a:["managerDebugMessageCount",20],M3a:["notifyManifestCacheEom",!0],vBb:["enableUsingHeaderCount",!1],s9a:["sourceBufferInOrderAppend",!0],TD:["requireAudioStreamToEncompassVideo",!1],SPa:["allowAudioToStreamPastVideo",!1],VSa:["countGapInBuffer",!1],TPa:["allowCallToStreamSelector",!1],kRa:["bufferThresholdForAbort",2E4],Gwa:["ase_stream_selector","optimized"],GQa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],dpa:["initBitrateSelectorAlgorithm","default"],Tia:["bufferingSelectorAlgorithm","default"],VYb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],gVa:["enableThroughputTraceResearchData",!1],x$a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Xw:["researchEnvironmentEnabled",!1],sBb:["enableStreamSelectionAugmentData",!1],Vrb:["augmentDataNumOfChunks",30],ITa:["ase_ls_failure_simulation",""],Cka:["ase_dump_fragments",!1],Eka:["ase_location_history",0],Fka:["ase_throughput",0],KTa:["ase_simulate_verbose",!1],Zg:["stallAtFrameCount",void 0],w9a:["stallAtFrameCountAudio",void 0],$qa:["marginPredictor","simple"],Xab:["useBackupUnderflowTimer",!0],$Ob:["noDuplicateUnderflowTimer",!1],occ:["useManifestDrmHeader",!0],pcc:["useOnlyManifestDrmHeader",!0],Wra:["networkMeasurementGranularity","video_location"],ROb:["netIntrStoreWindow",36E3],yac:["minNetIntrDuration",8E3],Tlb:["fastHistoricBandwidthExpirationTime",10368E3],rmb:["bandwidthExpirationTime",5184E3],Slb:["failureExpirationTime",86400],lOa:["historyTimeOfDayGranularity",4],Plb:["expandDownloadTime",!0],bnb:["minimumMeasurementTime",500],anb:["minimumMeasurementBytes",131072],oob:["throughputMeasurementTimeout",2E3],nob:["initThroughputMeasureDataSize",262144],Lmb:["historicBandwidthUpdateInterval",2E3],$mb:["minimumBufferToStopProbing",1E4],i8b:["throughputPredictor","ewma"],uva:["secondThroughputEstimator","slidingwindow"],X7a:["secondThroughputMeasureWindowInMs",3E5],h8b:["throughputMeasureWindow",5E3],j8b:["throughputWarmupTime",5E3],g8b:["throughputIQRMeasureWindow",1E3],T7b:["IQRBucketizerWindow",15E3],k2a:["maxIQRSamples",100],W2a:["minIQRSamples",5],d8b:["connectTimeHalflife",10],Y7b:["responseTimeHalflife",10],uNa:["historicThroughputHalflife",14400],tNa:["historicResponseTimeHalflife",100],sNa:["historicHttpResponseTimeHalflife",100],rDa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],YNa:["minReportedNetIntrDuration",4E3],f8b:["throughputBucketMs",500],W7b:["bucketHoltWintersWindow",2E3],Hlb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Qlb:["experimentalFilter",["throughput-wssl"]],Rfa:["filterDefinitionOverrides",{}],wlb:["defaultFilter","throughput-ewma"],Wob:["secondaryFilter","throughput-sw"],JK:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],yla:["enableWsslEstimate",!1],Z$b:["maxWsslRequestSize",131072],Y$b:["maxWsslRequestRatio",.2],Nbb:["wsslAggregationMethod","max"],SU:["enableSessionHistoryReport",!0],qla:["earlyStageEstimatePeriod",1E4],W0a:["lateStageEstimatePeriod",3E4],c8:["maxNumSessionHistoryStored",10],B8:["minSessionHistoryDuration",3E5],uIb:["highAndStableModelName","baseline"],wla:["enableHighAndStablePredictor",!1],z8:["minNumSessionHistory",5],x8b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],F6:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],vIb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Gha:["addHeaderDataToNetworkMonitor",!0],vwa:["startMonitorOnLoadStart",!1],Oua:["reportFailedRequestsToNetworkMonitor",!1],y9:["periodicHistoryPersistMs",0],q$:["saveVideoBitrateMs",0],$W:["needMinimumNetworkConfidence",!0],Gia:["biasTowardHistoricalThroughput",!1],wMb:["logMemoryUsage",!1],Iu:["probeServerWhenError",!0],yy:["allowSwitchback",!0],iI:["probeDetailDenominator",100],a8:["maxDelayToReportFailure",300],wr:["allowParallelStreaming",!1],jac:["mediaPrefetchDisabled",!1],T2a:["minBufferLevelToAllowPrefetch",5E3],s$:["seamlessAudio",!1],ubc:["seamlessAudioProfiles",[]],vbc:["seamlessAudioProfilesAndTitles",{}],sva:["seamlessAudioMaximumSyncError",void 0],tva:["seamlessAudioMinimumSyncError",void 0],H_a:["insertSilentFrames",0],lpa:["insertSilentFramesOnSeek",!1],I_a:["insertSilentFramesOnSeekForTitles",[]],GJb:["insertSilentFramesOnSeekCount",3],H9b:["forceDiscontinuityAtTransition",!0],Rwa:["supportAudioResetOnDiscontinuity",void 0],uZb:["supportAudioEasingOnDiscontinuity",void 0],JAb:["editCompleteFragments",!0],vOb:["minimumAudioFramesPerFragment",1],cG:["applyProfileTimestampOffset",!1],cm:["applyProfileStreamingOffset",!0],a6a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Prb:["audioProfilesNonSyncSamples",["xheaac-dash"]],W_b:["truncateEndOfStreamAudio",!1],e1b:["useDpiAssumedAacEncoderDelay",!0],vra:["mediaSourceSupportsNegativePts",!1],UN:["minAudioPtsGap",void 0],Nrb:["audioOverlapGuardSampleCount",2],fVa:["enableRecordJSBridgePerf",!1],Kca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],$Zb:["throughputThresholdSelectorParam",0],$0b:["upswitchDuringBufferingFactor",2],Zqb:["allowUpswitchDuringBuffering",!1],LSa:["contentOverrides",void 0],bka:["contentProfileOverrides",void 0],Ioa:["hindsightDenominator",0],Hoa:["hindsightDebugDenominator",0],G6:["hindsightAlgorithmsEnabled",[]],H6:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],iQa:["appendMediaRequestOnComplete",!1],Saa:["waitForDrmToAppendMedia",!1],s5:["forceAppendHeadersAfterDrm",!1],Gka:["declareBufferingCompleteAtSegmentEnd",!1],Cw:["maxActiveRequestsPerSession",void 0],rqa:["limitAudioDiscountByMaxAudioBitrate",!1],Xha:["appendFirstHeaderOnComplete",!0],bZ:["strictBufferCapacityCheck",!1],CL:["aseReportDenominator",0],l3:["aseReportIntervalMs",3E5],taa:["translateToVp9Draft",!1],BP:["switchableAudioProfiles",[]],Qrb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],k$a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Srb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],v2a:["maxStartingVideoVMAF",110],tu:["minStartingVideoVMAF",1],sT:["activateSelectStartingVMAF",!1],y$:["selectStartingVMAFTDigest",-1],ZO:["selectStartingVMAFMethod","fallback"],b8a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],rA:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Uzb:["disablePtsStartsEvent",!0],tua:["recordFirstFragmentOnSubBranchCreate",!0],C2a:["mediaCacheConvertToBinaryData",!1],pra:["mediaCacheSaveOneObject",!1],a2a:["markRequestActiveOnFirstByte",!1],N4:["earlyAppendSingleChildBranch",!0],ZA:["useNativeDataViewMethods",!0],d1b:["useCorrectDrainingAmounts",!0],RU:["enableNewAse",!1],Faa:["useNewApi",!1],C4:["aseDiagnostics",[{lj:"queue-audit",enabled:!0},{lj:"task-audit",enabled:!0},{lj:"trace-ShimSession",enabled:!0},{lj:"trace-engine",enabled:!0},{lj:"trace-RequestPacer",enabled:!0},{lj:"trace-BufferStateTracker",enabled:!0},{lj:"trace-GraphStreamingProcess",enabled:!0},{lj:"trace-AsePlaygraph",enabled:!0},{lj:"playgraph-branch-audit",enabled:!0}]],Gsb:["branchDistanceThreshold",6E4],Y7:["maxAllowedOutstandingRequests",4],Ira:["minStreamableConcurrencyWindow",3E3],xNb:["maxStreamableConcurrencyWindow",Infinity],Hwa:["streamableConcurrencyFactor",.3],TT:["bufferingConcurrencyWindow",7800],Jia:["branchCreationThreshold",12E4],P4:["enableDiscontiguousBuffering",!1],xma:["forceImmediateTransitionTypeForTitles",[]],wma:["forceImmediateTransitionExitZone",0],RSa:["contiguousBufferMultiplier",3],PSa:["contiguousBufferMinimumAudio",1048576],QSa:["contiguousBufferMinimumVideo",8388608],JSb:["prefetchBudgetInBytes",0],C6a:["rebufferRiskHalfLife",1E4],Qxa:["useBufferSizeLimiter",!1],p1b:["useStaticBufferSizeLimiter",!1],MSb:["prefetchWeightBudget",32],Lra:["minimumDownstreamBranchProbability",.075],Rxa:["useExitZones",!0],NSb:["prefetchWhilePlaying",!0],SSb:["prefetcherSoftReset",!0],B5a:["playgraphDefaultWeight",65520],ozb:["delayNotificationOfEoS",!1],UNb:["memDeadlockShouldCheckMemory",!0],TNb:["memDeadlockOverageThreshold",.9],SNb:["memDeadlockMaxUtilizationPercentage",.5],rta:["playerPtsPadding",1],SW:["minFragmentVmaf",void 0],sla:["enableCombinedPlaygraphs",!1]};b.mm=b.qvb;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ar=b.$q=b.cr=b.$z=b.h1=void 0;c=a(2);f=a(115);Object.defineProperties(b,{$q:{enumerable:!0,get:function(){return f.$q;}}});Object.defineProperties(b,{ar:{enumerable:!0,get:function(){return f.ar;}}});Object.defineProperties(b,{$z:{enumerable:!0,get:function(){return f.$z;}}});Object.defineProperties(b,{h1:{enumerable:!0,get:function(){return f.h1;}}});l=c.__importDefault(a(6));r=(function(m){function d(h,g,k,n,q){return m.call(this,d.console,h,g,k,n,q) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new l.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.cr);b.cr=r;},function(r,b,a){var c;b=a(176);c=a(953);a=b(function(f,l,m){return c(function(d,h,g){return f(h,g);},l,m);});r.exports=a;},function(r,b,a){var c,f;b=a(176);c=a(410);f=a(954);a=b(function g(m,d,h){return f(function(k,n,q){return c(n) && c(q)?g(m,n,q):m(k,n,q);},d,h);});r.exports=a;},function(r,b,a){var c;b=a(176);c=a(255);a=b(function(f,l,m){var d,h;d={};for(h in l){c(h,l) && (d[h]=c(h,m)?f(h,l[h],m[h]):l[h]);}for(h in m){c(h,m) && !c(h,d) && (d[h]=m[h]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(411);c=a(964);a=a(974);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=[];c < f;){b(a[c]) && (l[l.length]=a[c]);c+=1;}return l;};},function(r,b,a){var c,f;b=a(129);c=a(413);f=a(959);a=b(function(l){return c(l)?!0:!l || "object" !== typeof l || f(l)?!1:1 === l.nodeType?! !l.length:0 === l.length?!0:0 < l.length?l.hasOwnProperty(0) && l.hasOwnProperty(l.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,f){return this.f(c,f);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(257);b=a(59)(function(f,l){return c(f.length,function(){return f.apply(l,arguments);});});r.exports=b;},function(r,b,a){var c,f;b=a(59);c=a(414);f=(function(){function l(m,d){this.e_=d;this.f=m;}l.prototype["@@transducer/init"]=c.xb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.e_["@@transducer/step"](m,d):m;};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c,f;c=a(255);f=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === f.call(arguments)?function(l){return "[object Arguments]" === f.call(l);}:function(l){return c("callee",l);};};},function(r,b,a){var c;b=a(129);c=a(965);a=b(function(f){return c(function(){return Array.prototype.slice.call(arguments,0);},f);});r.exports=a;},function(r,b,a){var c,f,l,m,d;b=a(59);c=a(416);f=a(417);l=a(967);m=a(968);d=a(973);a=b(function(h,g){return f(d(l,0,m("length",g)),function(){var k,n;k=arguments;n=this;return h.apply(n,c(function(q){return q.apply(n,k);},g));});});r.exports=a;},function(r,b,a){var f,l;function c(m,d,h){return function(){var p;for(var g=[],k=0,n=m,q=0;q < d.length || k < arguments.length;){if(q < d.length && (!l(d[q]) || k >= arguments.length))p=d[q];else (p=arguments[k],k+=1);g[q]=p;l(p) || --n;q+=1;}return 0 >= n?h.apply(this,g):f(n,c(m,g,h));};}f=a(257);l=a(177);r.exports=c;},function(r,b,a){b=a(59)(function(c,f){return f > c?f:c;});r.exports=b;},function(r,b,a){var c,f;b=a(59);c=a(969);f=a(971);a=b(function(l,m){return c(f(l),m);});r.exports=a;},function(r,b,a){var c,f,l,m,d,h;b=a(59);c=a(412);f=a(416);l=a(256);m=a(970);d=a(417);h=a(415);a=b(c(["fantasy-land/map","map"],m,function(g,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return g.call(this,k.apply(this,arguments));});case "[object Object]":return l(function(n,q){n[q]=g(k[q]);return n;},{},h(k));default:return f(g,k);}}));r.exports=a;},function(r,b,a){var c,f;b=a(59);c=a(414);f=(function(){function l(m,d){this.e_=d;this.f=m;}l.prototype["@@transducer/init"]=c.xb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.e_["@@transducer/step"](m,this.f(d));};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c;b=a(59);c=a(972);a=b(function(f,l){return c([f],l);});r.exports=a;},function(r,b,a){b=a(59)(function(c,f){for(var l=0;l < c.length;){if(null == f)return;f=f[c[l]];l+=1;}return f;});r.exports=b;},function(r,b,a){b=a(176);a=a(256);a=b(a);r.exports=a;},function(r,b,a){var c,f;c=a(975);b=a(59);f=a(411);a=b(function(l,m){return f(c(l),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.QZa=void 0;r=a(0);c=a(422);f=a(977);l=a(424);m=a(978);d=a(418);h=a(1003);g=a(432);k=a(1005);n=a(419);q=a(1006);p=a(420);v=a(1007);t=a(436);u=a(260);w=a(1008);x=a(433);y=a(1009);z=a(1010);A=a(421);B=a(1012);b.QZa=new r.pd(function(D){D(c.lDa).to(f.kDa).aa();D(l.pDa).to(m.oDa).aa();D(d.YCa).to(h.XCa).aa();D(g.$Ca).to(k.ZCa).aa();D(x.jAa).to(y.iAa).aa();D(n.IIa).to(q.HIa).aa();D(p.Gea).to(v.JKa);D(t.kR).to(z.jR);D(A.nR).to(B.mR);D(u.uca).to(w.sDa);});},function(r,b,a){var f,l,m,d;function c(h,g){this.LIb=h;this.log=g.hb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;r=a(1);f=a(0);l=a(7);m=a(423);d=a(87);c.prototype.download=function(h){var k,n,q,p,v;function g(t){if(v < n.length - 1)return (!1,v++,k.AUa(n[v].url,q,p).catch(g));throw t;}k=this;n=h.urls;q=h.offset;p=h.length;v=0;return this.AUa(n[v].url,q,p).catch(g);};c.prototype.AUa=function(h,g,k){return this.LIb.download({url:h,withCredentials:!1,responseType:d.ResponseType.Qcb,AC:"hls_headers",Js:!0,offset:g,length:k},{u2a:1});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.vDa)),r.__param(1,f.l(l.qb))],a);b.kDa=a;},function(r,b,a){var f,l,m;function c(d){this.sa=d.hb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;r=a(1);f=a(0);l=a(261);a=a(7);c.prototype.parse=function(d,h,g){d=new l.cr(this.sa,{mediaType:d},h,["sidx"]).parse();if(d.zm && d.U)return this.d3(d.U,g);};c.prototype.d3=function(d,h){var g,k,n,q,p;g=0;k=0;n=0;q=d.offset;p=[];d.sd.forEach(function(v,t){k+=v;n+=d.sizes[t];if(1E3 * k / d.S >= h || t === d.sd.length - 1)(p.push({duration:k / d.S,Y:g / d.S,byteOffset:q,Ysb:n}),g+=k,k=0,q+=n,n=0);});return p;};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.qb))],m);b.oDa=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.wc();this.bc=1 === this.version?this.Ui([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Ui([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};l.Vb="mvhd";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="trak";l.Na=!0;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.wc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{ELb:"int16"},{$qb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.bc=this.Ui(m);this.bc.B_b=! !(this.flags & 1);this.bc.C_b=! !(this.flags & 2);this.bc.D_b=! !(this.flags & 4);this.bc.E_b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Vb="tkhd";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.wc();this.bc=this.Ui(1 === this.version?[{y5:"int64"}]:[{y5:"int32"}]);return !0;};l.Vb="mehd";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.bc=this.Ui([{EIb:"int32"},{K1b:"int32"}]);return !0;};l.Vb="pasp";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.bc=this.Ui([{Nsb:"int32"},{maxBitrate:"int32"},{yia:"int32"}]);return !0;};l.Vb="btrt";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.Kl();this.u.Kl();for(this.oG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.oG.push(this.u.Kl());}return !0;};l.Vb="ftyp";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(88);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.bc=this.Ui([{DSb:"int32"},{PV:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.bc.PV=f.ho(this.bc.PV);return !0;};m.Vb="hdlr";m.Na=!1;return m;})(a(33).Ac);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(104);l=a(263);m=a(178);r=a(33);d=a(105);a=(function(h){function g(){return null !== h && h.apply(this,arguments) || this;}c.__extends(g,h);g.prototype.parse=function(){this.wc();this.qm=this.u.xa();return !0;};g.prototype.Pt=function(k){var n;n=Object.keys(this.Ua);n.length && (n=n[0],this.Ua[n].length && (n=this.Ua[n][0],n instanceof m.default?this.qa=new l.T(n.oz,n.samplerate):n instanceof d.default && (n=n.Ua[f.UE]) && n.length && (n=n[0].bc,1E3 !== n.az && 1001 !== n.az || 0 !== n.RH % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.RH + "/" + n.az):this.qa=new l.T(n.az,n.RH)),this.qa && (k.qa=this.qa)));return !0;};g.prototype.lY=function(k){void 0 !== this.Ua[k] && 0 !== this.Ua[k].length && (this.la.ah(this.qm - 1,this.byteOffset + 12),k=this.Ua[k][0],this.He(k.byteLength,k.byteOffset));};g.Vb="stsd";g.Na=!0;return g;})(r.Ac);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Hma=this.u.vc(2);this.Kia=this.u.vc(5);this.Lia=this.u.vc(3);this.wha=this.u.vc(3);this.u.vc(1);this.u.vc(5);this.u.vc(5);return !0;};l.Vb="dac3";return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.psa=this.u.Wc() & 7;this.Owa=[];for(var m=0;m < this.psa;m++){d={Hma:this.u.vc(2),Kia:this.u.vc(5),Lia:this.u.vc(5),wha:this.u.vc(3),HLb:this.u.vc(1),osa:this.u.vc(4)};0 < d.osa?d.Ttb=this.u.vc(9):this.u.vc(1);this.Owa.push(d);}return !0;};l.Vb="dec3";return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.yY=this.u.Kl();f.ga && this.u.console.trace("SchemeTypeBoxTranslator: " + this.yY);"cenc" === this.yY && (this.u.offset-=4,f.ga && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.la.b_("piff"));this.u.xa();return !0;};m.Vb="schm";m.Na=!1;return m;})(f.Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.mb();this.nba=this.u.mb();this.u.mb();this.u.mb();this.u.mb();this.VY=this.IF(this.u.mb() & 31);this.IF(this.u.mb());this.wA=this.VY.length?this.VY[0][0]:this.nba;this.WS=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.wA || 110 === this.wA || 122 === this.wA || 144 === this.wA) && (this.u.mb(),this.u.mb(),this.IF(this.u.mb()));m=this.startOffset + this.length - this.WS;0 < m && this.He(m,this.WS);return !0;};l.prototype.IF=function(m){var g;for(var d=[],h=0;h < m;++h){g=this.u.Wc();d.push(this.u.AA(g));}return d;};l.Vb="avcC";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Pt=function(){var m;m=this.Al("esds");if(m=m && m.gca.Al(5))this.oz=m.oz;return !0;};l.Vb="mp4a";l.Na=!0;return l;})(a(178).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(265);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.gca=f.FQ.aY(this.u);return !0;};m.Vb="esds";m.Na=!1;return m;})(a(33).Ac);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(104);a=a(33);f=r.UE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.wc();this.bc=this.Ui([{RH:"int32"},{az:"int16"}]);return !0;};m.Vb=f;m.Na=!1;return m;})(a.Ac);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,h,g,k;this.wc();m=this.Ui([{fJ:"int32"},{xU:"int32"},{Yy:"int32"},{$y:"int32"},{Zy:"int32"}]);d=m.fJ;h=m.xU;g=m.Yy;k=m.Zy;m=m.$y;this.bc={trackId:d,gzb:h,Xy:g,hzb:k,izb:m};this.fJ=d;this.xU=h;this.Yy=g;this.$y=m;this.Zy=k;return !0;};l.Vb="trex";l.Na=!1;return l;})(a(33).Ac);b.default=r;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(997);l=a(269);m=a(150);d=a(263);h=a(33);r=a(427);g=a(428);k=a(430);n=a(151);q=a(262);p=a(104);v=a(431);a=(function(){function t(u,w,x,y,z,A){this.console=u;this.stream=w;this.Nh=y;this.Mha=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.xZa=n.cna();}t.path=function(u,w){return w.reduce(function(x,y){return x && x.Ua[y] && x.Ua[y][0];},u);};t.sna=function(u){return u && u.oG && -1 !== u.oG.indexOf("mcl0")?"mcl0":void 0;};t.cma=function(u,w){var x,y;m.assert("mcl0" === u,"Unsupported McClearen brand");x=w.U;u=x.sd;w=new d.T(120,1).Yf(x.S).oc;y=0;for(x=x.gl;y < u.length && x < w;){x+=u[y++];}return y;};t.prototype.parse=function(u){var w;w=this.nva();if(!w.done){if(w.aX)return {zm:!1,LPa:w.aX};this.console.error("Scan error: " + w.error);return {zm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);u=this.Psa(u);return u.done?this.$ja():(this.console.error("Parse error: " + u.error),{zm:!1,parseError:u.error || "unknown mp4 parse error"});};t.prototype.un=function(u){return h.Ac.un(this,u);};t.prototype.Al=function(u){return h.Ac.Al(this,u);};t.prototype.nva=function(){var u,w;u=new v.Aca(this.Nh,this.Mha?[p.Lx,p.Kx]:[],this.config && this.config.SZb || ["moof",p.wR],this.config && this.config.yX);w=c.__assign(c.__assign({},this.config),{YH:!1});return new k.wE(t.yI,u,this.view,this.console,w).parse();};t.prototype.Psa=function(u){var w,x,y;w=new v.AQ(this.view.byteLength);x=Object.create(q.wq.Ua);this.config && ((this.config.t9 || this.config.saa || this.config.bE) && f(q.wq.wI,x),this.config.taa && f(q.wq.mxa,x),this.config.saa && f(q.wq.CZ,x));y=c.__assign(c.__assign({},this.config),{YH:!0});this.mc=new k.wE(x,w,this.view,this.console,y);u=this.mc.parse(u);u.done && (this.Ua=this.mc.Ua);return u;};t.prototype.$ja=function(){var u,w,x,y,z,A;u={zm:!0};w=t.path(this,["moov"]);x=t.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.t9)if(x)(u.qa=x.qa,u.$Vb=x.Ua);else return {zm:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[p.BR])) && (u.kVa={wvb:y.nj,rH:y.rH,hLb:!1});if(y=t.path(w,["trak","mdia","mdhd"]))u.S=y.S;if(y=t.path(w,["mvex","trex"]))u.Xy=y && y.bc.Xy;u.Xy && u.S && (u.qa=new d.T(u.Xy,u.S));if(y=t.path(this,["sidx"])){z=t.path(this,[p.Lx]);z=z && z.nra;A=t.path(this,[p.Kx]);A=A && A.bi;u.U=y.U;u.JH=z;u.bi=A;}if(z=this.Ua.vmaf && this.Ua.vmaf[0])u.$i=z.$i;if(this.config.I7a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.bE && x && 1 < x.qm && y && (u.Vg=this.bE(x,y)),void 0 === u.Vg && (w=this.mc.fz?l.concat(this.mc.ta()):this.view.buffer,u.Vg=[{Pd:0,data:w}]));else return {zm:!1,parseError:"Missing movie box"};u.zm=!0;u.zX=this.mc.offset;return u;};t.prototype.trim=function(u){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.mc.trim(u);this.view=new DataView(w);};t.prototype.bE=function(u,w){var x,y,z;x=Object.keys(u.Ua);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.sna(x);if(z)return (x=[],this.mc.$ta(),u.lY("encv"),x.push({Pd:0,Rk:!1,data:l.concat(this.mc.ta())}),this.mc.yta(),u.lY(y[0]),u=t.cma(z,w),x.push({Pd:u,Rk:!0,data:l.concat(this.mc.ta())}),x);}};t.yI={};return t;})();b.cr=a;a.yI[p.VE]=r.default;a.yI[p.WE]=g.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(150);l=a(269);m=a(88);r=a(999);d=(function(){function h(g){g?(this.If=g.If.slice(),this.bh=g.bh.slice(),this.Rd=g.Rd.slice(),this.trim=g.trim):(this.If=[],this.bh=[],this.Rd=[]);}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === this.If.length && 0 === this.bh.length && 0 === this.Rd.length;},enumerable:!0,configurable:!0}});return h;})();r=(function(h){function g(k,n,q){k=h.call(this,k,n,q) || this;k.LU=[];k.lb=new d();return k;}c.__extends(g,h);g.cia=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.Yu?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.Yu?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Yu);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(g.prototype,{fz:{get:function(){return !this.lb.empty;},enumerable:!0,configurable:!0}});g.prototype.dB=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};g.prototype.mya=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:2,Yu:!1});void 0 === n && (this.offset+=2);};g.prototype.ah=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:4,Yu:!1});void 0 === n && (this.offset+=4);};g.prototype.nya=function(k,n){this.lb.bh.push({offset:void 0 !== n?n:this.offset,value:k,size:8,Yu:!1});void 0 === n && (this.offset+=8);};g.prototype.b_=function(k){this.ah(m.nS(k));};g.prototype.qJ=function(k,n){this.lb.Rd.push({offset:this.offset,vl:k,value:n});this.offset+=4;};g.prototype.He=function(k,n,q){this.lb.If.push({offset:n,remove:k,$a:q});};g.prototype.Qu=function(k,n,q,p){this.lb.If.push({offset:q,remove:k,replace:n,$a:p});};g.prototype.trim=function(k){this.lb.trim=k;};g.prototype.$ta=function(){this.LU.push(new d(this.lb));};g.prototype.yta=function(){this.lb=this.LU.pop() || new d();};g.prototype.ta=function(){var k,n,q,p,v,t,u;k=this;if(0 === this.lb.If.length && 0 === this.lb.bh.length && 0 === this.lb.Rd.length)return [void 0 === this.lb.trim?this.view.buffer:this.view.buffer.slice(0,this.lb.trim)];this.lb.If.sort(function(w,x){return w.offset - x.offset;});this.lb.bh.sort(function(w,x){return w.offset - x.offset;});this.$ua();n=this.$la();q=this.view.buffer.slice(0,n);p=new DataView(q);this.lb.bh.forEach(g.cia.bind(void 0,p));this.Hxa(p);this.Fxa(p);v=[];t=void 0 !== this.lb.trim?Math.min(this.lb.trim,this.view.byteLength):this.view.byteLength;u=0;this.lb.If.filter(function(w){return w.offset <= t;}).forEach(function(w){w.offset > u && (v.push(p.buffer.slice(u,w.offset)),w.offset > p.byteLength && p !== k.view && (p=k.view,v.push(p.buffer.slice(n,w.offset))));w.replace && v.push(w.replace);u=w.offset + w.remove;});u < n && v.push(q.slice(u));u < t && v.push(this.view.buffer.slice(Math.max(q.byteLength,u),t));return v;};g.prototype.$la=function(){var k,n,q;k=[];n=this.lb.bh[this.lb.bh.length - 1];q=this.lb.Rd[this.lb.Rd.length - 1];n && k.push(n.offset + n.size);q && k.push(q.offset + 4);this.lb.If.filter(function(p){return p.$a;}).forEach(function(p){return k.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.lb.trim?Math.min(n,this.lb.trim):n;};g.prototype.$ua=function(){this.lb.If=this.lb.If.reduce(function(k,n){var q,p;if(0 === k.length)return (k.push(n),k);q=k[k.length - 1];p=q.offset + q.remove;n.offset >= p?k.push(n):n.offset + n.remove > p && (f.assert(q.$a === n.$a),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?l.concat(q.replace,n.replace):n.replace));return k;},[]);};g.prototype.Hxa=function(k){var n;n=this;this.lb.Rd.forEach(function(q){var p,v,t,u;p=k;v=q.offset;n.lb.If.some(function(w){return w.offset <= q.offset && w.replace && w.offset + w.replace.byteLength >= q.offset + 4?(p=new DataView(w.replace),v=q.offset - w.offset,!0):!1;});t=q.vl + (void 0 !== q.value?q.value:p.getInt32(v));u=n.lb.If.reduce(function(w,x){return x.offset > q.vl && x.offset < t?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);p.setInt32(v,t - q.vl - u);});};g.prototype.Fxa=function(k){this.lb.If.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.$a;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - q);n=n.parent;}});};return g;})(r.Wea);b.Vea=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(151);a(151);f=a(88);r=(function(){function l(m,d,h){this.view=m;this.console=d;this.config=h;this.view=m;this.console=d;this.En=this.Fy=this.offset=0;}l.prototype.$ma=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.vc=function(m){for(;this.En < m;){this.Fy=(this.Fy << 8) + this.mb();this.En+=8;}this.En-=m;return this.Fy >>> this.En & (1 << m) - 1;};l.prototype.mb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.Wc=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.xa=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.lI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.Zsa=function(m,d){var h;h=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (h & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * h + m;};l.prototype.Sd=function(m,d){m=this.Zsa(m,d);this.offset+=8;return m;};l.prototype.$sa=function(m,d){var h;h=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + m;};l.prototype.mua=function(){var m;m=this.$sa(void 0,void 0);this.offset+=8;return m;};l.prototype.Kl=function(){return f.ho(this.xa());};l.prototype.CA=function(){var d,h,g,k,n,q;function m(p,v){return ("000000" + p.toString(16)).slice(2 * -v);}d=this.xa(!0);h=this.Wc(!0);g=this.Wc(!0);k=this.Wc();n=this.Wc();q=this.xa();return [m(d,4),m(h,2),m(g,2),m(k,2),m(n,2) + m(q,4)].join("-");};l.prototype.jua=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.hua=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var h=this.mb();0 !== h && 0 <= --m;){d.push(h);h=this.mb();}return String.fromCharCode.apply(null,d);};l.prototype.AA=function(m){var d,h;void 0 === d && (d=1);void 0 === h && (h=!0);return this.Lh(this.config.ZA && c.joa || c.mq,1,m,d,h);};l.prototype.fua=function(m,d,h){var g;void 0 === d && (d=2);void 0 === h && (h=!0);void 0 === g && (g=!1);return this.Lh(this.config.ZA && c.hoa || c.xz,2,m,d,h,g);};l.prototype.zA=function(m,d,h){var g;void 0 === d && (d=4);void 0 === h && (h=!0);void 0 === g && (g=!1);return this.Lh(this.config.ZA && c.ioa || c.Zt,4,m,d,h,g);};l.prototype.kua=function(){for(var m=this.mb(),d=m & 127;m & 128;){m=this.mb();d=d << 7 | m & 127;}return d;};l.prototype.Lh=function(m,d,h,g,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,h,g,n);this.offset=k || !g || g === d?this.offset + h * (g || d):this.offset + d;return m;};return l;})();b.Wea=r;},function(r,b,a){var l,m,d,h;function c(g,k,n,q){m.call(this,g,k,n,q);}function f(g,k,n){m.call(this,g,k,n,void 0);}l=a(104);m=a(270).$q;d=a(429);h=a(88).nS;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.Yfa=function(g,k){return "string" === typeof k?d[k]:k?d.reset[g] || d.rwa[g]:d.rwa[g];};f.prototype.Eua=function(g,k,n){return this.ta(g,k,!1,n,void 0);};f.prototype.Iua=function(g,k,n){return this.ta(g,k,!0,n,void 0);};f.prototype.ta=function(g,k,n,q,p){var t,u,w,x,y,z,A,B,D,E,F,C,G,J;function v(K){u=t[K];w=u.Qh("traf");if(void 0 === w || void 0 === w.bk)return !1;A=w.Qh("tfdt");if(void 0 === A)return !1;x=w.Qh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Ua.moof;if(!t || 0 === t.length)return !1;if(void 0 !== g){y=g;for(g=0;g < t.length;++g){if(!v(g,this.mc.console.trace))return !1;if(x.Kb > y || n && x.Kb === y)break;y-=x.Kb;}}else if((g=n?t.length - 1:0,!v(g,this.mc.console.trace)))return !1;if(n && g < t.length - 1){z=t[g + 1];this.mc.He(this.Dyb - z.startOffset,z.startOffset);}else !n && 0 < g && this.mc.He(u.startOffset,0);z=w.Qh("tfhd");if(void 0 === z)return !1;A=w.Qh("tfdt");B=x.Kb;D=w.Qh("saiz");E=w.Qh("saio");F=w.Qh(l.AR);C=w.Qh("sbgp");if(!(!D && !E || D && E))return !1;G=w.Qh("sdtp");if(this.Ua.mdat && g < this.Ua.mdat.length)J=this.Ua.mdat[g];else if(g !== t.length - 1)return !1;void 0 === y && (y=n?x.Kb:0);if(x.ta(w,z,J || this.mc,k,y,w.bk,n))x.fz && (!n && A && A.ta(x.pwa),D && E && (D.ta(x.Mq,n),E.ta(F?0:D.vI,w.bk,n)),F && F.ta(x.Mq,n),G && G.ta(x.Mq,B,n),C && C.ta(x.Mq,n));else if(!n){if(g === t.length - 1)return !1;this.mc.He(t[g + 1].startOffset - u.startOffset,u.startOffset);}else if(0 === x.Mq)return !1;q && (k=this.Yfa(this.stream.profile,p)) && x.Lua(w,z,J,n,q,k);n=this.mc.ta();q=n.reduce(function(K,I){return K + I.byteLength;},0);n={Kd:n,length:q,Nn:this.mc.view.byteLength};x.fz && !J && (n.Gq=w.bk + x.Gq,n.Vi=x.Vi);return n;};r.exports={ar:f,$z:function(g){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,g + 8);n.setUint32(4,h("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(270);f=a(269);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.ta=function(d){var h,g,k,n;h=this;if(!this.parse().done)return !1;g=this.Ua.moov;if(!g || 0 === g.length)return !1;k=g[0].Al("tenc");if(!k)return !1;n=new Uint8Array(k.nj);d.forEach(function(q){for(var p=q.from,v=!0,t=0;t < p.length;t++){if(n[t] !== p[t]){v=!1;break;}}v && h.mc.Qu(q.from.length,q.to,k.rH);});return f.concat(this.mc.ta());};return m;})(r.$q);b.RJ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Oj || (b.Oj={});r[r.Ub=0]="AUDIO";r[r.Lb=1]="VIDEO";},function(r,b,a){var d,h,g,k,n,q,p,v,t,u,w,x;function c(y,z,A){this.wU=z;this.Dc=y.filter(function(B){return B.vxa[p.Wm.s1];}).map(function(B){return {track:B,stream:B.vxa[p.Wm.s1],id:B.EUa[p.Wm.s1]};});A || (this.Dc=this.Dc.filter(function(B){return B.track.rg === z;}));}function f(y,z,A){var B;this.VI=z;this.tu=A;B=y[0];this.eJ=B.streams.map(function(D){return {track:B,nN:D.x9a,stream:D};});}function l(y,z,A,B,D){function E(F,C){return F.bitrate > C.bitrate?F:C;}this.log=y;this.VI=A;this.wU=B;this.eJ=z.map(function(F){var C;C=F.streams.reduce(E);return {track:F,nN:C.NA?C.NA.offset + C.NA.size:void 0,stream:C};});D || (this.eJ=this.eJ.filter(function(F){return F.track.rg === B;}));}function m(y,z,A,B,D,E){this.pIb=y;this.qIb=z;this.tSb=A;this.Ntb=B;this.fH=D;this.Vf=E;this.sa=E.hb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Yjb=b.jkb=b.wcb=b.XCa=void 0;r=a(1);d=a(0);h=a(261);g=a(422);k=a(424);n=a(3);q=a(41);p=a(44);v=a(432);t=a(433);u=a(260);w=a(7);x=a(1004);m.prototype.Ii=function(y,z){var A,B,D,E,F,C;A=this;E=y.uc;y=this.ZDb(E,z);F=this.uHb(E,z);C=null !== (D=null === (B=E.eY) || void 0 === B?void 0:B.GP) && void 0 !== D?D:E.tZ.find(function(G){var J;return G.id === (null === (J=E.x4) || void 0 === J?void 0:J[0].$9a);}).rg;B=new c(E.tZ,C,this.fH.Uha);return Promise.all([y,F,B]).then(function(G){var J,K;J=ba(G);G=J.next().value;K=J.next().value;J=J.next().value;G={audio:G.getMetadata(),video:K.getMetadata(),text:J.getMetadata(),PTa:G.ana(),kzb:J.ana(),duration:E.duration,$o:E.$o};K=A.Ntb.xEb(G);z("h_s");return {WMb:A.tSb.transform(G,K),Qtb:K,TYb:G};});};m.prototype.uHb=function(y,z){var A;A=new f(y.cB,this.fH.RZa,this.fH.tu);return this.yUa(A.eJ,h.Oj.Lb,z).then(function(B){A.Qva(B);return A;});};m.prototype.ZDb=function(y,z){var A,B,D,E;D=null !== (B=null === (A=y.eY) || void 0 === A?void 0:A.kn) && void 0 !== B?B:y.dG.find(function(F){var C;return F.id === (null === (C=y.x4) || void 0 === C?void 0:C[0].kn);}).rg;E=new l(this.sa,y.dG,this.fH.Hw,D,this.fH.Uha);return this.yUa(E.eJ,h.Oj.Ub,z).then(function(F){E.Qva(F);return E;});};m.prototype.Rsa=function(y,z,A,B){if(y=this.qIb.parse(z,y,A))return y;this.sa.error("Failed to parse headers",{type:z === h.Oj.Ub?"audio":"video",downloadableId:B.stream.Gr});};m.prototype.yUa=function(y,z,A){var B;B=this;return Promise.all(y.map(function(D,E){if(D.nN)return B.pIb.download({urls:D.stream.urls,offset:0,length:D.nN}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + E + "_s");return B.Rsa(F,z,z == h.Oj.Ub?B.fH.Hw:B.fH.jA,D);}).catch(function(){A("h_" + D.track.kl[0] + "_" + E + "_f");B.sa.warn("Failed to download and parse headers for " + D.stream.Gr);});B.sa.warn("Stream data offset is missing",{downloadableId:D.stream.Gr});}));};a=m;a=r.__decorate([d.R(),r.__param(0,d.l(g.lDa)),r.__param(1,d.l(k.pDa)),r.__param(2,d.l(v.$Ca)),r.__param(3,d.l(t.jAa)),r.__param(4,d.l(u.uca)),r.__param(5,d.l(w.qb))],a);b.XCa=a;l.prototype.Qva=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw q.od.Ibb(n.M.TDa,n.L.eda);this.Dc=this.eJ.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,U:B,VI:z.VI};}).filter(x.Jpa);};l.prototype.getMetadata=function(){return this.Dc;};l.prototype.ana=function(){var y,z;y=this;if(!this.Dc.find(function(A){return A.track.rg === y.wU;}) && 0 < this.Dc.length){z=this.Dc[0].track.rg;this.log.warn("Did not find metadata for audio track " + this.wU + ", falling back to " + z);return z;}return this.wU;};b.wcb=l;f.prototype.Qva=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw q.od.Ibb(n.M.TDa,n.L.fda);A=this.eJ.map(function(B,D){if(D=y[D])return {track:B.track,stream:B.stream,U:D,VI:z.VI};}).filter(x.Jpa);this.Dc=this.jGb(A);};f.prototype.getMetadata=function(){return this.Dc;};f.prototype.jGb=function(y){var z,A,B;z=this;y.sort(function(D){return D.stream.bitrate;});A=y.findIndex(function(D){var E;return (null !== (E=D.stream.sb) && void 0 !== E?E:0) >= z.tu;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.jkb=f;c.prototype.ana=function(){return this.wU;};c.prototype.getMetadata=function(){return this.Dc;};b.Yjb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jpa=void 0;b.Jpa=function(a){return void 0 !== a && null !== a;};},function(r,b,a){var f,l,m,d,h,g;function c(k){this.sa=k.hb("HLSPlaylistTransformerImpl");this.S1b=d.bca.Tp();this.Orb=h.aca.Tp();}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;r=a(1);f=a(0);l=a(7);m=a(130);d=a(434);h=a(435);g=[0,1];c.prototype.transform=function(k,n){var q,p,v,t,u,w,x,y,z;q=this;p=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=k.text;t=k.audio;u=k.video;w=k.duration;x=k.PTa;y=k.kzb;v.forEach(function(A){g.forEach(function(B){var D,E,F,C;D=0 === B;E=A.stream;F=A.track;C=n.get(A.id);D=D?C.zO:C.t$;E=q.gHb({url:D.url,duration:w / 1E3,size:E.size,hm:"Manifest for subtitles " + F.language + ' stream "' + F.mD + '", ' + F.rg + ", cdn " + D.Rp});q.sa.trace("Text variant manifest",E.join("\n"));B=q.hHb({groupId:B,name:F.mD,qpa:F.rg === y,qq:F.n7,$Jb:F.kl === m.up.cba,language:F.language,uri:q.W7(E)});p.push(B);});});t.forEach(function(A){g.forEach(function(B){var D,E,F,C,G,J;D=0 === B;E=A.stream;F=A.track;C=A.U;G=A.VI;J=n.get(E.Gr);D=D?J.zO:J.t$;E=q.lYa({url:D.url,nN:E.NA.offset + E.NA.size,U:C,n$a:Math.floor(G / 1E3),hm:"Manifest for audio " + F.language + ' stream "' + F.mD + '", ' + F.rg + ", cdn " + D.Rp});q.sa.trace("Audio variant manifest",E.join("\n"));B=q.$Db({groupId:B,language:F.language,name:F.mD,qpa:F.rg === x,uri:q.W7(E)});p.push(B);});});z=this.Orb[t[0].track.profile];u.forEach(function(A){g.forEach(function(B){var D,E,F,C,G,J;D=0 === B;E=A.stream;F=A.track;C=A.U;G=A.VI;J=n.get(E.Gr);J=D?J.zO:J.t$;D=0 < v.length;F=q.lYa({url:J.url,nN:E.NA?E.NA.offset + E.NA.size:E.x9a,U:C,n$a:Math.floor(G / 1E3),hm:"Manifest for video bitrate " + E.bitrate + ", stream " + F.rg + ", cdn " + J.Rp});q.sa.trace("Video variant manifest",F.join("\n"));B=q.vHb({groupId:B,LT:1E3 * E.bitrate,bsb:1E3 * E.bitrate,AKb:0 <= E.uG.indexOf("-hdr-") || 0 <= E.uG.indexOf("-dv5-"),framerate:(E.BWa / E.AWa).toFixed(3),tI:E.s7a + "x" + E.t7a,O1b:q.S1b[E.uG],Krb:z,UZb:D});p.push(B);B=q.W7(F);p.push("" + B);});});this.sa.trace("Primary manifest",p.join("\n"));return this.W7(p);};c.prototype.$Db=function(k){var n;n=k.qpa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.lYa=function(k){var n;n=["#EXTM3U","# " + k.hm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.n$a,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + k.nN + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];k.U.forEach(function(q,p){n.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.Y.toFixed(3));n.push("#EXT-X-BYTERANGE:" + q.Ysb + "@" + q.byteOffset);n.push("{$U}&fi=" + p);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.vHb=function(k){var n,q;n=k.groupId;q=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.LT,"AVERAGE-BANDWIDTH=" + k.bsb,"VIDEO-RANGE=" + (k.AKb?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + k.tI,'CODECS="' + k.O1b + "," + k.Krb + '"'];k.UZb && q.push('SUBTITLES="subs_' + n + '"');return q.join(", ");};c.prototype.gHb=function(k){var n;n=k.duration;return ["#EXTM3U","# " + k.hm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.hHb=function(k){var n,q,p;n=k.qpa;q=k.language;p=k.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (k.qq?"YES":"NO")];k.$Jb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + q + '"');n.push('URI="' + p + '"');return n.join(", ");};c.prototype.W7=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.qb))],a);b.ZCa=a;},function(r,b,a){var f,l,m,d,h;function c(g,k){var q;function n(){q.Xsa.then(function(p){q.sa.trace("Unloading PBO Playdata Services");p.close();});d.ue.removeListener(d.Cl,n);}q=this;this.e5a=k;this.Xsa=k();this.sa=g.hb("PlayerPlaydataMonitorImpl");d.ue.addListener(d.Cl,n);}Object.defineProperty(b,"__esModule",{value:!0});b.HIa=void 0;r=a(1);f=a(0);l=a(7);m=a(153);d=a(60);h=a(15);c.prototype.ap=function(g,k){this.Xsa.then(function(n){n.ap(k,!0,function(q){return g.close(q);});n.xwa(k);g.addEventListener(h.Da.wta,function(){g.rq() && n.f8a(k).catch(function(q){(q=q.tO) && g.close(q);});});g.addEventListener(h.Da.Ol,function(){n.B$(k).catch(function(q){(q=q.tO) && g.close(q);});});g.addEventListener(h.Da.dm,function(){n.B$(k).catch(function(q){(q=q.tO) && g.close(q);});});});};c.prototype.$Y=function(g){return this.Xsa.then(function(k){k.I9a();return k.$Y(g).catch();});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.FR))],a);b.HIa=a;},function(r,b,a){var f,l,m,d;function c(h){this.zra={};this.S6={};this.H7=-1;this.Mwa=new m.ac(null);this.Hta=new m.ac(null);this.sa=h.hb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;r=a(1);f=a(0);l=a(47);m=a(80);a=a(7);c.prototype.xb=function(h,g,k){var n;n=this;h.forEach(function(q){q.stream.urls.forEach(function(p){n.zra[p.url]=[q,p.Rp];});});this.Lka=g;this.czb=k;new PerformanceObserver(function(q){n.x0b(q.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.v8a=function(h){var g,k,n;if(this.Lka){k=this.T5(h);if(k !== this.H7){for(this.H7=k;0 <= k && !this.S6[k];){k--;}n=ba(null !== (g=this.S6[k]) && void 0 !== g?g:[this.Lka,this.czb]);g=n.next().value;n=n.next().value;this.sa.debug("Setting time to " + h + ", using metadata from fragment " + k + " for " + (l.I2a(g.track.type) + " track with bitrate ") + (g.stream.bitrate + " from cdn " + n));h=g.U[this.H7];k=h.Y;this.Hta.set({stream:g,fm:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + h.duration))},sC:n});}}};c.prototype.T5=function(h){var g,k,n,q,p;g=this.Lka.U;h/=1E3;k=0;n=g.length - 1;if(h >= g[n].Y)return n;for(;n >= k;){q=k + Math.floor((n - k) / 2);p=g[q];if(h < p.Y)n=q - 1;else if(h >= p.Y + p.duration)k=q + 1;else return q;}return g.length - 1;};c.prototype.x0b=function(h){var g;g=this;h.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var n,q,p;n=k.name.indexOf("&fi=");if(0 < n){q=k.name.substring(0,n);n=Number(k.name.substring(n + 4));if(g.zra[q]){p=ba(g.zra[q]);k=p.next().value;p=p.next().value;q && !Number.isNaN(n) && k && (g.S6[n] && (g.H7=-1),g.S6[n]=[k,p],q=k.U[n].Y,!1,g.Mwa.set(k,{kG:Math.floor(1E3 * q),sC:p}));}}});};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.qb))],d);b.JKa=d;},function(r,b,a){var f,l,m,d;function c(h){return l.Ye.call(this,h,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sDa=void 0;r=a(1);f=a(0);l=a(46);m=a(37);a=a(45);na(c,l.Ye);Xa.Object.defineProperties(c.prototype,{G5a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Hw:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},jA:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},RZa:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},tu:{configurable:!0,enumerable:!0,get:function(){return 80;}},Uha:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.bd,"playsInline")],d.prototype,"G5a",null);r.__decorate([a.config(a.dD,"minAudioMediaRequestDuration")],d.prototype,"Hw",null);r.__decorate([a.config(a.dD,"minVideoMediaRequestDuration")],d.prototype,"jA",null);r.__decorate([a.config(a.dD,"hlsVideoMediaRequestTargetDuration")],d.prototype,"RZa",null);r.__decorate([a.config(a.dD,"minStartingVideoVMAF")],d.prototype,"tu",null);r.__decorate([a.config(a.bd,"allowMultipleAudioTextTracks")],d.prototype,"Uha",null);d=r.__decorate([f.R(),r.__param(0,f.l(m.Tl))],d);b.sDa=d;},function(r,b,a){var f,l;function c(m){this.sa=m.hb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;r=a(1);f=a(0);a=a(7);c.prototype.xEb=function(m){var h,g,k,n,q,p,v;function d(t,u,w){var x,y,z;x=t.map(function(A){return A.Rp;});x.sort(function(A,B){return u[A] - u[B];});if(1 === x.length)(!1,k.set(w,{zO:t[0],t$:t[0]}));else {y=x.find(function(A){return h.has(A);});y || ((y=x.find(function(A){return !g.has(A);}))?h.add(y):(y=x[0],!1));z=x.find(function(A){return g.has(A) && A !== y;});z || ((z=x.find(function(A){return !h.has(A) && A !== y;}))?g.add(z):(z=x.find(function(A){return A !== y;}),!1));k.set(w,{zO:t.find(function(A){return A.Rp === y;}),t$:t.find(function(A){return A.Rp === z;})});}}h=new Set();g=new Set();k=new Map();n=m.video;q=m.audio;p=m.text;v=m.$o.reduce(function(t,u){t[u.id]=u.Vc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,v,t.Gr);});q.forEach(function(t){t=t.stream;d(t.urls,v,t.Gr);});p.forEach(function(t){var u,w;if(!t.track.hD || t.track.n7){u=t.track;w=t.id;t=Object.entries(t.stream.hw).map(function(x){var y;y=ba(x);x=y.next().value;y=y.next().value;return {Rp:Number(x),url:y};});u=u.IRa.reduce(function(x,y){x[y.id]=y.Vc;return x;},{});d(t,u,w);}});return k;};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.qb))],l);b.iAa=l;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v,t){this.Vf=n;this.Wz=q;this.Uf=p;this.tc=v;this.za=t;}Object.defineProperty(b,"__esModule",{value:!0});b.jR=void 0;r=a(1);f=a(0);l=a(18);m=a(7);d=a(49);h=a(179);g=a(89);k=a(1011);c.prototype.create=function(n){return new k.lR(this.Vf,this.Wz,this.Uf,this.za,this.tc,n);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.qb)),r.__param(1,f.l(g.Gx)),r.__param(2,f.l(d.Rm)),r.__param(3,f.l(h.Vca)),r.__param(4,f.l(l.fd))],a);b.jR=a;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v,t,u){var w;w=this;this.Wz=q;this.Uf=p;this.za=v;this.tc=t;this.Cra=this.eD=this.pY=0;this.uH=!1;this.wD=function(){var x;x=w.GX();x.prstate=w.vz();x.paustate=w.j.jW();x.midplayseq=w.Cra++;w.tc.pN(x);w.Ec(f.ad.wD,void 0,k.ze | k.Xs,x);};this.ci=function(){w.Ec(f.ad.bRa,void 0,k.ze | k.kp,{});};this.Ol=function(x){w.kqa=w.getTime();w.lqa=x.oldValue;};this.FT=function(x){w.Ypa=x.oldValue;};this.v9=function(x){x != w.uH && (w.zwa(w.uH,x),w.uH=x);};this.zwa=function(x,y){var z;z=w.j.va;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};w.tc.oq(x,z.ke.value && z.ke.value.stream,z.hf.value && z.hf.value.stream);w.Ec(f.ad.G9a,void 0,k.ze,x);};this.UY=function(x){w.Ec(f.ad.v9a,void 0,k.ze,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.SA=function(x){var y,z,A,B;z=w.j.va;A=z.cc.value;if(x.newValue || A && A.Vr() && !A.qq()){B={};x=null !== (y=x.newValue) && void 0 !== y?y:A;B.newtrackinfo=x?{trackId:x.trackId,bcp47:x.Vd,lang:x.Vd,downloadableId:x.yc,rank:x.Vc,isImageBased:x.kk}:{};y=w.lqa;B.oldtrackinfo=y?{trackId:y.trackId,bcp47:y.Vd,lang:y.Vd,downloadableId:y.yc,rank:y.Vc,isImageBased:y.kk}:{};B.switchDelay=l.Rf(w.getTime() - w.kqa);w.tc.oq(B,z.ke.value && z.ke.value.stream,z.hf.value && z.hf.value.stream);w.Ec(f.ad.J$a,void 0,k.ze,B);}};this.kta=function(x,y){var z;z=w.j.va;x={waittime:l.Rf(x),abortedevent:"resumeplay",resumeplayreason:y};w.tc.oq(x,z.Ve.value,z.hh.value);w.Ec(f.ad.E9,void 0,k.ze | k.kp,x);};this.WO=function(x,y,z){x={playdelay:l.Rf(x),reason:z,intrplayseq:w.eD - 1,skipped:y};"repos" === z && (x.prstate=!0 === w.j.wj.value?"playing":"paused");w.Ec(f.ad.WO,void 0,k.ze | k.Vs,x);};this.ria=function(){var x,y,z,A,B;y=w.j.va.ic.value;z=w.j.va.hh.value.yc;y=y?{trackId:y.trackId,bcp47:y.Vd,lang:y.Vd,downloadableId:z,rank:y.Vc}:{};A=w.Rz;B=null === (x=w.Ypa) || void 0 === x?void 0:x.yc;x=A?{trackId:A.trackId,bcp47:A.Vd,lang:A.Vd,downloadableId:B,rank:A.Vc}:{};w.Ec(f.ad.IQa,void 0,k.ze,{switchdelay:l.Rf(w.getTime() - w.Zpa),newtrackinfo:y,oldtrackinfo:x,oldAudioDownloadableId:B,newAudioDownloadableId:z});};this.dm=function(x){w.Zpa=w.getTime();w.Rz=x.oldValue;};this.lta=function(){var x,y,z;x=w.j.va;y={abortedevent:"startplay",trackid:x.Ej,prstate:w.vz(),paustate:w.j.jW()};try{z=m.$G();z && (y.pdltime=z);l.Xb(y,x.md,{prefix:"sm_"});}catch(A){}w.tc.R6(y,x);w.tc.qN(y,x.wg.value);w.tc.oq(y,x.Ve.value,x.hh.value);w.jH(y);w.Ec(f.ad.E9,void 0,k.ze | k.Xs | k.kp,y);};this.SL=function(x,y,z,A){x={moff:l.Eo(z),moffms:l.Rf(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.yc,vdlidold:x.yc,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};w.Ec(f.ad.SL,void 0,0,x);};this.MO=function(x,y,z){x={moffold:l.Eo(x),reposseq:w.pY++,prstate:w.vz(),paustate:w.j.jW()};w.tc.oq(x,z && z.stream,y && y.stream);w.Ec(f.ad.MO,void 0,k.ze,x);};this.dE=function(x){var y,z,A,B,D;B=x.va;D={playdelaysdk:l.Rf(w.j.VT()),applicationPlaydelay:l.Rf(w.j.$ia()),playdelay:l.Rf(w.j.bja()),trackid:B.Ej,bookmark:l.Rf(B.Zv || 0),pbnum:B.index};w.j.ci && (D.blocked=w.j.ci);D.initvbitrate=w.j.cW;w.tc.Yoa(D);w.tc.f_a(D);D.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.Z4;w.p_a(D,B);D.pdltime=m.$G();l.Xb(D,B.md,{prefix:"sm_"});D.ttTrackFields=null === (z=B.cc.value) || void 0 === z?void 0:z.Oi;w.tc.b_a(D,B.ic.value);w.tc.qN(D,B.wg.value);D.packageId=null === (A=B.oa) || void 0 === A?void 0:A.uc.Uo;w.tc.pN(D);w.tc.R6(D,B);w.jH(D);w.Ec(f.ad.dE,x.hi,k.ze | k.Vs | k.Xs | k.AE | k.kp,D);};this.IG=function(){var x,y,z,A;x=w.j;y=x.va;x=x.hi;z=w.GX();z.paustate=!w.j.rq();z.muted=w.j.Apa();z.endreason=x?"error":w.j.spa()?"ended":"stopped";x && x && d.hca(x.errorCode) && (A="info");w.tc.qN(z,y.wg.value);w.tc.pN(z);w.jH(z);w.Ec(f.ad.IG,x,k.ze | k.Vs | k.Xs | k.AE | k.kp,z,A);};this.Jua=function(x,y,z){var A;A=w.j.va.hf;x={moff:l.Eo(z),moffms:l.Rf(z),vdlidold:x.yc,vbitrateold:x.bitrate};w.tc.oq(x,y,A.value && A.value.stream);w.Ec(f.ad.$6a,void 0,0,x);};this.vz=function(){var x;x=w.j.yb.value;return x === h.cb.Hc?"playing":x === h.cb.eh?"paused":x === h.cb.Vq?"ended":"waiting";};this.sa=n.hb("LogblobBuilderImpl");this.j=u;}Object.defineProperty(b,"__esModule",{value:!0});b.lR=void 0;f=a(271);l=a(24);m=a(50);d=a(3);h=a(15);g=a(4);c.prototype.getTime=function(){return this.za.Wb().da(g.ja);};c.prototype.p_a=function(n,q){var p;if(q=null === (p=q.wg.value) || void 0 === p?void 0:p.streams)(n.maxbitrate=m.eQ(q.map(function(v){return v.bitrate;})),n.maxresheight=m.eQ(q.map(function(v){return v.height;})));};c.prototype.jH=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.GX=function(){var n,q,p,v;n=this.j.va;q=n.Jl;p={totaltime:l.Eo(q.gN()),totalcontenttime:l.Eo(q.eoa()),reposcount:this.pY,intrplaycount:this.eD};p.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=n.Ve.value;v && (p.videofr=v.framerate.toFixed(3));(v=q.Qma()) && (p.abrdel=v);(v=q.BZa() && q.QWa()) && (p.tw_vmaf=v);(q=q.OWa()) && l.Xb(p,q);p.rbfrs=this.eD;this.p_a(p,n);return p;};c.prototype.Ec=function(n,q,p,v,t){var u,w;u=this;w=this.j.va;this.Cha(v,q,p);q=t || (q?"error":"info");v=this.Wz.Ft(n,q,v,w);this.Uf.Ec(v);"error" !== q && n !== f.ad.IG || this.Uf.flush(!1).catch(function(){u.sa.debug("Failed to flush the logblobs");});};c.prototype.Cha=function(n,q,p){var v;v=this.j.va;this.tc.e_a(n,v);p & k.ze && this.tc.l_a(n,v);p & k.Vs && this.tc.n_a(n,v);p & k.Xs && this.tc.o_a(n,this.j.An());q && p & k.AE && this.tc.h_a(n,v,q);p & k.kp && this.tc.Yoa(n);};b.lR=c;(function(n){n[n.ze=1]="MOFF";n[n.Vs=2]="PRESENTEDSTREAMS";n[n.Xs=4]="SCREEN";n[n.AE=8]="FATALERROR";n[n.kp=16]="BROWSERINFO";})(k || (k={}));},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v,t){this.Uf=n;this.config=q;this.ya=p;this.za=v;this.Fqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.mR=void 0;r=a(1);f=a(0);l=a(18);m=a(38);d=a(13);h=a(49);g=a(436);k=a(1013);c.prototype.create=function(n){return new k.oR(n,this.Uf,this.config,this.za,this.Fqa.create(n));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(h.Rm)),r.__param(1,f.l(d.Xc)),r.__param(2,f.l(m.Sh)),r.__param(3,f.l(l.fd)),r.__param(4,f.l(g.kR))],a);b.mR=a;},function(r,b,a){var f,l,m;function c(d,h,g,k,n){var q;q=this;this.j=d;this.Uf=h;this.config=g;this.za=k;this.jb=n;this.$T=function(){q.jg();q.j.va.ai.removeListener(q.SA);q.j.va.cc.removeListener(q.jb.Ol);q.j.va.ic.removeListener(q.dm);q.j.va.hh.removeListener(q.jb.FT);q.j.wj.removeListener(q.F5a);q.j.NO.removeListener(q.wk);q.j.va.ke.removeListener(q.NX);q.j.yb.removeListener(q.dw);q.j.yb.removeListener(q.QL);q.j.va.Ve.removeListener(q.VZ);q.j.va.playbackRate.removeListener(q.jb.UY);q.j.removeEventListener(m.Da.closed,q.$T);q.j.removeEventListener(m.Da.v3,q.jb.ci);};this.QL=function(){q.j.yb.value === m.cb.Hc && (q.j.yb.removeListener(q.QL),q.Bq());};this.SA=function(p){q.sA && q.jb.SA(p);};this.wk=function(p){q.sA && void 0 !== p.newValue && (q.qs && q.jp && q.jb.kta(q.getTime() - q.jp,q.qs),q.qs="repos",q.jb.MO(p.newValue,q.j.va.hf.value,q.j.va.ke.value),q.jp=q.getTime(),l.Qf(q.dw));};this.F5a=function(p){q.sA && q.jb.v9(!p.newValue);};this.dm=function(p){p.oldValue && (q.Rz=p.oldValue,q.jb.dm(p),q.qs="repos",q.jp=q.getTime(),l.Qf(q.dw));};this.dw=function(){var p;if(q.jp && q.j.yb.value !== m.cb.Of){p=q.getTime() - q.jp;q.jb.WO(p,!1,q.qs);q.Rz && q.Rz != q.j.va.ic.value && q.jb.ria();q.jp=void 0;q.qs=void 0;}};this.Bq=function(){q.sA || (q.sA=!0,q.jb.dE(q.j),q.epa(),q.config().Y6 && (q.Kz=nb.setTimeout(function(){q.Uf.flush(!1).catch(function(){return q.log.warn("failed to flush log batcher on initialLogFlushTimeout");});q.Kz=void 0;},q.config().Y6)));};this.jg=function(){q.Kz && (nb.clearTimeout(q.Kz),q.Kz=void 0);q.JZ && q.JZ();q.sA?q.jb.IG():q.j.hi?q.jb.dE(q.j):q.jb.lta();};this.VZ=function(p){p.oldValue && p.km && p.km.kG && q.jb.SL(p.oldValue,p.newValue,p.km.kG,p.km.LT);};this.NX=function(p){var v;if(p.newValue){v=p.newValue.stream;q.vH != v && (q.vH && q.jb.Jua(q.vH,v,p.newValue.fm.startTime),q.vH=v);}};this.Q$();}Object.defineProperty(b,"__esModule",{value:!0});b.oR=void 0;f=a(4);l=a(61);m=a(15);c.prototype.Q$=function(){this.j.addEventListener(m.Da.closed,this.$T);this.j.addEventListener(m.Da.v3,this.jb.ci);this.j.va.ai.addListener(this.SA);this.j.va.cc.addListener(this.jb.Ol);this.j.va.ic.addListener(this.dm);this.j.va.hh.addListener(this.jb.FT);this.j.wj.addListener(this.F5a);this.j.NO.addListener(this.wk);this.j.va.ke.addListener(this.NX);this.j.yb.addListener(this.dw);this.j.yb.addListener(this.QL);this.j.va.Ve.addListener(this.VZ);this.j.va.playbackRate.addListener(this.jb.UY);};c.prototype.getTime=function(){return this.za.Wb().da(f.ja);};c.prototype.epa=function(){var d,h,g;d=this;g=[];this.config().O2a && (this.config().P2a.forEach(function(k){g.push(nb.setTimeout(d.jb.wD,k));}),this.config().s8 && (h=nb.setInterval(this.jb.wD,this.config().s8)),this.JZ=function(){g.forEach(function(k){nb.clearTimeout(k);});h && nb.clearInterval(h);});};b.oR=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.XI=void 0;r=a(0);c=a(1015);f=a(1016);l=a(437);m=a(438);b.XI=new r.pd(function(d){d(m.gLa).to(c.fLa);d(l.dLa).Yi(new f.cLa());d(m.eLa).uf(function(h){return function(){return h.$a.get(m.gLa);};});});},function(r,b,a){var f,l,m,d;function c(h){this.config=h;this.lwa=l.Gb;this.pP=[];}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(1);f=a(0);l=a(52);m=a(4);a=a(437);c.prototype.Yt=function(){var g;for(var h;0 < this.pP.length;){h=this.pP.shift();this.rPa(h);}h=void 0 === this.FU || void 0 === this.EG?m.Gb:this.EG.Qa(this.FU);g=h.y0a()?0:this.lwa.da(l.vE) / h.da(m.ja);return {bxa:Math.floor(g),j9b:h.da(m.ja)};};c.prototype.bqb=function(h){this.lwa=this.lwa.add(h.size);this.pP.push(h.rAb);for(this.pP.sort(function(g,k){return g.start.yl(k.start);});this.pP.length > this.config.sAb;){h=this.pP.shift();this.rPa(h);}};c.prototype.rPa=function(h){void 0 === this.FU && (this.FU=h.start);void 0 !== this.EG && 0 > this.EG.yl(h.start) && (this.FU=this.FU.add(h.start.Qa(this.EG)));if(void 0 === this.EG || 0 > this.EG.yl(h.end))this.EG=h.end;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.dLa))],d);b.fLa=d;},function(r,b,a){function c(f){this.sAb=void 0 === f?10:f;}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;r=a(1);a=a(0);c=r.__decorate([a.R()],c);b.cLa=c;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F;Object.defineProperty(b,"__esModule",{value:!0});b.pn=void 0;r=a(0);c=a(26);f=a(13);l=a(1018);m=a(154);d=a(155);h=a(1019);g=a(272);k=a(1020);n=a(439);q=a(440);p=a(1021);v=a(273);t=a(11);u=a(445);w=a(1025);x=a(446);y=a(1026);z=a(275);A=a(1027);B=a(447);D=a(39);E=a(444);F=a(1028);b.pn=new r.pd(function(C){C(d.RR).to(h.wKa).aa();C(c.wx).to(l.cBa).aa();C(g.mEa).to(k.lEa).aa();C(q.cAa).to(p.bAa).aa();C(g.gIa).Yi({isTypeSupported:t.XE && t.XE.isTypeSupported});C(v.D_).Yi(nb.cast || null);C(v.dAa).Yi(nb.castReceiverEme || null);C(n.rCa).kE(function(G){return {bFb:function(){return G.$a.get(D.IR);}};});C(m.DJ).kE(function(G){return G.$a.get(f.Xc);});C(u.QFa).to(w.NFa).aa();C(E.MFa).to(F.LFa).aa();C(x.PFa).to(y.OFa).aa();C(z.lca).to(A.qCa).aa();C(B.nJa).Yi(nb);});},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q){this.config=k;this.HRa=n;this.VRb=q;this.yTb=this.cyb();}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;r=a(1);f=a(26);l=a(154);m=a(0);d=a(44);h=a(439);a=a(440);c.prototype.ZYa=function(k){return this.LWa().$Ya(k);};c.prototype.aZa=function(k){return this.$t().$Ya(k);};c.prototype.LWa=function(){this.mia && this.mia.type == this.config().nia || (this.mia=this.HRa.mxb(this.config().nia));return this.mia;};c.prototype.$t=function(){this.Laa && this.Laa.type == this.config().Maa || (this.Laa=this.HRa.ryb(this.config().Maa),this.Laa.Eha(this.VRb.bFb()));return this.Laa;};c.prototype.pFb=function(k){var p;if(!k || !k.length)return f.re.f0;k=this.RCb(k);for(var n=[f.re.PR,f.re.f0,f.re.kK,f.re.Cx,f.re.Ps,f.re.gB,f.re.Vx,f.re.Gj],q=n.length;q--;){p=n[q];if((0,this.yTb[p])(k))return p;}return f.re.PR;};c.prototype.cx=function(k){return this.$t().cx(k);};c.prototype.Ly=function(k){return this.$t().Ly(k);};c.prototype.Vt=function(){return this.$t().Vt();};c.prototype.Q5=function(){return this.$t().Q5();};c.prototype.fZ=function(){return this.$t().fZ();};c.prototype.dZ=function(){return this.LWa().dZ();};c.prototype.$$=function(){return this.$t().$$();};c.prototype.gZ=function(){return this.$t().gZ();};c.prototype.OM=function(k){return this.$t().OM(k);};c.prototype.$M=function(){return this.$t().$M();};c.prototype.g6=function(){return this.$t().g6();};c.prototype.RCb=function(k){var n;n={};k.filter(function(q){return "video" === q.type;}).forEach(function(q){n[q.ih]="";});return Object.keys(n);};c.prototype.cyb=function(){var k;k={};k[f.re.Gj]=function(n){return n.some(function(q){return -1 < q.indexOf("av1");});};k[f.re.gB]=function(n){return n.some(function(q){return -1 < q.indexOf("hpl");});};k[f.re.Vx]=function(n){return n.some(function(q){return -1 < q.indexOf("vp9");});};k[f.re.Ps]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-dv");});};k[f.re.Cx]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-hdr");});};k[f.re.kK]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-main10-L") || -1 < q.indexOf("hevc-main-L");});};k[f.re.f0]=(function(n,q){var p;p={};n.forEach(function(v){return p[v]=1;});n=ba(q);for(q=n.next();!q.done;q=n.next()){if(p[q.value])return !0;}return !1;}).bind(null,[d.N.CE]);k[f.re.PR]=function(){return !0;};return k;};g=c;g=r.__decorate([m.R(),r.__param(0,m.l(l.DJ)),r.__param(1,m.l(a.cAa)),r.__param(2,m.l(h.rCa))],g);b.cBa=g;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v){this.pn=q;this.ib=p;this.W9a=v;this.Gpb="video/mp4;codecs={0}";this.Pkb="audio/mp4;codecs={0}";q=this.pn.OM(l.re.Ps);this.Fpb=d.Fd.uTa(q);}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;r=a(1);l=a(26);m=a(0);d=a(109);h=a(27);g=a(200);k=a(441);n=a(12);c.prototype.j4=function(q){q=this.pn.pFb(q);q=this.ib.BG(q)?q:l.re.PR;return this.W9a.format(this.Gpb,this.Fpb[q]);};c.prototype.g4=function(q){if(0 === q.length)return this.W9a.format(this.Pkb,d.Fd.g_);q=k.fza[q[0].ih] || f.tya;return q === f.tya?n.VJ:q === f.lcb?n.pFa:n.oFa;};a=f=c;a.tya="AAC";a.lcb="XHEAAC";a=f=r.__decorate([m.R(),r.__param(0,m.l(l.wx)),r.__param(1,m.l(h.ag)),r.__param(2,m.l(g.Jea))],a);b.wKa=a;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q){this.config=k;this.TTa=n;this.cast=q;}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;r=a(1);f=a(0);l=a(272);m=a(154);d=a(26);h=a(273);g=a(274);c.prototype.lTa=function(){switch(this.config().Maa){case d.fj.Lba:return h.Mba.gka(this.TTa,this.cast);case d.fj.Jx:return g.sB.gka(this.config);default:return this.TTa;}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.DJ)),r.__param(1,f.l(l.gIa)),r.__param(2,f.l(h.D_))],a);b.lEa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A;function c(B,D,E,F,C,G,J,K,I,M,R){this.s0a=B;this.cast=D;this.config=E;this.Lc=F;this.ya=C;this.is=G;this.pk=J;this.Yr=K;this.platform=I;this.Rc=M;this.Fw=R;}Object.defineProperty(b,"__esModule",{value:!0});b.bAa=void 0;r=a(1);f=a(0);l=a(26);m=a(272);d=a(154);h=a(273);g=a(1022);k=a(1023);n=a(180);q=a(443);p=a(48);v=a(38);t=a(27);u=a(1024);w=a(70);x=a(7);y=a(34);z=a(36);a=a(444);c.prototype.mxb=function(B){var D;D=this.s0a.lTa();switch(B){case l.kv.Jx:return new g.lGa(this.config,D,this.is,this.platform,this.Fw);default:return new q.U_(this.config,D,this.Fw);}};c.prototype.ryb=function(B){var D;D=this.s0a.lTa();switch(B){case l.fj.Lba:B=new h.Mba(this.config,D,this.is,this.cast,this.Fw);break;case l.fj.AJ:B=new u.mAa(this.config,D,this.is,this.pk,this.Yr,this.ya,this.Fw);break;case l.fj.Jx:B=new k.uFa(this.config,D,this.is,this.Lc,this.ya,this.Yr,this.Rc,this.Fw,this.pk);break;default:B=new n.Yn(this.config,D,this.is,this.Fw);}return B;};A=c;A=r.__decorate([f.R(),r.__param(0,f.l(m.mEa)),r.__param(1,f.l(h.D_)),r.__param(2,f.l(d.DJ)),r.__param(3,f.l(p.Pj)),r.__param(4,f.l(v.Sh)),r.__param(5,f.l(t.ag)),r.__param(6,f.l(w.Us)),r.__param(7,f.l(x.qb)),r.__param(8,f.l(y.Gk)),r.__param(9,f.l(z.zi)),r.__param(10,f.l(a.MFa))],A);b.bAa=A;},function(r,b,a){var f,l,m,d,h;function c(g,k,n,q,p){g=d.U_.call(this,g,k,p) || this;g.is=n;g.platform=q;g.type=f.kv.Jx;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;f=a(26);l=a(44);m=a(108);d=a(443);h=a(274);na(c,d.U_);c.prototype.dZ=function(){return Promise.resolve(this.config().NU && this.Ky(m.Hb.Ox,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Tp=function(){var g;g={};g[l.ye.DE]="mp4a.40.2";g[l.ye.EE]="mp4a.40.2";"browser" === this.platform.Yka?this.config().NU && (g[l.ye.uQ]={Df:"avc1",keySystem:m.Hb.Ox,features:["audio-endpoint-codec=DD+JOC"]},g[l.ye.vQ]={Df:"avc1",keySystem:m.Hb.Ox,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().XUa && (g[l.ye.uQ]="ec-3"),this.config().WUa && (g[l.ye.Oba]="ec-3"),this.config().NU && (g[l.ye.vQ]={Df:"avc1",keySystem:m.Hb.Ox,features:["audio-endpoint-codec=DD+JOC"]}));return g;};c.prototype.SVa=function(g){var k;k=this;g=g.filter(function(n){var v;for(var q=ba(k.Ju),p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !0;}q=ba(k.On);for(p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !1;}n=k.Uta[n];q=[];v=m.Hb.Ox;if(n)return (k.is.Hp(n)?p=n:(q=n.features,p=n.Df,v=n.keySystem),k.Ky(v,p,q));});return Promise.resolve(g);};c.prototype.Ky=function(g,k,n){g=h.sB.h4(g,k,n);return this.Ly(g);};b.lGa=c;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E;function c(F,C,G,J,K,I,M,R,H){F=l.Yn.call(this,F,C,G,R) || this;F.Lc=J;F.ya=K;F.Yr=I;F.Rc=M;F.Fw=R;F.pk=H;F.type=m.fj.Jx;F.rQ="hvc1";F.tdb="avc1";F.q5a={};F.log=F.Yr.hb("MicrosoftVideoCapabilityDetector");F.DYb();F.eZ && F.config().aOb?F.GUa=F.Dxb():(F.GUa=Promise.resolve(""),F.config().cOb?F.Ixb():F.config().bOb && F.Hxb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;f=a(44);l=a(180);m=a(26);r=a(110);d=a(108);h=a(4);g=a(326);k=a(109);n=a(274);q=a(63);p=a(181);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=new r.CB();E=new g.Cba();na(c,l.Yn);c.prototype.OM=function(F){return F === m.re.Ps && this.config().f1b?k.Fd.KQ:l.Yn.prototype.OM.call(this,F);};c.prototype.cx=function(F){switch(F){case m.Lj.KE:return this.g$a();case m.Lj.sv:return this.UX;default:return Promise.resolve(!1);}};c.prototype.Vt=function(){var C;function F(){return C.eZ?C.PIb?C.g$a().then(function(G){return Promise.resolve(G?d.Hb.Td:d.Hb.cF);}):Promise.resolve(d.Hb.cF):C.zZb?Promise.resolve(d.Hb.cF):Promise.resolve(d.Hb.Ox);}C=this;this.keySystem || (this.keySystem=this.config().hp?this.pk.rw().then(function(G){return G.keySystem;}):F());return this.keySystem;};c.prototype.Q5=function(){return this.GUa;};c.prototype.fZ=function(){return Promise.resolve({result:this.f$a(),reason:"is-type-supported"});};c.prototype.gZ=function(){return this.eZ && this.i$a()?this.UX:Promise.resolve(!1);};c.prototype.$$=function(){return Promise.resolve(this.e$a()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Eha=function(F){this.zq=F;Object.assign(this.zq,this.q5a);F.itshwdrm=this.eZ;F.itsqhd=this.h$a();F.itshevc=this.i$a();F.itshdr=this.f$a();F.itsdv=this.e$a();F.itsav1=this.xZb();this.Kxa();};c.prototype.uT=function(F,C){(this.zq?this.zq:this.q5a)[F]=C;};c.prototype.$M=function(){var F;F=this;return this.cx(m.Lj.sv).then(function(C){return C?F.jU(m.Lj.sv):F.cx(m.Lj.KE).then(function(G){return G?F.jU(m.Lj.KE):F.jU(void 0);});});};c.prototype.g6=function(){return this.config().hp?Promise.resolve(void 0):this.Vt().then(function(F){return F === d.Hb.Td?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.kz=function(F){var C;C=this;return this.Vt().then(function(G){var J,K,I;if(C.Kpa(G,F))return !1;J=C.Uta[F];if(J){K=[];if(C.is.Hp(J))I=J;else (K=J.features,I=J.Df,G=J.keySystem);return C.Ky(G,I,K);}return !1;});};c.prototype.Tp=function(){var F;F=l.Yn.prototype.Tp.call(this);F[f.N.$R]=F[f.N.mK]=F[f.N.lK]=F[f.N.q1]={Df:"vp09.00.11.08.02",keySystem:d.Hb.Td,features:v};F[f.N.i0]=F[f.N.h0]={Df:"hev1.2.6.L90.B0",keySystem:d.Hb.Td,features:t};F[f.N.k0]=F[f.N.j0]={Df:"hev1.2.6.L93.B0",keySystem:d.Hb.Td,features:t};F[f.N.m0]=F[f.N.l0]={Df:"hev1.2.6.L120.B0",keySystem:d.Hb.Td,features:t};F[f.N.o0]=F[f.N.n0]={Df:"hev1.2.6.L123.B0",keySystem:d.Hb.Td,features:t};F[f.N.XQ]=F[f.N.WQ]={Df:"hev1.2.6.L150.B0",keySystem:d.Hb.Td,features:t};F[f.N.ZQ]=F[f.N.YQ]={Df:"hev1.2.6.L153.B0",keySystem:d.Hb.Td,features:t};F[f.N.MQ]=F[f.N.LQ]={Df:"hev1.2.6.L90.B0",keySystem:d.Hb.Td,features:w};F[f.N.OQ]=F[f.N.NQ]={Df:"hev1.2.6.L93.B0",keySystem:d.Hb.Td,features:w};F[f.N.PQ]=F[f.N.NJ]={Df:"hev1.2.6.L120.B0",keySystem:d.Hb.Td,features:w};F[f.N.RQ]=F[f.N.QQ]={Df:"hev1.2.6.L123.B0",keySystem:d.Hb.Td,features:x};F[f.N.TQ]=F[f.N.SQ]={Df:"hev1.2.6.L150.B0",keySystem:d.Hb.Td,features:x};F[f.N.VQ]=F[f.N.UQ]={Df:"hev1.2.6.L153.B0",keySystem:d.Hb.Td,features:x};F[f.N.J_]=F[f.N.I_]={Df:"hev1.2.6.L90.B0",keySystem:d.Hb.Td,features:y};F[f.N.L_]=F[f.N.K_]={Df:"hev1.2.6.L93.B0",keySystem:d.Hb.Td,features:y};F[f.N.M_]=F[f.N.xQ]={Df:"hev1.2.6.L120.B0",keySystem:d.Hb.Td,features:y};F[f.N.O_]=F[f.N.N_]={Df:"hev1.2.6.L123.B0",keySystem:d.Hb.Td,features:z};F[f.N.Q_]=F[f.N.P_]={Df:"hev1.2.6.L150.B0",keySystem:d.Hb.Td,features:z};F[f.N.S_]=F[f.N.R_]={Df:"hev1.2.6.L153.B0",keySystem:d.Hb.Td,features:z};F[f.N.l_]={Df:"av01.0.04M.10",keySystem:d.Hb.Td,features:v};F[f.N.m_]={Df:"av01.0.05M.10",keySystem:d.Hb.Td,features:v};F[f.N.n_]={Df:"av01.0.08M.10",keySystem:d.Hb.Td,features:v};F[f.N.o_]={Df:"av01.0.09M.10",keySystem:d.Hb.Td,features:v};F[f.N.p_]={Df:"av01.0.12M.10",keySystem:d.Hb.Td,features:u};F[f.N.q_]={Df:"av01.0.13M.10",keySystem:d.Hb.Td,features:u};return F;};c.prototype.Ky=function(F,C,G){F=n.sB.h4(F,C,G);return this.Ly(F);};c.prototype.h$a=function(){return this.Ky(d.Hb.Td,this.rQ,t);};c.prototype.f$a=function(){return this.Ky(d.Hb.Td,this.rQ,w);};c.prototype.e$a=function(){return this.Ky(d.Hb.Td,this.rQ,y);};c.prototype.xZb=function(){return this.Ky(d.Hb.Td,k.Fd.Gj,v);};c.prototype.i$a=function(){return this.Ky(d.Hb.Td,this.rQ,u);};c.prototype.g$a=function(){var F;F=this;return this.UX.then(function(C){return C?Promise.resolve(C):F.c6a;});};c.prototype.Kxa=function(){this.zq && (this.zq.itshdcp=JSON.stringify({hdcp1:this.CZa,time1:this.z$a - this.A9a,hdcp2:this.DZa,time2:this.A$a - this.B9a}));};c.prototype.DYb=function(){var F;F=this;this.eZ?(this.UX=this.DYa(this.config().N2a,this.config().eOb,function(){var C;C=F.nFb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;}),this.c6a=this.UX.then(function(C){return C?!0:F.DYa(F.config().N2a,F.config().dOb,function(){var G;G=F.mFb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.c6a=Promise.resolve(!0),this.UX=Promise.resolve(!1));};c.prototype.DYa=function(F,C,G){var J;J=this;return new Promise(function(K){var I,M,R,H;I=ba(G());M=I.next().value;I=I.next().value;if(M)return K(I);R=J.Lc.r$(h.Kc(F),function(){var Q,N;Q=ba(G());N=Q.next().value;Q=Q.next().value;N && (R.cancel(),H.cancel(),K(Q));});H=J.Lc.zk(h.Kc(C),function(){R.cancel();H.cancel();K("timeout");});});};c.prototype.mFb=function(){var F;F=n.sB.h4(d.Hb.cF,this.tdb,A).split("|");this.CZa=n.sB.Swa(F[0],F[1]);this.z$a=this.ya.ef.da(h.ja);this.A9a=this.A9a || this.z$a;this.Kxa();return this.CZa;};c.prototype.nFb=function(){var F;F=n.sB.h4(d.Hb.Td,this.rQ,B).split("|");this.DZa=n.sB.Swa(F[0],F[1]);this.A$a=this.ya.ef.da(h.ja);this.B9a=this.B9a || this.A$a;this.Kxa();return this.DZa;};c.prototype.Dxb=function(){var F;F=this;return this.jka(d.Hb.Td,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (q.Cda + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(C){F.log.debug("DriverInfo: " + C);return C;}).catch(function(C){F.uT("itsDriverInfo","exception");F.log.error("DriverInfo exception",C);throw C;});};c.prototype.Hxb=function(){var F;F=this;this.jka(d.Hb.Ox,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Rc.decode(C));F.uT("itsHardwareInfo",G);F.log.debug("HardwareInfo: " + G);return C;}).catch(function(C){F.uT("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",C);throw C;});};c.prototype.Ixb=function(){var F;F=this;this.jka(d.Hb.Ox,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Rc.decode(C));F.uT("itsHardwareReset",G);F.log.debug("ResetHardwareDRMDisabled: " + G);return C;}).catch(function(C){F.uT("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",C);throw C;});};c.prototype.jka=function(F,C){var G;G=this;return new Promise(function(J,K){var N,L,P;function I(S){try{H(S.target,"Unexpectedly got an mskeyerror event: 0x" + E.PG(S && S.target && S.target.error && S.target.error.Vbc || 0,4));}catch(U){H(S.target,U);}}function M(S){H(S.target,"Unexpectedly got an mskeyadded event");}function R(S){var U;try{U=G.Tla(S.message,"PlayReadyKeyMessage","Challenge");Q(S.target);J(U);}catch(da){H(S.target,da);}}function H(S,U){G.log.error("PlayReadyChallenge error",{cdmData:C});Q(S);K(U);}function Q(S){S.removeEventListener("mskeymessage",R);S.removeEventListener("mskeyadded",M);S.removeEventListener("mskeyerror",I);P && P.cancel();}try{N=new Uint8Array(D.U9a(C));L=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),N);L.addEventListener("mskeymessage",R);L.addEventListener("mskeyadded",M);L.addEventListener("mskeyerror",I);P=G.Lc.zk(h.Kc(1E3),function(){H(L,Error("timeout"));});}catch(S){K(S);}});};c.prototype.Tla=function(F,C){var J,K,I;for(var G=1;G < arguments.length;++G){;}G="";K=F.length;for(J=0;J < K;J++){I=F[J];0 < I && (G+=String.fromCharCode(I));}K="\\s*(.*)\\s*";for(J=arguments.length - 1;0 < J;J--){I=arguments[J];if(0 > G.search(I))return;I="(?:[^:].*:|)" + I;K="[\\s\\S]*<" + I + "[^>]*>" + K + "</" + I + ">[\\s\\S]*";}if(G=G.match(new RegExp(K)))return G[1];};c.prototype.Kpa=function(F,C){return [p.We.gB,p.We.Vx].some(function(G){return G.test(C);}) && this.config().Bra && ![d.Hb.cF,d.Hb.lIa].some(function(G){return G === F;});};Xa.Object.defineProperties(c.prototype,{PIb:{configurable:!0,enumerable:!0,get:function(){return this.config().aBb && (!this.config().fOb || this.h$a());}},eZ:{configurable:!0,enumerable:!0,get:function(){try{return this.Ly(d.Hb.Td + "|" + k.Fd.Era);}catch(F){return !1;}}},zZb:{configurable:!0,enumerable:!0,get:function(){try{return this.Ly(d.Hb.cF);}catch(F){return !1;}}}});b.uFa=c;},function(r,b,a){var f,l,m,d,h;function c(g,k,n,q,p,v,t){g=f.Yn.call(this,g,k,n,t) || this;g.pk=q;g.Yr=p;g.ya=v;g.Fw=t;g.type=l.fj.AJ;g.log=g.Yr.hb("ChromeVideoCapabilityDetector");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;f=a(180);l=a(26);m=a(4);d=a(63);h=a(181);na(c,f.Yn);c.prototype.cx=function(g){switch(g){case l.Lj.sv:return this.yZb;default:return Promise.resolve(!1);}};c.prototype.$M=function(){var g;g=this;return this.cx(l.Lj.sv).then(function(k){return k?l.Lj.sv:void 0;}).then(function(k){return g.jU(k);});};c.prototype.Eha=function(g){this.zq=g;};c.prototype.kz=function(g){var k;k=this;return this.config().Bra?this.pk.rw().then(function(n){return k.Kpa(d.a6(n),g)?!1:f.Yn.prototype.kz.call(k,g);}):f.Yn.prototype.kz.call(this,g);};c.prototype.VKb=function(g){var k;return !(null === (k=g.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.OJ;}));};c.prototype.Iab=function(){var g;if(this.zq){g=this.EZa && this.GZa && this.EZa.Qa(this.GZa).da(m.ja);this.zq.itshdcp=JSON.stringify({hdcp2:this.bu,time2:g});}};c.prototype.Kpa=function(g,k){return [h.We.gB,h.We.Vx].some(function(n){return n.test(k);}) && this.config().Bra && g === d.OJ;};Xa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.G2a || (this.G2a=this.pk.rw().then(function(g){return g.createMediaKeys();}));return this.G2a;}},yZb:{configurable:!0,enumerable:!0,get:function(){var g;g=this;this.Twa || (this.config().bBb?this.Twa=Promise.all([this.pk.rw(),this.mediaKeys]).then(function(k){var n;n=ba(k);k=n.next().value;n=n.next().value;if(!g.VKb(k))return (g.bu="not HW_SECURE_DECODE",g.log.trace("hdcpStatus: " + g.bu),!1);if(n && n.getStatusForPolicy)return (g.GZa=g.ya.ef,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){g.EZa=g.ya.ef;g.bu=q;g.log.trace("hdcpStatus: " + g.bu);return "usable" === g.bu;}));g.bu="not available";g.log.trace("hdcpStatus: " + g.bu);return !1;}).catch(function(k){g.bu="exception";g.log.error("Exception in supportsHdcpLevel",{hdcpStatus:g.bu},k);return !1;}).then(function(k){g.Iab();return k;}):(this.bu="not enabled",this.log.trace("hdcpStatus: " + this.bu),this.Iab(),this.Twa=Promise.resolve(!1)));return this.Twa;}}});b.mAa=c;},function(r,b,a){var f,l;function c(m){this.navigator=m;this.E2a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;r=a(1);f=a(0);a=a(39);c.prototype.Xla=function(m){return this.E2a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.$J))],l);b.NFa=l;},function(r,b,a){var f,l,m;function c(d,h){this.mediaCapabilities=d;this.log=h.hb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;r=a(1);f=a(445);l=a(7);a=a(0);c.prototype.Xla=function(d){var h,g,k;h=this;g={jc:void 0};if(this.mediaCapabilities.E2a){k={contentType:'video/mp4;codecs="avc1.640028"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.Xla(k).then(function(n){return g.jc=Object.assign(Object.assign({},n),k);}).catch(function(n){return h.log.error("Error calling MediaCapabilities API",n);});}return g;};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(f.QFa)),r.__param(1,a.l(l.qb))],m);b.OFa=m;},function(r,b,a){var f,l,m;function c(d){this.aTb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;r=a(1);f=a(0);l=a(275);a=a(447);c.prototype.tCb=function(){var d,h;d={WU:l.mB.gkb};h=this.aTb.PresentationRequest;h && (new h("https://netflix.com").getAvailability() || Promise.reject()).then(function(g){var k;d.WU=g.value?l.mB.mJa:l.mB.wya;if(d.WU === l.mB.wya){k=function(){g.value && (d.WU=l.mB.mJa);g.removeEventListener("change",k);};g.addEventListener("change",k);}}).catch(function(){d.WU=l.mB.Error;});return d;};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.nJa))],m);b.qCa=m;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v,t){this.config=q;this.navigator=p;this.Yr=v;this.vD=t;this.type=l.fj.ov;this.FQa={};this.pbb={};this.log=this.Yr.hb("MediaCapabilityDetector");this.FQa=this.lxb();this.pbb=this.qyb();}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;r=a(1);f=a(0);l=a(26);m=a(44);d=a(7);h=a(39);g=a(70);k=a(154);n=a(63);c.prototype.kz=function(q){var p;p=this;return this.vD.rw().then(function(v){return p.FCb(q,v);}).catch(function(){return !1;});};c.prototype.qKb=function(q){return ! !q.colorGamut || ! !q.hdrMetadataType || ! !q.transferFunction;};c.prototype.vpa=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.FCb=function(q,p){var v,t,u,w;v=this;try{t={type:"media-source"};u=this.FQa[q];w=this.pbb[q];if(u)t.audio=u;else if(w){t.video=w;if(this.qKb(w) && !this.vpa())return Promise.resolve(!1);p && (t.keySystemConfiguration=this.FFb(p));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(t).then(function(x){var y;x.configuration || (x.configuration=t);y=v.OKb(t,x);y?v.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(x)):v.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(x));return y;}).catch(function(x){v.log.error("mediaCapabilities.decodingInfo failed",x);return !1;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.FFb=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=n.a6(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};c.prototype.lxb=function(){var q,p;q={};p={contentType:"audio/mp4;codecs=mp4a.40.2"};q[m.ye.DE]=p;q[m.ye.VCa]=p;q[m.ye.EE]=p;q[m.ye.qF]=p;p={contentType:"audio/mp4;codecs=ec-3"};q[m.ye.uQ]=p;q[m.ye.Oba]=p;q[m.ye.vQ]=p;return q;};c.prototype.qyb=function(){var q,p,v,t,u,w,x,y,z,A,B,D,E;q={};p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};v={contentType:'video/mp4; codecs="dvh1.05.04"'};t={width:1920,height:1080};u={width:3840,height:2160};w=Object.assign(Object.assign({},t),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:2E7,framerate:60});t=Object.assign(Object.assign({},u),{bitrate:25E6,framerate:30});u=Object.assign(Object.assign({},u),{bitrate:4E7,framerate:60});y={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};z={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);q[m.N.NCa]=A;q[m.N.IQ]=A;q[m.N.JQ]=A;q[m.N.pca]=A;A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);q[m.N.q1]=A;q[m.N.lK]=A;q[m.N.mK]=A;q[m.N.$R]=A;A=Object.assign(Object.assign({},p),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),t);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),u);q[m.N.h0]=A;q[m.N.j0]=A;q[m.N.l0]=A;q[m.N.n0]=B;q[m.N.WQ]=D;q[m.N.YQ]=E;q[m.N.i0]=A;q[m.N.k0]=A;q[m.N.m0]=A;q[m.N.o0]=B;q[m.N.XQ]=D;q[m.N.ZQ]=E;A=Object.assign(Object.assign(Object.assign({},p),w),y);B=Object.assign(Object.assign(Object.assign({},p),x),y);D=Object.assign(Object.assign(Object.assign({},p),t),y);p=Object.assign(Object.assign(Object.assign({},p),u),y);q[m.N.LQ]=A;q[m.N.NQ]=A;q[m.N.NJ]=A;q[m.N.QQ]=B;q[m.N.SQ]=D;q[m.N.UQ]=p;q[m.N.MQ]=A;q[m.N.OQ]=A;q[m.N.PQ]=A;q[m.N.RQ]=B;q[m.N.TQ]=D;q[m.N.VQ]=p;p=Object.assign(Object.assign(Object.assign({},v),w),z);y=Object.assign(Object.assign(Object.assign({},v),x),z);A=Object.assign(Object.assign(Object.assign({},v),t),z);v=Object.assign(Object.assign(Object.assign({},v),u),z);q[m.N.I_]=p;q[m.N.K_]=p;q[m.N.xQ]=p;q[m.N.N_]=y;q[m.N.P_]=A;q[m.N.R_]=v;q[m.N.J_]=p;q[m.N.L_]=p;q[m.N.M_]=p;q[m.N.O_]=y;q[m.N.Q_]=A;q[m.N.S_]=v;w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),x);t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),t);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),u);q[m.N.uya]=w;q[m.N.vya]=w;q[m.N.l_]=w;q[m.N.m_]=w;q[m.N.n_]=w;q[m.N.o_]=x;q[m.N.p_]=t;q[m.N.q_]=u;return q;};c.prototype.OKb=function(q,p){return q.video && this.config().ASb?p.supported && p.powerEfficient:p.supported;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.DJ)),r.__param(1,f.l(h.$J)),r.__param(2,f.l(d.qb)),r.__param(3,f.l(g.Us))],a);b.LFa=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(0);c=a(448);f=a(79);l=a(182);m=a(1030);d=a(451);h=a(1031);g=a(450);k=a(183);n=a(1032);q=a(1034);p=a(1035);v=a(1036);t=a(79);u=a(452);w=a(1038);b.storage=new r.pd(function(x){x(l.wGa).uf(function(){return function(){return nb.localStorage;};});x(l.BDa).uf(function(){return function(){return nb.indexedDB;};});x(u.iGa).to(w.hGa).aa();x(t.hB).to(v.Eya).aa();x(d.NEa).to(h.MEa).aa();x(c.v0).to(q.bEa).aa();x(k.dEa).to(n.cEa).aa();x(f.IKa).to(m.BAa).aa();x(k.ADa).to(n.zDa).aa();x(k.Hca).to(n.eEa).aa();x(g.DAa).to(p.CAa).aa();});},function(r,b,a){var f,l,m,d,h;function c(g,k,n){this.Wo=k;this.config=n;this.sa=g.hb(d.Fea);}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;r=a(1);f=a(0);l=a(7);m=a(64);d=a(449);a=a(450);c.prototype.validate=function(g){return this.config.enabled?this.config.timeout?this.Wo.Iq(this.config.timeout,this.tUa(g)):this.tUa(g):Promise.resolve();};c.prototype.tUa=function(g){var k;k=this;return new Promise(function(n,q){return g.save("indexdb-test","true",!0).then(function(){return g.load("indexdb-test").then(function(p){"true" !== p.value && q();k.sa.debug("save/load test passed");g.remove("indexdb-test").then(function(){n();}).catch(function(){k.sa.error("Failed to remove testValue");n();});});}).catch(function(p){return q(p);});});};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.Px)),r.__param(2,f.l(a.DAa))],h);b.BAa=h;},function(r,b,a){var f,l,m;function c(d){this.KD=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;r=a(1);f=a(0);l=a(3);a=a(182);c.prototype.load=function(d){var h;h=this;return new Promise(function(g,k){var n,q;try{n=h.KD.getItem(d);if(n){q=n;if("{" === n[0])try{q=JSON.parse(n) || n;}catch(p){}g({key:d,value:q});}else k({na:l.L.BB});}catch(p){k({na:l.L.YJa,cause:p});}});};c.prototype.save=function(d,h,g){var k;k=this;return new Promise(function(n,q){if(g && k.KD.getItem(d))n(!1);else try{"string" === typeof h?k.KD.setItem(d,h):k.KD.setItem(d,JSON.stringify(h));n(!0);}catch(p){q({na:l.L.ZJa,cause:p});}});};c.prototype.remove=function(d){var h;h=this;return new Promise(function(g,k){try{h.KD.removeItem(d);g();}catch(n){k({na:l.L.yea,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.Mhb))],m);b.MEa=m;},function(r,b,a){var m,d,h,g,k,n,q,p,v,t,u,w;function c(x,y,z,A,B,D){this.config=y;this.qU=z;this.Tn=A;this.F1b=B;this.jl=D;this.sa=x.hb(n.Fea);}function f(x,y){this.config=x;this.uZ=y;}function l(x,y,z,A,B){this.config=y;this.uZ=z;this.jl=B;this.sa=x.hb(n.Fea);this.qU=new Promise(function(D,E){var F;try{F=A();F?D(F):E({na:k.L.CDa});}catch(C){E({na:k.L.u0,cause:C});}});}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=b.cEa=b.zDa=void 0;r=a(1);m=a(0);d=a(7);h=a(1033);g=a(182);k=a(3);n=a(449);q=a(448);p=a(64);v=a(79);t=a(71);u=a(183);w=a(62);l.prototype.create=function(){this.Aka || (this.Aka=this.$L());return this.Aka;};l.prototype.Xp=function(x){var y;y=this;this.Aka=null;return this.uZ.Iq(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof p.hr?Promise.reject({na:k.L.u0}):z.na?Promise.reject(z):Promise.reject({na:k.L.u0,cause:z});});};l.prototype.delete=function(x){var y;y=this;return this.uZ.Iq(this.config.timeout,new Promise(function(z,A){y.qU.then(function(B){var D;D=B.deleteDatabase(x);D.onsuccess=function(){z();};D.onerror=function(){A({na:k.L.u0,cause:D.error});};}).catch(function(B){A(B);});}));};l.prototype.$L=function(){var x,y;x=this;return this.uZ.Iq(this.config.timeout,new Promise(function(z,A){if(x.config.jwa)return A({na:x.config.jwa});x.qU.then(function(B){x.jl.mark(w.Qj.Ufb);y=B.open(x.config.name,x.config.version);if(!y)return A({na:k.L.DDa});y.onblocked=function(){x.jl.mark(w.Qj.Rfb);A({na:k.L.Nfb});};y.onupgradeneeded=function(){var D;x.jl.mark(w.Qj.agb);D=y.result;try{D.createObjectStore(x.config.iX,{keyPath:"name"});}catch(E){x.sa.error("Exception while creating object store",E);}};y.onsuccess=function(D){var E,F;x.jl.mark(w.Qj.$fb);try{E=D.target.result;F=E.objectStoreNames.length;x.sa.trace("objectstorenames length ",F);if(0 === F){x.sa.error("invalid indexedDb state, deleting");x.jl.mark(w.Qj.Tfb);try{E.close();}catch(C){}B.deleteDatabase(x.config.name);setTimeout(function(){A({na:k.L.Mfb});},1);return;}}catch(C){x.sa.error("Exception while inspecting indexedDb objectstorenames",C);}z(y.result);};y.onerror=function(){x.jl.mark(w.Qj.Sfb);x.sa.error("IndexedDB open error",y.error);A({na:k.L.Ofb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof p.hr){try{y && y.readyState && x.jl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.j3 && y && "done" === y.readyState){if(x.A1b(y))return (x.jl.mark(w.Qj.Yfb),Promise.resolve(y.result));x.jl.mark(w.Qj.Xfb);}x.jl.mark(w.Qj.Wfb);return Promise.reject({na:k.L.Qfb});}if(z.na)return Promise.reject(z);x.jl.mark(w.Qj.Vfb);x.sa.error("IndexedDB open exception occurred",z);return Promise.reject({na:k.L.Pfb,cause:z});});};l.prototype.A1b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.jl.mark(w.Qj.Zfb);this.sa.error("failed to check open request state",y);}return !1;};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(d.qb)),r.__param(1,m.l(q.v0)),r.__param(2,m.l(p.Px)),r.__param(3,m.l(g.BDa)),r.__param(4,m.l(t.lF))],a);b.zDa=a;f.prototype.create=function(x){return Promise.resolve(new h.aEa(this.config,this.uZ,x));};a=f;a=r.__decorate([m.R(),r.__param(0,m.l(q.v0)),r.__param(1,m.l(p.Px))],a);b.cEa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.kU || (this.kU=this.$L(this.F1b));return this.kU;};c.prototype.$L=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.jl.mark(w.Qj.Fjb);y.qU.create().then(function(B){y.Tn.create(B).then(function(D){Promise.all(x.map(function(E){return E.validate(D);})).then(function(){y.storage=D;z(y.storage);}).catch(function(E){y.sa.debug("DB validation failed, cause: " + E);y.config.kWa?(y.sa.debug("Fixing corrupt DB"),y.qU.Xp(B).then(function(){y.sa.error("Invalid database deleted, creating new database.");y.$L().then(function(F){y.sa.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.sa.error("Couldn't delete invalid database.");A(F);})):(y.sa.debug("Ignoring invalid DB due to config"),y.storage=D,z(y.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([m.R(),r.__param(0,m.l(d.qb)),r.__param(1,m.l(q.v0)),r.__param(2,m.l(u.ADa)),r.__param(3,m.l(u.dEa)),r.__param(4,m.KH(v.IKa)),r.__param(5,m.l(t.lF))],a);b.eEa=a;},function(r,b,a){var l,m,d;function c(h,g,k){this.config=h;this.Wo=g;this.KD=k;}function f(h,g){this.reason=h;this.cause=g;}Object.defineProperty(b,"__esModule",{value:!0});b.aEa=b.zJa=void 0;l=a(3);m=a(64);(function(h){h[h.sda=0]="NoData";h[h.Error=1]="Error";h[h.jK=2]="Timeout";})(d=b.zJa || (b.zJa={}));c.prototype.load=function(h){var g;g=this;return new Promise(function(k,n){g.e5("get",!1,h).then(function(q){k({key:h,value:q});}).catch(function(q){var p;p=l.L.YJa;switch(q.reason){case d.sda:p=l.L.BB;break;case d.jK:p=l.L.Gjb;}n({na:p,cause:q.cause});});});};c.prototype.save=function(h,g,k){var n;n=this;return new Promise(function(q,p){n.e5(k?"add":"put",!0,{name:h,data:g}).then(function(){q(!k);}).catch(function(v){var t;t=l.L.ZJa;switch(v.reason){case d.jK:t=l.L.Jjb;}p({na:t,cause:v.cause});});});};c.prototype.remove=function(h){var g;g=this;return new Promise(function(k,n){g.e5("delete",!0,h).then(function(){k();}).catch(function(q){var p;p=l.L.yea;switch(q.reason){case d.jK:p=l.L.XJa;}n({na:p,cause:q.cause});});});};c.prototype.removeAll=function(){var h;h=this;return new Promise(function(g,k){h.e5("clear",!0,"").then(function(){g();}).catch(function(n){var q;q=l.L.yea;switch(n.reason){case d.jK:q=l.L.XJa;}k({na:q,cause:n.cause});});});};c.prototype.loadAll=function(){var h;h=this;return this.Wo.Iq(this.config.timeout,new Promise(function(g,k){var n,q,p;if(h.config.iwa)k(new f(h.config.iwa));else {n=[];q=h.KD.transaction(h.config.iX,"readonly");p=q.objectStore(h.config.iX).openCursor();q.onerror=function(){k(new f(d.Error,p.error));};p.onsuccess=function(v){if(v=v.target.result)try{n.push({key:v.value.name,value:v.value.data});v.continue();}catch(t){k(new f(d.Error,t));}else g(n);};p.onerror=function(){k(new f(d.Error,p.error));};}})).catch(function(g){return g instanceof m.hr?Promise.reject(new f(d.jK,g)):g instanceof f?Promise.reject(g):Promise.reject(new f(d.Error,g));});};c.prototype.e5=function(h,g,k){var n;n=this;return this.Wo.Iq(this.config.timeout,new Promise(function(q,p){var v,t;v=n.KD.transaction(n.config.iX,g?"readwrite":"readonly");t=v.objectStore(n.config.iX)[h](k);v.onerror=function(){p(new f(d.Error,t.error));};t.onsuccess=function(u){var w;if("get" == h)try{w=u.target.result;w?q(w.data):p(new f(d.sda));}catch(x){p(new f(d.sda,x));}else q(void 0);};t.onerror=function(){p(new f(d.Error,t.error));};})).catch(function(q){return q instanceof m.hr?Promise.reject(new f(d.jK,q)):q instanceof f?Promise.reject(q):Promise.reject(new f(d.Error,q));});};b.aEa=c;},function(r,b,a){var f,l,m,d,h;function c(g,k){g=m.Ye.call(this,g,"IndexedDBConfigImpl") || this;g.config=k;g.version=1;g.iX="namedatapairs";return g;}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;r=a(1);f=a(0);l=a(45);m=a(46);d=a(40);a=a(37);na(c,m.Ye);Xa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.kw?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Dwa;}},j3:{configurable:!0,enumerable:!0,get:function(){return this.config.j3;}},jwa:{configurable:!0,enumerable:!0,get:function(){return 0;}},iwa:{configurable:!0,enumerable:!0,get:function(){return 0;}},kWa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});h=c;r.__decorate([l.config(l.XA,"simulateIdbOpenError")],h.prototype,"jwa",null);r.__decorate([l.config(l.XA,"simulateIdbLoadAllError")],h.prototype,"iwa",null);r.__decorate([l.config(l.bd,"fixInvalidDatabase")],h.prototype,"kWa",null);h=r.__decorate([f.R(),r.__param(0,f.l(a.Tl)),r.__param(1,f.l(d.Qm))],h);b.bEa=h;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;r=a(1);f=a(0);a=a(40);Xa.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Dwa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.q$a;}}});l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Qm))],l);b.CAa=l;},function(r,b,a){var l,m,d,h,g,k,n;function c(q,p,v,t){this.sa=q;this.config=p;this.TIb=v;this.xra=t;this.qG={mem:{storage:this.xra,key:"mem"}};this.fE=this.config.fE;}function f(q,p,v,t){this.Vf=q;this.Tn=p;this.xra=v;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.oba=b.Eya=void 0;r=a(1);l=a(0);m=a(3);d=a(183);h=a(7);g=a(452);k=a(1037);a=a(40);f.prototype.create=function(){this.kU || (this.kU=this.$L());return this.kU;};f.prototype.$L=function(){this.drb=new c(this.Vf.hb("AppStorage"),this.config,this.Tn,this.xra);return this.drb.create();};n=f;n=r.__decorate([l.R(),r.__param(0,l.l(h.qb)),r.__param(1,l.l(d.Hca)),r.__param(2,l.l(g.iGa)),r.__param(3,l.l(a.Qm))],n);b.Eya=n;c.prototype.create=function(){var q;q=this;return this.Jxb().then(function(p){if(!q.Ftb(p,q.config.YV))throw q.bPb(p);return q;});};c.prototype.load=function(q){var p;p=this;return new Promise(function(v,t){p.pV(q).storage.load(q).then(function(u){v(u);}).catch(function(u){t(u);});});};c.prototype.save=function(q,p,v){var t;t=this;return new Promise(function(u,w){t.pV(q).storage.save(q,p,v).then(function(x){u(x);}).catch(function(x){w(x);});});};c.prototype.remove=function(q){var p;p=this;return new Promise(function(v,t){p.pV(q).storage.remove(q).then(function(){v();}).catch(function(u){t(u);});});};c.prototype.removeAll=function(){var q;q=this;return new Promise(function(p,v){q.Q6a("mem").then(function(){return q.Q6a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){p();}).catch(function(t){q.sa.error("remove all failed");v(t);});});};c.prototype.loadAll=function(){var q,p;q=this;p=[];return this.e1a("mem").then(function(v){p=p.concat(v);return q.e1a("idb");}).catch(function(v){q.LKb(v) || q.sa.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return p=p.concat(v);}).catch(function(v){q.sa.error("load all failed",v);throw v;});};c.prototype.Jxb=function(){var q;q=this;return this.TIb.create().then(function(p){q.qG.idb={storage:p,key:"idb"};}).catch(function(p){q.sa.error("idb failed to load",p);return p || ({na:m.L.Sl});});};c.prototype.Ftb=function(q,p){return !q || q && p?!0:!1;};c.prototype.bPb=function(q){var p;p="";q && (p+=q.na);return {na:p};};c.prototype.Q6a=function(q){return (q=this.qG[q])?q.storage.removeAll():Promise.resolve();};c.prototype.e1a=function(q){return (q=this.qG[q])?q.storage.loadAll():Promise.resolve([]);};c.prototype.MCb=function(q){for(var p in this.fE){if(q.startsWith(p))return this.fE[p];}return this.fE[k.heb];};c.prototype.pV=function(q){var p,v;p=this;this.MCb(q).every(function(t){return p.qG[t]?(v=p.qG[t],!1):!0;});if(!v){this.sa.error("component not found for storageKey",{OYb:q,t8b:Object.keys(this.qG),rules:this.fE});v=this.qG.mem;}this.sa.trace("component found for key",{storageKey:q,componentKey:v.key});return v;};c.prototype.LKb=function(q){return (q && (q.na || q.errorSubCode)) === m.L.BB;};b.oba=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.heb="__default_rule_key__";},function(r,b,a){var f,l,m;function c(d){this.Vf=d;this.MH={};this.sa=this.Vf.hb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(1);f=a(0);l=a(3);a=a(7);c.prototype.load=function(d){var h;if(this.MH.hasOwnProperty(d)){h=this.MH[d];this.sa.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:h});}this.sa.debug("Storage entry not found",{key:d});return Promise.reject({na:l.L.BB});};c.prototype.save=function(d,h,g){if(g && this.MH.hasOwnProperty(d))return Promise.resolve(!1);this.MH[d]=h;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.MH[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.MH).map(function(h){var g;g=ba(h);h=g.next().value;g=g.next().value;return {key:h,value:g};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.MH={};return Promise.resolve();};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.qb))],m);b.hGa=m;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.GL=void 0;r=a(0);c=a(453);f=a(454);l=a(455);m=a(1040);d=a(1041);h=a(1042);b.GL=new r.pd(function(g){g(c.tza).to(m.sza).aa();g(f.rza).to(d.oza).aa();g(l.qza).to(h.pza).aa();});},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v,t){this.y3=q;this.ib=p;this.Asb=v;this.config=t;this.sa=n.hb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.sza=void 0;r=a(1);f=a(0);l=a(454);m=a(455);d=a(7);h=a(27);g=a(4);a=a(13);c.prototype.Iqb=function(n){var q,p;q=n.bb.playbackState && n.bb.playbackState.currentTime;p=this.CEb(n.J);q=this.ib.BG(q)?g.Kc(q):p;if(this.ib.Fg(q))(this.sa.info("Overriding bookmark",{From:n.jJ.da(g.ja),To:q.da(g.ja)}),n=Object.assign({},n,{jJ:q}));else if(this.XIb(n))return (this.sa.trace("Ignoring bookmark because it's too close to beginning"),g.uh(0));return n.jJ.Cpa()?(this.sa.trace("Ignoring bookmark because it's negative"),g.uh(0)):this.WIb(n)?(this.sa.trace("Ignoring bookmark because it's too close to end"),g.uh(0)):this.VIb(n)?(this.sa.trace("Ignoring bookmark because it's too close to the end to start decoding"),g.uh(0)):n.jJ;};c.prototype.XIb=function(n){return 0 > n.jJ.yl(this.lna(n));};c.prototype.lna=function(n){return this.dRa(this.y3.lna(),n.A9);};c.prototype.WIb=function(n){return 0 < n.jJ.yl(this.mna(n));};c.prototype.mna=function(n){var q;q=n.bb.El?this.y3.rFb():this.y3.mna();return n.A9.Qa(this.dRa(q,n.A9));};c.prototype.VIb=function(n){return 0 < n.jJ.yl(this.$Eb(n));};c.prototype.$Eb=function(n){var q;q=n.bb.El?this.config().p4a:this.config().WH;return n.A9.Qa(g.Kc(q));};c.prototype.CEb=function(n){var q;n=this.y3.Rma()[n];q=-1;this.ib.Hp(n)?q=parseInt(n):this.ib.Fi(n) && (q=n);if(this.ib.wT(q))return g.Kc(q);};c.prototype.dRa=function(n,q){return this.Asb.bZb(n,q);};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(d.qb)),r.__param(1,f.l(l.rza)),r.__param(2,f.l(h.ag)),r.__param(3,f.l(m.qza)),r.__param(4,f.l(a.Xc))],k);b.sza=k;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.oza=void 0;r=a(1);f=a(0);a=a(13);c.prototype.lna=function(){return this.LC().Bsb;};c.prototype.mna=function(){return this.LC().Csb;};c.prototype.rFb=function(){return this.LC().Dsb;};c.prototype.Rma=function(){return this.LC().cRa;};c.prototype.LC=function(){return this.config();};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Xc))],l);b.oza=l;},function(r,b,a){var f,l,m;function c(d){this.ib=d;}Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;r=a(1);f=a(0);l=a(27);m=a(4);c.prototype.bZb=function(d,h){var g,k;g=parseFloat(d);k=0;"%" === d[d.length - 1] && this.ib.Fi(g)?k=Math.round(g * h.da(m.ja) / 100):(d=parseInt(d),this.ib.wT(d) && (k=d));return m.Kc(Math.min(k,h.da(m.ja)));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.ag))],a);b.pza=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.wRa=void 0;r=a(0);c=a(456);f=a(1044);b.wRa=new r.pd(function(l){l(c.Kza).to(f.Jza).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v,t,u,w,x){this.config=p;this.AD=t;this.profile=u;this.uaa=w;this.XT=x;this.log=v.hb("CDMAttestedDescriptor");this.bXa(n.uv.KR);}Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;r=a(1);f=a(0);l=a(13);m=a(7);d=a(156);h=a(276);g=a(94);k=a(166);n=a(40);q=a(57);c.prototype.bXa=function(p){var v;v=this;return this.uaa.L$(p)?this.config().XAb?this.$Wa().then(function(t){if(t)return (!1,Promise.resolve(void 0));v.Z0a || (!1,v.Z0a=v.XT.Qna(q.Vh.ao));return v.Z0a;}).catch(function(t){v.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.Yb.close();return null === t || void 0 === t?void 0:t.nja;}).then(function(t){return Promise.all([Promise.resolve(t),v.$Wa()]);}).then(function(t){var u;t=ba(t);u=t.next().value;if(t.next().value)!1;else return u;}):this.AD().then(function(t){t.YW.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.$Wa=function(){var p;p=this;return this.AD().then(function(v){return (v=v.YW.getServiceTokens(p.profile)) && v.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Xc)),r.__param(1,f.l(m.qb)),r.__param(2,f.l(d.vR)),r.__param(3,f.l(g.MR)),r.__param(4,f.l(h.p1)),r.__param(5,f.l(k.C_))],a);b.Jza=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v;Object.defineProperty(b,"__esModule",{value:!0});b.Q1a=void 0;r=a(0);c=a(259);f=a(1046);l=a(457);m=a(1053);d=a(460);h=a(461);g=a(463);k=a(1054);n=a(157);q=a(1055);p=a(465);v=a(1056);b.Q1a=new r.pd(function(t){t(l.BFa).to(m.AFa).aa();t(c.hda).to(f.CFa).aa();t(d.JIa).Yi(function(u){for(var w=[],x=0;x < arguments.length;++x){w[x - 0]=arguments[x];}x=a(277).kF;return new (Function.prototype.bind.apply(x,[null].concat(ea(w))))();});t(h.oLa).Yi(function(u){for(var w=[],x=0;x < arguments.length;++x){w[x - 0]=arguments[x];}x=a(469).$za;return new (Function.prototype.bind.apply(x,[null].concat(ea(w))))();});t(g.FFa).uf(function(){return function(u){return new k.GFa(u);};});t(n.qR).to(q.yFa).aa();t(p.xFa).to(v.wFa).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t;function c(u,w,x,y,z){this.Vf=u;this.config=w;this.tta=x;this.nxa=y;this.qaa=z;}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;r=a(1);f=a(0);l=a(7);m=a(457);d=a(1047);h=a(1048);g=a(1049);k=a(1050);n=a(1051);q=a(1052);p=a(460);v=a(461);a=a(462);c.prototype.create=function(u){var w,x;w=this.Vf.hb("ManifestParser",u);x=new d.hAa(w,this.config);return new g.DFa(x,new h.aLa(w,this.config,u,x,this.tta),new k.yLa(w,u,this.nxa),new n.eza(w,this.config,u,this.qaa),new q.YLa(w,this.qaa));};t=c;t=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.BFa)),r.__param(2,f.l(p.JIa)),r.__param(3,f.l(a.wLa)),r.__param(4,f.l(v.oLa))],t);b.CFa=t;},function(r,b,a){var f;function c(l,m){this.log=l;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.hAa=void 0;f=a(128);c.prototype.L4a=function(l,m,d){var h,g,k,n,q;h=this;g=this.config.kja;k=this.config.jja;l=ba(f.xu(function(p){return (!g.length || 0 <= g.indexOf(p.id)) && 0 > k.indexOf(p.id);},l || []));n=l.next().value;l.next().value.forEach(function(p){return h.log.warn("Cdn is not allowed",{Id:p.id});});q=n.map(function(p){var v;v=(m?m.find(function(t){return t.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,Vc:p.Vc,type:p.type,vqa:p.key,x$b:p.D1a,location:{id:v.key,Vc:v.Vc,level:v.level,weight:v.weight,ck:[]}};});q.sort(function(p,v){return p.Vc - v.Vc;});q.forEach(function(p){return p.location.ck=q.filter(function(v){return v.vqa === p.vqa;});});this.log.trace("Transformed cdns",{Count:q.length});if(d && !q.length)throw Error("no valid cdns");return q;};b.hAa=c;},function(r,b,a){var f,l,m,d;function c(h,g,k,n,q){this.log=h;this.config=g;this.j=k;this.lja=n;this.tta=q;}Object.defineProperty(b,"__esModule",{value:!0});b.aLa=void 0;f=a(44);l=a(11);m=a(130);d=a(458);c.prototype.X4a=function(h,g){var k;k=this;g=g.map(function(n){var q,p,v,t,u;v=k.J_b(n);n.hD || !n.ji || v && 0 < v.length || k.log.error("track without downloadables",k.LFb(n));t={};u=[];0 < v.length && (t=v[0],t.profile == f.Wm.YJ && (t=k.xWb(v),!1),u=k.lja.L4a(n.IRa,void 0,!1));n=k.tta(k.j,n.rg,n.id,null !== (q=n.Vc) && void 0 !== q?q:-1,null !== (p=n.ji) && void 0 !== p?p:!0,h,t.yc,t.urls || ({}),u,n.language,n.mD,m.n1[n.kl.toLowerCase()] || m.up.bK,n.SI,n.variant,n.kI.toUpperCase(),t.profile,k.RFb(t) || ({}),n.hD,n.n7,n.q7,n.cu);k.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:g.length});return g;};c.prototype.h_b=function(h){var g,k;g=this;k=this.config.zma;if(k){if(h=ba(h.filter(function(n){return n.Vd == k || n.trackId == k;})).next().value)return h;}else if(this.j.u5 && (h=ba(h.filter(function(n){return n.trackId == g.j.u5;})).next().value))return h;};c.prototype.J_b=function(h){var g,k;g=this;k=h.EUa;h=Object.entries(h.vxa || ({})).map(function(n){var q;q=ba(n);n=q.next().value;q=q.next().value;return {yc:k[n],profile:n,size:q.size || 0,priority:g.TEb(n,q),offset:q.Dra || 0,NRb:q.width,l5a:q.height,urls:q.hw};});h.sort(function(n,q){return n.priority - q.priority;});return h;};c.prototype.TEb=function(h,g){var k,n;k=this.config.cv.indexOf(h);g=g.size;n=this.config.FP;return h === f.Wm.Rba && 0 < n && g > n?this.config.cv.length + 1:0 <= k?k:this.config.cv.length;};c.prototype.RFb=function(h){if(h.profile === f.Wm.YJ)return {offset:h.offset,length:h.size,tI:{width:h.NRb,height:h.l5a}};};c.prototype.xWb=function(h){var g,k;g=this.config.Soa || d.Kea.FYa();k=ba(h.filter(function(n){return n.profile === f.Wm.YJ;}).filter(function(n){return n.l5a === g;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:l.wv.height,intendedResolution:g});return h[0];};c.prototype.LFb=function(h){return {isNone:h.hD,isForced:h.n7,bcp47:h.language,id:h.rg};};b.aLa=c;},function(r,b){function a(c,f,l,m,d){this.lja=c;this.Ywa=f;this.S_b=l;this.t3=m;this.ubb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;a.prototype.V4a=function(c){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y;m=c.uc;d=null !== (l=null === (f=m.P3) || void 0 === f?void 0:f.ds) && void 0 !== l?l:"";h=! !m.eY;f=this.lja.L4a(m.$o,m.Oo,!0);l=this.Ywa.X4a(d,m.tZ);c=this.S_b.sRb(m.V_b);g=h?this.t3.K4a(d,m.dG,l):this.t3.oRb(d,m.dG,m.media,l);d=this.ubb.tRb(d,m.cB);k=d[0];n=this.t3.Trb(g) || g.find(function(z){return h?z.trackId === m.eY.kn:z.Lz === m.x4[0].kn;}) || g[0];q=this.Ywa.h_b(n.Ph) || l.find(function(z){return h?z.trackId === m.eY.GP:z.Lz === m.x4[0].$9a;}) || n.Ph[0];p=this.ubb.qRb(m.cB);v=m.Ri;t=m.Kub;u=m.SV;w=m.pm;x=m.dG.findIndex(function(z){return z.rg == n.trackId;});y=m.cB.findIndex(function(z){return z.rg == k.trackId;});return {Ku:p,ck:f,Hi:g,ip:d,Ph:l,VA:c,Ri:v,NWb:t,kD:u,pm:w,bzb:x,lzb:y,y4:k,tU:n,vU:q};};a.prototype.QIb=function(c,f,l){var m,d,h,g;m=this;g=null !== (h=null === (d=l.uc.P3) || void 0 === d?void 0:d.ds) && void 0 !== h?h:"";l=l.uc;d=l.dG;l.tZ.forEach(function(k){var n;if(k.ji){n=m.d7a(c.uc.tZ,f.Ph,k,function(q){return m.Ywa.X4a(g,[q])[0];});n && f.Hi.forEach(function(q){var p;q=q.Ph;p=q.findIndex(function(v){return v.trackId === n.trackId;});-1 !== p && (q[p]=n);});}});d.forEach(function(k){k.ji && m.d7a(c.uc.dG,f.Hi,k,function(n){return m.t3.K4a(g,[n],f.Ph)[0];});});return {oa:c,Oc:f};};a.prototype.d7a=function(c,f,l,m){var d,h,g,k;d=c.findIndex(function(n){return n.rg === l.rg;});h=-1 !== d?c[d]:void 0;g=f.findIndex(function(n){return n.trackId === l.rg;});k=-1 !== g?f[g]:void 0;if(h && !h.ji && k && !k.ji)return (m=m(l),c[d]=l,f[g]=m);};b.DFa=a;},function(r,b){function a(c,f,l){this.log=c;this.j=f;this.nxa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;a.prototype.sRb=function(c){var f;f=this;c=(c || []).filter(function(l){return l.urls && 0 < l.urls.length;}).map(function(l){return f.nxa(f.j,l.id,l.height,l.width,l.SRb,l.TRb,l.size,l.cu,{unknown:l.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(l,m){return l.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.yLa=a;},function(r,b,a){var f,l,m,d,h;function c(g,k,n,q){g=l.sR.call(this,g,q) || this;g.config=k;g.j=n;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.eza=void 0;f=a(441);l=a(459);m=a(128);d=a(90);h=a(130);na(c,l.sR);c.prototype.K4a=function(g,k,n){var q,p;q=this;p=this.config.Z$;k=k.filter(function(v){var t,u;t=v.hD || !v.ji || v.streams && 0 < v.streams.length;t || q.log.warn("Audio track is missing streams",q.n6(v));u=0 === p.length || 0 <= p.indexOf(v.kl);u || q.log.warn("Audio track is not supported",q.n6(v));return t && u;});if(!k.length)throw Error("no valid audio tracks");k=k.map(function(v){return q.J4a(g,v,q.VDb(v,n));});this.log.trace("Parsed audio tracks",{Count:k.length});return k;};c.prototype.oRb=function(g,k,n,q){var p,v,t,u;p=this;v=ba(m.xu(function(w){return w.hD;},k));k=v.next().value;v=v.next().value;v=ba(m.xu(function(w){return w.streams && 0 < w.streams.length;},v));t=v.next().value;v.next().value.forEach(function(w){return p.log.warn("Audio track is missing streams",p.n6(w));});u=this.config.Z$;v=ba(m.xu(function(w){return 0 === u.length || 0 <= u.indexOf(w.kl);},t));t=v.next().value;v.next().value.forEach(function(w){return p.log.warn("Audio track is not supported",p.n6(w));});k=[].concat(ea(t),ea(k)).map(function(w){return p.J4a(g,w,p.HFb(w.rg,n,q));});if(!k.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:k.length});return k;};c.prototype.Trb=function(g){var k,n;k=this;n=this.config.vma;if(n){if(g=ba(g.filter(function(q){return q.Vd == n || q.trackId == n;})).next().value)return g;}else if(this.j.t5 && (g=ba(g.filter(function(q){return q.trackId == k.j.t5;})).next().value))return g;};c.prototype.J4a=function(g,k,n){var q,p,v,t;t=k.kl;g={type:d.Bi.audio,SI:k.SI,variant:k.variant,trackId:k.rg,Lz:k.JP,kl:h.n1[t.toLowerCase()] || h.up.bK,kI:t,Eg:g,Vd:k.language,displayName:k.mD,Vc:null !== (q=k.Vc) && void 0 !== q?q:-1,ji:null !== (p=k.ji) && void 0 !== p?p:!0,channels:k.channels,L8b:k.channels,Ph:n,Oi:{Bcp47:k.language,TrackId:k.rg},streams:[],isNative:k.isNative,Vr:k.hD,hZ:k.hZ};g.streams=this.aab(k.streams,g);this.log.trace("Transformed audio track",g,{StreamCount:g.streams.length,AllowedTimedTextTracks:g.Ph.length});g.Rub=f.fza[null === (v=g.streams[0]) || void 0 === v?void 0:v.ih];return g;};c.prototype.n6=function(g){return {language:g.mD,bcp47:g.language,type:g.kl};};c.prototype.VDb=function(g,k){return k.filter(function(n){if(0 <= g.Yzb.indexOf(n.Lz))return !1;if(g.UTa){if(g.UTa !== n.Lz && (n.Vr() || n.qq()))return !1;}else if(g.PPb){if(n.Vr() || n.qq())return !1;}else if(n.qq())return !1;return !0;});};c.prototype.HFb=function(g,k,n){return k.filter(function(q){return q.ug.Ub === g;}).map(function(q){return q.ug.Um;}).map(function(q){return n.find(function(p){return p.trackId === q;});}).filter(Boolean);};b.eza=c;},function(r,b,a){var f,l,m,d;function c(h,g){return l.sR.call(this,h,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;f=a(128);l=a(459);m=a(90);d=a(130);na(c,l.sR);c.prototype.tRb=function(h,g){var k,n;k=this;g=ba(f.xu(function(q){return q.streams && 0 < q.streams.length;},g));n=g.next().value;g.next().value.forEach(function(q){return k.log.warn("Video track is missing streams",{trackId:q.rg});});g=n.map(function(q){var p;p=q.kl;p={type:m.Bi.video,trackId:q.rg,Lz:q.JP,kl:d.n1[p.toLowerCase()] || d.up.bK,kI:p,Eg:h,streams:[],Oi:{},Hu:q.Hu};p.streams=k.aab(q.streams,p);k.log.trace("Transformed video track",{StreamCount:p.streams.length});return p;});if(!g.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:g.length});return g;};c.prototype.qRb=function(h){var g;g=h.map(function(k){return k.Hu;}).filter(Boolean);g=[].concat.apply([],ea(g)).map(function(k){return k.fa;});h=h.map(function(k){return k.jla;}).filter(Boolean).map(function(k){return k.fa;});return 0 < g.length?g:h;};b.YLa=c;},function(r,b,a){var f,l,m,d,h,g;function c(k,n){k=l.Ye.call(this,k,"ManifestParserConfigImpl") || this;k.mm=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(1);f=a(0);l=a(46);m=a(37);d=a(45);h=a(135);g=a(52);na(c,l.Ye);Xa.Object.defineProperties(c.prototype,{Z$:{configurable:!0,enumerable:!0,get:function(){return [];}},vma:{configurable:!0,enumerable:!0,get:function(){return "";}},kja:{configurable:!0,enumerable:!0,get:function(){return [];}},jja:{configurable:!0,enumerable:!0,get:function(){return [];}},zma:{configurable:!0,enumerable:!0,get:function(){return "";}},Soa:{configurable:!0,enumerable:!0,get:function(){return 0;}},FP:{configurable:!0,enumerable:!0,get:function(){return this.mm.FP.da(g.mv);}},cv:{configurable:!0,enumerable:!0,get:function(){return this.mm.cv;}}});a=c;r.__decorate([d.config(d.cZ,"supportedAudioTrackTypes")],a.prototype,"Z$",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"vma",null);r.__decorate([d.config(d.yxa,"cdnIdWhiteList")],a.prototype,"kja",null);r.__decorate([d.config(d.yxa,"cdnIdBlackList")],a.prototype,"jja",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"zma",null);r.__decorate([d.config(d.XA,"imageSubsResolution")],a.prototype,"Soa",null);r.__decorate([d.config(d.XA,"timedTextSimpleFallbackThreshold")],a.prototype,"FP",null);r.__decorate([d.config(d.cZ,"timedTextProfiles")],a.prototype,"cv",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.Tl)),r.__param(1,f.l(h.HR))],a);b.AFa=a;},function(r,b){function a(c){this.Oc=c;this.ub=JSON.stringify(this.OFb());}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=void 0;a.prototype.OFb=function(){var c;c=[];(!this.Oc.ck || 0 >= this.Oc.ck.length) && c.push({error:"No CDN."});this.Oc.tU || c.push({error:"No default audio track.",foundTracks:this.jna(this.Oc.Hi)});this.Oc.y4 || c.push({error:"No default video track.",foundTracks:this.jna(this.Oc.ip)});this.Oc.vU || c.push({error:"No default subtitle track.",foundTracks:this.jna(this.Oc.Ph)});return c;};a.prototype.jna=function(c){return c && 0 < c.length?c.map(function(f){return f.trackId;}):"No tracks found.";};b.GFa=a;},function(r,b,a){var f,l,m,d,h;function c(g,k){this.MLb=g;this.TMb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;r=a(1);f=a(0);l=a(464);m=a(465);d=a(41);h=a(3);c.prototype.create=function(g){var k;if(g && !this.tKb(g)){if(this.xKb(g))throw d.od.n2b(h.M.pR,h.L.Kjb,g);k=this.MLb();k.yPa(g.links);this.TMb.xM(g);return {uc:g,lk:k,$_a:!1,Z_a:!1};}};c.prototype.xKb=function(g){return ("type" in g) && "muxed" === g.type;};c.prototype.tKb=function(g){return ("runtime" in g) && ! !g.runtime;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.CHa)),r.__param(1,f.l(m.xFa))],a);b.yFa=a;},function(r,b,a){var f,l;function c(m){this.IBb=m;this.UMb={Co:"drmType",n9b:"drmVersion",expiration:"expiration",J:"movieId",Uo:"packageId",duration:"duration",Ri:"playbackContextId",x4:["defaultTrackOrderList",{QN:"mediaId",RP:"videoTrackId",$9a:"subtitleTrackId",kn:"audioTrackId",$ac:"preferenceOrder"}],r9b:["eligibleABTestMap",{Xm:l.Xm}],w8b:["badgingInfo",{g9b:"dolbyDigitalAudio",c$b:"hdrVideo",h9b:"dolbyVisionVideo",hcc:"ultraHdVideo","3dVideo":"3dVideo",f9b:"dolbyAtmosAudio",p8b:"assistiveAudio",tbc:"sdVideo",b$b:"hdVideo"}],type:"type",s8b:["audioTextShortcuts",{id:"id",kn:"audioTrackId",Xbc:"textTrackId"}],Vac:"partiallyHydrated",p2a:"maxRecommendedAudioRank",q2a:"maxRecommendedTextRank",pm:"drmContextId",ZHb:"hasDrmProfile",YHb:"hasClearProfile",SV:"hasDrmStreams",toa:"hasClearStreams",Oo:["locations",{Vc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],$o:["servers",{id:"id",name:"name",type:"type",Vc:"rank",D1a:"lowgrade",hAb:["dns",{host:"host",UJb:"ipv4",VJb:"ipv6",kDb:"forceLookup"}],key:"key"}],dG:["audio_tracks",{type:"type",SI:"subType",variant:"variant",kl:"trackType",rg:"new_track_id",JP:"track_id",zTb:"profileType",LYb:"stereo",profile:"profile",channels:"channels",language:"language",Ytb:"channelsFormat",hZ:"surroundFormatLabel",mD:"languageDescription",Yzb:"disallowedSubtitleTracks",UTa:"defaultTimedText",isNative:"isNative",hD:"isNoneTrack",streams:["streams",{Gr:"downloadable_id",size:"size",uG:"content_profile",kl:"trackType",bitrate:"bitrate",Oz:"isDrm",urls:["urls",{Rp:"cdn_id",url:"url"}],TOb:"new_stream_id",type:"type",channels:"channels",Ytb:"channelsFormat",hZ:"surroundFormatLabel",language:"language",r8b:"audioKey",DOb:["moov",{size:"size",offset:"offset"}],zs:["sidx",{size:"size",offset:"offset"}],NA:["ssix",{size:"size",offset:"offset"}],Un:"tags"}],Rub:"codecName",kI:"rawTrackType",id:"id",Vc:"rank",ji:"hydrated",PPb:"offTrackDisallowed"}],cB:["video_tracks",{kl:"trackType",rg:"new_track_id",type:"type",JP:"track_id",ZHb:"hasDrmProfile",YHb:"hasClearProfile",SV:"hasDrmStreams",toa:"hasClearStreams",Az:"groupName",streams:["streams",{Gr:"downloadable_id",size:"size",uG:"content_profile",kl:"trackType",HUa:"drmHeaderId",bitrate:"bitrate",Oz:"isDrm",urls:["urls",{Rp:"cdn_id",url:"url"}],TOb:"new_stream_id",type:"type",Xac:"peakBitrate",Qzb:"dimensionsCount",Rzb:"dimensionsLabel",n5a:"pix_w",m5a:"pix_h",t7a:"res_w",s7a:"res_h",yyb:"crop_x",zyb:"crop_y",xyb:"crop_w",wyb:"crop_h",BWa:"framerate_value",AWa:"framerate_scale",x9a:"startByteOffset",sb:"vmaf",DOb:["moov",{size:"size",offset:"offset"}],zs:["sidx",{size:"size",offset:"offset"}],NA:["ssix",{size:"size",offset:"offset"}],XD:["segmentVmaf",{offset:"offset",sb:"vmaf"}],Un:"tags"}],zTb:"profileType",LYb:"stereo",profile:"profile",Qzb:"dimensionsCount",Rzb:"dimensionsLabel",Jbc:["snippets",{Xm:[l.Xm,{Ibc:"snippetSpec",xc:"startTimeMs",Nc:"endTimeMs"}]}],jla:["drmHeader",{fa:"bytes",oub:"checksum",HUa:"drmHeaderId",nj:"keyId",tI:["resolution",{height:"height",width:"width"}]}],Hu:["prkDrmHeaders",{fa:"bytes",oub:"checksum",HUa:"drmHeaderId",nj:"keyId",tI:["resolution",{height:"height",width:"width"}]}],St:"flavor",l$b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",QRb:"pixelAspectX",RRb:"pixelAspectY",S$b:"maxCroppedWidth",R$b:"maxCroppedHeight",T$b:"maxCroppedX",U$b:"maxCroppedY",aac:"max_framerate_value",$$b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",oac:"minCroppedWidth",nac:"minCroppedHeight",pac:"minCroppedX",qac:"minCroppedY",Gg:["license",{JLb:"licenseResponseBase64",cbc:"providerSessionToken",xbc:"secureStopExpected",m9b:"drmSessionId",links:["links",{}]}]}],P3:["cdnResponseData",{EI:"sessionABTestCell",ds:"pbcid"}],zo:["choiceMap",{Qe:"initialSegment",type:"type",Z:"viewableId",Aa:["segments",{Xm:[l.Xm,{xc:"startTimeMs",Nc:"endTimeMs",next:["next",{Xm:[l.Xm,{weight:"weight"}]}],Eh:"defaultNext",gq:"exitZones"}]}]}],xvb:["contentPlaygraph",{Ca:["playgraph",{Qe:"initialSegment",Aa:["segments",{Xm:[l.Xm,{Z:"viewableId",xc:"startTimeMs",Nc:"endTimeMs",next:["next",{Xm:[l.Xm,{weight:"weight"}]}],Eh:"defaultNext"}]}]}],Nbc:["startIdent",{m$b:"identToken",Z:"viewableId"}]}],media:["media",{id:"id",ug:["tracks",{Ub:"AUDIO",Um:"TEXT",Lb:"VIDEO"}]}],eY:["recommendedMedia",{RP:"videoTrackId",kn:"audioTrackId",GP:"timedTextTrackId"}],tZ:["timedtexttracks",{kl:"trackType",rg:"new_track_id",type:"type",SI:"subType",variant:"variant",kI:"rawTrackType",mD:"languageDescription",language:"language",id:"id",hD:"isNoneTrack",n7:"isForcedNarrative",EUa:["downloadableIds",{}],IRa:["cdnlist",{id:"id",name:"name",type:"type",Vc:"rank",D1a:"lowgrade",hAb:["dns",{host:"host",UJb:"ipv4",VJb:"ipv6",kDb:"forceLookup"}],key:"key"}],vxa:["ttDownloadables",{Xm:[l.Xm,{id:"id",size:"size",Wbc:"textKey",a$b:"hashValue",$9b:"hashAlgo",w$b:"isImage",Dra:"midxOffset",Q2a:"midxSize",height:"height",width:"width",hw:["downloadUrls",{}],urls:["urls",{url:"url",Rp:"cdn_id"}]}]}],q7:"isLanguageLeftToRight",cu:"headIdentDuration",Vc:"rank",ji:"hydrated"}],V_b:["trickplays",{Gr:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",TRb:"pixelsAspectY",SRb:"pixelsAspectX",width:"width",height:"height",cu:"headIdentDuration"}],Fbb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],l9b:"dpsid",El:"isBranching",scc:"viewableType",jD:"isSupplemental",Kub:"clientIpAddress",mcc:"urlExpirationDuration",N$b:"manifestExpirationDuration",Obc:["steeringAdditionalInfo",{Pbc:"steeringId",m8b:"additionalGroupNames",Rbc:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;r=a(1);f=a(0);l=a(208);c.prototype.xM=function(m){this.IBb.xM(m,this.UMb);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.gCa))],a);b.wFa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sTa=void 0;b.sTa=function(a,c,f,l){return {zGb:function(){var m;m=a.Cna();l.cu && (m+=l.cu);return m;},sa:c,request:f,pf:!1};};},function(r,b,a){var f,l,m,d,h;function c(g,k){var n;g=f.EventEmitter.call(this) || this;g.content="";g.entries=[];l.kb(("videoSize" in k) && ("xml" in k) && ! !k.xml,"Subtitle options didn't contain XML data");("videoSize" in k) && ("xml" in k) && (g.content=null !== (n=k.xml) && void 0 !== n?n:"",g.aB=k.videoSize);return g;}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;f=a(17);l=a(21);m=a(14);d=a(30);h=a(1059);na(c,f.EventEmitter);c.prototype.SG=function(g){var k;d.Uc(g) && d.Uc(this.duration) && g < this.duration && this.entries && (k=this.UOb || this.entries[Math.floor(g * this.f_b)] || this.entries[0]);if(k){for(;k && k.endTime < g;){k=k.next;}for(;k && k.previous && k.previous.endTime >= g;){k=k.previous;}this.UOb=k;}return k?[k]:[];};c.prototype.fN=function(g,k){var n;n=[];try{n=this.entries.filter(function(q){var p;p=ba([q.startTime,q.endTime]);q=p.next().value;p=p.next().value;return q >= g && q <= k || q <= g && g <= p;});}catch(q){}return n;};c.prototype.Mr=function(g,k){return this.fN(g,k).reduce(function(n,q){return n + q.blocks.length;},0);};c.prototype.start=function(){var g,k;g=this;if(this.content)h.U4a(this.content,this.aB.width / this.aB.height,m.config.exa,m.config.haa).then(function(n){g.duration=n && Math.max.apply(Math,ea(n.map(function(q){return q.endTime;}))) || 0;g.f_b=n && n.length / g.duration || 0;g.entries=n;g.emit("ready");}).catch(function(n){g.emit("error",n);});else {k=Error("Subtitle content was empty");k.errorDetails="Subtitle content was empty";this.emit("error",k);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.Yta=function(){throw Error("Method not implemented.");};c.prototype.Is=function(){throw Error("Method not implemented.");};c.prototype.LA=function(){throw Error("Method not implemented.");};c.prototype.si=function(){throw Error("Method not implemented.");};c.prototype.wi=function(){throw Error("Method not implemented.");};b.FEa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.U4a=void 0;c=a(1060);f=a(278);b.U4a=function(l,m,d,h){return new Promise(function(g,k){f.pya(l,function(n){n.$?c.M4a(n.object,m,d,h,function(q){q.$?g(q.entries):k(q);}):k(n);});});};},function(r,b,a){var c,f,l,m,d,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.O4a=b.N4a=b.Qsa=b.Q4a=b.jRb=b.kRb=b.P4a=b.R4a=b.s9=b.S4a=b.T4a=b.M4a=void 0;c=a(21);f=a(30);l=a(12);m=a(158);d=a(11);h=a(19);g=a(24);b.M4a=(function(){var F,C,G,J,K,I,M,R,H,Q,N,L;function k(P){if(f.Qz(P)){P=P.toLowerCase();if("#" == P[0]){if(7 == P.length)return P;if(4 == P.length)return "#" + P[1] + P[1] + P[2] + P[2] + P[3] + P[3];}return b.R4a[P];}}function n(P,S,U){S=S[P];0 <= S || (S=parseFloat(P));if(0 <= S)return d.np(S,U);}function q(P,S){var U,da;U=P.length;da=P[U - 1];if("t" === da)return parseFloat(P) * S | 0;if("s" === da)return "m" === P[U - 2]?parseFloat(P) | 0:parseFloat(P) * l.nl | 0;if((P=P.match(H)) && 4 <= P.length)return (3600 * parseInt(P[1],10) + 60 * parseInt(P[2],10) + parseFloat(P[3])) * l.nl | 0;throw Error("dfxp-badtime");}function p(P,S,U,da,ka){var ma,X,ua,ya,O,T,ja,pa;ma=void 0;if(P){X=P.style;U=X?U[X]:void 0;da=(X=P.region)?da[X]:void 0;X=ka.length;for(ua=0;ua < X;ua++){O=ka[ua];T=P[O];void 0 === T && U && (T=U[O]);void 0 === T && da && (T=da[O]);if(void 0 !== T && T !== S[O]){if(!ma)for((ma={},ya=0);ya < X;ya++){ja=ka[ya];pa=S[ja];void 0 !== pa && (ma[ja]=pa);}ma[O]=T;}}}return ma || S;}function v(P,S,U,da,ka,ma,X,ua,ya){var T,ja;function O(pa,sa,Qa){var Ua,Za,ab,kb,Ya,Sa;Ua=pa[m.Ek];Za=Ua.style || sa.style || "";ab=Ua.region || sa.region || "";if(Za || ab)(kb=Za + "/" + ab,Ya=U[kb]);else Ya=S;if(!Ya){Ya=S;Sa=f.lP(da);f.Xb(Sa,ka[Za]);Ya=x(Ya,Sa,X,ua,ya);U[Za + "/"]=Ya;ab && (f.Xb(Sa,ma[ab]),f.Xb(Sa,ka[Za]),Ya=x(Ya,Sa,X,ua,ya),U[kb]=Ya);}if(!Qa)a:{for(Qa=I.length;Qa--;){if(void 0 !== Ua[I[Qa]]){Qa=!0;break a;}}Qa=void 0;}Qa && (Ua=p(Ua,sa,ka,ma,M),Ya=x(Ya,Ua,X,ua,ya));sa=(pa=pa[m.YP]) && pa.length;for(Za=0;Za < sa;Za++){ab=pa[Za];f.Jh(ab)?Q.test(ab[m.ZP])?ja++:O(ab,Ua,Qa):(T.push({text:ab,lineBreaks:ja,style:Ya}),ja=0);}}T=[];ja=0;O(P,da,!1);0 < ja && T.push({text:"",lineBreaks:ja,style:S});return T;}function t(P,S,U,da,ka,ma,X,ua){var ya,O;U && (U=C[U] || "top",P.verticalAlignment !== U && (P.verticalAlignment=U));da && (U=G[da] || "left",P.horizontalAlignment !== U && (P.horizontalAlignment=U));if(ka){if(ya=ua[ka])(da=ya.marginLeft,U=ya.marginTop);else {O=ka.split(" ");da=z(O[0],X.x) || 0;U=z(O[1],X.y) || 0;ya={qm:0,marginLeft:da,marginTop:U,Lqb:da * S.poa + S.OV,Nqb:U * S.$xa + S.Kaa};30 > ua.qm && (ua.qm++,ua[ka]=ya);}P.marginLeft=ya.Lqb;P.marginTop=ya.Nqb;}else (U=da=0,(ya=ua["default"]) || (ua["default"]=ya={qm:0}));ma && (ka=ya[ma],ka || (O=ma.split(" "),ka={Mqb:(1 - (da + (z(O[0],X.x) || 0))) * S.poa + S.OV,Kqb:(1 - (U + (z(O[1],X.y) || 0))) * S.$xa + S.Kaa},30 > ya.qm && (ya.qm++,ya[ma]=ka)),P.marginRight=ka.Mqb,P.marginBottom=ka.Kqb);}function u(P,S,U,da,ka){var ma,X,ua;ma=P.displayAlign;X=P.textAlign;ua=P.origin;P=P.extent;U=f.lP(U);t(U,S,ma,X,ua,P,da,ka);U.id=F++;return U;}function w(P,S,U,da){var ka,ma,X,ua,ya,O;ka=n(U.characterSize || S.characterSize,b.S4a,2) || 1;ma=(ma=P.fontSize) && N.test(ma)?f.op(f.Ge(ma),25,200):void 0;ka*=ma / 100 || 1;if((ma=P.textOutline) && "none" != ma){X=ma.split(" ");if(L.test(X))(ua=0,ya=P.color);else (ua=1,ya=k(X[0]));O=y(X[ua]);X=y(X[ua + 1]);}return {characterStyle:U.characterStyle || b.T4a[P.fontFamily] || S.characterStyle,characterSize:ka * da,characterColor:k(U.characterColor || P.color || S.characterColor),characterOpacity:n(f.U3(U.characterOpacity,P.opacity,S.characterOpacity),b.s9,1),characterEdgeAttributes:U.characterEdgeAttributes || ma && ("none" === ma?b.P4a:X?b.Qsa:b.Q4a) || S.characterEdgeAttributes,characterEdgeColor:k(U.characterEdgeColor || ya || S.characterEdgeColor),characterEdgeWidth:O,characterEdgeBlur:X,characterItalic:"italic" === P.fontStyle,characterUnderline:"underline" === P.textDecoration,backgroundColor:k(U.backgroundColor || P.backgroundColor || S.backgroundColor),backgroundOpacity:n(f.U3(U.backgroundOpacity,P.opacity,S.backgroundOpacity),b.s9,1)};}function x(P,S,U,da,ka){var ma;S=w(S,U,da,ka);g.se(S,function(X,ua){ua !== P[X] && (ma || (ma=d.aF(P)),ma[X]=ua);});return ma || P;}function y(P){P=f.Ge(P);return h.Pz(P,0,100)?P:0;}function z(P,S){var U;U=P[P.length - 1];if("%" === U)return f.op(.01 * parseFloat(P),0,1);if("c" === U)return f.op(f.Ge(P) / S,0,1);}function A(P){for(var S=P.length,U=P[--S].endTime;S--;){U=d.np(P[S].endTime,U);}return U;}function B(P){g.se(P,function(S,U){0 <= S.toLowerCase().indexOf("color") && (P[S]=k(U));});}function D(P,S){var U,da,ka,ma;U=P.pixelAspectRatio;da={OV:0,poa:1,Kaa:0,$xa:1};P=(P.extent || "640px 480px").split(" ");if(2 <= P.length){U=(U || "").split(" ");ka=parseFloat(P[0]) * (parseFloat(U[0]) || 1);ma=parseFloat(P[1]) * (parseFloat(U[1]) || 1);}ka=0 < ka && 0 < ma?ka / ma:1280 / 720;S=S || 1280 / 720;U=ka / S;.01 < d.PE(S - ka) && (S >= ka?(da.OV=(1 - U) / 2,da.poa=U):c.kb(!1,"not implemented"));return da;}function E(P){var S,U,da,ka,ma;if(S=P.cellResolution)if((S=S.split(" "),2 <= S.length)){U=f.Ge(S[0]);S=f.Ge(S[1]);if(0 < U && 0 < S)return {x:U,y:S};}if((S=P.extent) && (S=S.split(" "),2 <= S.length)){U=f.Ge(S[0]);da=f.Ge(S[1]);if(P=P.pixelAspectRatio){S=P.split(" ");ka=f.Ge(S[0]);ma=f.Ge(S[1]);}if(U && da && 1.5 < U * (ka || 1) / (da * (ma || 1)))return b.O4a;}return b.N4a;}F=1;C={before:"top",center:"center",after:"bottom"};G={left:"left",start:"left",center:"center",right:"right",end:"right"};J={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};K={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};I=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");M=I.concat(["style","region"]);R=["region","textAlign","displayAlign","extent","origin"];H=/^([0-9]+):([0-9]+):([0-9.]+)$/;Q=/^br$/i;N=/^[0-9]{1,3}%$/;L=/^[0-9]/;return function(P,S,U,da,ka){var ya,O,T,ja,pa,sa,Qa,Ua,Za,ab,kb,Ya,Sa,Ba,Ka,Na,Wa,ib,Bb,Ib,Ob,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd;function ma(){var ec,hc,Xb,nc,dc,tb,Vc,qb,Sb,bc,rc,Wc,fc,vc,Od,Xc,hd;try{for(var qc;Kb;){ib=Kb[m.Ek];ec=Ub;hc=ec.push;Xb=F++;nc=q(ib.begin,T);dc=q(ib.end,T);tb=void 0;Vc=Ua;qb=ja;Sb=Ya;bc=Na;rc=Kb[m.Ek];Wc=p(Kb[m.Ek],Ec,sa,Qa,R);fc=Wc.region;vc=rc.displayAlign;Od=Wc.textAlign;Xc=rc.origin;hd=rc.extent;fc || vc || Od || Xc || hd?((tb=Vc[fc])?tb=d.aF(tb):vc || Xc || hd?(tb=d.aF(K),tb.id=F++):tb=d.aF(J),t(tb,qb,vc,Od,Xc,hd,Sb,bc)):tb=J;hc.call(ec,{id:Xb,startTime:nc,endTime:dc,region:tb,textNodes:v(Kb,Md,se,mc,sa,Qa,Ba,Ka,Sa)});Kb=Kb[m.rE];qc=d.CJ();if(100 < qc - Nd){Nd=Date.now();gd=setTimeout(ma,1);return;}}}catch(te){ua({na:f.L.c0,ub:f.vd(te)});return;}gd=setTimeout(X,1);}function X(){var ec,hc,Xb,nc,dc,tb,Vc;function qc(qb,Sb){for(var bc,rc=[],Wc={},fc,vc=hc.length;vc--;){bc=hc[vc];fc=bc.region.id;Wc[fc] || (Wc[fc]=1,rc.unshift(bc));}(bc=ec[ec.length - 1]) && bc.endTime == qb && f.At(bc.blocks,rc)?bc.endTime=Sb:ec.push({id:F++,startTime:qb,endTime:Sb,blocks:rc});}try{if(!Ub.length){ua({$:!0,entries:[]});return;}f.tQa(Ub,"startTime");ec=[];hc=[];Xb=Ub[0];nc=Ub[0].startTime;for(dc=1;hc.length || Xb;){for(;!hc.length || Xb && Xb.startTime == nc;){hc.push(Xb);nc=Xb.startTime;Xb=Ub[dc++];}Vc=A(hc);if(!Xb || Vc <= Xb.startTime)for((qc(nc,Vc),nc=Vc,tb=hc.length);tb--;){hc[tb].endTime <= nc && hc.splice(tb,1);}else (qc(nc,Xb.startTime),nc=Xb.startTime,hc.push(Xb),Xb=Ub[dc++]);}for(dc=ec.length;dc--;){ec[dc].index=dc;ec[dc].previous=ec[dc - 1];ec[dc].next=ec[dc + 1];}}catch(qb){ua({na:f.L.c0,ub:f.vd(qb)});return;}ua({$:!0,entries:ec});}function ua(qc){setTimeout(function(){ya.abort=f.ol;ka(qc);},1);}ya={abort:function(){gd && clearTimeout(gd);}};try{O=P[m.Ek];T=l.nl / (f.Ge(O.tickRate) || 1);ja=D(O,S);pa=f.Xb(K,{marginLeft:ja.OV,marginTop:ja.Kaa,marginRight:ja.OV,marginBottom:ja.Kaa});sa={};Qa={};Ua={};ab=P.head;kb=P.body;Ya=E(O,S);Sa=1 / Ya.y * ja.$xa;Ba=f.Xb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.Qsa,characterEdgeColor:"#000000",characterSize:1},U,{nA:!0});Ka=da || ({});Na={qm:0};if(ab){Wa=ab.styling;if(Wa)for(Za=Wa.style;Za;){ib=Za[m.Ek];B(ib);sa[ib.id]=ib;Za=Za[m.rE];}Bb=ab.layout;if(Bb)for(var Eb=Bb.region;Eb;){ib=Eb[m.Ek];Ib=ib.id;Ob=f.lP(sa[ib.style]);Ob=f.Xb(Ob,ib);for(Za=Eb.style;Za;){f.Xb(Ob,Za[m.Ek]);Za=Za[m.rE];}B(Ob);Qa[Ib]=Ob;Ua[Ib]=u(Ob,ja,pa,Ya,Na);Eb=Eb[m.rE];}}Cb=kb.div;Kb=Cb.p;Ub=[];mc={};mc=p(kb[m.Ek],mc,sa,Qa,M);mc=p(Cb[m.Ek],mc,sa,Qa,M);Ec={};Ec=p(kb[m.Ek],Ec,sa,Qa,R);Ec=p(Cb[m.Ek],Ec,sa,Qa,R);Md=w(mc,Ba,Ka,Sa);f.Xb(Md,{windowColor:k(Ka.windowColor || Ba.windowColor),windowOpacity:n(f.U3(Ka.windowOpacity,Ba.windowOpacity),b.s9,1),cellResolution:Ya},{nA:!0});se={};Cb.p=void 0;Cb[m.YP]=[];}catch(qc){ua({na:f.L.c0,ub:f.vd(qc)});return;}Nd=d.CJ();gd=setTimeout(ma,1);return ya;};})();b.T4a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.S4a={SMALL:.5,MEDIUM:1,LARGE:2};b.s9={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.R4a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.P4a="NONE";b.kRb="RAISED";b.jRb="DEPRESED";b.Q4a="UNIFORM";b.Qsa="DROP_SHADOW";b.N4a={x:40,y:19};b.O4a={x:52,y:19};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ujb=void 0;c=a(1);r=a(113);f=a(1062);l=a(1067);m=a(1074);a=(function(d){function h(g,k){var n,q;n=d.call(this) || this;n.Wj=!0;n.FS=[];n.Lv=0;q=g.pf || !1;n.Ja=g.sa || console;n.KF=g.request;n.fy=g.zGb;n.Sg=null;n.Wj=!0;n.FS=[];n.VS=k.profile;n.tl=k.url;n.HF=k.Dd;n.US=k.preferences;n.qS=k.mm;n.Lv=n.HF || 0;g={url:n.tl,request:n.KF,Dd:n.HF,xml:k.xml,preferences:n.US,mm:n.qS,sa:n.Ja,pf:q,bufferSize:k.bufferSize,su:k.su,Wta:k.Wta || 0,lRa:k.lRa};if("nflx-cmisc" === n.VS)(g.offset=k.Dra,g.size=k.Q2a,g.v$=k.v$,g.VUa=k.VUa,n.gd=new l(g));else if(-1 < ["simplesdh","dfxp-ls-sdh"].indexOf(n.VS) && "function" === typeof f)n.gd=new f(g);else throw Error("SubtitleManager: " + n.VS + " is an unsupported profile");n.gd.on("ready",function(){var p,v;p=! !k.QQa;n.Ja.info("ready event fired by subtitle stream");n.emit("ready");v=n.gd.SG.bind(n.gd);n.Sg=new m(n.fy,v,function(){return n.Wj;},n.Ja,k);if("dfxp-ls-sdh" === n.VS && "function" === typeof f)n.Sg.on("stagesubtitle",n.yYb.bind(n));n.Sg.on("showsubtitle",n.fwa.bind(n));n.Sg.on("removesubtitle",n.Gua.bind(n));n.Sg.on("underflow",n.Wn.bind(n));n.Sg.on("bufferingComplete",n.Oe.bind(n));p && (n.Ja.info("autostarting subtitles"),setTimeout(function(){n.Is(n.fy());},10));});n.gd.on("error",n.emit.bind(n,"error"));return n;}c.__extends(h,d);h.prototype.start=function(){this.gd.start();};h.prototype.Yta=function(){this.Wj || (this.Wj=!0,this.lVa(this.Lv));};h.prototype.Is=function(g){!this.Wj && 1E4 < Math.abs(g - this.Lv) && (this.Ja.warn("Detected an unexpected pts jump larger than",1E4,"at",g,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Yta());this.Lv=g;this.Wj && (this.Wj=!1,this.AYb(g));null !== this.Sg && (this.y0b(g),this.Sg.Is(g));};h.prototype.stop=function(){var g;this.Ja.info("stop called");this.Wj || this.pause();this.gd.removeAllListeners(["ready"]);null !== this.Sg && this.Sg.stop();g=this.FS.reduce(function(k,n){k.f9a+=n.QY;k.f5+=n.g5 || 0;k.OJb.push(n);return k;},{f9a:0,f5:0,OJb:[]});"object" === typeof this.gd && this.gd.close();this.Ja.info("metrics: " + JSON.stringify(g));return g;};h.prototype.pause=function(){var g;g=this.fy();this.Wj?this.Ja.warn("pause called on subtitle manager, but it was already paused!"):(this.Ja.info("pause called at " + g),this.Wj=!0,this.lVa(g));null !== this.Sg && this.Sg.pause();};h.prototype.fN=function(g,k){return "function" === typeof this.gd.fN?this.gd.fN(g,k):[];};h.prototype.Mr=function(g,k){return this.gd.Mr(g,k);};h.prototype.SG=function(g){return this.gd.SG(g);};h.prototype.LA=function(g){var n;function k(){n.Ja.info("bufferingComplete from setStreamStartPosition");n.emit("bufferingComplete");}n=this;"function" === typeof this.gd.LA?this.gd.LA(g,k):k();};h.prototype.si=function(g,k){"function" === typeof this.gd.si && this.gd.si(g,k);};h.prototype.wi=function(g,k){"function" === typeof this.gd.wi && this.gd.wi(g,k);};h.prototype.Zma=function(){return this.FS[this.FS.length - 1];};h.prototype.fwa=function(g){var k,n,q,t;n=0;this.Ja.info("show subtitle called at " + this.fy() + " for displayTime " + g.displayTime);this.emit("showsubtitle",g);q=this.Zma();q.mP || (q.mP={});if("dfxp-ls-sdh" === this.VS)try{for(var p=c.__values(g.blocks),v=p.next();!v.done;v=p.next()){t=v.value;q.mP[t.id] || (n++,q.mP[t.id]=!0);}}catch(w){var u;u={error:w};}finally{try{v && !v.done && (k=p.return) && k.call(p);}finally{if(u)throw u.error;}}else q.mP[g.id] || (n++,q.mP[g.id]=!0);q.QY+=n;};h.prototype.Gua=function(g){this.Ja.info("remove subtitle called at " + this.fy() + " for remove time " + (g.displayTime + g.duration));this.emit("removesubtitle",g);};h.prototype.yYb=function(g){this.Ja.info("stage subtitle called at " + this.fy() + " for displayTime " + g.displayTime);this.emit("stagesubtitle",g);};h.prototype.Wn=function(){this.Ja.info("underflow fired by the subtitle timer");this.emit("underflow");};h.prototype.Oe=function(){this.Ja.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};h.prototype.AYb=function(g){this.Ja.info("creating a new subtitle interval at " + g);this.FS.push({Y:g,QY:0});};h.prototype.y0b=function(g){var k;k=this.Zma();k && (k.eqa=g);};h.prototype.lVa=function(g){var k;this.Ja.info("ending subtitle interval at " + g);k=this.Zma();k && (k.Ha=g,k.Ha < k.Y && (this.Ja.warn("correcting for interval where endPts is smaller than startPts"),k.Y=0 < k.Ha?k.Ha - 1:0),k.g5=this.gd.Mr(k.Y,k.Ha),delete k.mP,k.g5 > k.QY && k.eqa && 500 > k.Ha - k.eqa && (k.g5=this.gd.Mr(k.Y,k.eqa)),this.Ja.info("showed " + k.QY + " during this interval"),this.Ja.info("expected " + k.g5 + " for this interval"));};return h;})(r.EventEmitter);b.Ujb=a;b.default=a;},function(r,b,a){var u,w,x,y,z,A,B,D,E;function c(F){var C,G,J,K,I;C=F.preferences;G=F.mm;J=F.Dd;K=F.xml;I=F.sa;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Le=this.aga=null;this.US="object" === typeof C?F.preferences:{};this.qS="object" === typeof G?F.mm:{};this.bC="number" === typeof J?F.Dd:0;this.VF="string" === typeof K?F.xml:"";this.Ja="object" === typeof I?F.sa:E;this.KF=F.request;this.tl=F.url;this.HB=[];this.Lv=this.bC;this.Sg=null;this.Lga=this.wOa=!1;this.Qkb=F.Wta || 0;}function f(F,C){return F && "object" === typeof F[C] && null !== F[C]?F[C]:{};}function l(F,C){return F !== C && !(F && 0 === Object.keys(F).length && C && 0 === Object.keys(C).length);}function m(){var F,C,G;F=this;C=F.VF.indexOf("<p");if(-1 < C){G=F.VF.slice(0,C);g(G,function(J,K){null !== J?(J.f$b=G,F.emit("error",J)):(F.aga=K,F.Le=new x(F.VF,K.tickRate),h.call(F,F.bC));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,C){var G;G=F.filter(function(J){return J.startTime <= C && C <= J.endTime;});F=F.filter(function(J){return J.startTime > C;});return 0 < F.length?G.concat([F[0]]):G;}function h(F){var C,G,J,K,I,M,R;C=this;G=C.aga;J=0;K=[];I=G.defaultStyle?[G.defaultStyle]:[];C.Ja.info("parsing the next 5 entries...");M=C.Le.aGb(F);C.Ja.info(M);R=w.mc(!0);R.onerror=function(H){H.xml=M;C.emit("error",H);};R.onend=function(){var H;H=C.HB.reduce(function(Q,N){N=N.blocks.reduce(function(L,P){return L.concat([P.id]);},[]);return Q.concat(N);},[]);K.forEach(function(Q){var N;if(-1 === H.indexOf(Q.id)){N=Q && Q.blocks && Q.blocks.filter(function(L){return 0 < L.textNodes.length;});N && 0 < N.length && (Q.blocks=N,C.HB.push(Q));}});C.Lga=!1;C.wOa || (C.wOa=!0,C.emit("ready"));};R.ontext=function(H){("" !== H.trim() || H.match(/ +/)) && p(p(K).blocks).textNodes.push({text:H.match(/ +/)?H:H.trim(),style:p(I),lineBreaks:J});J=0;};R.onclosetag=function(){"undefined" !== typeof R.tag.attributes.style && I.pop();};R.onopentag=function(H){var Q,N,L,P,S;Q=H.attributes;N=H.name;H=G.tickRate;if("p" === N){J=0;N=Q["xml:id"];Q.style && I.push(Q.style);L=Math.floor(parseInt(Q.begin) / H * 1E3);if(0 === K.length || p(K).displayTime !== L){L=K.push;P={};S=parseInt(Q.begin) / H;H=parseInt(Q.end) / H;P.id=N;P.startTime=Math.floor(1E3 * S);P.endTime=Math.floor(1E3 * H);P.style=Q.style;P.region=Q.region;P.displayTime=P.startTime;P.duration=P.endTime - P.startTime;P.extent=Q["tts:extent"] || null;P.origin=Q["tts:origin"] || null;P.latestEndSoFar=0 > P.endTime?0:P.endTime;P.blocks=[{textNodes:[],region:P.region,id:N,extent:P.extent,origin:P.origin}];L.call(K,P);}else p(K).blocks.push({textNodes:[],region:Q.region,id:N,extent:Q["tts:extent"] || null,origin:Q["tts:origin"] || null});}else "span" === N?I.push(Q.style):"br" === N && J++;};R.write("<entries>").write(M).write("</entries>").close();}function g(F,C){var G,J,K,I,M;G=w.mc(!0);J={};K=[];I=null;M=[];G.onerror=function(R){C(R,null);};G.onend=function(){C(null,J);};G.onclosetag=function(){K.pop();};G.onopentag=function(R){var H,Q,N,L;H=R.attributes;Q=R.name;N=J.regions;L=J.styles;K.push(R);"tt" === Q?J=k(H):"body" === Q?"undefined" !== typeof H.style && (J.defaultStyle=H.style,M.push(H.style)):"style" === Q && q(K,"styling")?L[H["xml:id"]]=n(H,A):"style" === Q && q(K,"region")?(R=Object.keys(H)[0],"string" === typeof R && (N[I][R.slice(4)]=H[R])):"region" === Q && q(K,"layout") && (I=H["xml:id"],N[I]=n(H,D));};setTimeout(function(){var R;for(G.write(F);0 < K.length && !G.error;){R=p(K).name;G.write("</" + R + ">");}G.close();},10);}function k(F){var C;F=n(F,B);if("string" === typeof F.extent){C=F.extent.split(" ").map(function(G){return parseInt(G,10);});F.width=C[0];F.height=C[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(C=F.cellResolution.split(" ").map(function(G){return parseInt(G,10);}),F.cellResolution={},F.cellResolution.x=C[0],F.cellResolution.y=C[1]):F.cellResolution={x:52,y:19};return F;}function n(F,C){var G;G={};C.forEach(function(J){"undefined" !== typeof F["tts:" + J]?G[J]=F["tts:" + J]:"undefined" !== typeof F["ttp:" + J] && (G[J]=F["ttp:" + J]);});G.styles={};G.regions={};return G;}function q(F,C){var G;for(G=F.length - 1;0 <= G;G--){if(F[G].name === C)return !0;}return !1;}function p(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function v(F,C){return {lineBreaks:C.lineBreaks,text:C.text,style:z.jyb(F[C.style] || ({}),this.qS,this.US),id:C.id};}function t(F,C){var G,J;G=this;J=F.styles || ({});return {startTime:C.startTime,id:C.id,endTime:C.endTime,displayTime:C.displayTime,duration:C.duration,blocks:C.blocks.map(function(K){var I;I=y.eyb(F,K);return {textNodes:K.textNodes.map(v.bind(G,J)),region:I,id:K.id};})};}u=a(113).EventEmitter;w=a(1063);x=a(1064);y=a(1065);z=a(1066);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline").split(" ");B=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"];D=["backgroundColor","displayAlign","extent","origin"];E={info:function(){}};b=Object.create(u.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Ja.info("incremental text stream created, starting at pts " + F.bC);F.VF?m.call(F):F.KF({url:F.tl},function(C,G){F.VF=G;m.call(F);});};b.SG=function(F){var C,G,J;C=this;F < C.Lv - C.Qkb && (C.HB=[]);G=C.HB;J=0 < G.length?G[G.length - 1].startTime:F;C.Lv=F;for(!C.Sg && 5 > C.HB.length && !C.Lga && (C.Ja.info("buffer size: " + C.HB.length + "; minimum: 5"),C.Lga=!0,C.Sg=setTimeout(function(){C.Sg=null;h.call(C,J + 1);},10));0 < G.length && G[0].endTime < F;){G.shift();}G=d(G,F).map(t.bind(C,C.aga));F < C.Le.GCb() && 0 === G.length && (G=null);return G;};b.Mr=function(F,C){return this.Le?this.Le.Mr(F,C):0;};b.close=function(){};b.lcc=function(F){var C;C=f(F,"preferences");F=f(F,"defaults");return l(C,this.US) || l(F,this.qS)?(this.US=C,this.qS=F,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H;function c(){}function f(Q,N){if(!(this instanceof f))return new f(Q,N);for(var L=0,P=x.length;L < P;L++){this[x[L]]="";}this.q=this.c=this.sn=this.textNode="";this.hRa=a.ada;this.Mn=N || ({});this.Mn.B1a=this.Mn.B1a || this.Mn.G$b;this.Iqa=this.Mn.B1a?"toLowerCase":"toUpperCase";this.Un=[];this.closed=this.aU=this.XO=!1;this.tag=this.error=null;this.Zu=! !Q;this.H3a=!(!Q && !this.Mn.H3a);this.state=H.yba;this.yx=(this.T9a=this.Mn.T9a)?Object.create(a.qkb):Object.create(a.yx);this.jC=[];this.Mn.f_ && (this.qk=Object.create(I));if(this.paa=!1 !== this.Mn.position)this.position=this.line=this.bU=0;this.onready && this.onready(void 0);}function l(Q,N){var L;if(!(this instanceof l))return new l(Q,N);c.apply(this);this.jy=new f(Q,N);this.readable=this.writable=!0;L=this;this.jy.onend=function(){L.emit("end");};this.jy.onerror=function(P){L.emit("error",P);L.jy.error=null;};y.forEach(function(P){Object.defineProperty(L,"on" + P,{get:function(){return L.jy["on" + P];},set:function(S){if(!S)return (L.removeAllListeners(P),L.jy["on" + P]=S);L.on(P,S);},enumerable:!0,configurable:!1});});}function m(Q){return Q.split("").reduce(function(N,L){N[L]=!0;return N;},{});}function d(Q,N){return "[object RegExp]" === Object.prototype.toString.call(Q)?! !N.match(Q):Q[N];}function h(Q,N,L){Q.textNode && g(Q);Q[N] && Q[N](L);}function g(Q){Q.textNode=k(Q.Mn,Q.textNode);Q.textNode && Q.ontext && Q.ontext(Q.textNode);Q.textNode="";}function k(Q,N){Q.trim && (N=N.trim());Q.normalize && (N=N.replace(/\s+/g," "));return N;}function n(Q,N){g(Q);Q.paa && (N+="\nLine: " + Q.line + "\nColumn: " + Q.bU + "\nChar: " + Q.c);N=Error(N);Q.error=N;Q.onerror && Q.onerror(N);return Q;}function q(Q){Q.XO && !Q.aU && p(Q,"Unclosed root tag");Q.state !== H.yba && Q.state !== H.zba && Q.state !== H.Um && n(Q,"Unexpected end");g(Q);Q.c="";Q.closed=!0;Q.onend && Q.onend(void 0);f.call(Q,Q.Zu,Q.Mn);return Q;}function p(Q,N){if("object" !== typeof Q || !(Q instanceof f))throw Error("bad call to strictFail");Q.Zu && n(Q,N);}function v(Q,N){var L,P;L=0 > Q.indexOf(":")?["",Q]:Q.split(":");P=L[0];L=L[1];N && "xmlns" === Q && (P="xmlns",L="");return {prefix:P,local:L};}function t(Q){var N,L,P;Q.Zu || (Q.hj=Q.hj[Q.Iqa]());if(-1 !== Q.jC.indexOf(Q.hj) || Q.tag.attributes.hasOwnProperty(Q.hj))return Q.hj=Q.ij="";if(Q.Mn.f_){N=v(Q.hj,!0);L=N.local;if("xmlns" === N.prefix)if("xml" === L && Q.ij !== J)p(Q,"xml: prefix must be bound to " + J + "\nActual: " + Q.ij);else if("xmlns" === L && Q.ij !== K)p(Q,"xmlns: prefix must be bound to " + K + "\nActual: " + Q.ij);else {N=Q.tag;P=Q.Un[Q.Un.length - 1] || Q;N.qk === P.qk && (N.qk=Object.create(P.qk));N.qk[L]=Q.ij;}Q.jC.push([Q.hj,Q.ij]);}else (Q.tag.attributes[Q.hj]=Q.ij,h(Q,"onattribute",{name:Q.hj,value:Q.ij}));Q.hj=Q.ij="";}function u(Q,N){var L,P,U,da,ka,ma,X;if(Q.Mn.f_){L=Q.tag;P=v(Q.tagName);L.prefix=P.prefix;L.local=P.local;L.uri=L.qk[P.prefix] || "";L.prefix && !L.uri && (p(Q,"Unbound namespace prefix: " + JSON.stringify(Q.tagName)),L.uri=P.prefix);P=Q.Un[Q.Un.length - 1] || Q;L.qk && P.qk !== L.qk && Object.keys(L.qk).forEach(function(ua){h(Q,"onopennamespace",{prefix:ua,uri:L.qk[ua]});});P=0;for(var S=Q.jC.length;P < S;P++){U=Q.jC[P];da=U[0];ka=U[1];ma=v(da,!0);U=ma.prefix;X="" == U?"":L.qk[U] || "";ka={name:da,value:ka,prefix:U,local:ma.local,uri:X};U && "xmlns" != U && !X && (p(Q,"Unbound namespace prefix: " + JSON.stringify(U)),ka.uri=U);Q.tag.attributes[da]=ka;h(Q,"onattribute",ka);}Q.jC.length=0;}Q.tag.A$b=! !N;Q.XO=!0;Q.Un.push(Q.tag);h(Q,"onopentag",Q.tag);N || (Q.state=Q.H3a || "script" !== Q.tagName.toLowerCase()?H.Um:H.fK,Q.tag=null,Q.tagName="");Q.hj=Q.ij="";Q.jC.length=0;}function w(Q){var N,L,S;if(Q.tagName){if(Q.Ak){if("script" !== Q.tagName){Q.Ak+="</" + Q.tagName + ">";Q.tagName="";Q.state=H.fK;return;}h(Q,"onscript",Q.Ak);Q.Ak="";}N=Q.Un.length;L=Q.tagName;Q.Zu || (L=L[Q.Iqa]());for(var P=L;N--;){if(Q.Un[N].name !== P)p(Q,"Unexpected close tag");else break;}if(0 > N)(p(Q,"Unmatched closing tag: " + Q.tagName),Q.textNode+="</" + Q.tagName + ">");else {Q.tagName=L;for(L=Q.Un.length;L-- > N;){S=Q.tag=Q.Un.pop();Q.tagName=Q.tag.name;h(Q,"onclosetag",Q.tagName);for(var U in S.qk){;}P=Q.Un[Q.Un.length - 1] || Q;Q.Mn.f_ && S.qk !== P.qk && Object.keys(S.qk).forEach(function(da){h(Q,"onclosenamespace",{prefix:da,uri:S.qk[da]});});}0 === N && (Q.aU=!0);Q.tagName=Q.ij=Q.hj="";Q.jC.length=0;}}else (p(Q,"Weird empty close tag."),Q.textNode+="</>");Q.state=H.Um;}a.mc=function(Q,N){return new f(Q,N);};a.S6b=f;a.T6b=l;a.pTa=function(Q){return new l(Q,void 0);};a.ada=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Ke=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(Q){function N(){this.__proto__=Q;}N.prototype=Q;return new N();});Object.getPrototypeOf || (Object.getPrototypeOf=function(Q){return Q.__proto__;});Object.keys || (Object.keys=function(Q){var N,L;N=[];for(L in Q){Q.hasOwnProperty(L) && N.push(L);}return N;});f.prototype={end:function(){q(this);},write:function(Q){var S,U,da,ka,ma,X;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === Q)return q(this);if(this.error)throw this.error;for(var N=0,L;this.c=L=Q.charAt(N++);){switch((this.paa && (this.position++,"\n" === L?(this.line++,this.bU=0):this.bU++),this.state)){case H.yba:if((this.state=H.zba,"\ufeff" === L))continue;case H.zba:"<" === L?(this.state=H.vda,this.ywa=this.position):d(z,L) || (p(this,"Non-whitespace before first tag."),this.textNode=L,this.state=H.Um);continue;case H.Um:if(this.XO && !this.aU){for(var P=N - 1;L && "<" !== L && "&" !== L;){(L=Q.charAt(N++)) && this.paa && (this.position++,"\n" === L?(this.line++,this.bU=0):this.bU++);}this.textNode+=Q.substring(P,N - 1);}"<" !== L || this.XO && this.aU && !this.Zu?(d(z,L) || this.XO && !this.aU || p(this,"Text data outside of root node."),"&" === L?this.state=H.Lea:this.textNode+=L):(this.state=H.vda,this.ywa=this.position);continue;case H.fK:"<" === L?this.state=H.QJa:this.Ak+=L;continue;case H.QJa:"/" === L?this.state=H.Hba:(this.Ak+="<" + L,this.state=H.fK);continue;case H.vda:"!" === L?(this.state=H.wea,this.ys=""):d(z,L) || (d(M,L)?(this.state=H.KGa,this.tagName=L):"/" === L?(this.state=H.Hba,this.tagName=""):"?" === L?(this.state=H.gHa,this.R9=this.jI=""):(p(this,"Unencoded <"),this.ywa + 1 < this.position && (L=Array(this.position - this.ywa).join(" ") + L),this.textNode+="<" + L,this.state=H.Um));continue;case H.wea:(this.ys + L).toUpperCase() === C?(h(this,"onopencdata"),this.state=H.z_,this.em=this.ys=""):"--" === this.ys + L?(this.state=H.B_,this.ys=this.hm=""):(this.ys + L).toUpperCase() === G?(this.state=H.G_,(this.doctype || this.XO) && p(this,"Inappropriately located doctype declaration"),this.ys=this.doctype=""):">" === L?(h(this,"onsgmldeclaration",this.ys),this.ys="",this.state=H.Um):(d(D,L) && (this.state=H.TJa),this.ys+=L);continue;case H.TJa:L === this.q && (this.state=H.wea,this.q="");this.ys+=L;continue;case H.G_:">" === L?(this.state=H.Um,h(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=L,"[" === L?this.state=H.Sba:d(D,L) && (this.state=H.QAa,this.q=L));continue;case H.QAa:this.doctype+=L;L === this.q && (this.q="",this.state=H.G_);continue;case H.Sba:this.doctype+=L;"]" === L?this.state=H.G_:d(D,L) && (this.state=H.PAa,this.q=L);continue;case H.PAa:this.doctype+=L;L === this.q && (this.state=H.Sba,this.q="");continue;case H.B_:"-" === L?this.state=H.Oza:this.hm+=L;continue;case H.Oza:"-" === L?(this.state=H.Nza,(this.hm=k(this.Mn,this.hm)) && h(this,"oncomment",this.hm),this.hm=""):(this.hm+="-" + L,this.state=H.B_);continue;case H.Nza:">" !== L?(p(this,"Malformed comment"),this.hm+="--" + L,this.state=H.B_):this.state=H.Um;continue;case H.z_:"]" === L?this.state=H.Hza:this.em+=L;continue;case H.Hza:"]" === L?this.state=H.Iza:(this.em+="]" + L,this.state=H.z_);continue;case H.Iza:">" === L?(this.em && h(this,"oncdata",this.em),h(this,"onclosecdata"),this.em="",this.state=H.Um):"]" === L?this.em+="]":(this.em+="]]" + L,this.state=H.z_);continue;case H.gHa:"?" === L?this.state=H.Hda:d(z,L)?this.state=H.Gda:this.R9+=L;continue;case H.Gda:if(!this.jI && d(z,L))continue;else "?" === L?this.state=H.Hda:this.jI+=L;continue;case H.Hda:">" === L?(h(this,"onprocessinginstruction",{name:this.R9,body:this.jI}),this.R9=this.jI="",this.state=H.Um):(this.jI+="?" + L,this.state=H.Gda);continue;case H.KGa:if(d(R,L))this.tagName+=L;else {this.Zu || (this.tagName=this.tagName[this.Iqa]());P=this.Un[this.Un.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.Mn.f_ && (S.qk=P.qk);this.jC.length=0;">" === L?u(this):"/" === L?this.state=H.L0:(!d(z,L) && p(this,"Invalid character in tag name"),this.state=H.tJ);}continue;case H.L0:">" === L?(u(this,!0),w(this)):(p(this,"Forward-slash in opening tag not followed by >"),this.state=H.tJ);continue;case H.tJ:if(d(z,L))continue;else ">" === L?u(this):"/" === L?this.state=H.L0:d(M,L)?(this.hj=L,this.ij="",this.state=H.k_):p(this,"Invalid attribute name");continue;case H.k_:"=" === L?this.state=H.dba:">" === L?(p(this,"Attribute without value"),this.ij=this.hj,t(this),u(this)):d(z,L)?this.state=H.rya:d(R,L)?this.hj+=L:p(this,"Invalid attribute name");continue;case H.rya:if("=" === L)this.state=H.dba;else if(d(z,L))continue;else (p(this,"Attribute without value"),this.ij=this.tag.attributes[this.hj]="",h(this,"onattribute",{name:this.hj,value:""}),this.hj="",">" === L?u(this):d(M,L)?(this.hj=L,this.state=H.k_):(p(this,"Invalid attribute name"),this.state=H.tJ));continue;case H.dba:if(d(z,L))continue;else d(D,L)?(this.q=L,this.state=H.gba):(p(this,"Unquoted attribute value"),this.state=H.hba,this.ij=L);continue;case H.gba:if(L !== this.q){"&" === L?this.state=H.eba:this.ij+=L;continue;}t(this);this.q="";this.state=H.sya;continue;case H.sya:d(z,L)?this.state=H.tJ:">" === L?u(this):"/" === L?this.state=H.L0:d(M,L)?(p(this,"No whitespace between attributes"),this.hj=L,this.ij="",this.state=H.k_):p(this,"Invalid attribute name");continue;case H.hba:if(!d(F,L)){"&" === L?this.state=H.fba:this.ij+=L;continue;}t(this);">" === L?u(this):this.state=H.tJ;continue;case H.Hba:if(this.tagName)">" === L?w(this):d(R,L)?this.tagName+=L:this.Ak?(this.Ak+="</" + this.tagName,this.tagName="",this.state=H.fK):(!d(z,L) && p(this,"Invalid tagname in closing tag"),this.state=H.Lza);else if(d(z,L))continue;else d(M,L)?this.tagName=L:this.Ak?(this.Ak+="</" + L,this.state=H.fK):p(this,"Invalid tagname in closing tag.");continue;case H.Lza:if(d(z,L))continue;">" === L?w(this):p(this,"Invalid characters in closing tag");continue;case H.Lea:case H.eba:case H.fba:switch(this.state){case H.Lea:(U=H.Um,da="textNode");break;case H.eba:U=H.gba;da="attribValue";break;case H.fba:(U=H.hba,da="attribValue");}if(";" === L){L=da;P=this[L];S=this.sn;ka=S.toLowerCase();ma="";if(this.yx[S])S=this.yx[S];else if(this.yx[ka])S=this.yx[ka];else {S=ka;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);X=parseInt(S,16);ma=X.toString(16);}else (S=S.slice(1),X=parseInt(S,10),ma=X.toString(10));S=S.replace(/^0+/,"");S=ma.toLowerCase() !== S?(p(this,"Invalid character entity"),"&" + this.sn + ";"):String.fromCodePoint(X);}this[L]=P + S;this.sn="";this.state=U;}else d(E,L)?this.sn+=L:(p(this,"Invalid character entity"),this[da]+="&" + this.sn + L,this.sn="",this.state=U);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.hRa){Q=Math.max(a.ada,10);L=N=0;for(U=x.length;L < U;L++){da=this[x[L]].length;if(da > Q)switch(x[L]){case "textNode":g(this);break;case "cdata":h(this,"oncdata",this.em);this.em="";break;case "script":h(this,"onscript",this.Ak);this.Ak="";break;default:n(this,"Max buffer length exceeded: " + x[L]);}N=Math.max(N,da);}this.hRa=a.ada - N + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){g(this);"" !== this.em && (h(this,"oncdata",this.em),this.em="");"" !== this.Ak && (h(this,"onscript",this.Ak),this.Ak="");}};y=a.Ke.filter(function(Q){return "error" !== Q && "end" !== Q;});l.prototype=Object.create(c.prototype,{constructor:{value:l}});l.prototype.write=function(Q){this.jy.write(Q.toString());this.emit("data",Q);return !0;};l.prototype.end=function(Q){Q && Q.length && this.write(Q);this.jy.end();return !0;};l.prototype.on=function(Q,N){var L;L=this;L.jy["on" + Q] || -1 === y.indexOf(Q) || (L.jy["on" + Q]=function(){var P;P=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,Q);L.emit.apply(L,P);});return c.prototype.on.call(L,Q,N);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";D="'\"";E=A + B + "#";F=z + ">";C="[CDATA[";G="DOCTYPE";J="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";I={xml:J,f_:K};z=m(z);A=m(A);B=m(B);M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;D=m(D);E=m(E);F=m(F);H=0;a.AB={yba:H++,zba:H++,Um:H++,Lea:H++,vda:H++,wea:H++,TJa:H++,G_:H++,QAa:H++,Sba:H++,PAa:H++,o3b:H++,B_:H++,Oza:H++,Nza:H++,z_:H++,Hza:H++,Iza:H++,gHa:H++,Gda:H++,Hda:H++,KGa:H++,L0:H++,tJ:H++,k_:H++,rya:H++,dba:H++,gba:H++,sya:H++,hba:H++,eba:H++,fba:H++,Hba:H++,Lza:H++,fK:H++,QJa:H++};a.qkb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.yx={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.yx).forEach(function(Q){var N;N=a.yx[Q];N="number" === typeof N?String.fromCharCode(N):N;a.yx[Q]=N;});for(H in a.AB){a.AB[a.AB[H]]=H;}H=a.AB;String.fromCodePoint || (function(){var N,L;function Q(){var P,S,U,ka,ma;P=[];S=-1;U=arguments.length;if(!U)return "";for(var da="";++S < U;){ka=Number(arguments[S]);if(!isFinite(ka) || 0 > ka || 1114111 < ka || L(ka) != ka)throw RangeError("Invalid code point: " + ka);if(65535 >= ka)P.push(ka);else {ka-=65536;ma=(ka >> 10) + 55296;ka=ka % 1024 + 56320;P.push(ma,ka);}if(S + 1 == U || 16384 < P.length)(da+=N.apply(null,P),P.length=0);}return da;}N=String.fromCharCode;L=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Q,configurable:!0,writable:!0}):String.fromCodePoint=Q;})();})(b);},function(r){function b(a,c){var f,l,m,d,h,g;f=[];l=a.indexOf("<p");m=-1;do {d={};d.sYb=l;h=a.indexOf("begin=",l) + 7;g=a.indexOf("end=",l) + 5;h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);m=g > m?g:m;d.startTime=h;d.endTime=g;d.latestEndSoFar=m;d.vVa=a.indexOf("/p>",l) + 3;l=d.vVa;f.push(d);l=a.indexOf("<p",l);}while(-1 !== l);this.T1=f;this.VF=a;}b.prototype.GCb=function(){return this.T1[this.T1.length - 1].endTime;};b.prototype.Mr=function(a,c){return this.T1.filter(function(f){return f.startTime <= c && f.endTime >= a;}).length;};b.prototype.aGb=function(a){for(var c="",f=this.T1.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),l=4;l + 1 < f.length && f[l + 1].startTime === f[4].startTime;){l++;}f=f.slice(0,l + 1);0 < f.length && (c=this.VF.slice(f[0].sYb,f[f.length - 1].vVa));return c;};r.exports=b;},function(r,b,a){var l,m,d;function c(h){return "string" !== typeof h?null:m[h];}function f(h){return h.split(" ").map(function(g){return .01 * parseFloat(g);});}l=a(468);r.exports={eyb:function(h,g){var k,n,q,p,v,t;k=g.textNodes[0] || ({});n=h.regions;q=h.styles;h=h.aspectRatio;n=n && n[g.region]?n[g.region]:{};k=q && q[k.style]?q[k.style]:{};q=f(l(g.extent,n.extent,"80% 80%"));p=f(l(g.origin,n.origin,"10% 10%"));g=Object;h/=1280 / 720;v=(1 - h) / 2;t=p[0];p=p[1];q=g.create.call(g,{marginLeft:t * h + v,marginTop:p,marginRight:(1 - (t + q[0])) * h + v,marginBottom:1 - (p + q[1])});1 < Object.keys(n).length?q.verticalAlignment=c(l(k.displayAlign,n.displayAlign,"before")):q.verticalAlignment=c(l(k.displayAlign,"after"));n=l(k.textAlign,n.textAlign,"center");q.horizontalAlignment="string" !== typeof n?null:d[n];return q;}};m={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};},function(r,b,a){var l,m,d,h,g,k,n;function c(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:d[q.toLowerCase()];}function f(q){var p,v,t;p=(q || "").split(" ");v=(/^[0-9]/).test(p);q=v?"#000000":c(p[0]);t=v?0:1;v=parseInt(p[t]);p=parseInt(p[t + 1]);return {color:q,width:0 < v?v:0,blur:0 < p?p:0};}l=a(468);r.exports={jyb:function(q,p,v){var t,u,w,x,y,z,A,B,D,E,F,C,G,J;t=l(v.characterSize,p.characterSize,"MEDIUM");u=q.fontFamily;u=l(v.characterStyle,"string" !== typeof u?null:h[u],p.characterStyle,"PROPORTIONAL_SANS_SERIF");w=parseInt(q.fontSize,10) / 100 || 1;x="underline" === q.textDecoration;y="italic" === q.fontStyle;z=m[l(v.i2b,p.i2b,"OPAQUE")];A=m[l(v.characterOpacity,p.characterOpacity,"OPAQUE")];B=m[l(v.backgroundOpacity,q.opacity,p.backgroundOpacity,"OPAQUE")];D=c(l(v.characterColor,q.color,p.characterColor,"#ffffff"));E=c(l(v.backgroundColor,q.backgroundColor,p.backgroundColor,null));F=c(l(v.Hbb,q.Hbb,p.Hbb,null));C=l(v.characterEdgeAttributes,p.characterEdgeAttributes,null);w*=g[t] || 1;G=1;k[t] && (G=k[t][u] || 1);w*=1 / 19 * G;G=0;n[t] && (G=n[t][u] || 0);t=G;G=q.textOutline;G="string" !== typeof G?null:f(G).width;G=l(G,0);J=q.textOutline;J="string" !== typeof J?null:f(J).blur;J=l(J,0);v=v.characterEdgeColor;q=q.textOutline;q="string" !== typeof q?null:f(q).color;return {characterUnderline:x,characterItalic:y,characterStyle:u,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:D,backgroundColor:E,windowColor:F,characterEdgeAttributes:C,characterSize:w,characterTracking:t,characterEdgeWidth:G,characterEdgeBlur:J,characterEdgeColor:c(l(v,q,p.characterEdgeColor,"#000000"))};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};h={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};g={SMALL:.5,MEDIUM:1,LARGE:2};k={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var f,l,m,d,h,g;function c(k){f.call(this);this.tl=k.url;this.KF=k.request;this.HF=k.Dd || 0;this.Ja=k.sa;this.Ei=this.pr=null;k.su?this.pr=k.su:(this.Me=k.offset,this.jL=k.size);this.$l;this.Iga=k;}f=a(113).EventEmitter;l=a(1068);m=a(1069);d=a(1070);h=a(159);g=c.events={ehb:"midxready",yjb:"sidxready",jjb:"ready",Lf:"error"};c.prototype=Object.create(f.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{yp:{get:function(){return this.$l && this.$l.yka;}}});c.prototype.start=function(){this.pr?(this.Ja.warn("midx was prefectched and provided"),this.UMa(this.pr)):this.Blb(this.Me,this.jL,this.qob.bind(this));};c.prototype.close=function(){};c.prototype.fN=function(k,n){return this.$l && this.$l.Wna(k,n);};c.prototype.Mr=function(k,n){return (k=this.fN(k,n))?k.length:k;};c.prototype.LA=function(k,n){this.Ja.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.HF=k;this.$l?this.$l.LA(k,n):n && n();};c.prototype.SG=function(k){var n,q,p;if(!this.$l || k > h.fFb(this.pr))return [];this.$l && this.$l.hla(k);n=this.yp.zs;q=this.yp.index;p=[];q=h.Uc(q) && this.Ei[q + 1];if(!(q && q.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (p=this.fNa(n,k,[]));2 > p.length && q && q.images.length && (n=this.fNa(q,k,p),p.push.apply(p,n));return this.$l.dwa(k)?null:h.HSa(p);};c.prototype.wi=function(k,n){this.$l && this.$l.wi(k,n);};c.prototype.si=function(k,n){this.$l && this.$l.si(k,n);};c.prototype.Blb=function(k,n,q){this.Ja.debug("downloading midx...");this.rNa(k,n,"binary",q);};c.prototype.Clb=function(k,n,q){this.Ja.debug("downloading sidx...");this.rNa(k,n,void 0,q);};c.prototype.rNa=function(k,n,q,p){this.KF({url:this.tl,offset:k,size:n,responseType:q},p);};c.prototype.qob=function(k,n){if(k)this.emit(g.Lf,h.uV(k,"midxdownloaderror"));else try{this.pr=new l(n);this.UMa(this.pr);}catch(q){this.emit(g.Lf,h.uV(q,"midxparseerror"));}};c.prototype.UMa=function(k){var n;n=k.entries.reduce(function(q,p){return q + p.size;},0);n?(this.emit(g.ehb,k),this.Clb(k.startOffset,n,this.tob.bind(this,k))):this.emit(g.Lf,h.uV({},"nosidxfoundinmidx"));};c.prototype.tob=function(k,n,q){var p,v,t,u;p=this;if(n)p.emit(g.Lf,h.uV(n,"sidxdownloaderror"));else {v=0;t=0;p.Ei=[];try{u=0;k.entries.forEach(function(w){var x;x=new m(q,v,k.cpa,p.Ja,t,t + w.duration,u);p.Ei.push(x);w.hYb=x;t=x.Dq;v+=w.size;u++;});}catch(w){p.emit(g.Lf,h.uV(w,"sidxparseerror"));return;}p.emit(g.yjb,p.Ei);this.$l=new d(p.Iga,k,p.Ei);n=p.HF;p.Iga && p.Iga.v$ || (n=Math.max(p.HF - 1E4,0));this.$l.hla(n,function(w){w && p.Ja.error("initial sidx download failed");p.emit(g.jjb);});}};c.prototype.fNa=function(k,n,q){var y;for(var p=k.entries,v=0,t=p.length,u=[],w,x=this.pr;v < t;){w=p[v];if(w.displayTime <= n)w.displayTime + w.duration >= n && u.push(h.oka(w,k.images[v].data,x));else {y=u.length && u[u.length - 1] || q.length && q[q.length - 1];if(y && y.displayTime > n && y.displayTime !== w.displayTime)break;y.hH !== w.hH && u.push(h.oka(w,k.images[v].data,x));}v++;}return u;};r.exports=c;},function(r,b,a){var f,l;function c(m,d){this.duration=m;this.size=d;this.hYb=void 0;}f=a(279);l=a(159);r.exports=function(m){var k;m=new f(m);this.identifier=m.iua(4);l.assert("midx" === this.identifier);this.version=m.Eq(4);l.assert(0 === this.version);this.cpa=m.Lh(36);this.creationTime=m.EO();this.Uo=m.EO();this.J=m.EO();this.QVb=m.th();this.RVb=m.th();this.language=m.Lh(16);m.Lh(16);this.startOffset=m.EO();this.qm=m.th();for(var d=[],h=0,g=0;g < this.qm;g++){k=new c(m.Eq(4),m.th());d.push(k);h+=k.duration;}this.entries=d;this.endTime=h;};},function(r,b,a){var l,m;function c(d,h,g,k,n,q,p,v){this.displayTime=d;this.duration=h;this.OQb=g;this.PQb=k;this.nYb=n;this.oYb=q;this.hH=p;this.Roa=v;}function f(d,h,g,k,n,q,p){var v;d=new l(d);v=0;d.position=h;this.Ja=k;this.identifier=d.iua(4);m.assert("sidx" === this.identifier,k);this.cpa=d.Lh(36);m.Yub(this.cpa,g,k);this.duration=d.Eq(4);this.qm=d.th();this.Uw=n;this.Dq=q;this.index=p || 0;this.entries=[];this.images=[];for(this.Xga=0;v < this.qm;){h=new c(d.Eq(4),d.Eq(4),d.th(),d.th(),d.th(),d.th(),d.EO(),d.Eq(4));v++;this.entries.push(h);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}l=a(279);m=a(159);f.prototype.qJb=function(){this.Xga++;};f.prototype.$yb=function(){var d;d=0;this.Xga--;1 > this.Xga?this.images && 0 < this.images.length && (d+=m.Sna([this]),this.images=[]):this.Ja.debug("Not cleaning up shared sidx with range",this.Uw,"-",this.Dq);return d;};r.exports=f;},function(r,b,a){var m,d;function c(h,g){var n;h=h || 0;if(g)for(var k in g.Aa){n=g.Aa[k];if(h >= (n.xc || 0) && (!n.Nc || h < n.Nc))return k;}}function f(h,g){return h && g && g.Aa[h];}function l(h,g,k){var n;this.Ja=h.sa;this.Ei=k;this.ZB=this.glb(h.v$);this.fh=[];n=k && k[k.length - 1];this.Lv=n && (n.endTime || n.Dq);this.Ng=new m(h,g,k);h=c(h.Dd || 0,this.ZB);this.io=this.by(h);}m=a(1071);d=a(1073);Object.defineProperties(l.prototype,{yka:{get:function(){return this.Ng.yka;}}});l.prototype.Wna=function(h,g){return this.Ng && this.Ng.Wna(h,g);};l.prototype.hla=function(h,g){this.Ng.VWb(h);this.ePa(h);if(!this.ZB && this.Lv && h > this.Lv)g && g();else if((h=this.QMa(h,this.io,2,g),this.ZB && 0 < this.io.x3a.length))g && g();else if(this.ZB && this.io.wN && h){2 > this.fh.length && this.mlb(this.io);g=Math.ceil(2 / (this.fh.length - 1));for(var k=0;k < this.fh.length && h && 3 > k;k++){h=this.fh[k];h=this.QMa(h.startTime,h,g);}}};l.prototype.dwa=function(h){return this.Ng.dwa(h)?(this.Ng.Qqb(),this.hla(h),this.io.wN=!1,!0):!1;};l.prototype.LA=function(h,g){var k;this.ePa(h);this.fh.forEach(function(n){n.wN=!1;});k=this.io.Qn && this.io.Qn[0];this.Ng.LA(h,k && k.index);(h=this.Ng.TGb(h)) && h.length?this.Ng.CUa(h,g):g && g();};l.prototype.si=function(h,g){var k;this.Ja.debug("Set next segment to",g,"for segment",h);h=this.YMa(h) || this.by(h);h.c8a=g;k=this;h.eX=h.eX.filter(function(n){if(n.id === g)return !0;k.Efa(n);return !1;});};l.prototype.wi=function(h,g){var k;k=f(h,this.ZB);Object.keys(k.next).forEach(function(n){k.next[n].weight=g[n] || 0;});};l.prototype.glb=function(h){var g,n;g={};if(h=(h || ({})).Aa){g.Aa={};for(var k in h){n=h[k] || ({});g.Aa[k]={xc:n.xc,Nc:n.Nc,Eh:n.Eh,next:this.flb(n.next)};}}return g;};l.prototype.flb=function(h){var g,k;g={};for(k in h){g[k]={weight:(h[k] || ({})).weight};}return g;};l.prototype.ePa=function(h){var g,k;if(this.ZB && this.io.startTime > h || this.io.endTime && this.io.endTime < h){g=this.io;k=c(h,this.ZB);k?(this.Ja.debug("Switching segments from",this.io.id,"to",k,"at pts",h),this.io=this.YMa(k) || this.by(k),this.Efa(g)):this.Ja.debug("The pts is outside of the current segment but not in a new one yet");}};l.prototype.by=function(h){this.Ja.debug("SegmentManager: creating segment",h);h=new d(h,f(h,this.ZB),this.Ei,this.Ja);this.fh.push(h);this.Ja.debug("SegmentManager: segment contains",h.Qn.length,"sidxes");return h;};l.prototype.Efa=function(h){var g;if(h && h !== this.io){this.Ja.debug("SegmentManager: deleting segment",h.id);h.eX.forEach(this.Efa.bind(this));this.fh=this.fh.filter(function(k){return k !== h;});g=h.XRa();this.Ng.KUb(g && g.size || 0,g && g.Qn);}};l.prototype.YMa=function(h){var k;for(var g=0;h && g < this.fh.length;g++){k=this.fh[g];if(h === k.id)return k;}};l.prototype.mlb=function(h){var g,n;g=h.c8a;if(g && "" !== g)h.eX.push(this.by(g));else {g=h.x3a;for(var k in g){n=g[k];if(!n || !n.weight)break;h.eX.push(this.by(k));}}};l.prototype.QMa=function(h,g,k,n){if(!g || g.wN)return (this.Ja.debug("Done driving segment",g && g.id),!0);if(!this.Ng.Btb)return (this.Ja.debug("Throttling buffering in quiet period"),!1);this.Ja.debug("Drive streaming of segment",g.id,"from pts",h);k=(h=this.Ng.UGb(h,g,k)) && h.length || 0;if(0 === k)return (this.Ja.debug("Segment is fully downloaded",g && g.id),g.wN=!0,n && n(),!0);this.Ja.debug("Downloading",k,"sidxes in segment",g.id);return this.Ng.CUa(h,function(q,p){q && (g.wN=!1);n && n(q,p);});};r.exports=l;},function(r,b,a){var g,k;function c(n,q,p){var v;v=p.displayTime <= n && n <= p.displayTime + p.duration;return n <= p.displayTime && p.displayTime <= q || v;}function f(n,q,p){return q && (!q.entries.length && n > q.Uw || n > q.endTime) && p.entries.length && n < p.endTime;}function l(n,q,p){this.MF=this.Ev=0;this.Qmb=n.bufferSize || 4194304;this.yp=new h();this.GF;this.yF=n.pf;this.Ja=n.sa;this.pr=q;this.Ei=p;this.qo=new g(n);this.WF=new d(this.Ei.length,n.VUa);this.YS=new m(n.lRa);}function m(n){this.Jlb=0 !== n;this.on=!1;this.Sj=n || 3E3;this.Sg;}function d(n,q){if(this.enabled=q)this.Qn=Array.apply(null,Array(n)).map(function(){return "-";});}function h(n,q){this.zs=n;this.index=q;}g=a(1072);k=a(159);h.prototype.reset=function(){this.index=this.zs=void 0;};d.prototype.da=function(n){this.enabled && n < this.Qn.length && (this.Qn[n]="x");};d.prototype.u4a=function(n){this.enabled && n < this.Qn.length && (this.Qn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Qn.join("") + "|";};m.prototype.start=function(){var n;if(this.Jlb){n=this;this.on=!0;this.Sg=setTimeout(function(){n.on=!1;n.Sg=void 0;},this.Sj);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.Sg);this.Sg=void 0;};Object.defineProperties(l.prototype,{yka:{get:function(){return this.yp;}},Btb:{get:function(){return !this.YS.on;}}});l.prototype.MS=function(){this.WF.enabled && this.Ja.debug("Buffer: " + this.WF.toString());};l.prototype.Oob=function(n){this.MF+=n;this.Ja.debug("Reserved buffer size is",this.Ev + this.MF,"after reserving",n);};l.prototype.xpb=function(n){this.MF-=n;this.Ja.debug("Reserved buffer size is",this.Ev + this.MF,"after unreserving",n);};l.prototype.elb=function(n){this.Ev+=n;this.Ja.debug("Buffer size is",this.Ev,"after claiming",n);};l.prototype.AOa=function(n){this.Ev-=n;this.Ja.debug("Buffer size is",this.Ev,"after clearing",n);};l.prototype.KUb=function(n,q){var p;this.AOa(n);p=this;q && this.WF.enabled && (q.forEach(function(v){p.WF.u4a(v.index);}),this.MS());};l.prototype.dwa=function(n){var q;q=this.Vlb(n);return k.a_a(q) && k.mZb(n,q);};l.prototype.VWb=function(n){var q;q=this.kNa(n);(!q || q.index) !== (!this.yp || this.yp.index) && (this.GF=this.yp.zs,q?(this.yF && this.Ja.debug("Current sidx is index",q.index),this.yp=q):(this.yF && this.Ja.debug("Current sidx is out of range"),this.yp.reset()));this.GF && "number" === typeof this.GF.index && (n < this.GF.Uw - 35E3 || n > this.GF.Dq + 35E3) && (this.vfa(this.GF.index),this.GF=void 0,this.MS());};l.prototype.LA=function(n,q){var p,v;p=this.Ei && this.Ei.length;for(q;q < p;q++){(v=this.Ei[q]) && ((v.endTime || v.Dq) >= n - 1E4 && (v.endTime || v.Dq) < n + 3E5 || this.vfa(q));}this.YS.stop();this.MS();};l.prototype.Qqb=function(){var n,q;this.Ja.debug("executing aggressive cleanup");n=this.Ei && this.Ei.length;for(q=0;q < n;q++){q === this.yp.index && (q+=2);this.vfa(q);}this.YS.stop();this.MS();};l.prototype.TGb=function(n){var q,p,v,t;q=[];p=this.kNa(n);if(!p)return (this.yp.reset(),q);this.yp=p;v=n + 1E4;p=p.index;t=this.Ei[p];p;for(t;p < this.Ei.length && v > t.Uw;(p++,t=this.Ei[p])){k.a_a(t) && k.nZb(n,v,t) && q.push(t);}return q;};l.prototype.CUa=function(n,q){var p,v,t,u,w,x;if(!n || !n.length)return (q && q(null),!0);this.qo.SS && 2 <= Object.keys(this.qo.SS).length && !this.YS.on && (this.Ja.debug("Enabling buffering quiet period"),this.YS.start());p=this;v=n[0];t=n[n.length - 1];if(0 < v.entries.length)(u=v.entries[0].hH,w=v.entries[v.entries.length - 1]);0 < t.entries.length && (k.Uc(u) || (u=t.entries[0].hH),w=t.entries[t.entries.length - 1]);if(u)x=w.hH + w.Roa - u;else return (q && q(null),!0);v=k.ena(u,x);if(this.qo.SS[v])(this.Ja.debug("The request for",v,"is already pending. Not requesting again"),q && q());else if(this.omb(k.Sna(n)))(this.Ja.debug("Reserving",x,"bytes for subtitle request",n[0].Uw,n[n.length - 1].Dq),this.Oob(x),this.qo.pAb(n,u,x,function(y,z){p.Ja.debug("Claiming reserved space.  Expected",x,"received",z);p.WF.enabled && (n.forEach(function(A){p.WF.da(A.index);}),p.MS());p.xpb(x);p.elb(z);q && q(y);}));else return (this.Ja.debug("Not enough space in buffer to download all of the imaages in the list"),q && q(),!1);return !0;};l.prototype.Wna=function(n,q){var p,v,t;p=this.pr;v=this.jNa(n,q,this.Ei);if(!v || 0 === v.length)return [];t=[];q=c.bind(null,n,q);for(var u=0;u < v.length;u++){n=v[u];t=t.concat(n.entries.filter(q));}t=t.map(function(w){return k.oka(w,null,p);});return k.HSa(t);};l.prototype.UGb=function(n,q,p){return this.jNa(n,q.endTime,q.Qn,p,!0);};l.prototype.jNa=function(n,q,p,v,t){var u,w,x,y;if(q && n > q || 0 > n)this.Ja.error("invalid range startPts: " + n + ", endPts: " + q);else {u=p && p.length || 0;w=[];if(p && 0 !== u){x=p[0].duration;y=p[0].Uw;if(k.Uc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.yF && this.Ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < u && (y=p[x],!k.jAb(y,n));x++){;}for(;x < u && (!v || w.length < v);){y=p[x];if(!t || !y.images.length && y.endTime > n)w.push(y);else if(w.length)break;if(q && q <= y.Dq)break;x++;}return w;}}};l.prototype.Vlb=function(n){var q,p,t;q=this.Ei;if(q && 0 !== q.length){p=q[Math.floor(n / 6E4)];if(p && (p.Uw > n || n > p.Dq))a:{this.Klb || (this.Klb=!0,p=k.GFb(this.pr.language),this.Ja.error("bruteforce search for ",{movieId:this.pr.J,packageId:this.pr.Uo,lang:p}));p=q.length;for(var v=0;v < p;v++){t=q[v];if(t.Uw <= n && n <= t.Dq){p=t;break a;}}p=void 0;}return p;}};l.prototype.kNa=function(n){var q,p,v,t,u,w,x,y;q=this.yp;p=q.zs;v=q.index;t=this.Ei;this.Cfa(k.Uc(n));if(p)if(p.entries.length){if(0 === v && n <= p.startTime || n >= p.startTime && n <= p.endTime)(u=!0,w=q);else {if(0 < v){x=t[v - 1];f(n,x,p) && (u=!0,w=q);}}}else {x=t[v - 1];y=t[v + 1];f(n,x,p)?(u=!0,w=q):y && y.endTime && n <= y.endTime && (n >= p.endTime || n >= p.Dq) && (u=!0,w=new h(y,v + 1));}if(!u)for((q=t.length,p=0);p < q;p++){if((v=t[p],v.entries.length && n <= v.endTime)){w=new h(v,p);break;}}return w;};l.prototype.omb=function(n){return this.Ev + this.MF + n <= this.Qmb;};l.prototype.vfa=function(n){var q,p,v;q=this.Ei[n];p=q && q.images && q.images.length || 0;if(0 < p){v=k.Sna([q]);q.images=[];this.WF.u4a(n);this.AOa(v);this.yF && this.Ja.debug("cleaning up space from sidx",{index:n,start:q.startTime,size:v,images:p,Cac:this.Ev});}};l.prototype.Cfa=function(n){this.yF && k.assert(n,this.Ja);};r.exports=l;},function(r,b,a){var f,l;function c(m){this.tl=m.url;this.KF=m.request;this.HF=m.Dd || 0;this.yF=m.pf;this.Ja=m.sa;this.SS={};}f=a(279);l=a(159);c.prototype.pAb=function(m,d,h,g){this.SS[l.ena(d,h)]=!0;m && m.forEach(function(k){k.i7a=!0;});this.KF({url:this.tl,offset:d,size:h},this.Pnb.bind(this,m,d,h,g));};c.prototype.Pnb=function(m,d,h,g,k,n){var q,p,v,t;q=this;p=l.ena(d,h);setTimeout(function(){delete q.SS[p];},1E3);if(k)(g && g(k,0),m && m.forEach(function(u){delete u.i7a;}));else {v=new f(n);t=0;m && m.forEach(function(u){delete u.i7a;u.entries.forEach(function(w,x){v.position=w.hH - d;w={data:v.Lh(w.Roa)};u.images[x]=w;l.C1b(u.images[x].data,q.Cfa.bind(q));t+=u.images[x].data.length;});});g && g(null,t);}};c.prototype.Cfa=function(m){this.yF && l.assert(m,this.Ja);};r.exports=c;},function(r){function b(a,c,f,l){this.Ja=l;this.id=a;this.startTime=c && c.xc || 0;this.endTime=c && c.Nc;this.x3a=c && c.next || [];this.c8a;this.eX=[];this.wN=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < f.length;d++){(l=f[d]) && (!c || c > l.Uw) && a < l.Dq && (l.qJb(),m.push(l));}this.Qn=m;}b.prototype.XRa=function(){this.Ja.debug("Cleaning up segment",this.id);for(var a,c=0,f,l=[],m=0;m < this.Qn.length;m++){a=this.Qn[m];(f=a.$yb()) && l.push(a);a && (c+=f);}this.Qn=[];return {size:c,Qn:l};};r.exports=b;},function(r,b,a){var m;function c(d,h){return h.reduce(f.bind(this,d),[]);}function f(d,h,g){var k,n;k=g.displayTime - d;d=g.displayTime + g.duration - d;n=0 < h.length?h[0].timeout:Infinity;return 0 < k && k < n?[l("showsubtitle",g,k)]:k === n?h.concat([l("showsubtitle",g,k)]):0 < d && d < n?[l("removesubtitle",g,d)]:d === n?h.concat([l("removesubtitle",g,d)]):h;}function l(d,h,g){return {timeout:g,type:d,entry:h};}m=a(113).EventEmitter;b=a(1075)({});a=function p(h,g,k,n,q){if(!(this instanceof p))return new p(h,g,k,n,q);m.call(this);this.fy=h;this.emb=g;this.Cmb=k;this.py={};this.QF={};this.Ja=n || console;this.gS=!1;this.wob=q && q.Wta || 0;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){clearTimeout(this.Sg);this.OUb();};a.prototype.OUb=function(){var h;h=this;Object.keys(h.py).forEach(function(g){h.emit("removesubtitle",h.py[g]);});h.py={};h.QF={};};a.prototype.pause=function(){this.gS || clearTimeout(this.Sg);};a.prototype.Is=function(h,g){var k,n;k=this;n=k.fy();clearTimeout(this.Sg);h=k.emb(n);null !== h && k.gS && (k.gS=!1,this.Ja.info("bufferingComplete"),k.emit("bufferingComplete"),this.Cmb())?this.Ja.info("bufferingComplete while paused, no longer scheduling internal pts events"):(g="number" === typeof g?g:0,Object.keys(k.py).forEach(function(q){q=k.py[q];q.displayTime - k.wob <= n && n < q.displayTime + q.duration || (delete k.py[q.id],k.emit("removesubtitle",q));}),Object.keys(k.QF).forEach(function(q){q=k.QF[q];n >= q.displayTime + q.duration && delete k.QF[q.id];}),null !== h && 0 < h.length?(g=h.length,k.Ja.info("found " + g + " entries for pts " + n),h.forEach(function(q){q.displayTime - 0 <= n && n < q.displayTime + q.duration && !k.py[q.id] && (k.emit("showsubtitle",q),k.py[q.id]=q,delete k.QF[q.id]);}),g=h[h.length - 1],k.py[g.id] || k.QF[g.id] || (k.emit("stagesubtitle",g),k.QF[g.id]=g),g=c(n,h),0 < g.length?k.y2(g[0].timeout):k.y2(2E4)):null === h?(h=250 * Math.pow(2,g),2E3 < h && (h=2E3),k.Ja.warn("checking buffer again in " + h + "ms"),k.gS || (k.gS=!0,k.emit("underflow")),k.y2(h,g + 1)):k.y2(2E4));};a.prototype.y2=function(h,g){var k;k=this;k.Ja.info("Scheduling pts check.");k.Sg=setTimeout(function(){k.Is(k.fy(),g);},h);};r.exports=b(["function","function","function","object","object"],a);},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,h;function c(g,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + g + "' but found '" + k + "'"));}function f(g,k,n){var q;q=d[g];"undefined" !== typeof q?q(k) || c(g,k,n):g !== typeof k && c(g,k,n);}function l(g,k){var n;n=g.filter(function(q){return "object" !== typeof q && -1 === h.indexOf(q);});n=n.concat(g.filter(function(q){return "object" === typeof q;}).reduce(function(q,p){return q.concat(Object.keys(p).map(function(v){return p[v];}).filter(function(v){return -1 === h.indexOf(v);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var q;q=Array.prototype.slice.call(arguments);if(q.length !== g.length)throw new TypeError("Types: unexpected number of arguments");g.forEach(function(p,v){var t;t=q[v];if("string" === typeof p)f(p,t,{index:v});else if("object" === typeof p)Object.keys(p).forEach(function(u){f(p[u],t[u],{key:u});});else throw Error("Types: unexpected type in type array");});return k.apply(this,q);};}m=("number boolean string object function symbol").split(" ");d={array:function(g){return Array.isArray(g);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(g){if("undefined" !== typeof d[g] || -1 < m.indexOf(g))throw new TypeError("Types: attempting to override a built in type with " + g);d[g]=a[g];});}h=Object.keys(d).concat(m);return l(["array","function"],l);};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.AD=void 0;r=a(0);c=a(470);f=a(1077);l=a(156);b.AD=new r.pd(function(m){m(c.qda).to(f.rGa).aa();m(l.vR).wZ(function(d){return function(){return d.$a.get(c.qda).LOb;};});});},function(r,b,a){function c(){var f;f=this;this.ready=!1;this.LOb=new Promise(function(l){f.FVb=l;});}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;r=a(1);a=a(0);c.prototype.MOb=function(f){this.ready || (this.FVb(f),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};a=r.__decorate([a.R()],c);b.rGa=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.gk=void 0;r=a(0);c=a(91);f=a(471);l=a(1079);m=a(473);d=a(1080);b.gk=new r.pd(function(h){h(c.xx).uf(function(){return function(){return nb._cad_global.device;};});h(m.hBa).to(d.gBa).aa();h(f.eBa).to(l.dBa).aa();});},function(r,b,a){var f,l,m,d,h,g;function c(k,n){this.ya=k;this.cua=n;}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;r=a(1);f=a(38);l=a(4);m=a(140);d=a(472);h=a(56);a=a(0);c.prototype.IDb=function(){for(var k="",n=this.ya.ef.da(l.ja),q=6;q--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.cua.n6a(new d.sea(0,31,h.X3a))];}return k;};g=c;g=r.__decorate([a.R(),r.__param(0,a.l(f.Sh)),r.__param(1,a.l(m.$0))],g);b.dBa=g;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t;function c(u,w,x,y,z,A,B,D,E){this.Kzb=u;this.Tn=w;this.ib=y;this.ska=z;this.Rc=A;this.debug=B;this.x1b=D;this.zRb=E;this.PBa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.hb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(1);f=a(3);l=a(27);m=a(1081);d=a(7);h=a(471);g=a(36);k=a(96);n=a(29);q=a(0);p=a(79);v=a(474);a=a(475);c.prototype.GVa=function(u){try{return u.match(this.PBa)[2];}catch(w){}};c.prototype.IVa=function(u){try{return u.match(this.PBa)[1];}catch(w){}};c.prototype.create=function(u){var w;w=this;return new Promise(function(x,y){w.Tn.create().then(function(z){var B,D,E,F,C,G;function A(J){w.ib.gn(J) && w.ib.gn(B)?(D=new m.fBa(J,B,void 0,E,u.zU || "cadmium"),x(D)):y({na:f.L.MAa});}B=u.Do;if(u.bna){E="bind_device";w.zRb.ng(w.log,{}).then(function(J){A(J.esn);}).catch(function(J){y(J);});}else if(u.LM){C=u.Tk;if(w.ib.gn(C)){G=w.IVa(C);G != u.Do && w.log.error("esn prefix from ui is different",{ui:G,cad:u.Do,ua:u.userAgent});}else u.zqa && w.log.error("esn from ui is missing");!u.mJ && w.ib.gn(C)?(E="config",A(C)):z.load(u.eUa).then(function(J){F=J.value;w.ib.gn(F) && (!1,w.ib.gn(C)?(J=w.GVa(C),E=J === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):E="storage_esn_not_in_config",A(B + F));}).catch(function(J){var M;function K(){z.save(u.eUa,M,!1).then(function(){A(B + M);}).catch(function(R){y(R);});}function I(){M=w.Kzb.IDb();!1;K();}if(J.na === f.L.BB){if(w.ib.gn(u.Tk)){M=w.GVa(u.Tk);w.ib.gn(M)?(E="config_since_not_in_storage",K()):(E="generated_since_invalid_in_config_and_not_in_storage",w.log.error("invalid esn passed from UI",u.Tk),I());}else (E="generated_since_not_in_config_and_storage",I());}else y(J);});}else u.Lzb && w.ska && w.ska.getKeyByName?w.ska.getKeyByName(u.Wrb).then(function(J){J=J.id;if(w.ib.Hp(J))(J=String.fromCharCode.apply(void 0,w.Rc.decode(J)),w.debug.assert("" != J),B=w.IVa(J),A(J));else throw "ESN from getKeyByName is not a string";}).catch(function(J){y({na:f.L.LAa,ub:w.x1b.vd(J)});}):A();}).catch(function(z){y(z);});});};t=c;t=r.__decorate([q.R(),r.__param(0,q.l(h.eBa)),r.__param(1,q.l(p.hB)),r.__param(2,q.l(d.qb)),r.__param(3,q.l(l.ag)),r.__param(4,q.l(v.FAa)),r.__param(5,q.l(g.zi)),r.__param(6,q.l(k.nv)),r.__param(7,q.l(n.bg)),r.__param(8,q.l(a.oHa))],t);b.gBa=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;b.fBa=function(a,c,f,l){this.Tk=a;this.Do=c;this.Z4=l;};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G;Object.defineProperty(b,"__esModule",{value:!0});b.u1a=void 0;r=a(0);c=a(156);f=a(1083);l=a(1084);m=a(1085);d=a(1086);h=a(1087);g=a(13);k=a(1088);n=a(1089);q=a(1090);p=a(48);v=a(91);t=a(480);u=a(477);w=a(476);x=a(89);y=a(280);z=a(49);A=a(179);B=a(1091);D=a(482);E=a(483);F=a(1094);C=a(484);G=a(1095);b.u1a=new r.pd(function(J){J(z.Rm).to(l.QEa).aa();J(u.kGa).to(m.jGa).aa();J(w.eFa).to(d.dFa).aa();J(y.aFa).to(h.$Ea).aa();J(z.Sca).to(k.PEa).aa();J(x.Gx).to(n.XEa).aa();J(y.ZEa).to(q.YEa).aa();J(A.kR).to(B.jR).aa();J(A.Vca).to(F.bFa).aa();J(C.nR).to(G.mR).aa();J(D.oBa).to(E.nBa).aa();J(t.Dya).to(f.Cya).aa();J(z.REa).wZ(function(K){return function(){return K.$a.get(c.vR)().then(function(I){return new Promise(function(M){var H,Q,N;function R(){Q() && N() && I.YW?M(K.$a.get(z.Rm)):H.Ml(R);}H=K.$a.get(p.Pj);Q=K.$a.get(g.Xc);N=K.$a.get(v.xx);H.Ml(R);});});};});});},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v){var t;t=this;this.EMb=n;this.Wz=q;this.config=v;this.uua=[];this.EMb.b$(f.Wbb,this.LHb.bind(this));p().then(function(u){var w;w=v().Ir.jDb;t.oNb=w?k.Mj[w.toUpperCase()]:k.Mj.Lf;t.Uf=u;t.GWb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Cya=void 0;r=a(1);l=a(0);m=a(13);d=a(112);h=a(49);g=a(89);k=a(7);c.prototype.LHb=function(n,q){this.Uf?this.k6a(n,q):this.uua.push([n,q]);};c.prototype.GWb=function(){var n,q;n=this;q=this.uua;this.uua=[];q.forEach(function(p){n.k6a(p[0],p[1]);});};c.prototype.k6a=function(n,q){var p;if(this.Uf && this.SXb(n)){p={debugMessage:n.message,debugCategory:n.yo};n.bc.forEach(function(v){return p=Object.assign(Object.assign({},p),v.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});n=this.Wz.Ft("debug",k.Mj[n.level].toLowerCase(),p,q);this.Uf.Ec(n);}};c.prototype.SXb=function(n){var q;q=this.oNb;return void 0 !== q && n.level <= q && !n.bc.find(function(p){return p.UU(k.CQ);});};a=f=c;a.Wbb="adaptorAll";a=f=r.__decorate([l.R(),r.__param(0,l.l(d.UJ)),r.__param(1,l.l(g.Gx)),r.__param(2,l.l(h.REa)),r.__param(3,l.l(m.Xc))],a);b.Cya=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u,w,x,y,z,A){this.config=t;this.json=u;this.Lc=w;this.uMb=x;this.NW=z;this.Dka=A;this.p7=this.Bn=!1;this.listeners=[];l.Po(this,"json");this.sa=y.hb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;r=a(1);f=a(0);l=a(56);m=a(39);d=a(476);h=a(48);g=a(7);k=a(49);n=a(477);q=a(3);p=a(97);a(186);v=a(271);c.prototype.xb=function(){this.Bn=!0;};c.prototype.Ec=function(t){var u;u=this;this.ZXb(t) || (!1,0 < t.size.yl(this.config.lNb)?this.sa.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(w){return w.YNb(t);}),!1,this.NW.Iha(t),this.Lc.Ml(function(){u.VCb();})));};c.prototype.flush=function(t){var u;u=this;t=void 0 === t?!1:t;return this.p7?(this.sa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,x){u.sa.trace("Flushing",g.CQ);u.Bs();u.Lc.Ml(function(){u.Dva(t).then(function(){w();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Dva=function(t){var u,w;u=this;t=void 0 === t?!1:t;if(!this.Bn)return (this.sa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.p7)return (this.sa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.NW.iEb();if(0 === w.length && !t)return (this.sa.trace("No logblobs to send"),Promise.resolve());!1;this.Bs();this.listeners.forEach(function(){});t=Promise.resolve();for(var x={},y=ba(w),z=y.next();!z.done;(x={Xaa:x.Xaa},z=y.next())){x.Xaa=z.value;t=t.then((function(A){return function(){return u.CWb(A.Xaa);};})(x));}return t.then(function(){return u.JG();}).catch(function(A){w.filter(function(B){return !B.Nz;}).forEach(function(B){return B.Ot();});u.JG();throw Error("Send failure. " + A);});};c.prototype.CWb=function(t){var u;u=this;this.sa.trace("Sending batch: " + t.size,g.CQ);return Promise.resolve(this.NW.PUb(t)).then(function(){return u.uMb.send(t.DH);}).then(function(){return t.AP();}).catch(function(w){u.sa.warn("Failed to send batch of logblobs.",w,g.CQ);t.Ot();u.PXb(w) && u.NW.Zpb(t);u.$Xb(w) && (u.p7=!0);throw w;});};c.prototype.PXb=function(t){return t.Jd === q.s0.jHa?!1:this.config.Fha;};c.prototype.$Xb=function(t){return t.zc === q.L.GCa || t.zc === q.L.$Q || t.zc === q.L.dR?!0:!1;};c.prototype.VCb=function(){var t;t=this;0 < this.NW.size.yl(this.config.l2a)?this.Dva().catch(function(u){return t.sa.warn("Failed to send log messages on size threshold. " + u);}):this.JG();};c.prototype.Bs=function(){this.D7 && (!1,this.D7.cancel(),this.D7=void 0);};c.prototype.JG=function(){this.D7 || (!1,this.D7=this.Lc.zk(this.config.DWb,this.kO.bind(this)));};c.prototype.kO=function(){var t;t=this;this.p7=!1;this.Bs();this.Dva().catch(function(u){return t.sa.warn("Failed to send log messages on timer. " + u);});};c.prototype.stringify=function(t){var u;u="";try{u=this.json.stringify(t.data,void 0,"  ");}catch(w){}return u;};c.prototype.ZXb=function(t){return 0 <= this.config.$8a.indexOf(t.type)?!0:t.type === v.ad.debug?0 <= this.config.Z8a.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Sca)),r.__param(1,f.l(m.IE)),r.__param(2,f.l(h.Pj)),r.__param(3,f.l(d.eFa)),r.__param(4,f.l(g.qb)),r.__param(5,f.l(n.kGa)),r.__param(6,f.l(p.T_))],a);b.QEa=a;},function(r,b,a){var l,m,d,h,g,k,n;function c(q){this.jL=d.Gb;this.yga=[];this.GS=this.c2=!1;q && (this.jL=q.size,this.yga=q.DH);}function f(q,p,v,t){this.ZNb=q;this.config=p;this.Vf=v;this.json=t;m.Po(this,"json");this.sa=this.Vf.hb("MessageQueue");this.xt=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;r=a(1);l=a(0);m=a(56);d=a(52);h=a(280);g=a(7);k=a(39);a=a(49);f.prototype.Iha=function(q){var p,v;0 === this.xt.length && this.xt.push(this.gna());if(q=this.KGb(q)){p=this.ZNb.measure([q]);v=this.xt[this.xt.length - 1];0 < v.size.add(p).yl(this.config.l2a) && (v=this.gna(),this.xt.push(v));v.Iha(q);}};f.prototype.iEb=function(){var q;q=this.xt.filter(function(p){return p.Gtb;});this.xt.push(this.gna());q.forEach(function(p){return p.$Mb();});return q;};f.prototype.Zpb=function(q){q.Nz || this.xt.unshift(new c(q));};f.prototype.PUb=function(q){q=this.xt.indexOf(q);0 <= q && this.xt.splice(q,1);};f.prototype.KGb=function(q){try{return {data:this.json.parse(this.json.stringify(q.data)),severity:q.severity,size:q.size,timestamp:q.timestamp,type:q.type};}catch(t){var p,v;p={};q=q.data;v=q.debugMessage;v && "string" === typeof v && (p.originalDebugMessage=v);(q=q.debugCategory) && "string" === typeof q && (p.originalDebugCategory=q);this.sa.error("JSON.stringify error: " + t.message,p);}};f.prototype.gna=function(){return new c();};Xa.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.xt.reduce(function(q,p){return q.add(p.size);},d.Gb);}}});n=f;n=r.__decorate([l.R(),r.__param(0,l.l(h.aFa)),r.__param(1,l.l(a.Sca)),r.__param(2,l.l(g.qb)),r.__param(3,l.l(k.IE))],n);b.jGa=n;c.prototype.AP=function(){this.c2=!1;this.GS=!0;};c.prototype.Ot=function(){this.c2=!1;};c.prototype.Iha=function(q){this.yga.push(q);this.jL=this.jL.add(q.size);};c.prototype.$Mb=function(){this.c2=!0;};Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.jL;}},DH:{configurable:!0,enumerable:!0,get:function(){return this.yga;}},Gtb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.DH.length && !1 === this.c2;}},Nz:{configurable:!0,enumerable:!0,get:function(){return this.GS;}}});},function(r,b,a){var l,m,d,h,g,k,n,q,p,v,t;function c(u,w,x,y,z,A,B,D){this.za=u;this.platform=x;this.gk=y;this.json=z;this.$d=A;this.sh=B;this.CMb=D;m.Po(this,"json");this.sa=w.hb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;r=a(1);l=a(0);m=a(56);d=a(39);h=a(4);g=a(29);k=a(18);n=a(34);q=a(91);p=a(7);v=a(478);a=a(66);c.prototype.send=function(u){var w;w=this;return new Promise(function(x,y){var z;try{z=u.reduce(function(A,B){A.entries.push(w.Pxb(B));return A;},new f());x(w.LDb(z));}catch(A){w.sa.error(A.message);y(A);}}).then(function(x){return w.Gva(x);});};c.prototype.Pxb=function(u){return this.$d.HH(this.$d.HH({},u.data),{esn:this.gk().Tk,sev:u.severity,type:u.type,lver:this.platform.Eqa,jssid:this.za.id,devmod:this.platform.dz,jsoffms:u.timestamp.Qa(this.za.Tz).da(h.ja),clienttime:u.timestamp.da(h.ja),client_utc:u.timestamp.da(h.eo),uiver:this.sh.WA});};c.prototype.LDb=function(u){var w;w=this;try{return this.json.stringify(u);}catch(z){for(var x={},y=0;y < u.entries.length;(x={cQ:x.cQ,gv:x.gv},++y)){x.gv=Object.assign({},u.entries[y]);try{this.json.stringify(x.gv);}catch(A){x.cQ=void 0;this.$d.GC(x.gv,(function(B){return function(D,E){try{w.json.stringify(E);}catch(F){B.cQ=F.message;B.gv[D]=B.cQ;}};})(x));x.gv.stringifyException=x.cQ;x.gv.originalType=x.gv.type;x.gv.type="debug";x.gv.sev="error";}}return this.json.stringify(u);}};c.prototype.Gva=function(u){var w;w=this;return this.CMb.ng(this.sa,{logblobs:u}).then(function(){!1;}).catch(function(x){w.sa.error("PBO logblob failed",x);return Promise.reject(x);});};t=c;t=r.__decorate([l.R(),r.__param(0,l.l(k.fd)),r.__param(1,l.l(p.qb)),r.__param(2,l.l(n.Gk)),r.__param(3,l.l(q.xx)),r.__param(4,l.l(d.IE)),r.__param(5,l.l(g.bg)),r.__param(6,l.l(a.Ws)),r.__param(7,l.l(v.GHa))],t);b.dFa=t;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;r=a(1);f=a(0);l=a(280);m=a(52);c.prototype.measure=function(d){var h;h=this;return d.map(function(g){return g.size.add(h.config.xMb());}).reduce(function(g,k){return g.add(k);},m.fa(0));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.ZEa))],a);b.$Ea=a;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q){n=g.Ye.call(this,n,"PboConfigImpl") || this;n.config=q;n.lNb=f.fa(5E5);n.DWb=l.E8(1);n.l2a=f.fa(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;r=a(1);f=a(52);l=a(4);m=a(0);d=a(13);h=a(45);g=a(46);a=a(37);na(c,g.Ye);Xa.Object.defineProperties(c.prototype,{Fha:{configurable:!0,enumerable:!0,get:function(){return this.config().Fha;}},$8a:{configurable:!0,enumerable:!0,get:function(){return [];}},Z8a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([h.config(h.object(),"shedLogblobTypes")],k.prototype,"$8a",null);r.__decorate([h.config(h.Ay("string"),"shedDebugTypes")],k.prototype,"Z8a",null);k=r.__decorate([m.R(),r.__param(0,m.l(a.Tl)),r.__param(1,m.l(d.Xc))],k);b.PEa=k;},function(r,b,a){var l,m,d,h,g,k,n,q,p;function c(v,t,u,w,x,y,z,A,B,D){this.platform=t;this.tka=u;this.type=w;this.severity=x;this.timestamp=y;this.za=A;this.data=z;this.data.type=w;this.data.sev=x;this.data.devmod=this.platform.dz;this.data.clver=this.platform.version;v && v.ee && (v.ee.os && (this.data.osplatform=v.ee.os.name,this.data.osver=v.ee.os.version),this.data.browsername=v.ee.name,this.data.browserver=v.ee.version);v.Ppa && (this.data.tester=!0);v.Az && !this.data.groupname && (this.data.groupname=v.Az);v.OL && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + v.OL:v.OL);v.hJ && (this.data.uigroupname=v.hJ);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.za.MFb();this.data.uniqueLogId=B.GWa();this.data.appId=this.za.id;D && (v=this.za.Wb(),this.data.soffms=v.Qa(D.vk).da(h.ja),this.data.mid=this.data.mid || D.J,this.data.lvpi=D.Dqa,this.data.uiLabel=D.xe,this.data.uxLabels=D.Iaa,w="startup" === w?"playbackxid":"xid",this.data[w]="xid" === w && this.data.xid || D.ba,D.EI && (w=D.EI,(D=D.EI.split(".")) && 1 < D.length && "S" !== D[0][0] && (w="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + w:w));}function f(v,t,u,w,x,y){this.ya=v;this.tka=t;this.config=u;this.za=w;this.z1b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;r=a(1);l=a(52);m=a(0);d=a(38);h=a(4);g=a(328);k=a(40);n=a(18);q=a(479);a=a(34);f.prototype.Ft=function(v,t,u,w){return new c(this.config,this.platform,this.tka,v,t,this.ya.ef,u,this.za,this.z1b,w);};p=f;p=r.__decorate([m.R(),r.__param(0,m.l(d.Sh)),r.__param(1,m.l(g.HAa)),r.__param(2,m.l(k.Qm)),r.__param(3,m.l(n.fd)),r.__param(4,m.l(q.LLa)),r.__param(5,m.l(a.Gk))],p);b.XEa=p;Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.vRa || (this.vRa=l.fa(this.tka.encode(this.data).length));return this.vRa;}}});},function(r,b,a){var f,l,m;function c(d){this.gk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;r=a(1);f=a(0);l=a(52);a=a(91);c.prototype.xMb=function(){var d;d=this.gk()?this.gk().Tk.length:40;return l.fa(d + 33);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.xx))],m);b.YEa=m;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E;function c(F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X){this.y$a=F;this.Uf=C;this.qra=G;this.Sla=J;this.me=K;this.J4=I;this.gf=M;this.config=R;this.Ed=H;this.ya=Q;this.za=N;this.platform=L;this.zq=P;this.Wz=S;this.Ti=U;this.Kr=da;this.FH=ka;this.tc=ma;this.vD=X;}Object.defineProperty(b,"__esModule",{value:!0});b.jR=void 0;r=a(1);f=a(438);l=a(49);m=a(29);d=a(446);h=a(275);g=a(0);k=a(179);n=a(481);q=a(482);p=a(87);v=a(13);t=a(38);u=a(18);w=a(34);x=a(89);y=a(119);z=a(161);A=a(39);B=a(40);D=a(281);a=a(70);c.prototype.create=function(F,C){return new n.lR(F,C,this.y$a,this.Uf,this.qra,this.Sla,this.me,this.J4,this.gf,this.config,this.Ed,this.ya,this.za,this.zq,this.Wz,this.Ti,this.Kr,this.FH,this.tc,this.vD);};E=c;E=r.__decorate([g.R(),r.__param(0,g.l(f.eLa)),r.__param(1,g.l(l.Rm)),r.__param(2,g.l(d.PFa)),r.__param(3,g.l(h.lca)),r.__param(4,g.l(m.bg)),r.__param(5,g.l(q.oBa)),r.__param(6,g.l(p.Fx)),r.__param(7,g.l(v.Xc)),r.__param(8,g.l(y.pF)),r.__param(9,g.l(t.Sh)),r.__param(10,g.l(u.fd)),r.__param(11,g.l(w.Gk)),r.__param(12,g.l(A.IR)),r.__param(13,g.l(x.Gx)),r.__param(14,g.l(z.eF)),r.__param(15,g.l(B.Qm)),r.__param(16,g.l(D.nda)),r.__param(17,g.l(k.Vca)),r.__param(18,g.l(a.Us))],E);b.jR=E;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mBa=void 0;c=a(52);b.mBa=function(f,l){this.rAb=f;this.size=l.Cpa()?c.Gb:l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f2a=void 0;b.f2a=function(a,c){var d,h;if(0 !== a.length){if(1 === a.length)return a[0];for(var f=a[0],l=c(f),m=1;m < a.length;m++){d=a[m];h=c(d);h > l && (f=d,l=h);}return f;}};},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v,t,u){this.platform=v;this.config=t;this.za=u;this.VLa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;r=a(1);f=a(0);l=a(47);m=a(18);d=a(3);h=a(34);g=a(4);k=a(13);n=a(24);q=a(11);p=a(160);c.prototype.oq=function(v,t,u){u && (v.adlid=u.yc,v.abitrate=u.bitrate);t && (v.vdlid=t.yc,v.vbitrate=t.bitrate);};c.prototype.h_a=function(v,t,u){u?v=Object.assign(v,p.Bna(this.platform.aq,u)):v.errorcode=d.M.Sl;v.errorcode === this.platform.aq + d.M.YGa && (v.lastSyncWithVideoElement=this.getTime() - t.jZ);};c.prototype.o_a=function(v,t){var u;Object.assign(v,p.Mna());try{u=t.getBoundingClientRect();v.rendersize=u.width + "x" + u.height;v.renderpos=u.left + "x" + u.top;}catch(w){}};c.prototype.n_a=function(v,t){var u,w,x;u=t.kc[l.Rb.Ta.Lb].value;w=t.kc[l.Rb.Ta.Ub].value;x=t.hf.value;t=t.ke.value;u && (v.cdnid=u.id,v.cdnname=u.name);w && (v.acdnid=w.id,v.acdnname=w.name);if(null === x || void 0 === x?0:x.stream)(v.adlid=x.stream.yc,v.abitrate=x.stream.bitrate);if(null === t || void 0 === t?0:t.stream)(v.vdlid=t.stream.yc,v.vbitrate=t.stream.bitrate,v.vheight=t.stream.height,v.vwidth=t.stream.width);};c.prototype.l_a=function(v,t){0 <= t.mediaTime.value && (v.moff=n.Eo(t.mediaTime.value),v.moffms=n.Rf(t.mediaTime.value));};c.prototype.e_a=function(v,t){t.Eg && (v.pbcid=t.Eg);t.Ri && (v.playbackcontextid=t.Ri);};c.prototype.Yoa=function(v){var t,u;v.browserua=q.vB;v.browseruad=null === (u=null === (t=q.jf.userAgentData) || void 0 === t?void 0:t.brands) || void 0 === u?void 0:u.map(function(w){return [w.brand,w.version];});v.browserhref=location.href;(t=q.jf && q.jf.connection && q.jf.connection.type) && (v.nettype=t);};c.prototype.pN=function(v){var t,u,w,x,y;if(this.config().oBb){y=null === (t=null === q.jf || void 0 === q.jf?void 0:q.jf.connection) || void 0 === t?void 0:t.effectiveType;t=null === q.jf || void 0 === q.jf?void 0:q.jf.deviceMemory;y && (v.effectiveType=y);t && (v.deviceMemory=t);}(y=null === (u=null === q.jf || void 0 === q.jf?void 0:q.jf.connection) || void 0 === u?void 0:u.type) && (v.connectionType=y);u=null === (w=null === q.jf || void 0 === q.jf?void 0:q.jf.connection) || void 0 === w?void 0:w.downlink;"number" === typeof u && isFinite(u) && (v.downlink=u);w=null === (x=null === q.jf || void 0 === q.jf?void 0:q.jf.connection) || void 0 === x?void 0:x.rtt;"number" === typeof w && isFinite(w) && (v.rtt=w);};c.prototype.R6=function(v,t){if(t=t.bb.Gm)(t.isUIAutoPlay && (v.isUIAutoPlay=!0),t.clLogId && (v.cl_log_id=t.clLogId));};c.prototype.qN=function(v,t){var u,w,x,y;u=this;if(t=t && t.streams){w=new Set();x=new Set();y=new Set();t.forEach(function(z){z=z.ih;w.add(z);x.add(z.replace(u.VLa,""));(z=z.match(u.VLa)) && 0 < z.length && y.add(z[1]);});v.videoProfiles=[].concat(ea(w));v.videoProfile=0 === x.size?"none":[].concat(ea(x))[0];v.videoProfileLevels=[].concat(ea(y));}};c.prototype.b_a=function(v,t){var u;if(t=t && t.streams){u={};t.forEach(function(w){u[w.ih]=void 0;});v.audioProfiles=Object.keys(u);}};c.prototype.f_a=function(v){v.configversion=this.config().version;this.config().endpoint || (v.configendpoint="error");};c.prototype.getTime=function(){return this.za.Wb().da(g.ja);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(h.Gk)),r.__param(1,f.l(k.Xc)),r.__param(2,f.l(m.fd))],a);b.bFa=a;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v,t){this.Uf=n;this.config=q;this.ya=p;this.za=v;this.Fqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.mR=void 0;r=a(1);f=a(49);l=a(0);m=a(179);d=a(13);h=a(38);g=a(18);k=a(1096);c.prototype.create=function(n,q,p){var v;v=this.Fqa.create(n,q);return new k.oR(n,q,p,this.Uf,this.config,this.za,v);};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(f.Rm)),r.__param(1,l.l(d.Xc)),r.__param(2,l.l(h.Sh)),r.__param(3,l.l(g.fd)),r.__param(4,l.l(m.kR))],a);b.mR=a;},function(r,b,a){var f,l,m,d,h;function c(g,k,n,q,p,v,t){var u;u=this;this.j=g;this.va=k;this.Uf=q;this.config=p;this.za=v;this.jb=t;this.Uz=function(w,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === u.J && w(y);};};this.R1a=this.Uz(function(w){u.Q$(w.m7);},function(w){return w.J;});this.P1a=this.Uz(function(){u.$T();},function(w){return w.J;});this.jSa=this.Uz(function(){u.$T();},function(w){return w.movieId;});this.rja=this.Uz(function(){u.j.yb.value === h.cb.Hc && (u.j.yb.removeListener(u.rja),u.Bq());},function(){return u.j.J;});this.SA=function(w){u.sA && u.jb.SA(w);};this.oSa=this.Uz(this.jb.Tub,function(w){return w.J;});this.zUa=this.Uz(this.jb.lAb,function(w){return w.J;});this.n1a=this.Uz(this.jb.Vz,function(w){return u.j.rm(w.segmentId).J;});this.k8a=this.Uz(this.jb.FY,function(w){return u.j.rm(w.segmentId).J;});this.nUa=this.Uz(this.jb.dla,function(w){return w.J;});this.wk=function(w){w.skip && (u.Sn=!0);switch(w.cause){case h.Be.zB:case h.Be.SR:u.qs && u.jp && u.jb.kta(u.getTime() - u.jp,u.qs);u.qs="repos";u.jb.MO(w.zsa,w.hf,w.ke);u.jp=u.getTime();d.Qf(u.dw);break;case h.Be.b0:(u.qs="force_rebuffer",u.jp=u.getTime(),d.Qf(u.dw));}};this.dm=function(w){u.Rz=w.oldValue;u.jb.dm(w);};this.dw=function(){var w;if(u.jp && u.j.yb.value !== h.cb.Of){w=u.getTime() - u.jp;u.jb.WO(w,u.Sn,u.qs);u.Rz && u.Rz != u.j.ic.value && u.jb.ria();u.jp=void 0;u.qs=void 0;u.Sn=void 0;}};this.Bq=function(){u.sA || (u.sA=!0,u.jb.dE(!1),u.epa(),u.config().Y6 && (u.Kz=nb.setTimeout(function(){u.Uf.flush(!1).catch(function(){return u.log.warn("failed to flush log batcher on initialLogFlushTimeout");});u.Kz=void 0;},u.config().Y6)));};this.jg=function(){u.Kz && (nb.clearTimeout(u.Kz),u.Kz=void 0);if(u.config().K4 || u.config().CL)(u.fla && (nb.clearInterval(u.fla),u.fla=void 0),u.jb.lUa());u.JZ && u.JZ();u.sA?u.jb.IG(! !u.j.hi):u.j.hi?u.jb.dE(!0):u.va.background || u.jb.lta();};this.VZ=function(w){w.oldValue && w.km && w.km.kG && u.jb.SL(w.oldValue,w.newValue,w.km.kG,w.km.LT);};this.NX=function(w){var x;if(w.newValue){x=w.newValue.stream;u.vH != x && (u.vH && u.jb.Jua(u.vH,x,w.newValue.fm.startTime),u.vH=x);}};this.J=k.J;this.log=l.Ih(g,"LogblobBuilder");this.xb();n && this.Q$();}Object.defineProperty(b,"__esModule",{value:!0});b.oR=void 0;f=a(12);l=a(8);m=a(4);d=a(61);h=a(15);c.prototype.xb=function(){this.j.addEventListener(h.ca.yH,this.R1a);this.j.addEventListener(h.ca.Vqa,this.P1a);this.j.addEventListener(h.ca.Vz,this.n1a);this.j.addEventListener(h.ca.FY,this.k8a);this.j.addEventListener(h.ca.jg,this.jSa);this.j.addEventListener(h.ca.DG,this.nUa,f.N0);if(this.config().K4 || this.config().CL)(this.j.addEventListener(h.ca.DG,this.zUa),this.fla=nb.setInterval(this.jb.lUa,this.config().qAb));this.config().Pua && this.j.addEventListener(h.ca.DG,this.oSa);};c.prototype.Q$=function(g){var k;k=this;this.e3a || (this.j.yb.value !== h.cb.Hc || (void 0 === g?0:g)?this.j.yb.addListener(this.rja):this.Bq(),this.j.ai.addListener(this.SA),this.j.cc.addListener(this.jb.Ol),this.j.ic.addListener(this.dm),this.j.hh.addListener(this.jb.FT),this.j.paused.addListener(this.jb.v9),this.j.ke.addListener(this.NX),this.j.yb.addListener(this.dw),this.j.yb.addListener(this.jb.V$a),this.j.Ve.addListener(this.VZ),this.j.playbackRate.addListener(this.jb.UY),this.j.addEventListener(h.ca.ci,this.jb.ci),this.j.addEventListener(h.ca.BL,this.jb.BL),this.j.addEventListener(h.ca.zP,this.jb.zP),this.j.addEventListener(h.ca.Hy,function(n){k.qs="rebuffer";k.jb.Hy(n);k.jp=k.getTime();d.Qf(k.dw);}),this.j.addEventListener(h.ca.wk,this.wk),this.j.addEventListener(h.ca.EP,this.jb.EP),this.va.Mp && this.va.Mp.addListener(this.jb.Mp),this.e3a=!0);};c.prototype.$T=function(){this.jg();this.e3a && (this.j.removeEventListener(h.ca.yH,this.R1a),this.j.removeEventListener(h.ca.Vqa,this.P1a),this.j.removeEventListener(h.ca.Vz,this.n1a),this.j.removeEventListener(h.ca.FY,this.k8a),this.j.ai.removeListener(this.SA),this.j.cc.removeListener(this.jb.Ol),this.j.ic.removeListener(this.dm),this.j.hh.removeListener(this.jb.FT),this.j.paused.removeListener(this.jb.v9),this.j.ke.removeListener(this.NX),this.j.yb.removeListener(this.dw),this.j.yb.removeListener(this.rja),this.j.yb.removeListener(this.jb.V$a),this.j.Ve.removeListener(this.VZ),this.j.playbackRate.removeListener(this.jb.UY),this.j.removeEventListener(h.ca.DG,this.nUa),this.j.removeEventListener(h.ca.jg,this.jSa),this.j.removeEventListener(h.ca.ci,this.jb.ci),this.j.removeEventListener(h.ca.BL,this.jb.BL),this.j.removeEventListener(h.ca.zP,this.jb.zP),this.j.removeEventListener(h.ca.Hy,this.jb.Hy),this.j.removeEventListener(h.ca.wk,this.wk),this.j.removeEventListener(h.ca.EP,this.jb.EP),this.va.Mp && this.va.Mp.removeListener(this.jb.Mp),this.j.removeEventListener(h.ca.DG,this.zUa),this.j.removeEventListener(h.ca.DG,this.oSa));};c.prototype.getTime=function(){return this.za.Wb().da(m.ja);};c.prototype.epa=function(){var g,k,n;g=this;n=[];this.config().O2a && (this.config().P2a.forEach(function(q){n.push(nb.setTimeout(g.jb.wD,q));}),this.config().s8 && (k=nb.setInterval(this.jb.wD,this.config().s8)),this.JZ=function(){n.forEach(function(q){nb.clearTimeout(q);});k && nb.clearInterval(k);});};b.oR=c;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.r3a=void 0;r=a(0);c=a(1098);f=a(87);l=a(485);m=a(1099);d=a(282);h=a(486);g=a(1100);k=a(423);n=a(1104);b.r3a=new r.pd(function(q){q(l.iMa).to(c.hMa).aa();q(f.Fx).kE(function(){return nb._cad_global.http;});q(d.I0).to(m.AGa).aa();q(h.BGa).Yi(g.default);q(k.vDa).to(n.uDa).aa();});},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;r=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};a=r.__decorate([a.R()],c);b.hMa=a;},function(r,b,a){var f,l,m,d;function c(h,g,k){this.config=h;this.qMb=g;this.Ob=k;}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;r=a(1);f=a(317);l=a(0);m=a(182);a=a(486);c.prototype.ika=function(){if(this.config.cbb)return this.Ob(this.qMb());};d=c;d=r.__decorate([l.R(),r.__param(0,l.l(f.zGa)),r.__param(1,l.l(m.wGa)),r.__param(2,l.l(a.BGa))],d);b.AGa=d;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1101);f=a(1102);l=a(1103);b.default=function(m){var d;m=new c.oba(m);d=new l.Phb(m);return new f.Ohb(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.l1a=c;}a.prototype.Rva=function(c){try{this.l1a.setItem("gtp",JSON.stringify(c));}catch(f){return !1;}return !0;};a.prototype.NXa=function(){var c;try{c=this.l1a.getItem("gtp");if(c)return JSON.parse(c);}catch(f){}};a.prototype.Yt=function(){var c;c=this.NXa();if(c && c.tp)return c.tp.a;};a.prototype.AFb=function(){var c;c=this.nna();if(c)return c.p25;};a.prototype.BFb=function(){var c;c=this.nna();if(c)return c.p50;};a.prototype.CFb=function(){var c;c=this.nna();if(c)return c.p75;};a.prototype.nna=function(){var c;c=this.NXa();if(c && (c=c.iqr))return c;};return a;})();b.oba=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,f){this.Wv=c;this.fX=f;}a.prototype.Rva=function(c){return this.Wv.Rva(c);};a.prototype.Yt=function(){return this.Wv.Yt();};a.prototype.cGb=function(){return this.fX.fX();};return a;})();b.Ohb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Wv=c;}a.prototype.fX=function(){var c,f,l;c=this.Wv.AFb();f=this.Wv.BFb();l=this.Wv.CFb();if("number" === typeof c && "number" === typeof f && "number" === typeof l)return (l - c) / f;};return a;})();b.Phb=r;},function(r,b,a){var f,l,m;function c(d,h){this.gf=h;this.sa=d.hb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;r=a(1);f=a(0);l=a(7);a=a(87);c.prototype.download=function(d,h){var g;g=this;h=void 0 === h?{u2a:0}:h;return new Promise(function(k,n){var p;function q(v){if(v.$)return k(v.content);if(p === h.u2a)return n({na:v.na,ZC:v.ik});p++;!1;g.gf.download(d,q);}p=0;g.gf.download(d,q);});};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(a.Fx))],m);b.uDa=m;},function(r,b,a){var c,f,l,m,d,h,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.CWa=void 0;r=a(0);c=a(1106);f=a(1107);l=a(1108);m=a(1109);d=a(1110);h=a(487);g=a(488);k=a(167);b.CWa=new r.pd(function(n){n(k.ECa).to(c.DCa).aa();n(k.GJa).to(f.FJa).aa();n(k.EJa).to(l.DJa).aa();n(h.ACa).to(m.zCa).aa();n(g.yDa).to(d.xDa).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v,t,u,w,x){this.config=q;this.UZa=p;this.Lc=v;this.mc=t;this.jVb=u;this.Nua=w;this.aLb=0;this.sa=x.hb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;r=a(1);l=a(0);m=a(4);d=a(48);h=a(7);g=a(487);k=a(488);a=a(167);c.prototype.start=function(){this.config.enabled && !this.rs && (this.rs=this.Lc.zk(this.config.y9a,this.Yw.bind(this)));};c.prototype.stop=function(){this.rs && (this.rs.cancel(),this.rs=void 0);};c.prototype.Yw=function(){var q,p;q=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.aLb++;this.eHb(p).then(function(v){return Promise.all(v.urls.map(function(t){return q.VHb(v,t.url,t.name);})).then(function(t){0 < t.length && q.jVb.nY({data:t,context:v.context,Gqa:v.Gqa});}).then(function(){return v;});}).then(function(v){q.rs && (v.D0a?q.rs=q.Lc.zk(v.D0a,q.Yw.bind(q)):q.stop());}).catch(function(v){return q.sa.error("FTL run failed",v);});};c.prototype.eHb=function(q){var p;p=this;return this.UZa.get(q,!1).then(function(v){var t;if(200 != v.status || null == v.body)return (p.Nua.nY({url:q,status:v.status,hta:"FTL API request failed",ie:v.ie}),Promise.reject(Error("FTL API request failed: " + v.status)));t=p.mc.parse(v.body);return t instanceof Error?(p.Nua.nY({url:q,status:4,hta:"FTL Probe API JSON parsing error",ie:v.ie}),Promise.reject(t)):Promise.resolve(t);}).catch(function(v){v instanceof Error && (p.Nua.nY({url:q,status:0,hta:v.message}),p.sa.error("FTL API call failed",v.message));return Promise.reject(v);});};c.prototype.VHb=function(q,p,v){var t;t=this;return new Promise(function(u,w){var E;for(var x,y,z,A=[],B={},D=0;D < q.JTb;(B={Yaa:B.Yaa,Zaa:B.Zaa},++D)){B.Yaa=D < q.h6a.length?q.h6a[D]:m.Gb;B.Zaa="" + p + (-1 === p.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(F){return function(){return new Promise(function(C,G){t.Lc.zk(F.Yaa,function(){f.pTb(t.UZa,F.Zaa,q.ITb).then(function(J){function K(I,M,R){I || (I=R.headers[M]);return I;}x=K(x,"via",J);y=K(y,"x-ftl-probe-data",J);z=K(z,"x-ftl-error",J);C({status:J.status,ie:J.ie,L1b:x || "",tub:y || "",VU:z || ""});}).catch(function(J){G(J);});});});};})(B);A.push(0 < D?A[D - 1].then(E):E());}Promise.all(A).then(function(F){u({url:p,name:v,data:F});}).catch(function(F){w(F);});});};c.pTb=function(q,p,v){return q.get(p,!1,v).then(function(t){return Object.assign({},t);});};n=f=c;n=f=r.__decorate([l.R(),r.__param(0,l.l(a.CCa)),r.__param(1,l.l(k.yDa)),r.__param(2,l.l(d.Pj)),r.__param(3,l.l(g.ACa)),r.__param(4,l.l(a.GJa)),r.__param(5,l.l(a.EJa)),r.__param(6,l.l(h.qb))],n);b.DCa=n;},function(r,b,a){var f,l,m,d,h,g;function c(k,n){this.Uf=k;this.yra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;r=a(1);l=a(0);m=a(52);d=a(4);h=a(49);a=a(89);c.prototype.nY=function(k){var n;n={ctx:k.context,data:k.data.map(function(q){return {name:q.name,url:q.url,data:q.data.map(function(p){return f.p2b({d:p.ie.duration.da(d.ja),sc:p.status,sz:p.ie.size.da(m.mv),via:p.L1b,cip:p.tub,err:p.VU},p);})};})};k=this.yra.Ft(k.Gqa,"info",n);this.Uf.Ec(k);};c.p2b=function(k,n){f.Vv(k,"dns",n.ie.sUa);f.Vv(k,"tcp",n.ie.Xwa);f.Vv(k,"tls",n.ie.gxa);f.Vv(k,"ttfb",n.ie.cxa);return k;};c.Vv=function(k,n,q){q && (k[n]=q.da(d.ja));};g=f=c;g=f=r.__decorate([l.R(),r.__param(0,l.l(h.Rm)),r.__param(1,l.l(a.Gx))],g);b.FJa=g;},function(r,b,a){var f,l,m,d,h,g;function c(k,n){this.Uf=k;this.yra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;r=a(1);l=a(0);m=a(52);d=a(4);h=a(49);a=a(89);c.prototype.nY=function(k){k=this.yra.Ft("ftlProbeError","info",f.o2b({url:k.url,sc:k.status,pf_err:k.hta},k));this.Uf.Ec(k);};c.o2b=function(k,n){n.ie && (n=n.ie,f.Vv(k,"d",n.duration),f.Vv(k,"dns",n.sUa),f.Vv(k,"tcp",n.Xwa),f.Vv(k,"tls",n.gxa),f.Vv(k,"ttfb",n.cxa),k.sz=n.size.da(m.mv));return k;};c.Vv=function(k,n,q){q && (k[n]=q.da(d.ja));};g=f=c;g=f=r.__decorate([l.R(),r.__param(0,l.l(h.Rm)),r.__param(1,l.l(a.Gx))],g);b.DJa=g;},function(r,b,a){var f,l,m,d,h;function c(g,k){this.is=g;this.json=k;l.Po(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(1);f=a(0);l=a(56);m=a(39);d=a(4);a=a(27);c.prototype.parse=function(g){var n;g=this.json.parse(g);if(!this.is.uha(g))throw Error("FtlProbe: param: not an object");if(g.next && !this.is.oT(g.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.oT(g.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(g.pulse_delays && !this.is.zy(g.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.oT(g.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.zy(g.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.gn(g.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.yL(g.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < g.urls.length;++k){n=g.urls[k];if(!this.is.uha(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Hp(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Hp(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {JTb:g.pulses,h6a:g.pulse_delays?g.pulse_delays.map(d.Kc):[],ITb:d.Kc(g.pulse_timeout),D0a:g.next?d.Kc(g.next):void 0,urls:g.urls,Gqa:g.logblob,context:g.ctx};};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.ag)),r.__param(1,f.l(m.IE))],h);b.zCa=h;},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v,t){this.ya=p;this.r2b=v;this.performance=t;l.Po(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;r=a(1);l=a(56);m=a(1111);d=a(52);h=a(39);g=a(38);k=a(0);n=a(485);q=a(4);c.prototype.get=function(p,v,t){var u;u=this;return new Promise(function(w,x){var y,z,A;try{y=u.r2b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",p,!0);v && (y.withCredentials=!0);t && (y.timeout=t.da(q.ja));z=u.ya.ef;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=u.ya.ef.Qa(z);break;case XMLHttpRequest.DONE:B=u.ya.ef.Qa(z);B={body:y.responseText,status:y.status,headers:f.Rsa(y.getAllResponseHeaders()),ie:u.una(p,d.fa(y.responseText.length),B,A)};w(B);}};y.send();}catch(B){x(B);}});};c.Rsa=function(p){var v,u,w;v={};p=p.split("\r\n");for(var t=0;t < p.length;t++){u=p[t];w=u.indexOf(": ");0 < w && (v[u.substring(0,w).toLowerCase()]=u.substring(w + 2));}return v;};c.prototype.una=function(p,v,t,u){v={size:v,duration:t,cxa:u};if(!this.performance || !this.performance.getEntriesByName)return v;t=this.performance.getEntriesByName(p);if(0 == t.length && (t=this.performance.getEntriesByName(p + "/"),0 == t.length))return v;p=t[t.length - 1];v=m.K1a(v);p.decodedBodySize && (v.size=d.fa(p.decodedBodySize));0 < p.duration?v.duration=q.timestamp(p.duration):0 < p.startTime && 0 < p.responseEnd && (v.duration=q.timestamp(p.responseEnd - p.startTime));0 < p.requestStart && (v.sUa=q.timestamp(p.domainLookupEnd - p.domainLookupStart),v.Xwa=q.timestamp(p.connectEnd - p.connectStart),v.cxa=q.timestamp(p.responseStart - p.startTime),0 === p.secureConnectionStart?v.gxa=q.timestamp(0):void 0 !== p.secureConnectionStart && (t=p.connectEnd - p.secureConnectionStart,v.gxa=q.timestamp(t),v.Xwa=q.timestamp(p.connectEnd - p.connectStart - t)));return v;};a=f=c;a=f=r.__decorate([k.R(),r.__param(0,k.l(g.Sh)),r.__param(1,k.l(n.iMa)),r.__param(2,k.l(h.Oda)),r.__param(2,k.optional())],a);b.xDa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMb=b.K1a=b.NMb=void 0;b.NMb=function(a){return a;};b.K1a=function(a){return a;};b.PMb=function(a){return Object.assign({},a);};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.f6a=void 0;r=a(0);c=a(318);f=a(1113);l=a(187);m=a(1114);b.f6a=new r.pd(function(d){d(c.wBa).to(f.vBa).aa();d(l.iR).to(m.KEa).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v,t){this.$d=q;this.Dy=p;this.w1b=v;this.GN=t;}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;r=a(1);f=a(0);l=a(29);m=a(36);d=a(78);h=a(137);g=a(57);k=a(63);a=a(187);c.prototype.Gg=function(q){var p;p=this;return this.$d.At(q.dk[0].data[0],[8,4])?Promise.resolve({ve:[{id:"ddd",xH:"cert",xW:void 0}],oj:[{sessionId:"ddd",data:new Uint8Array(this.Dy.decode(k.ZLa))}]}):this.$d.At(q.dk[0].data[0],this.w1b.decode("certificate"))?Promise.resolve({ve:[{id:"ddd",xH:"cert",xW:void 0}],oj:[{sessionId:"ddd",data:new Uint8Array(this.Dy.decode(k.a0))}]}):this.GN.ty(this.xDb(q)).then(function(v){return p.yDb(v);});};c.prototype.release=function(q){return this.GN.release(this.BDb(q)).then(function(){});};c.prototype.xDb=function(q){var p,v;p=this;v=q.dk.map(function(t){return t.data.map(function(u){return {sessionId:t.sessionId,dataBase64:p.Dy.encode(u)};});});return {ba:q.ba,Ri:q.Ri,L4:q.L4,Tf:g.qqa(q.Tf),Co:h.Zn[q.Co],dk:v.reduce(function(t,u){return t.concat(u);},[]),KW:q.KW,lk:q.lk};};c.prototype.BDb=function(q){return {ba:q.ba,ve:q.ve};};c.prototype.yDb=function(q){return {ve:q.ve,oj:q.oj};};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.bg)),r.__param(1,f.l(m.zi)),r.__param(2,f.l(d.zv)),r.__param(3,f.l(a.iR))],n);b.vBa=n;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q,p,v){this.Spb=k;this.IUb=n;this.n7a=p;this.JVb=v;this.sa=q.hb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;r=a(1);f=a(0);l=a(7);m=a(489);a(490);d=a(491);h=a(492);a=a(283);c.prototype.ty=function(k){var n,q;n=this;!1;q=this.n7a.I_b(k);return this.Spb.fq(this.sa,k.lk,q).then(function(p){p.map(function(v){return v.JLb;});return n.JVb.$$a(p);}).catch(function(p){n.sa.error("PBO license failed",p);return Promise.reject(p);});};c.prototype.release=function(k){var n;n=this;!1;k=this.n7a.L_b(k);return this.IUb.ng(this.sa,k).then(function(){return {$:!0};}).catch(function(q){n.sa.error("PBO release license failed",q);return Promise.reject(q);});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(m.lHa)),r.__param(1,f.l(d.ZHa)),r.__param(2,f.l(l.qb)),r.__param(3,f.l(h.AHa)),r.__param(4,f.l(a.Lda))],g);b.KEa=g;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w;function c(x){return function(){return x.$a.get(f.UHa).xb();};}Object.defineProperty(b,"__esModule",{value:!0});b.bI=void 0;r=a(0);f=a(153);l=a(211);m=a(284);d=a(493);h=a(1116);g=a(1117);k=a(494);n=a(1118);q=a(495);p=a(1119);v=a(285);t=a(1120);u=a(496);w=a(1121);b.bI=new r.pd(function(x){x(k.CIa).to(n.BIa).aa();x(l.Nda).to(m.QHa).aa();x(d.qHa).to(h.pHa).aa();x(f.UHa).to(g.THa).aa();x(f.FR).wZ(c);x(u.SHa).to(w.RHa).aa();x(q.wHa).to(p.vHa).aa().$Z();x(v.WHa).to(t.VHa).aa();x(v.NHa).to(t.MHa).aa();x(v.PHa).to(t.OHa).aa();});},function(r,b,a){var m,d,h,g,k,n,q,p,v,t;function c(){}function f(){}function l(u,w,x,y,z){var A;A=this;this.is=u;this.Tn=w;this.config=x;this.CG=y;this.BRb=z;this.dx=function(){return new c().encode({version:A.version,data:A.bI});};this.V0b=function(B){B=A.upgrade(B);A.BRb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.gn(B))return A.Y0b(B);D=B.version;if(void 0 != D && A.is.Fi(D) && 1 == D)return A.Z0b(B);D=B.version;if(void 0 != D && A.is.Fi(D) && 2 == D)return new c().decode(B);if(B.version && A.is.Fi(B.version))throw new k.od(h.M.pB,h.L.Fza,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.od(h.M.pB,h.L.lB,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.xs=new n.Gca(2,this.config().y5a,"" !== this.config().y5a && 0 < this.config().eSb,this.Tn,this.dx);}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;r=a(1);m=a(0);d=a(13);h=a(3);g=a(27);k=a(41);n=a(315);q=a(79);p=a(91);v=a(284);a=a(285);l.prototype.WTb=function(){return this.xs.load(this.V0b).catch(function(u){throw new k.od(h.M.pB,u.na || u.zc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u);});};l.prototype.tqb=function(u){return this.xs.add(u);};l.prototype.W6a=function(u){return this.xs.remove(u,function(w,x){return w.ba === x.ba;});};l.prototype.Lxa=function(u){return this.xs.update(u,function(w,x){return w.ba === x.ba;});};l.prototype.toString=function(){return JSON.stringify(this.dx(),null,"  ");};l.prototype.Sab=function(u){return u?"/events?playbackContextId=" + u + "&esn=" + this.CG().Tk:"";};l.prototype.Pxa=function(u){return u.map(function(w){return {yc:w.downloadableId,duration:w.duration};});};l.prototype.Tab=function(u){var w;return u?{total:u.playTimes.total,bJ:null !== (w=u.playTimes.totalContentTime) && void 0 !== w?w:u.playTimes.total,audio:this.Pxa(u.playTimes.audio || []),video:this.Pxa(u.playTimes.video || []),text:this.Pxa(u.playTimes.timedtext || [])}:{total:0,bJ:0,audio:[],video:[],text:[]};};l.prototype.Y0b=function(u){var w,x,y;w=this;u=JSON.parse(u);x={type:"online",href:this.Sab(u.playbackContextId),ba:u.xid?u.xid.toString():"",J:u.movieId,position:u.position,ZT:u.timestamp,GY:u.playback?1E3 * u.playback.startEpoch:-1,QN:u.mediaId,EX:this.Tab(u.playback),trackId:"",Gm:{},profileId:u.accountKey};y=JSON.stringify({keySessionIds:u.keySessionIds,movieId:u.movieId,xid:u.xid,licenseContextId:u.licenseContextId,profileId:u.profileId});this.Tn.create().then(function(z){z.save(w.config().HU,y,!1);});if("" === x.href || "" === x.ba)throw new k.od(h.M.pB,h.L.lB);return {version:2,data:[x]};};l.prototype.Z0b=function(u){var w;w=this;if(!u.playdata || !this.is.zy(u.playdata))throw new k.od(h.M.pB,h.L.lB,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,u);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:w.Sab(y.playbackContextId),ba:y.xid?y.xid.toString():"",J:y.movieId,position:y.position,ZT:y.timestamp,GY:y.playback?1E3 * y.playback.startEpoch:-1,QN:y.mediaId,EX:w.Tab(y.playback),trackId:"",Gm:{},profileId:y.profileId};});})(u.playdata)};};Xa.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.xs.version;}},bI:{configurable:!0,enumerable:!0,get:function(){return this.xs.$v;}}});t=l;t=r.__decorate([m.R(),r.__param(0,m.l(g.ag)),r.__param(1,m.l(q.hB)),r.__param(2,m.l(d.Xc)),r.__param(3,m.l(p.xx)),r.__param(4,m.l(a.PHa))],t);b.pHa=t;f.prototype.encode=function(u){var w;w=new v.R0();return u.map(w.encode);};f.prototype.decode=function(u){var w;w=new v.R0();return u.map(w.decode);};c.prototype.encode=function(u){return {version:u.version,data:new f().encode(u.data)};};c.prototype.decode=function(u){return {version:u.version,data:new f().decode(u.data)};};},function(r,b,a){var m,d,h,g,k,n,q,p,v,t,u,w,x;function c(y,z,A,B,D,E,F,C){this.config=y;this.Lc=A;this.gx=B;this.zu=D;this.F9=E;this.li=F;this.tH=Promise.resolve();this.closed=!1;this.log=z.hb("PlaydataServices");this.aI=[];this.active=new Set();this.NVb=new f(y,C);}function f(y,z){this.config=y;this.ya=z;}function l(y,z,A,B,D,E){this.log=y;this.Lc=z;this.Si=A;this.zu=B;this.gx=D;this.YRb=E;this.JVa=this.Dh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.THa=b.Tib=void 0;r=a(1);m=a(0);d=a(4);h=a(7);g=a(48);k=a(211);n=a(493);q=a(494);p=a(3);v=a(284);t=a(495);u=a(128);w=a(38);a=a(141);l.prototype.G8=function(y,z){var B;function A(){var D;D=B.zu.create(B.Si);B.gx.Lxa(D).catch(function(E){var F;F=B.JVa?h.Mj.Yea:h.Mj.Lf;B.JVa=!0;B.log.write(F,"Unable to save playdata changes to IDB",E);});}B=this;this.log.trace("Adding initial playdata",z);this.gx.tqb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.rs=B.Lc.r$(y,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new v.R0().encode(z)});B.rs=B.Lc.r$(y,A);});};l.prototype.stop=function(y){var z,A;z=this;if(this.Dh)return Promise.resolve();this.rs && this.rs.cancel();A=this.zu.create(this.Si);return this.gx.Lxa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.Si.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.YRb.h8a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.gx.W6a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.J);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};l.prototype.cancel=function(){this.Dh=!0;this.rs && this.rs.cancel();this.gx.Lxa(this.zu.create(this.Si));};Xa.Object.defineProperties(f.prototype,{Ctb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.ya.ef;return !this.tH || 0 <= y.Qa(this.tH).yl(this.config.F0a)?(this.tH=y,!0):!1;}}});b.Tib=f;c.prototype.xb=function(){var y;y=this;this.cD || (this.log.trace("Starting playdata services"),this.cD=this.gx.WTb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.cD;};c.prototype.close=function(){this.closed=!0;this.aI.forEach(function(y){y.G8.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.pO && z.Eva?this.BWb(y):Promise.resolve();};c.prototype.ap=function(y,z,A,B){var D;D=this;this.closed || (this.xwa(y),this.Hva(y,B).catch(function(E){D.log.error("Start command failed",{playdata:E.bI,error:E.VU});}),z && this.uwa(this.DFb(y),y,A));};c.prototype.$Y=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.zu.create(y);this.active.delete(A.ba);y=ba(u.xu(function(D){return D.key === A.ba;},this.aI));B=y.next().value;this.aI=y.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.G8.stop(z.config.Eva);})).then(function(){});};c.prototype.xwa=function(y){var z,A;y.Cd("pdb");if(this.config.fta.CKb()){z=this.zu.create(y);A=z.ba;this.aI.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.aI.push({key:A,G8:this.UFb(y,z),bx:!1,stopped:!1}));}};c.prototype.BWb=function(y){var z,A,B,D;z=this;A=this.gx.bI.filter(function(E){return !z.active.has(E.ba);});B=void 0;D=void 0;y && Infinity === y?B=A:(A=ba(u.xu(function(E){return E.J === y;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.Lc.zk(this.config.e8a,function(){z.g8a(D);});return B && 0 !== B.length?this.g8a(B):Promise.resolve();};c.prototype.g8a=function(y){var A;function z(B){return A.F9.h8a(B).then(function(){return A.VUb(B);});}A=this;return y.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.VUb=function(y){var z;z=this;return this.gx.W6a(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.UFb=function(y,z){y=new l(this.log,this.Lc,y,this.zu,this.gx,this.F9);y.G8(this.config.fta,z);return y;};c.prototype.Hva=function(y,z){var A,B;A=this;B=this.zu.Gxb(y,z);return this.F9.Hva(y,B).then(function(){!1;A.aI.filter(function(D){return D.key === y.ba.toString();}).forEach(function(D){D.bx=!0;});}).catch(function(D){throw {bI:B,VU:D};});};c.prototype.f8a=function(y){return this.NVb.Ctb?this.CY(t.Kda.nW,y,p.M.Mca):Promise.resolve();};c.prototype.B$=function(y){return this.CY(t.Kda.splice,y,p.M.UJa);};c.prototype.CY=function(y,z,A){var D;function B(E){var F;F=D.aI.filter(function(C){return C.key === E.ba.toString();});return 0 === F.length?!0:F.reduce(function(C,G){return C || G.stopped || !G.bx;},!1);}D=this;return B(z)?this.tH:this.tH=this.tH.catch(function(){return Promise.resolve();}).then(function(){var E;if(B(z))return Promise.resolve();!1;E=D.zu.create(z);return D.F9.CY(y,z,E);}).then(function(E){!1;return E;}).catch(function(E){var F;D.log.error("Failed to send event",{eventKey:y,xid:z.ba,error:E});E.hk?F=D.li(A,E):E.kA === p.B0.Tea && (F=D.li(A,E));throw {VU:E,tO:F};});};c.prototype.uwa=function(y,z,A){var B;B=this;!1;this.Fja();this.Vpa=this.Lc.zk(y,function(){B.Fja();B.CY(t.Kda.nW,z,p.M.Mca).then(function(){B.uwa(y,z,A);}).catch(function(D){var E;E=D.VU;(D=D.tO) && A(D);E.kA === p.B0.Tea && B.uwa(y,z,A);});});};c.prototype.I9a=function(){this.Fja();};c.prototype.Fja=function(){this.Vpa && (this.Vpa.cancel(),this.Vpa=void 0);};c.prototype.DFb=function(y){return y.bb.Boa?d.Kc(y.bb.Boa):this.config.E0a;};x=c;x=r.__decorate([m.R(),r.__param(0,m.l(q.CIa)),r.__param(1,m.l(h.qb)),r.__param(2,m.l(g.Pj)),r.__param(3,m.l(n.qHa)),r.__param(4,m.l(k.Nda)),r.__param(5,m.l(t.wHa)),r.__param(6,m.l(a.JR)),r.__param(7,m.l(w.Sh))],x);b.THa=x;},function(r,b,a){var f,l,m,d,h,g;function c(k,n){k=l.Ye.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.BIa=void 0;r=a(1);f=a(0);l=a(46);m=a(37);d=a(45);h=a(4);a=a(40);na(c,l.Ye);Xa.Object.defineProperties(c.prototype,{pO:{configurable:!0,enumerable:!0,get:function(){return this.config.kw?"unsentplaydatatest":"unsentplaydata";}},Eva:{configurable:!0,enumerable:!0,get:function(){return !0;}},e8a:{configurable:!0,enumerable:!0,get:function(){return h.Kc(1E4);}},fta:{configurable:!0,enumerable:!0,get:function(){return h.Kc(4E3);}},E0a:{configurable:!0,enumerable:!0,get:function(){return h.E8(1);}},F0a:{configurable:!0,enumerable:!0,get:function(){return h.uh(30);}}});g=c;r.__decorate([d.config(d.string,"playdataPersistKey")],g.prototype,"pO",null);r.__decorate([d.config(d.bd,"sendPersistedPlaydata")],g.prototype,"Eva",null);r.__decorate([d.config(d.Yk,"playdataSendDelayMilliseconds")],g.prototype,"e8a",null);r.__decorate([d.config(d.Yk,"playdataPersistIntervalMilliseconds")],g.prototype,"fta",null);r.__decorate([d.config(d.Yk,"heartbeatCooldown")],g.prototype,"E0a",null);r.__decorate([d.config(d.Yk,"keepAliveWindow")],g.prototype,"F0a",null);g=r.__decorate([f.R(),r.__param(0,f.l(m.Tl)),r.__param(1,f.l(a.Qm))],g);b.BIa=g;},function(r,b,a){var f,l,m;function c(d,h){this.cU=h;this.log=d.hb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;r=a(1);f=a(82);l=a(7);a=a(0);c.prototype.Hva=function(d,h){var g;g=this.cU(f.mp.start);return this.CVa(g,d,h);};c.prototype.h8a=function(d){var h;h=this;return this.cU(f.mp.stop).ng(this.log,d).then(function(){}).catch(function(g){h.log.error("PBO stop event failed",g);throw g;});};c.prototype.CY=function(d,h,g){d=this.cU(d);return this.CVa(d,h,g);};c.prototype.CVa=function(d,h,g){var k;k=this;return d.fq(this.log,h.oa.lk,g).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(l.qb)),r.__param(1,a.l(f.jca))],m);b.vHa=m;},function(r,b,a){var m,d,h,g;function c(){}function f(k){this.ARb=k;}function l(k){this.CRb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=b.OHa=b.MHa=void 0;r=a(1);m=a(0);d=a(285);h=a(41);g=a(3);l.prototype.validate=function(k){k.map(this.CRb.validate);};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(d.WHa))],a);b.MHa=a;f.prototype.validate=function(k){this.ARb.validate(k.data);};a=f;a=r.__decorate([m.R(),r.__param(0,m.l(d.NHa))],a);b.OHa=a;c.prototype.validate=function(k){var n;k.ba && "string" === typeof k.ba?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new h.od(g.M.pB,g.L.lB,void 0,void 0,void 0,n,void 0,k.ba);};r=r.__decorate([m.R()],c);b.VHa=r;},function(r,b,a){var f,l,m,d;function c(h,g){this.e5a=g;this.log=h.hb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;r=a(1);f=a(0);l=a(7);m=a(15);a=a(153);c.prototype.ap=function(h){var g;g=this;this.e5a().then(function(k){h.addEventListener(m.ca.yH,function(n){var q;if(void 0 !== n.yO){q=h.aN(n.yO);k.$Y(q);n.m7 || new Promise(function(p){var v;if(h.wj.value)p();else {v=function(t){t.newValue && (p(),h.wj.removeListener(v));};h.wj.addListener(v);}}).then(function(){return k.ap(h,g.c9a(h),function(p){return h.nG(p);},h.XL);});}});h.addEventListener(m.ca.Bq,function(){k.ap(h,g.c9a(h),function(n){return h.nG(n);},h.XL);});h.background || h.addEventListener(m.ca.HN,function(n){n=h.aN(n.J);k.xwa(n);});h.addEventListener(m.ca.jg,function(){k.I9a();});h.addEventListener(m.ca.kbb,function(){k.f8a(h.ha).catch(function(n){(n=n.tO) && h.nG(n);});});h.cc.addListener(function(){h.bb.bla?g.log.trace("stickiness is disabled for timedtext"):k.B$(h.ha);});h.ic.addListener(function(){h.bb.bla?g.log.trace("stickiness is disabled for audio"):k.B$(h.ha).catch(function(n){(n=n.tO) && h.nG(n);});});});};c.prototype.c9a=function(h){return h.state.value == m.Pb.pe;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(a.FR))],d);b.RHa=d;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q){return function(){return new Promise(function(p,v){var t;t=q.$a.get(l.EBa);t.xb().then(function(){p(t);}).catch(function(u){v(u);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.MUa=void 0;r=a(0);f=a(497);a(1123);l=a(499);m=a(1125);d=a(98);h=a(1126);g=a(500);k=a(1127);n=a(1128);a(1129);b.MUa=new r.pd(function(q){q(g.TEa).to(k.SEa).aa();q(f.BBa).to(n.UEa);q(d.fQ).to(h.Gya).aa();q(l.EBa).to(m.CBa).aa();q(l.DBa).wZ(c);});},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p){var v;v=h.UR.call(this,n,q,"idb") || this;v.Tn=p;v.M7a=function(t){v.szb(t.target.id).then(function(){return v.refresh();});};v.ZPb=function(){v.Dub().then(function(){return v.refresh();});};v.vQb=function(){v.refresh();};v.bQb=function(){v.Ivb();};return v;}Object.defineProperty(b,"__esModule",{value:!0});b.Ngb=void 0;r=a(1);f=a(0);l=a(29);m=a(27);d=a(183);h=a(498);g=a(132);k=a(286);na(c,h.UR);c.prototype.xb=function(){var n;n=this;if(this.Bn)return Promise.resolve();nb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == g.rv.Lfb && n.toggle();});return this.Tn.create().then(function(q){n.storage=q;n.Bn=!0;});};c.prototype.Vk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Lna=function(n,q,p){var v;n=n.toString();v='<font color="#C41A16">"' + q + '"</font>';p=this.jb.Ii({name:q,data:p});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + v + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + p + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + q + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.Yna=function(n){var q,p;q=this;p='<table class="' + this.prefix + '-display-table" width="100%">' + this.Vk();Object.entries(n).forEach(function(v,t){var u;u=ba(v);v=u.next().value;u=u.next().value;p+=q.Lna(t,v,u);});return p + "</table>";};c.prototype.iXa=function(){var n,q,p;n=this.$d.createElement("button",h.zJ,"Clear",{"class":this.prefix + "-display-btn"});q=this.$d.createElement("button",h.zJ,"Refresh",{"class":this.prefix + "-display-btn"});p=this.$d.createElement("button",h.zJ,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.ZPb;q.onclick=this.vQb;p.onclick=this.bQb;return [n,q,p];};c.prototype.lMb=function(){var n;n=this;return this.storage.loadAll().then(function(q){n.ZZa=q.reduce(function(p,v){p[v.key]=v.value;return p;},{});return n.ZZa;});};c.prototype.szb=function(n){return this.storage.remove(n);};c.prototype.Dub=function(){return this.storage.removeAll();};c.prototype.N6a=function(){var n;n=this;return this.lMb().then(function(q){return n.Yna(q);});};c.prototype.Ivb=function(){var n;n=JSON.stringify(this.ZZa,null,4);k.E_.eka(n);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.bg)),r.__param(1,f.l(m.ag)),r.__param(2,f.l(d.Hca))],a);b.Ngb=a;},function(r,b){function a(c){this.is=c;this.gLb="#881391";this.$Yb="#C41A16";this.Esb=this.DPb="#1C00CF";this.PJb="#D79BDB";this.j0b=this.APb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;a.prototype.Ii=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.NC=function(c,f){return '<font color="' + ((void 0 === f?0:f)?this.PJb:this.gLb) + '">' + c + ": </font>";};a.prototype.KWa=function(c,f){f=f || "";c='<li><a href="#">' + this.NC(c) + "Array[" + f.length + "]</a>";c+="<ul>";for(var l=0;l < f.length;++l){c+=this.getValue(l.toString(),f[l]);}c+=this.getValue("length",f.length,!0);return c + "</ul></li>";};a.prototype.qYa=function(c,f){var l,m;l=this;if(f instanceof CryptoKey)return this.GEb(c,f);m="";m+='<li><a href="#">' + ("~~NONAME~~" !== c?this.NC(c):"") + "Object</a>";m+="<ul>";Object.entries(f).forEach(function(d){var h;h=ba(d);d=h.next().value;h=h.next().value;m=d.startsWith("$")?m + l.getValue(d,"REMOVED"):m + l.getValue(d,h);});m+="</ul>";return m+="</li>";};a.prototype.GEb=function(c,f){c='<li><a href="#">' + this.NC(c) + "CryptoKey</a>";c=c + "<ul>" + this.qYa("algorithm",f.algorithm);c+=this.RWa("extractable",f.extractable);c+=this.VYa("type",f.type);c+=this.KWa("usages",f.usages);return c + "</ul></li>";};a.prototype.gGb=function(c,f,l){return '<li><a href="#">' + this.NC(c,void 0 === l?!1:l) + ('<font color="' + this.DPb + '">' + f.toString() + "</font></a></li>");};a.prototype.RWa=function(c,f,l){return '<li><a href="#">' + this.NC(c,void 0 === l?!1:l) + ('<font color="' + this.Esb + '">' + f.toString() + "</font></a></li>");};a.prototype.VYa=function(c,f,l){128 < f.length && (f=f.substr(0,128) + "...");return '<li><a href="#">' + this.NC(c,void 0 === l?!1:l) + ('<font color="' + this.$Yb + '">"' + f + '"</font></a></li>');};a.prototype.fGb=function(c){return '<li><a href="#">' + this.NC(c) + ('<font color="' + this.APb + '">null</font></a></li>');};a.prototype.oHb=function(c,f){f="undefined" === typeof f?"":f.toString();255 < f.length && (f=f.substr(0,255) + "...");return '<li><a href="#">' + this.NC(c) + ('<font color="' + this.j0b + '">' + f + "</font></a></li>");};a.prototype.getValue=function(c,f,l){l=void 0 === l?!1:l;return null === f?"" + this.fGb(c):this.is.zy(f)?"" + this.KWa(c,f):this.is.yL(f)?"" + this.qYa(c,f):this.is.Hp(f)?"" + this.VYa(c,f,l):this.is.Fi(f)?"" + this.gGb(c,f,l):this.is.nT(f)?"" + this.RWa(c,f,l):"" + this.oHb(c,f);};b.vLa=a;},function(r,b,a){var f,l;function c(m){this.cAb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;r=a(1);f=a(0);a=a(497);c.prototype.xb=function(){var m;m=this;this.cD || (this.cD=new Promise(function(d,h){var g;g=[];m.cAb.forEach(function(k){g.push(k.xb());});Promise.all(g).then(function(){d();}).catch(function(k){h(k);});}));return this.cD;};l=c;l=r.__decorate([f.R(),r.__param(0,f.KH(a.BBa))],l);b.CBa=l;},function(r,b,a){var f,l;function c(){this.xva="";this.xbb=[[],[]];this.U=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;r=a(1);f=a(0);a(4);l=a(98);c.prototype.downloadRequest=function(m){var d;"" === this.xva && (this.xva=m.wa);if(!m.Zc){d=this.n_b(m);this.U[m.mediaType].push(d);this.xbb[m.mediaType].forEach(function(h){h.l8b(d);});}};c.prototype.n_b=function(m){return {id:m.ii(),wa:m.wa,mediaType:m.mediaType,ek:m.ek,startTime:m.yA,endTime:m.Sw,offset:m.Lu,ML:m.ML,LL:m.LL,duration:m.Hr,bitrate:m.bitrate,state:l.rba.FUa,wj:!1,p$b:!1,uZa:!1,i9b:l.qba.waiting};};c.prototype.update=function(m){this.xbb[m.mediaType].forEach(function(d){d.kcc(m);});};Xa.Object.defineProperties(c.prototype,{wa:{configurable:!0,enumerable:!0,get:function(){return this.xva;}}});a=r.__decorate([f.R()],c);b.Gya=a;},function(r,b,a){var f,l,m,d,h;function c(g,k){g=m.Ye.call(this,g,"LogDisplayConfigImpl") || this;g.mm=k;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;r=a(1);f=a(0);l=a(45);m=a(46);d=a(37);a=a(135);na(c,m.Ye);Xa.Object.defineProperties(c.prototype,{mY:{configurable:!0,enumerable:!0,get:function(){return !0;}},JN:{configurable:!0,enumerable:!0,get:function(){return this.mm.JN;}},s1a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});h=c;r.__decorate([l.config(l.bd,"renderDomDiagnostics")],h.prototype,"mY",null);r.__decorate([l.config(l.dD,"logDisplayMaxEntryCount")],h.prototype,"JN",null);r.__decorate([l.config(l.dD,"logDisplayAutoshowLevel")],h.prototype,"s1a",null);h=r.__decorate([f.R(),r.__param(0,f.l(d.Tl)),r.__param(1,f.l(a.HR))],h);b.SEa=h;},function(r,b,a){var m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A;function c(B,D,E,F,C,G,J,K,I,M){var R;R=this;this.ya=B;this.gg=D;this.$d=E;this.Lc=F;this.Rn=C;this.config=G;this.CG=J;this.Zwa=K;this.Gyb=I;this.Tn=M;this.VZb=function(){R.MZ.Ml(function(){R.update();});};this.clear=function(){R.entries=[];R.update();};this.X2a=function(){R.Je.BN=!R.Je.BN;R.rD && R.xD && (R.Je.BN?(R.rD.style.display="inline-block",R.xD.style.display="none"):(R.xD.style.display="inline-block",R.rD.style.display="none"));R.GI(!1);};this.DMb=function(H){var Q;R.entries.push(H);Q=R.config.JN;0 <= Q && R.entries.length > Q && R.entries.shift();void 0 === R.Je.My[H.yo] && (R.Je.My[H.yo]=!0,R.GI(!1));R.Je.isVisible && !R.r$a?R.VZb():R.MZ.Ml();};this.kAb=function(){l.download("all",R.entries.map(function(H){return H.jaa(!1,!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.Bn=!1;this.Je={isVisible:!1,BN:!0,H4:!0,Bqa:t.Mj.Cca,My:{}};this.MZ=this.Zwa(q.uh(1));this.CCb=this.Gyb(q.Kc(250));this.entries=[];!1;!1;}function f(B){var D;this.elements=[];D=document.createElementNS(f.iZ,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;r=a(1);m=a(0);d=a(29);h=a(111);g=a(337);k=a(48);n=a(38);q=a(4);p=a(18);v=a(91);t=a(7);u=a(112);w=a(287);x=a(500);y=a(79);z=a(132);A=a(286);l.download=function(B,D){return l.dFb(B).then(function(E){return l.fHb(E,D.join("\r\n")).then(function(F){return l.iAb(F.filename,F.text);});});};l.dFb=function(B){return new Promise(function(D,E){var F,C,G,J,K,I,M;try{F=new Date();C=F.getDate().toString();G=(F.getMonth() + 1).toString();J=F.getFullYear().toString();K=F.getHours().toString();I=F.getMinutes().toString();M=F.getSeconds().toString();1 === C.length && (C="0" + C);1 === G.length && (G="0" + G);1 === K.length && (K="0" + K);1 === I.length && (I="0" + I);1 === M.length && (M="0" + M);D(J + G + C + K + I + M + "." + B + ".log");}catch(R){E(R);}});};l.fHb=function(B,D){return new Promise(function(E,F){try{E({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(C){F(C);}});};l.iAb=function(B,D){var E;try{E=document.createElement("a");E.setAttribute("href",D);E.setAttribute("download",B);E.style.display="none";document.body.appendChild(E);E.click();document.body.removeChild(E);return Promise.resolve();}catch(F){return Promise.reject(F);}};f.prototype.tP=function(){var B;B=document.createElementNS(f.iZ,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};f.prototype.vP=function(B,D,E){var F;F=document.createElementNS(f.iZ,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);E && F.setAttribute("fill-rule",E);this.addElement(F);return this;};f.prototype.XY=function(B,D,E,F,C){var G;C=void 0 === C?"#000000":C;G=document.createElementNS(f.iZ,"rect");G.setAttribute("x",B.toString());G.setAttribute("y",D.toString());G.setAttribute("height",E.toString());G.setAttribute("width",F.toString());C && G.setAttribute("fill",C);this.addElement(G);return this;};f.prototype.EYb=function(){var B;B=document.createElementNS(f.iZ,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.Ii=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Xa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},zG:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});f.iZ="http://www.w3.org/2000/svg";c.prototype.xb=function(){var B;B=this;this.cD || (this.cD=new Promise(function(D){nb.addEventListener("keydown",function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == z.rv.Qgb?B.toggle():E.keyCode == z.rv.E && A.E_.eka(B.CG().Tk));});B.Rn.b$(w.Wca.leb,B.DMb);D();}));return this.cD;};c.prototype.show=function(){document.body && (this.element || (this.uxb(),this.Bn=!0),!this.Je.isVisible && this.element && (document.body.appendChild(this.element),this.Je.isVisible=!0,this.update(!0)));};c.prototype.Qr=function(){this.Bn && this.Je.isVisible && this.element && (document.body.removeChild(this.element),this.Je.isVisible=!1);};c.prototype.toggle=function(){this.Je.isVisible?this.Qr():this.show();this.GI(!1);};c.prototype.uxb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.cp=this.lyb());B.appendChild(this.myb());B.appendChild(this.oxb());this.element=B;}catch(E){console.error("Unable to create the log console",E);}};c.prototype.lyb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.r$a=!0;B.update();B.cp && (B.cp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.r$a=!1;B.update();B.cp && (B.cp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.myb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Oxb());B.appendChild(this.Exb());B.appendChild(this.zxb());B.appendChild(this.oyb());B.appendChild(this.sxb());B.appendChild(this.Uxb());B.appendChild(this.Sxb());B.appendChild(this.Bxb());B.appendChild(this.txb());return B;};c.prototype.oxb=function(){var B,D,E,F,C,G;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");E=this.createElement("div","padding:2px");F=this.createElement("select",this.qw(22,160,1,2),"<option>Select categories</option>");C=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(E);D.appendChild(C);E.appendChild(F);E.addEventListener("mousedown",function(J){J.preventDefault();});G=!1;E.addEventListener("click",function(){G?C.style.display="none":(C.innerHTML="",["all","none"].concat(Object.keys(B.Je.My).sort()).forEach(function(J){C.appendChild(B.pxb(J,E));}),C.style.display="block");G=!G;});return D;};c.prototype.pxb=function(B,D){var E,F,C;E=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;C=this.createElement("input","margin:1px");C.type="checkbox";C.id=B;C.checked=this.Je.My[B];C.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(E.Je.My).forEach(function(G){E.Je.My[G]="all" === B;}),D.click()):E.Je.My[B]=!E.Je.My[B];E.GI(!0);});F.appendChild(C);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.Oxb=function(){var B,D;B=this;D=this.createElement("select",this.qw(22,NaN,1,2),'<option value="' + t.Mj.Lf + '">Error</option><option value="' + (t.Mj.Yea + '">Warn</option><option value="') + (t.Mj.Cca + '">Info</option><option value="') + (t.Mj.VKa + '">Trace</option><option value="') + (t.Mj.ga + '">Debug</option>'));D.value=this.Je.Bqa.toString();D.addEventListener("change",function(E){B.Je.Bqa=parseInt(E.target.value);B.GI(!0);},!1);return D;};c.prototype.Exb=function(){var D,E;function B(F){return D.CCb.Ml(function(){var C;C=F.target.value;D.Je.filter=C?new RegExp(C):void 0;D.GI(!0);});}D=this;E=this.createElement("input",this.qw(14,150,1,2));E.value=this.Je.filter?this.Je.filter.source:"";E.title="Filter (RegEx)";E.placeholder="Filter (RegEx)";E.addEventListener("keydown",B,!1);E.addEventListener("change",B,!1);return E;};c.prototype.zxb=function(){var B,D,E,F;B=this;D=this.createElement("div",this.qw(NaN,NaN));E=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");E.id="details";E.type="checkbox";E.title="Details";E.checked=this.Je.H4;E.addEventListener("change",function(C){B.Je.H4=C.target.checked;B.GI(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(E);D.appendChild(F);return D;};c.prototype.oyb=function(){var B,D,E;B=this;D=this.createElement("button",this.qw());E=new f("0 0 24 24").tP().EYb().end().vP("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.zG,"nonzero").end().end().Ii();D.appendChild(E);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.sxb=function(){var B,D;B=this.createElement("button",this.qw());D=new f("0 0 24 24").tP().XY(0,0,24,24,f.background).end().vP("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.zG).end().end().Ii();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.Uxb=function(){var B;this.xD=this.createElement("button",this.qw());this.xD.style.display=this.Je.BN?"none":"inline-block";B=new f("0 0 24 24").tP().XY(0,0,24,24,f.background).end().vP("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.zG,"nonzero").end().end().Ii();this.xD.addEventListener("click",this.X2a,!1);this.xD.appendChild(B);this.xD.setAttribute("title","Shrink the log console");return this.xD;};c.prototype.Sxb=function(){var B;this.rD=this.createElement("button",this.qw());this.rD.style.display=this.Je.BN?"inline-block":"none";B=new f("0 0 24 24").tP().XY(4,4,16,16,f.background).end().vP("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.zG,"nonzero").end().end().Ii();this.rD.addEventListener("click",this.X2a,!1);this.rD.appendChild(B);this.rD.setAttribute("title","Expand the log console");return this.rD;};c.prototype.Bxb=function(){var B,D;B=this.createElement("button",this.qw());D=new f("0 0 26 26").tP().XY(0,0,24,24,f.background).end().vP("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.zG,"nonzero").end().end().Ii();B.appendChild(D);B.addEventListener("click",this.kAb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.txb=function(){var B,D,E;B=this;D=this.createElement("button",this.qw());E=new f("0 0 24 24").tP().XY(0,0,24,24,f.background).end().vP("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.zG,"nonzero").end().end().Ii();D.appendChild(E);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.GI=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.mY && Promise.resolve(this.Tsb() + this.eFb().join("\r\n")).then(function(E){D.element && D.cp && (D.cp.value=E,D.element.style.cssText=D.Je.BN?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.Lc.zk(q.Gb,function(){D.cp.scrollTop=D.cp.scrollHeight;}));}).catch(function(E){console.error("Unable to update the log console",E);});};c.prototype.eFb=function(){var B,D;B=this;D=[];this.entries.forEach(function(E){(E.level || E.level) <= B.Je.Bqa && B.Je.My[E.yo] && (E=E.jaa(!B.Je.H4,!B.Je.H4),B.Je.filter && !B.Je.filter.test(E) || D.push(E));});return D;};c.prototype.Tsb=function(){var B;B=this.CG();return "Version: 6.0033.278.911 \n" + ((B?"Esn: " + B.Tk:"") + "\nJsSid: ") + (this.gg.id + ", Epoch: " + this.ya.ef.da(q.eo) + ", Start: " + this.gg.Tz.da(q.eo) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,E,F){return this.$d.createElement(B,D,E,F);};c.prototype.qw=function(B,D,E,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === E?0:E) + "px solid " + f.zG + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.OYb="logDxDisplay";a=r.__decorate([m.R(),r.__param(0,m.l(n.Sh)),r.__param(1,m.l(p.fd)),r.__param(2,m.l(d.bg)),r.__param(3,m.l(k.Pj)),r.__param(4,m.l(u.UJ)),r.__param(5,m.l(x.TEa)),r.__param(6,m.l(v.xx)),r.__param(7,m.l(h.iK)),r.__param(8,m.l(g.UAa)),r.__param(9,m.l(y.hB))],a);b.UEa=a;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v){var t;t=g.UR.call(this,q,p,"network") || this;t.Dka=v;t.I4=h.YAa.uhb;t.kNb=30;t.HQb=function(u){t.I4=u.target.value;t.refresh();};t.YPb=function(){t.data={};t.refresh();};t.M7a=function(u){var w,x;w=Number(u.target.id);u=u.target.getAttribute("data-type");w=t.data[t.I4][w].value;x=JSON.stringify(w,null,4);"copy" === u?n.E_.eka(x):"log" === u && console.log(w);};return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Nhb=void 0;r=a(1);f=a(0);l=a(29);m=a(27);d=a(97);h=a(186);g=a(498);k=a(132);n=a(286);na(c,g.UR);c.prototype.xb=function(){var q;q=this;if(this.Bn)return Promise.resolve();nb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == k.rv.Bhb && q.toggle();});this.data={};this.Dka.addListener(h.Yba.Sib,function(p){var v;q.data[p.type] || (q.data[p.type]=[]);v=q.data[p.type];v.length === q.kNb && v.shift();v.push(p);p.type === q.I4 && q.refresh();});this.Bn=!0;return Promise.resolve();};c.prototype.Vk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Lna=function(q,p,v){var t;t=q.toString();p='<font color="#C41A16">"' + p + '"</font>';v=this.jb.Ii(v);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + t + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + p + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + v + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.Yna=function(){for(var q='<table class="' + this.prefix + '-display-table" width="100%">' + this.Vk(),p=this.data[this.I4] || [],v=0;v < p.length;++v){q+=this.Lna(v,p[v].name,p[v].value);}return q + "</table>";};c.prototype.iXa=function(){var q;q=this.$d.createElement("button",g.zJ,"Clear",{"class":this.prefix + "-display-btn"});q.onclick=this.YPb;return [q,this.nyb(),this.byb()];};c.prototype.nyb=function(){var q;q=this.$d.createElement("select",g.zJ,Object.values(h.YAa).reduce(function(p,v){return p + ('<option value="' + v + '">' + v + "</option>");},""),{"class":this.prefix + "-display-select"});q.onchange=this.HQb;return q;};c.prototype.byb=function(){var q,p,v,t;q=this;p=this.$d.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});p.checked=this.QX;p.onchange=function(){return q.u_b();};v=this.$d.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});t=this.$d.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});t.appendChild(p);t.appendChild(v);return t;};c.prototype.N6a=function(){return Promise.resolve(this.Yna());};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.bg)),r.__param(1,f.l(m.ag)),r.__param(2,f.l(d.T_))],a);b.Nhb=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;r=a(0);c=a(474);f=a(11);b.crypto=new r.pd(function(l){l(c.FAa).Yi(f.D0);});},function(r,b,a){var c,f,l,m,d,h,g,k,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.me=void 0;r=a(0);c=a(1132);f=a(1133);l=a(1134);m=a(139);d=a(316);h=a(479);g=a(1135);k=a(1136);n=a(501);q=a(1137);b.me=new r.pd(function(p){p(m.k1).to(c.PKa).aa();p(d.nea).to(l.tJa).aa();p(h.LLa).to(f.KLa).aa();p(g.Zhb).to(k.MGa).aa();p(n.eMa).to(q.dMa).aa();});},function(r,b,a){var f,l,m,d,h,g;function c(k,n){this.is=k;this.json=n;l.Po(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.PKa=void 0;r=a(1);l=a(56);m=a(39);d=a(0);h=a(27);g=a(139);c.prototype.v6a=function(k){var n;n=this;return f.read(k,function(q){return parseInt(q);},function(q){return n.is.Vha(q);});};c.prototype.gua=function(k){var n;n=this;return f.read(k,function(q){return "true" == q?!0:"false" == q?!1:void 0;},function(q){return n.is.nT(q);});};c.prototype.Fq=function(k){var n;n=this;return f.read(k,function(q){return parseInt(q);},function(q){return n.is.wT(q);});};c.prototype.UTb=function(k){var n;n=this;return f.read(k,function(q){return parseFloat(q);},function(q){return n.is.Fi(q);});};c.prototype.u6a=function(k,n){return f.read(k,function(q){return f.KCb(q,n);},function(q){return void 0 !== q;});};c.prototype.nua=function(k,n){return f.read(k,function(q){return q;},function(q){return n?n.test(q):!0;});};c.prototype.w6a=function(k){var n,q;n=this;q=void 0 === q?function(){return !0;}:q;try{return f.read(k,function(p){return n.json.parse(decodeURIComponent(p));},function(p){return n.is.yL(p) && q(p);});}catch(p){return new g.pp();}};c.prototype.Lh=function(k,n,q){var p,v;p=this;q=void 0 === q?1:q;k=k.trim();v=n instanceof Function?n:this.Vxb(n,q);n=k.indexOf("[");q=k.lastIndexOf("]");if(0 != n || q != k.length - 1)return new g.pp();k=k.substring(n + 1,q);try{return f.pRb(k).map(function(t){t=v(p,f.D1b(t));if(t instanceof g.pp)throw t;return t;});}catch(t){return t instanceof g.pp?t:new g.pp();}};c.prototype.Vxb=function(k,n){var q;q=this;n=void 0 === n?1:n;return function(p,v){p=f.iGb(k);return 1 < n?q.Lh(v,k,n - 1):p(q,v);};};c.KCb=function(k,n){var p;for(var q in n){p=parseInt(q);if(n[p] == k)return p;}};c.read=function(k,n,q){k=n(k);return void 0 !== k && q(k)?k:new g.pp();};c.iGb=function(k){switch(k){case "int":return function(n,q){return n.v6a(q);};case "bool":return function(n,q){return n.gua(q);};case "uint":return function(n,q){return n.Fq(q);};case "float":return function(n,q){return n.UTb(q);};case "string":return function(n,q){return n.nua(q);};case "object":return function(n,q){return n.w6a(q);};}};c.pRb=function(k){var x;for(var n=[["[","]"]],q=[],p=0,v=0,t=0,u=[],w={};v < k.length;(w={$P:w.$P},++v)){w.$P=k.charAt(v);x=void 0;"," == w.$P && 0 == t?(q.push(k.substr(p,v - p)),p=v + 1):(x=n.find((function(y){return function(z){return z[0] == y.$P;};})(w)))?(++t,u.push(x)):0 < u.length && u[u.length - 1][1] == w.$P && (--t,u.pop());}if(p != v)q.push(k.substr(p,v - p));else if(p == v && 0 < p)throw new g.pp();return q;};c.D1b=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new g.pp();return k.substring(1,k.length - 1);}return k;};a=f=c;a=f=r.__decorate([d.R(),r.__param(0,d.l(h.ag)),r.__param(1,d.l(m.IE))],a);b.PKa=a;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;r=a(1);a=a(0);c.prototype.GWa=function(f){var l;l=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(m){return l.GWa(m);});};a=r.__decorate([a.R()],c);b.KLa=a;},function(r,b,a){var f,l,m,d;function c(h){this.location=h;l.Po(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.tJa=void 0;r=a(1);l=a(56);m=a(39);a=a(0);c.xX=function(h){var g,n,q;g={};if(0 < h.length){h=h.split("&");for(var k=0;k < h.length;k++){n=h[k].trim();q=n.indexOf("=");0 <= q?g[decodeURIComponent(n.substr(0,q).replace(f.fHa,"%20"))]=decodeURIComponent(n.substr(q + 1).replace(f.fHa,"%20")):g[n.toLowerCase()]="";}}return g;};Xa.Object.defineProperties(c.prototype,{MTb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.xX(this.j6a);}},j6a:{configurable:!0,enumerable:!0,get:function(){var h;if(void 0 !== this.YX)return this.YX;this.YX=this.location.search.substr(1);h=this.YX.indexOf("#");0 <= h && (this.YX=this.j6a.substr(0,h));return this.YX;}}});d=f=c;d.fHa=/[+]/g;d=f=r.__decorate([a.R(),r.__param(0,a.l(m.OEa))],d);b.tJa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zhb="ObjectComparerSymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(1);f=a(0);l=a(194);c.prototype.compare=function(m,d){var h;h=[];this.Nja(m,d,"",h);return h;};c.prototype.Nja=function(m,d,h,g){var k;k=this;if(l.HE.zy(m))l.HE.zy(d) && m.length === d.length?m.forEach(function(p,v){k.Nja(m[v],d[v],h + "[" + v + "]",g);}):g.push({a:m,b:d,path:h});else if(l.HE.yL(m) && null != m){if(l.HE.yL(d) && null != d){for(var n in m){this.Nja(m[n],d[n],h + "." + n,g);}for(var q in d){(q in m) || void 0 === d[q] || g.push({a:void 0,b:d[q],path:h + "." + q});}}else g.push({a:m,b:d,path:h});}else m !== d && g.push({a:m,b:d,path:h});};a=r.__decorate([f.R()],c);b.MGa=a;},function(r,b,a){var f,l,m,d,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;r=a(1);f=a(0);l=a(11);m=a(34);d=a(288);h=a(8);c.prototype.GGb=function(){var g;g=nb.devicePixelRatio || 1;return {width:this.Mga.F3b || l.wv.width * g,height:this.Mga.E3b || l.wv.height * g};};Xa.Object.defineProperties(c.prototype,{Mga:{configurable:!0,enumerable:!0,get:function(){return h.ka.get(m.wB);}}});a=c;r.__decorate([d.sW],a.prototype,"Mga",null);a=r.__decorate([f.R()],a);b.dMa=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=void 0;r=a(0);c=a(502);f=a(1139);l=a(119);m=a(289);d=a(1140);h=a(1141);g=a(1143);k=a(1144);n=a(1145);q=a(503);p=a(504);v=a(133);t=a(291);u=a(1146);w=a(290);x=a(1147);b.Ed=new r.pd(function(y){y(c.kIa).to(f.jIa).aa();y(m.iea).to(d.lJa).aa();y(l.pF).to(h.ULa).aa();y(q.kJa).to(n.EFa).aa();y(q.jJa).to(k.JEa).aa();y(q.iJa).to(g.AEa).aa();y(t.Tya).r_b(function(){var z;return null === (z=v.hn.ti) || void 0 === z?void 0:z.Fu;});y(t.Sya).to(u.Rya).aa();y(p.gea).to(p.YIa);y(w.Jba).to(x.Yza).aa();});},function(r,b,a){var f,l,m;function c(d,h){this.ib=h;this.sa=d.hb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(1);f=a(0);l=a(7);a=a(27);c.prototype.Ezb=function(d){var h;h=this;try{return {direction:d.direction,E$b:d.layoutHasChanged,obc:d.rowInteractionIndex,Ya:d.lolomos.map(function(g){return h.zzb(g);})};}catch(g){this.sa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.zzb=function(d){var h;h=this;return {context:d.context,list:d.list.map(function(g){return h.yzb(g);}),requestId:d.requestId,rowIndex:d.rowIndex,pbc:d.rowSegment};};c.prototype.yzb=function(d){var h,g;h={Dd:d.pts,property:d.property,Z:d.viewableId,index:d.index};g=d.preplay;this.ib.Fg(g) && (h.O9=this.Dzb(g));d=d.params;this.ib.Fg(d) && (h.Db=this.aUa(d));return h;};c.prototype.Dzb=function(d){var h;h={Dd:d.pts,Z:d.viewableId,qO:d.pipelineNum,index:d.index};d=d.params;this.ib.Fg(d) && (h.Db=this.aUa(d));return h;};c.prototype.aUa=function(d){return {xe:d.uiLabel,Ej:d.trackingId,Gm:d.sessionParams};};c.prototype.Czb=function(d){var h;h=this;try{return d.map(function(g){return h.Azb(g);});}catch(g){this.sa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.Azb=function(d){var h,g;g=d.params;this.ib.Fg(g) && (h=this.Bzb(g));return {J:d.movieId,priority:d.priority,force:d.force,Db:h,xe:d.uiLabel,gcc:d.uiExpectedStartTime,fcc:d.uiExpectedEndTime,Bl:d.firstTimeAdded};};c.prototype.Bzb=function(d){var h,g;h=void 0;g=d.sessionParams;this.ib.Fg(g) && (h=g);return {u3:this.xzb(d.authParams),Gm:h,Ej:d.trackingId,Y:d.startPts,oa:d.manifest,El:d.isBranching};};c.prototype.xzb=function(d){return {MRb:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(a.ag))],m);b.jIa=m;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v,t,u,w){this.is=u;this.gg=w;this.log=v.hb("TaskScheduler");this.Sb=new q.Fk();this.config=t();this.currentIteration=this.nU=0;this.WI=[];this.paused=!1;this.S$=[];this.ySa=[];this.HJb=this.config.USb || p.append;this.addEventListener=this.Sb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;r=a(1);f=a(0);l=a(289);m=a(7);d=a(13);h=a(131);g=a(27);k=a(18);n=a(4);q=a(73);(function(v){v.prepend="prepend";v.append="append";v.UIb="ignore";})(p || (p={}));c.prototype.Aqb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.WI=this.IJb(v);this.nU=0;this.currentIteration+=1;this.Qf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Qf=function(){var v,t,u,w;v=this;if(this.nU === this.WI.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.nU,numberOfTasks:this.WI.length});else {t=this.bGb();u=this.currentIteration;t.startTime=this.gg.Wb().da(n.ja);t.status=h.Hk.bx;this.Sb.Cc(l.dK.PZb,{J:t.J,type:t.type});this.S$.push(t);w=function(x){t.endTime=v.gg.Wb().da(n.ja);x();v.ySa.push(t);v.S$.splice(v.S$.indexOf(t),1);v.currentIteration === u && (v.nU++,v.Qf());};t.WVb().then(function(){w(function(){t.status=h.Hk.AP;v.Qta(t,l.dK.QZb,"task succeeded");});}).catch(function(x){w(function(){0 <= [h.Hk.Dh,h.Hk.Itb,h.Hk.ija].indexOf(x.status)?(t.status=x.status,v.Qta(t,l.dK.NZb,"cancelled task")):(t.status=h.Hk.Ot,v.Qta(t,l.dK.OZb,"task failed",x));});});}};c.prototype.bGb=function(){return this.WI[this.nU];};c.prototype.getStats=function(v,t,u){var w,x,y,z;w=this.ySa.map(function(A){return A.Wt();});x=this.S$.map(function(A){return A.Wt();});y=this.is.Fg(v) && this.is.Fg(t);z={};if(this.is.Fg(u))return (z.dvb=w.filter(function(A){return A.movieId === u;}),z);w.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == h.Hk.bx?A.startTime:A.endTime;y && B && B >= v && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.Qta=function(v,t,u,w){var x;x=v.Wt();w?this.log.warn(u,x,w):this.log.trace(u,x);this.Sb.Cc(t,{J:v.J,type:v.type,reason:v.status});v.dO(x);};c.prototype.IJb=function(v){var t,u;t=this.WI.filter(function(w){return w.KRb && w.status === h.Hk.Ao;});u=this.HJb;return u === p.UIb?[].concat(v):u === p.prepend?t.concat(v):v.concat(t);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.qb)),r.__param(1,f.l(d.Xc)),r.__param(2,f.l(g.ag)),r.__param(3,f.l(k.fd))],a);b.lJa=a;},function(r,b,a){var l,m,d,h,g,k,n,q,p,v,t,u,w,x;function c(y,z,A,B,D,E,F,C,G,J,K){this.s2b=A;this.ib=B;this.gg=D;this.Xf=E;this.RVa=F;this.uCb=C;this.vCb=G;this.Wla=J;this.events=new x.EventEmitter();this.log=y.hb("VideoPreparer");this.config=z();this.oya={};this.H8={};this.Md={num_of_calls:0,num_of_movies:0};this.Dg=K.Dg;}function f(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;r=a(1);l=a(1142);m=a(13);d=a(0);h=a(7);g=a(81);k=a(27);n=a(289);q=a(18);p=a(4);v=a(131);t=a(290);u=a(503);w=a(291);x=a(17);c.prototype.u8a=function(y,z,A){this.Dg.setData(y,"ldl",z,A);};c.prototype.rZa=function(y){return this.Dg.RV(y,"ldl");};c.prototype.ZRa=function(y){this.Dg.clearData(y,"ldl",void 0,!0);};c.prototype.NM=function(y,z){return this.Dg.getData(y,z);};c.prototype.YWa=function(y){var z;z=this.Dg.getData(y,"ldl");this.Dg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.wbb=function(y){return this.E9a === y || this.wTa === y;};c.prototype.eI=function(y,z){var A,B,D;A=this;y=y.map(function(E){E.Db=E.Db || ({u3:{MRb:!1},Ej:0});A.ib.BG(E.Db.Ej) || (E.Db.Ej=0);A.ib.BG(E.Dd) && (E.Db.Y=E.Dd);return E;});B=y.map(function(E){return A.kyb(E,z);}).reduce(function(E,F){return E.concat(F);},[]);D=B.map(function(E){return E.J + "-" + E.type;});this.log.trace("prepare tasks",D);this.Xf.Aqb(B);this.Md.num_of_calls++;this.Md.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.H8[A] || ({})),{WI:this.Xf.getStats(y,z,A),cache:this.Dg.getStats(y,z),HDb:Object.assign(Object.assign({},this.Md),this.Wla.getStats())});};c.prototype.RHb=function(y){this.E9a=y;};c.prototype.QHb=function(y){this.log.trace("task scheduler paused on playback created");this.Xf.pause();this.config.vzb && this.Dg.Bja(y,["manifest"]);this.config.uzb && this.Dg.Bja(y,["ldl"]);this.config.qzb && this.Dg.clearData(y,"manifest");this.Wla.S6a(y);this.wTa=y;};c.prototype.oZa=function(){this.log.info("track changed, clearing all manifests from cache");this.Dg.Bja("none",["manifest"]);};c.prototype.PHb=function(y){var z;z=this;this.config.rzb?this.Dg.clearData(y,"manifest"):this.Dg.RV(y,"manifest") && this.Dg.getData(y,"manifest").then(function(A){A.uc.isSupplemental || z.Dg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Gja(y);this.E9a=this.wTa=void 0;};c.prototype.Gja=function(y){delete this.oya[y];};c.prototype.yz=function(y){return this.oya[y];};c.prototype.vTa=function(y){return this.oya[y]=this.s2b.Uy();};c.prototype.a9a=function(y,z){if(this.rZa(y))return v.Hk.Dh;if(!z.SV)return v.Hk.ija;};c.prototype.kyb=function(y,z){var A,B;y.xe && y.Db && (y.Db.xe=y.xe);this.L0b(y.J,y.Bl);A=this.Rxb(y,z);B=this.Nxb(y,null === A || void 0 === A?void 0:A.id,z);y=this.Txb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(f);};c.prototype.Rxb=function(y,z){if(this.Dg.RV(y.J,"manifest"))this.log.trace("manifest exists in cache for " + y.J);else return new l.LR("manifest",this.gg.Wb().da(p.ja),! !y.Db.Oh,void 0,z,this.RVa,y,this);};c.prototype.Nxb=function(y,z,A){if(this.config.PU)if(this.Dg.RV(y.J,"ldl"))!1;else return this.config.hp?new l.LR("ldl",this.gg.Wb().da(p.ja),! !y.Db.Oh,z,A,this.uCb,y,this):new l.LR("ldl",this.gg.Wb().da(p.ja),! !y.Db.Oh,z,A,this.vCb,y,this);};c.prototype.Txb=function(y,z,A){if(this.config.cVa)return new l.LR("getMedia",this.gg.Wb().da(p.ja),! !y.Db.Oh,z,A,this.Wla,y,this);};c.prototype.L0b=function(y,z){this.H8[y] || (this.H8[y]={M9:0,Bl:0});y=this.H8[y];y.M9=(void 0 !== y?void 0 !== y.M9?y.M9:0:0) + 1;y.Bl=z;};a=c;a=r.__decorate([d.R(),r.__param(0,d.l(h.qb)),r.__param(1,d.l(m.Xc)),r.__param(2,d.l(g.Ex)),r.__param(3,d.l(k.ag)),r.__param(4,d.l(q.fd)),r.__param(5,d.l(n.iea)),r.__param(6,d.l(u.kJa)),r.__param(7,d.l(u.jJa)),r.__param(8,d.l(u.iJa)),r.__param(9,d.l(w.Sya)),r.__param(10,d.l(t.Jba))],a);b.ULa=a;},function(r,b,a){var f,l;function c(m,d,h,g,k,n,q,p){this.type=m;this.Ao=d;this.KRb=void 0 === h?!1:h;this.notify=k;this.wCb=n;this.xO=q;this.Ed=p;this.id=++l;this.status=f.Hk.Ao;}Object.defineProperty(b,"__esModule",{value:!0});b.LR=void 0;f=a(131);l=0;c.prototype.Wt=function(){var m;m={id:this.id,type:this.type,created:this.Ao,status:this.status,movieId:this.J};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.dO=function(m){this.notify && this.notify(m);};c.prototype.WVb=function(){return this.wCb.fetch(this.xO,this.Ed);};Xa.Object.defineProperties(c.prototype,{J:{configurable:!0,enumerable:!0,get:function(){return this.xO.J;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.xO.priority;}}});b.LR=c;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y;function c(z,A,B,D,E,F,C,G,J,K){this.fs=B;this.SY=D;this.Rc=E;this.ya=F;this.za=C;this.GN=G;this.URb=J;this.nk=K;this.log=z.hb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(131);h=a(62);g=a(57);k=a(34);n=a(155);q=a(187);p=a(36);v=a(4);t=a(38);u=a(18);w=a(188);x=a(199);a=a(118);c.prototype.fetch=function(z,A){var B;B=this;this.log.trace("Fetching LDL",w.KJ(z));this.J=z.J;this.Ed=A;return A.NM(z.J,"ldl").catch(function(){B.log.trace("Requesting a new license",w.KJ(z));return B.nk.I5(z.J).then(function(D){var E,F;B.oa=D;B.uc=D.uc;if(D=B.Ed.a9a(z.J,B.uc))throw {status:D};D=B.uc.cB[0].Hu;E=B.uc.cB[0].jla;F=(D?D:[E]).map(function(C){return B.Rc.decode(C.bytes);});B.mf=B.wG({RUa:B.log,Ila:function(C){return B.handleError(C);},Cd:void 0,isa:function(){},ya:{getTime:function(){return B.za.Wb().da(v.ja);},Q9b:function(){return B.ya.ef.da(v.eo);}}});A.u8a(z.J,B.mf);return B.mf.create(B.config.um).then(function(){return B.mf.Gg(g.Vh.ao,F,!0);}).then(function(){return B.mf;}).catch(function(C){B.handleError(C);throw C;});}).catch(function(D){B.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.Hk.Dh};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.mf.close();this.Ed.ZRa(this.J);this.Ed.Gja(this.J);};c.prototype.wG=function(z){var A,B;A=this;if(!this.fs.IJ || !this.fs.GJ){B=this.URb();this.fs.IJ=B.Yb;this.fs.GJ=B.request;}B=new this.fs.GJ(z.RUa,function(D){var E;E=[];D.dk.forEach(function(F){E.push({sessionId:F.sessionId,dataBase64:A.Rc.encode(F.data)});});D={dk:E,L4:[A.uc.pm],Tf:h.$n.SSa(D.Tf),Ri:A.uc.Ri,ba:A.Ed.vTa(A.J),lk:A.oa.lk};A.log.trace("xid created ",{MovieId:A.J,xid:D.ba});return A.GN.ty(D);},void 0,{pf:!1,Wk:!1});return this.fs.IJ(z.RUa,z.Cd,{pf:!1,Wk:!1,Ll:B,TX:this.config.b6a,X:void 0,$A:this.config.ZUa,onerror:z.Ila,isa:z.isa,ya:z.ya,$H:!1,Lrb:this.SY.g4([]),P1b:this.SY.j4([]),Q6:this.config.Q6});};y=c;y=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.Xc)),r.__param(2,f.l(k.wB)),r.__param(3,f.l(n.RR)),r.__param(4,f.l(p.zi)),r.__param(5,f.l(t.Sh)),r.__param(6,f.l(u.fd)),r.__param(7,f.l(q.iR)),r.__param(8,f.l(x.Tda)),r.__param(9,f.l(a.OE))],y);b.AEa=y;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v,t,u,w,x,y){this.Rc=u;this.zAb=w;this.RN=x;this.nk=y;this.log=v.hb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(57);h=a(36);g=a(121);k=a(138);n=a(131);q=a(188);a=a(118);c.prototype.fetch=function(v,t){var u;u=this;this.log.trace("Fetching LDL",q.KJ(v));this.J=v.J;this.Ed=t;return t.NM(v.J,"ldl").then(function(w){return w.E$;}).catch(function(){u.log.trace("Requesting a new license",q.KJ(v));return u.nk.I5(v.J).then(function(w){var x,y,z,A;u.uc=w.uc;if(t.rZa(v.J))return t.NM(v.J,"ldl").then(function(B){return B.E$;});x=u.Ed.a9a(v.J,u.uc);if(x)throw {status:x};y=u.uc.cB[0].Hu;x=u.uc.cB[0].jla;z=(y?y:[x]).map(function(B){return u.Rc.decode(B.bytes);});A=u.zAb().then(function(B){var D;D={type:d.Vh.ao,initData:z,context:{Hu:y},Qi:{J:v.J,ba:t.vTa(v.J),Ri:u.uc.Ri,pm:u.uc.pm,lk:w.lk}};return B.Gg(D,u.RN());}).catch(function(B){u.handleError("Unable to prepare an EME session.",B);throw B;});u.Ed.u8a(v.J,{E$:A,source:"videopreparer"},function(){if(!u.Ed.wbb(v.J))try{A.then(function(B){return B.close();}).catch(function(B){u.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){u.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return A;}).catch(function(w){u.log.warn("Manifest not available for ldl request",w);if(void 0 !== w.status)throw w;throw {status:n.Hk.Dh};});});};c.prototype.handleError=function(v,t){this.log.warn(v + " LDL is now invalid.",t);this.Ed.ZRa(this.J);this.Ed.Gja(this.J);};p=c;p=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.Xc)),r.__param(2,f.l(h.zi)),r.__param(3,f.l(g.W_)),r.__param(4,f.l(k.rR)),r.__param(5,f.l(a.OE))],p);b.JEa=p;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v,t,u,w,x){this.Wqa=u;this.gg=w;this.nk=x;this.log=v.hb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;r=a(1);f=a(13);l=a(0);m=a(7);d=a(18);h=a(4);g=a(157);k=a(103);n=a(188);q=a(118);p=a(57);c.prototype.fetch=function(v,t){var u,w;this.log.trace("Fetching manifest",n.KJ(v));w=v.Db;this.config.Qpb && w && w.oa && !this.nk.roa(v.J) && (!(("clientGenesis" in w.oa) && w.oa.clientGenesis) || Date.now() - w.oa.clientGenesis < this.config.P5a) && (w=this.Wqa.create(w.oa)) && (w.qI=this.gg.Wb().da(h.ja),w.PO=this.gg.Wb().da(h.ja),this.nk.aZ(v.J,w));return this.nk.WM({Z:v.J,bb:null !== (u=v.Db) && void 0 !== u?u:{},St:k.Sm.bF,Tf:p.Vh.ao},!0,function(){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",Z:v.J});});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.qb)),r.__param(1,l.l(f.Xc)),r.__param(2,l.l(g.qR)),r.__param(3,l.l(d.fd)),r.__param(4,l.l(q.OE))],a);b.EFa=a;},function(r,b,a){var l,m,d,h,g,k,n,q,p,v,t,u,w;function c(){var x;x=this;this.promise=new Promise(function(y,z){x.resolve=y;x.reject=z;});}function f(x,y,z,A,B){var D;D=this;this.vta=z;this.RSb=A;this.nk=B;this.a_=[];this.uA=new Map();this.sQb=function(E){var F,C;E=E.wishListItem.key.Z;if(D.uA.has(E)){C=D.uA.get(E);E=C.xO;C=C.Rja;null === (F=C.resolve) || void 0 === F?void 0:F.call(C,E);}};this.e4a=function(E){!E.target.wbb(E.Z) && D.uA.has(E.Z) && (D.S6a(E.Z),D.U8a(D.a_),D.Fj.has(E.Z) && (D.Fj.zn(E.Z).Nt=!0));};this.sa=x.hb("VideoPreparer");this.config=y();this.Fj=new w.Xea();}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;r=a(1);l=a(7);a(188);m=a(133);d=a(47);h=a(13);g=a(14);k=a(103);n=a(291);q=a(0);p=a(504);v=a(17);t=a(118);u=a(57);w=a(505);f.prototype.fetch=function(x,y){if(-1 === y.events.listeners("manifestRemovedFromCache").indexOf(this.e4a))y.events.on("manifestRemovedFromCache",this.e4a);!1;this.U8a(this.Vub(this.tyb(x,y)));return this.uA.get(x.J).Rja.promise;};f.prototype.getStats=function(){return this.Fu.getStats();};f.prototype.Vub=function(x){return [x].concat(ea(this.a_.filter(function(y){return y.key.Z !== x.key.Z;}))).slice(0,this.config.PSb).map(this.config.QSb?function(y,z){return Object.assign({},y,{priority:z});}:function(y){return y;});};f.prototype.WM=function(x){var y;return this.nk.WM({Z:x.J,St:k.Sm.bF,Tf:u.Vh.ao,bb:null !== (y=x.Db) && void 0 !== y?y:{}}).then(function(z){return z.uc;});};f.prototype.tyb=function(x,y){var z,A,B,D,E,F;B=new c();if(this.uA.has(x.J)){D=this.uA.get(x.J);E=D.xO;if(E.J === x.J && E.xe === x.xe)F=D.m2b.key;this.Fu.getStats().contents.some(function(C){return C.id === x.J;}) && (B=D.Rja);}D=m.hn.Ne.Dt(g.Uja(x.xe));F || (F={Z:x.J,config:D});this.Fj.has(x.J) || this.Fj.store(x.J,this.syb(x,y,D));y={key:F,y$b:!1,priority:x.priority,x3:d.T.Fb(null !== (A=null === (z=x.Db) || void 0 === z?void 0:z.Y) && void 0 !== A?A:0),Fj:this.Fj};this.uA.set(x.J,{m2b:y,xO:x,Rja:B});return y;};f.prototype.syb=function(x,y,z){var A,B,D;A=this;B=x.J;return {get ba() {return y.yz(B);},Nt:!1,events:new v.EventEmitter(),hja:function(){},get fv() {D || (D=A.WM(x).then(function(E){return {oa:E,di:E.toa && !E.SV,config:z,g9a:{}};}));return D;},Z:B,c$a:!1,equals:function(E){var F;F=y.yz(B);return E.Z === B && (!E.ba || !F || F === E.ba);}};};f.prototype.C8a=function(x){this.a_=x;};f.prototype.U8a=function(x){this.C8a(x);this.Fu.T8a(this.a_);};f.prototype.S6a=function(x){this.uA.has(x) && (this.C8a(this.a_.filter(function(y){return y.key.Z !== x;})),this.uA.delete(x));};Xa.Object.defineProperties(f.prototype,{Fu:{configurable:!0,enumerable:!0,get:function(){this.ky || (this.ky=this.RSb(),this.ky.Uva(this.vta).t8a({iH:this.config.OSb}),this.ky.events.on("prefetchComplete",this.sQb));return this.ky;}}});a=f;a=r.__decorate([q.R(),r.__param(0,q.l(l.qb)),r.__param(1,q.l(h.Xc)),r.__param(2,q.l(p.gea)),r.__param(3,q.l(n.Tya)),r.__param(4,q.l(t.OE))],a);b.Rya=a;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q){var p;p=this;this.gg=n;n=q();this.Dg=new g({log:k.hb("CacheManager"),ya:{getTime:function(){return p.gg.Wb().da(d.ja);}},Promise:Promise,pf:!1,ctb:n.XSb,btb:n.VSb,$Bb:n.P5a,ZBb:n.WSb});}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;r=a(1);f=a(0);l=a(18);m=a(7);d=a(4);h=a(13);g=a(1148);c=r.__decorate([f.R(),r.__param(0,f.l(m.qb)),r.__param(1,f.l(l.fd)),r.__param(2,f.l(h.Xc))],c);b.Yza=c;},function(r,b,a){var d;function c(){return Object.create(null);}function f(h){this.log=h.log;this.ya=h.ya;this.zD=c();this.Promise=h.Promise;this.Ry=h.Ry;this.zxa=h.zxa;this.pf=h.pf || !1;this.nw=c();this.qC=c();this.gG=c();this.dpb(h);h.bq && (this.bq=h.bq);}function l(h){return "undefined" !== typeof h;}function m(h){var n;for(var g=0,k=arguments.length;g < k;){n=arguments[g++];if(l(n))return n;}}a(1149);d=a(1150);f.prototype.dpb=function(h){this.nw.manifest=m(h.$Bb,d.nw.oa);this.nw.ldl=m(h.ZBb,d.nw.tW);this.nw.metadata=m(h.A9b,d.nw.Dc);this.qC.manifest=m(h.ctb,d.qC.oa);this.qC.ldl=m(h.btb,d.qC.tW);this.qC.metadata=m(h.I8b,d.qC.Dc);this.gG.manifest=m(h.G8b,d.gG.oa);this.gG.ldl=m(h.F8b,d.gG.tW);this.gG.metadata=m(h.H8b,d.gG.Dc);};f.prototype.RV=function(h,g){this.Jt("undefined" !== typeof h);this.Jt("undefined" !== typeof g);return ! !this.XMa(h,g,void 0).value;};f.prototype.XMa=function(h,g,k){var n,q;n={value:null,reason:"",log:""};q=this.zD[g];if("undefined" === typeof q)return (n.log="cache miss: no data exists for field:" + g,n.reason="unavailable",n);"undefined" === typeof q[h]?(n.log="cache miss: no data exists for movieId:" + h,n.reason="unavailable"):(k=q[h][k?k:"DEFAULTCAPS"]) && k.value?this.l7(g,k.creationTime)?(n.log="cache miss: " + g + " data expired for movieId:" + h,n.reason="expired"):(n.log=this.Promise && k.value instanceof this.Promise?"cache hit: " + g + " request in flight for movieId:" + h:"cache hit: " + g + " available for movieId:" + h,n.value=k.value):(n.log="cache miss: " + g + " data not available for movieId:" + h,n.reason="unavailable");return n;};f.prototype.getData=function(h,g,k){this.Jt("undefined" !== typeof h);this.Jt("undefined" !== typeof g);h=this.XMa(h,g,k);this.log.trace(h.log);return h.value?this.Promise?h.value instanceof this.Promise?h.value:Promise.resolve(h.value):this.zxa?JSON.parse(this.zxa(h.value,"gzip",!1)):h.value:this.Promise?Promise.reject(h.reason):h.reason;};f.prototype.setData=function(h,g,k,n,q){var p,v,t;this.Jt("undefined" !== typeof h);this.Jt("undefined" !== typeof g);p=this.zD;v=q?q:"DEFAULTCAPS";p[g] || (p[g]=c(),Object.defineProperty(p[g],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(p[g],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.Ry?this.Ry(JSON.stringify(k),"gzip",!0):k;p=p[g];this.Pmb(h,g,v,p);t=this;n={creationTime:this.ya.getTime(),value:k,size:0,type:g,Vka:n,YBb:setTimeout(function(){t.clearData(h,g,v,!1,"expired");},this.nw[g] + 1)};p[h]=p[h] || c();p[h][v]=p[h][v] || c();p[h][v]=n;p.size+=0;p.numEntries++;this.bq && this.bq.emit("addedCacheItem",n);return n;};f.prototype.Pmb=function(h,g,k,n){var q,p,v,t,u,w,x,y,z;q=this;p=n.numEntries;v=this.qC[g];t=n[h] && n[h][k];if(t && t.value)(u=h,w="promise_or_expired");else if(p >= v){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][k];B && B.value && q.l7(g,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});u=z || x;w="cache_full";}this.pf && this.log.debug("makespace ",{maxCount:v,currentCount:n.numEntries,field:g,movieId:h,movieToBeRemoved:u});u && (q.clearData(u,g,k,void 0,w),this.log.debug("removed from cache: ",u,g));};f.prototype.Bja=function(h,g){var k,n;k=this;k.Jt("undefined" !== typeof h);n=h + "";g.forEach(function(q){var p;p=k.zD[q];p && Object.keys(p).forEach(function(v){v != n && k.clearData(v,q,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(h,g,k,n,q){var p;this.Jt("undefined" !== typeof h);this.Jt("undefined" !== typeof g);p=this.zD[g];g=p?p[h]:void 0;k=k?k:"DEFAULTCAPS";if(g && g[k]){p.size-=g[k].size;p.numEntries--;if(p=g && g[k])(clearTimeout(p.YBb),g[k]=void 0,!n && p.Vka && p.Vka());this.bq && (h={creationTime:p.creationTime,destroyFn:p.Vka,size:p.size,type:p.type,value:p.value,reason:q,movieId:h},this.bq.emit("deletedCacheItem",h));}};f.prototype.flush=function(h){var g;this.Jt("undefined" !== typeof h);g=this.zD;g[h]=c();g[h].numEntries=0;g[h].size=0;};f.prototype.XRa=function(){var h,g;this.Jt(!1);h=this;g=this.zD;g[void 0] instanceof Object && Object.keys(g[void 0]).forEach(function(k){var n;n=g[void 0][k].DEFAULTCAPS;h.ya.getTime() - n.creationTime > h.nw[void 0] && this.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};f.prototype.l7=function(h,g){return this.ya.getTime() - g > this.nw[h];};f.prototype.getStats=function(h,g,k){var n,q,p,v,t;n={};q=this;p=q.zD;v=l(h) && l(g);t=k || "DEFAULTCAPS";Object.keys(p).forEach(function(u){var w,x;w=Object.keys(p[u]);x=p[u];w.forEach(function(y){!(y=x && x[y] && x[y][t]) || !l(y.value) || y.value instanceof this.Promise || (n[u]=(n[u] | 0) + 1,q.l7(y.type,y.creationTime) && (n[u + "_expired"]=(n[u + "_expired"] | 0) + 1),v && y.creationTime >= h && y.creationTime < g && (n[u + "_delta"]=(n[u + "_delta"] | 0) + 1));});});return n;};f.prototype.getState=function(h){var g,k,n,q;g=[];k=this;n=k.zD;q=h || "DEFAULTCAPS";Object.keys(n).forEach(function(p){var v,t;v=Object.keys(n[p]);t=n[p];v.forEach(function(u){var w,x;w=t && t[u] && t[u][q];if(w && l(w.value)){x=k.l7(w.type,w.creationTime)?"expired":w.value instanceof this.Promise?"loading":"cached";g.push({movieId:u,state:x,type:p,size:w.size});}});});return g;};f.prototype.Jt=function(h){if(!h && (this.log.error("Debug Assert Failed",void 0),this.pf))throw Error("Debug Assert Failed ");};r.exports=f;},function(r){function b(a){var c;c=[];return (function m(l){if(l && "object" === typeof l){if(-1 !== c.indexOf(l))return !0;c.push(l);for(var d in l){if(l.hasOwnProperty(d) && m(l[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var l;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){l=a.pop();if("boolean" === typeof l)f+=4;else if("string" === typeof l)f+=2 * l.length;else if("number" === typeof l)f+=8;else if("object" === typeof l && -1 === c.indexOf(l)){c.push(l);for(var m in l){a.push(l[m]);}}}return f;};},function(r){r.exports={nw:{oa:12E5,tW:9E5,Dc:12E5},qC:{oa:10,tW:10,Dc:10},gG:{oa:10240,tW:10240,Dc:10240}};},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ka=void 0;r=a(0);c=a(189);f=a(1152);l=a(506);m=a(1153);d=a(507);h=a(1154);g=a(1155);k=a(508);n=a(1156);b.Ka=new r.pd(function(q){q(c.cca).to(f.pBa).aa();q(l.VFa).to(m.UFa).aa();q(d.QGa).to(h.PGa).aa();q(d.bGa).to(g.aGa).aa();q(k.$Fa).to(n.ZFa).aa();});},function(r,b,a){var f,l,m,d;function c(h){function g(k,n){this.I=k;this.Vl=n;this.i5=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Cg=h.hb("DownloadTrack");}g.prototype.Xp=function(){!1;this.P2=void 0;this.emit("destroyed");};g.prototype.toString=function(){return "id:" + this.P2 + " config: " + JSON.stringify(this.I);};g.prototype.toJSON=function(){return "Download Track id:" + this.P2 + " config: " + JSON.stringify(this.I);};g.prototype.Z9=function(k){this.I.connections !== k.connections && (this.I=k);};g.prototype.ju=function(){return 1 < this.I.connections?!0:!1;};Xa.Object.defineProperties(g.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.P2;}},Ao:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.P2;}},config:{configurable:!0,enumerable:!0,get:function(){return this.I;}},sO:{configurable:!0,enumerable:!0,get:function(){return this.Cg;}},BH:{configurable:!0,enumerable:!0,get:function(){return this.Vl.BH;}}});this.EJ=Object.assign(g,new m.qBa());}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;r=a(1);f=a(0);l=a(7);m=a(189);d=a(113).EventEmitter;c=r.__decorate([f.R(),r.__param(0,f.l(l.qb))],c);b.pBa=c;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v,t,u,w,x,y){this.AL=v;this.gf=u;this.ib=w;this.za=x;this.config=y;this.log=t.hb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;r=a(1);f=a(190);l=a(98);m=a(3);d=a(7);h=a(0);g=a(87);k=a(27);n=a(18);q=a(4);a=a(13);c.prototype.qz=function(){return this.za.Wb().da(q.ja);};c.prototype.K3a=function(v,t){v.lPb({mediaRequest:v,timestamp:t});};c.prototype.d4a=function(v){var t;t=v.mediaRequest.iA;t.readyState=f.pc.Pc.Qx;v=v.connect?v:{timestamp:this.qz(),connect:!1};v.mediaRequest=t;v.readyState=t.readyState;t.hsa(v);};c.prototype.h9=function(v){this.K3a(v.mediaRequest.iA,v.timestamp);};c.prototype.j9=function(v){var t,u;t=v.mediaRequest.iA;u=v.bytes;"undefined" === typeof t?!1:(t.readyState === f.pc.Pc.Rx && this.d4a(v),this.ib.Fi(u) && (v.mediaRequest=t,v.timestamp=this.qz(),u > t.bytesReceived && (v.newBytes=u - t.bytesReceived,v.bytesLoaded=u,t.pPb(v))));};c.prototype.Jn=function(v){var t,u,w,x;t=v.mediaRequest;u=v.errorcode;w=v.httpcode;x=f.pc.Z_;if("undefined" === typeof t)!1;else if((t=t.iA,"undefined" === typeof t))!1;else if(t.readyState !== f.pc.Pc.JJ)if(u === m.L.oB)(t.readyState=f.pc.Pc.dQ,v.mediaRequest=t,v.readyState=t.readyState,t.gPb(v));else {t.readyState=f.pc.Pc.JJ;switch(u){case m.L.dR:w=x.Pza;break;case m.L.yca:w=x.vca;break;case m.L.aR:w=400 < w && 500 > w?x.xca:500 <= w?x.iDa:x.vca;break;case m.L.bR:w=x.wca;break;case m.L.$Q:w=x.Qza;break;case m.L.cR:w=x.q0;break;case m.L.FE:w=x.q0;break;case m.L.hDa:w=x.gDa;break;case m.L.dDa:w=x.xca;break;case m.L.Leb:w=x.wca;break;default:w=x.q0;}v.mediaRequest=t;v.readyState=t.readyState;v.errorcode=w;v.nativecode=u;t.jsa(v);}};c.prototype.Bsa=function(v,t){var u,w;u=t.request.iA;if(u)if(t.$){if((!1,v.j && u.readyState !== f.pc.Pc.DONE)){switch(u.readyState){case f.pc.Pc.dQ:!1;return;case f.pc.Pc.JJ:!1;break;case f.pc.Pc.Qx:break;case f.pc.Pc.Rx:this.d4a({mediaRequest:t.request});break;default:!1;}u.readyState=f.pc.Pc.DONE;if(!u.Zc){w={mediaRequest:u,readyState:u.readyState,timestamp:this.qz(),cadmiumResponse:t};v.j.hxa+=1;u.kHb();u.GKb() && (v.j.bva+=1,t.wm.ri=Math.ceil(u.lma),t.wm.Yo=Math.ceil(u.pG),t.wm.Hq=Math.floor(u.oD));u.Z3=w;u.dO(w);}}}else (!1,u.readyState === f.pc.Pc.dQ?!1:(v={mediaRequest:t.request,timestamp:this.qz(),errorcode:t.na,httpcode:t.ik},this.Jn(v)));};c.prototype.download=function(v,t){var u,w;u=this;t=this.gf.download(v,t);if(v.iA){w=v.iA;-1 < [f.pc.Pc.OPENED,f.pc.Pc.JJ].indexOf(w.readyState) && (w.readyState=f.pc.Pc.Rx,this.config().ONb?t.iXb(function(x){u.h9(x);}):this.K3a(w,this.qz()));}t.Bha(function(x){u.Bsa(v,x);});t.oXb(function(x){u.j9(x);});t.$Wb(function(x){u.Jn(x);});return t;};p=c;p=r.__decorate([h.R(),r.__param(0,h.l(l.fQ)),r.__param(1,h.l(d.qb)),r.__param(2,h.l(g.Fx)),r.__param(3,h.l(k.ag)),r.__param(4,h.l(n.fd)),r.__param(5,h.l(a.Xc))],p);b.UFa=p;},function(r,b,a){var f,l,m;function c(d,h){this.gf=h;this.log=d.hb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;r=a(1);f=a(0);l=a(7);a=a(87);c.prototype.kV=function(d,h,g){d={url:d.url,kWb:g};!1;this.gf.gYb(d);};c.prototype.XF=function(d){try{d.Ooa();}catch(h){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(a.Fx))],m);b.PGa=m;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u,w,x,y,z){this.za=t;this.Kr=u;this.config=w;this.gf=y;this.NNb=z;this.log=x.hb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;r=a(1);f=a(47);l=a(0);m=a(7);d=a(87);h=a(506);g=a(90);k=a(190);n=a(18);q=a(4);p=a(40);a=a(13);c.prototype.kV=function(t,u,w){var y,z,A;function x(){t.removeEventListener(k.pc.Ke.ZE,x);t.XU?t.XU++:t.XU=1;t.XU >= y.config().Ula.length && (t.XU=y.config().Ula.length - 1);setTimeout(function(){y.kV(t,u,w);},y.config().Ula[t.XU]);}y=this;t.z$b=!0;z=this.NNb.download({url:t.url,responseType:this.gf.ljb.zcb,withCredentials:!1,AC:t.mediaType === f.Rb.Ta.Ub?"audio":"video",offset:u.start,length:t.$g,track:{type:t.mediaType === f.Rb.Ta.Ub?g.Bi.audio:g.Bi.video},stream:{yc:t.Oa,bitrate:t.bitrate},kc:t.Ld,iA:t,N$:w,Js:this.Kr.Js},function(B){B.$ && t.readyState !== k.pc.Pc.DONE && (t.readyState === k.pc.Pc.dQ?!1:(t.readyState === k.pc.Pc.JJ?!1:t.readyState === k.pc.Pc.Rx?(t.readyState=k.pc.Pc.Qx,t.hsa({mediaRequest:t,readyState:t.readyState,timestamp:y.qz(),connect:!1})):t.readyState !== k.pc.Pc.Rx && t.readyState !== k.pc.Pc.Qx && !1,t.readyState=k.pc.Pc.DONE,B={mediaRequest:t,readyState:t.readyState,timestamp:y.qz(),cadmiumResponse:B,response:B.content},t.Z3=B,t.dO(B)));});if(t.Zc){A={mediaRequest:t,readyState:t.readyState,timestamp:this.qz(),connect:!1};t.hsa(A);}t.addEventListener(k.pc.Ke.ZE,x);t.Ooa=z.abort;};c.prototype.XF=function(t){try{t.Ooa();}catch(u){this.log.warn("exception aborting request");}};c.prototype.qz=function(){return this.za.Wb().da(q.ja);};v=c;v=r.__decorate([l.R(),r.__param(0,l.l(n.fd)),r.__param(1,l.l(p.Qm)),r.__param(2,l.l(a.Xc)),r.__param(3,l.l(m.qb)),r.__param(4,l.l(d.Fx)),r.__param(5,l.l(h.VFa))],v);b.aGa=v;},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v,t,u,w){function x(z,A){this.track=z;this.label=A;this.Ah=n.pc.Pc.UNSENT;this.bytesReceived=0;this.ps=[];this.requestId=w.Uy().toString();this.ib=v;this.log=p.hb("MediaRequest");this.config=q;this.Sb=new k.Fk();"notification" === this.label?this.config().hz && (this.BH=t):this.BH=u;!1;}function y(z,A){this.requestId=w.Uy().toString();this.ib=v;this.log=p.hb("MediaRequest");this.config=q;this.Sb=new k.Fk();this.label=A;"notification" === this.label?this.config().hz && (this.BH=t):this.BH=u;this.dW=this.LL=this.ML=void 0;this.track=z;this.H3=this.url=this.responseType=void 0;this.Ah=n.pc.Pc.UNSENT;this.sj=this.DM=this.mh=this.status=void 0;this.ks=this.bytesReceived=0;this.connect=this.lma=this.pG=this.oD=this.bqa=this.qf=this.kma=this.loadTime=this.gL=void 0;this.ps=[];this.Ao=!1;!1;}x.prototype.addEventListener=function(z,A,B){this.Sb.addListener.call(this,z,A,B);};x.prototype.removeEventListener=function(z,A){this.Sb.removeListener.call(this,z,A);};x.prototype.emit=function(z,A,B){this.Sb.Cc.call(this,z,A,B);};x.prototype.lPb=function(z){this.Ah === n.pc.Pc.OPENED && (this.dW=!0,this.loadTime=this.qf=z.timestamp,!1,this.Ah=n.pc.Pc.Rx,this.emit(n.pc.Ke.IGa,z));};x.prototype.hsa=function(z){var A;if(this.Ah < n.pc.Pc.Qx){this.ps=[];A=z.timestamp - this.loadTime;!this.Zc && 0 < A && (this.connect=!0,this.ps.push(A));!0 === this.config().YIb?this.kma=z.timestamp:this.kma=this.qf=z.timestamp;!1;this.Ah=n.pc.Pc.Qx;this.emit(n.pc.Ke.HGa,z);}};x.prototype.pPb=function(z){this.Ah === n.pc.Pc.Qx && (!1,this.bqa=this.qf=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.ib.Fg(this.bqa) && this.emit(n.pc.Ke.JGa,z));};x.prototype.dO=function(z){-1 < [n.pc.Pc.Rx,n.pc.Pc.Qx].indexOf(this.Ah) && (this.dW=!1,!1,this.qf=z.timestamp,this.Ah=n.pc.Pc.DONE,z.newBytes=this.$g - this.bytesReceived,this.bytesReceived=this.$g,this.ib.Fg(this.pG) && (this.qf=this.pG,0 === z.newBytes && (this.bqa=this.pG)),this.ib.Fg(this.oD) && (this.loadTime=this.oD),this.gL=z.response,this.emit(n.pc.Ke.zR,z));};x.prototype.gPb=function(z){this.dW=!1;!1;this.emit(n.pc.Ke.Vhb,z);};x.prototype.jsa=function(z){this.qf=z.timestamp;this.status=z.httpcode;this.mh=z.errorcode;this.DM=n.pc.Z_.name[this.mh];this.sj=z.nativecode;!1;this.emit(n.pc.Ke.ZE,z);this.dW=!1;};x.prototype.open=function(z,A,B,D,E,F,C){this.bx=!1;this.H3=A;this.url=z;this.responseType=B;!1;if(!this.url)return (!1,!1);this.Ah=n.pc.Pc.OPENED;this.BH.kV(this,A,C);return !0;};x.prototype.cd=function(){!1;-1 !== [n.pc.Pc.OPENED,n.pc.Pc.Rx,n.pc.Pc.Qx].indexOf(this.Ah) && this.abort();return !0;};x.prototype.YRa=function(){this.gL=void 0;this.Z3 && (this.Z3.response=void 0,this.Z3.cadmiumResponse.content=void 0);this.Ooa=void 0;};x.prototype.aaa=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.Ah=n.pc.Pc.dQ;this.BH.XF(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.hY=function(){};x.prototype.ii=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.ii(),segmentId:this.wa,isHeader:this.Zc,ptsStart:this.yA,ptsOffset:this.Lu,responseType:this.responseType,duration:this.Hr,readystate:this.Ah};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.kHb=function(){var z,A;if(this.config().gbb && d.vv && d.vv.getEntriesByType && (!this.ib.Fg(this.oD) || !this.ib.Fg(this.pG) && this.ib.Fg(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.ML + "-" + this.LL + "*");A=new RegExp(z);z=d.vv.getEntriesByType("resource").filter(function(B){return A.exec(B.name);})[0];this.ib.Fg(z) && (0 < z.startTime && (this.oD=z.startTime,0 < z.requestStart && (this.oD=Math.max(this.oD,z.requestStart))),0 < z.responseStart && (this.lma=z.responseStart),0 < z.responseEnd && (this.pG=z.responseEnd));}};x.prototype.GKb=function(){return this.ib.Fg(this.oD) && this.ib.Fg(this.pG) && this.ib.Fg(this.lma);};Xa.Object.defineProperties(x.prototype,{$g:{configurable:!0,enumerable:!0,get:function(){return this.H3.end - this.H3.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.LL - this.ML + 1;}},uZa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Zc:{configurable:!0,enumerable:!0,get:function(){return !this.gD;}},response:{configurable:!0,enumerable:!0,get:function(){return this.gL;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ah;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var A;A=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,A);});this.Zq=Object.assign(y,n.pc);}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(11);h=a(27);g=a(507);k=a(73);n=a(190);a=a(81);c=r.__decorate([f.R(),r.__param(0,f.l(m.Xc)),r.__param(1,f.l(l.qb)),r.__param(2,f.l(h.ag)),r.__param(3,f.l(g.QGa)),r.__param(4,f.l(g.bGa)),r.__param(5,f.l(a.Ex))],c);b.ZFa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.i3a=void 0;r=a(0);c=a(330);f=a(1158);b.i3a=new r.pd(function(l){l(c.pda).to(f.qGa).aa();});},function(r,b,a){var f,l,m,d,h;function c(g){return l.Ye.call(this,g,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qGa=void 0;r=a(1);f=a(45);l=a(46);m=a(0);d=a(37);h=a(4);na(c,l.Ye);Xa.Object.defineProperties(c.prototype,{$2a:{configurable:!0,enumerable:!0,get:function(){return h.Kc(5E3);}},q4a:{configurable:!0,enumerable:!0,get:function(){return h.Kc(1E3);}},r4a:{configurable:!0,enumerable:!0,get:function(){return h.Kc(1E3);}}});a=c;r.__decorate([f.config(f.Yk,"minDecoderBufferMilliseconds")],a.prototype,"$2a",null);r.__decorate([f.config(f.Yk,"optimalDecoderBufferMilliseconds")],a.prototype,"q4a",null);r.__decorate([f.config(f.Yk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"r4a",null);a=r.__decorate([m.R(),r.__param(0,m.l(d.Tl))],a);b.qGa=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.d5a=void 0;r=a(0);c=a(509);f=a(1160);l=a(66);m=a(1162);d=a(512);h=a(1163);g=a(464);k=a(1164);n=a(191);q=a(1165);b.d5a=new r.pd(function(p){p(l.Ws).to(m.sHa).aa();p(c.uHa).to(f.tHa).aa();p(g.EHa).to(k.DHa);p(g.CHa).uf(function(v){return function(){return v.$a.get(g.EHa);};});p(d.aIa).to(h.$Ha).aa();p(n.S0).to(q.XHa).aa();});},function(r,b,a){var m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A;function c(B){this.config=B;this.Py=[];}function f(B,D,E){this.za=B;this.KP=D;this.context=E;this.startTime=this.za.Wb();}function l(B,D,E,F,C,G,J,K,I){this.dab=D;this.json=E;this.za=F;this.Kr=C;this.cua=G;this.Lc=J;this.config=K;this.Sb=I;this.log=B.hb("Pbo");K.K6a && (this.Py=new c(K));this.KP=this.dab();}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(1);m=a(0);d=a(4);h=a(510);g=a(7);k=a(39);n=a(18);q=a(40);p=a(140);v=a(48);t=a(511);u=a(66);w=a(97);x=a(15);y=a(68);z=a(1161);A={"shakti-":"akira","UI-":"chromecast"};l.prototype.send=function(B,D){var E;E=new f(this.za,this.KP,B);this.Py && this.Py.append(E);return this.Gva(B,D,E);};l.prototype.Gva=function(B,D,E){var F;F=this;return new Promise(function(C,G){F.retry(B,D).then(function(J){var K,I;F.HWb(J);K=ba(F.E1b(J));I=K.next().value;K=K.next().value;I && (F.Qub(E),C(J));K && (F.lSa(E,K),G(K));}).catch(function(J){var K;K=F.lSa(E,J);J.ub && (J.ub=[J.ub," ",K].join(""));G(J);});});};l.prototype.HWb=function(B){(B=B.serverTime) && this.Sb.Cc(x.Ica.l8a,d.Kc(B));};l.prototype.E1b=function(B){var D;!1;D=B.result;if(("deviceCommand" in B)){B=B.deviceCommand;this.log.trace("Received device command '" + B + "'");switch(B){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + B + "'"));}return [,{JD:!0,code:D,detail:{message:"Server sent device action to '" + B + "' device"}}];}if(D)return (!1,[D,void 0]);if(B.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",B),[,{code:B.code,detail:{message:B.message}}]);this.log.error("Response did not contain a result or an error",B);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};l.prototype.Grb=function(B,D,E){var F;F=this;this.R0b(D,B);this.KP=this.dab(E);return this.KP.send(D,E).then(function(C){return {retry:!1,result:z.Q0.rRb(F.json,C.body)};}).catch(function(C){var G,J;G=z.Q0.PFb(C);J=void 0 !== G?Math.min(G,D.eva):D.eva;return F.K$(D,C,B,J)?(G=F.rtb(C,B,J),F.log.warn("Method failed, retrying",Object.assign({Method:D.xl,Attempt:B + 1,WaitTime:G,MaxRetries:J},F.Hka(C))),Promise.resolve({retry:!0,delay:G,error:C})):Promise.resolve({retry:!1,error:C});});};l.prototype.QDb=function(B){var D,E;if(!this.vha || this.vha.WQb !== B){D="";E=B;Object.entries(A).find(function(F){var C;C=ba(F);F=C.next().value;C=C.next().value;if(0 === B.indexOf(F))return (D=C,B=B.slice(F.length),!0);});this.vha={gSa:D,WA:B,WQb:E};}return this.vha;};l.prototype.R0b=function(B,D){var E,F,C,G;G=B.url.searchParams;G.set(y.yB.ojb,(D + 1).toString());G.set(y.yB.pjb,B.Qua);B=this.QDb(null !== (E=this.config.WA) && void 0 !== E?E:"");B.gSa && (G.set(y.yB.Mdb,B.gSa),B.WA && G.set(y.yB.ckb,encodeURIComponent(B.WA)),E=this.Kr.ee,(null === E || void 0 === E?0:E.name) && G.set(y.yB.gdb,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && G.set(y.yB.mdb,encodeURIComponent(E.version)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.name) && G.set(y.yB.Whb,encodeURIComponent(E.os.name)),(null === (C=null === E || void 0 === E?void 0:E.os) || void 0 === C?0:C.version) && G.set(y.yB.Xhb,encodeURIComponent(E.os.version)));};l.prototype.retry=function(B,D,E){var F;F=this;E=void 0 === E?0:E;return this.Grb(E++,B,D).then(function(C){if(C.retry)return F.wait(C.delay).then(function(){return F.retry(B,D,E);});if(C.error)throw C.error;if(void 0 === C.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return C.result;});};l.prototype.K$=function(B,D,E,F){var C;C=this.Kr.H7a || z.Q0.HKb(D);if(C && E < F)return !0;C?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:B.xl,Attempt:E + 1,MaxRetries:F},this.Hka(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:B.xl},this.Hka(D)));return !1;};l.prototype.rtb=function(B,D,E){return B && B.UD && void 0 !== B.UD.retryAfterSeconds?d.uh(B.UD.retryAfterSeconds):d.Kc(this.cua.n6a(1E3 * (0 === D?1:D),1E3 * Math.pow(2,Math.min(D,E))));};l.prototype.wait=function(B){var D;D=this;return new Promise(function(E){D.Lc.zk(B || d.Gb,E);});};l.prototype.Hka=function(B){return t.e0a(B)?B:{message:B.message,subCode:B.zc,extCode:B.Jd,mslCode:B.kA,data:B.data};};l.prototype.Qub=function(B){B.AP();};l.prototype.lSa=function(B,D){var E;B.Ot(D);if(this.Py)try{E=this.json.stringify(this.Py);this.log.error("PBO command history",E);return E;}catch(F){}return "";};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(g.qb)),r.__param(1,m.l(h.tLa)),r.__param(2,m.l(k.IE)),r.__param(3,m.l(n.fd)),r.__param(4,m.l(q.Qm)),r.__param(5,m.l(p.$0)),r.__param(6,m.l(v.Pj)),r.__param(7,m.l(u.Ws)),r.__param(8,m.l(w.nca))],a);b.tHa=a;f.prototype.AP=function(){this.$=!0;this.elapsedTime=this.za.Wb().Qa(this.startTime);};f.prototype.Ot=function(B){this.$=!1;this.elapsedTime=this.za.Wb().Qa(this.startTime);this.fZb=B.zc || B.subCode;this.dCb=B.Jd || B.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var B;B=Object.assign({success:this.$,method:this.context.xl,startTime:this.startTime.da(d.ja),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.ja):"in progress"},this.KP.Zja());return this.$?B:Object.assign(Object.assign(Object.assign({},B),this.KP.Zja()),{subcode:this.fZb,extcode:this.dCb});};c.prototype.append=function(B){this.Py.push(B);0 < this.config.Koa && this.Py.length > this.config.Koa && this.Py.shift();};c.prototype.toJSON=function(){return this.Py;};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Q0=void 0;f=a(3);c.HKb=function(l){var m,d;m=l && l.code;d=l && (l.na || l.zc);l=l.Jd !== f.s0.jHa;d=! !d && d >= f.L.dR && d <= f.L.bR && l;return !("RETRY" !== m && "FAIL" !== m) || d;};c.PFb=function(l){var m,d;d=null === (m=null === l || void 0 === l?void 0:l.UD) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === l || void 0 === l?void 0:l.code)?1:void 0;};c.rRb=function(l,m){var d;if(m){try{d=l.parse(m);}catch(h){throw {JD:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (l=d.result.find(function(h){return h.error;})))throw l.error;return d;}throw {JD:!0,code:"FAIL",message:"There is no result property on the response"};}throw {JD:!0,code:"FAIL",message:"There is no body property on the response"};};b.Q0=c;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q){k=l.Ye.call(this,k,"PboConfigImpl") || this;k.config=n;k.crb=q;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;r=a(1);f=a(0);l=a(46);m=a(37);d=a(45);h=a(13);a=a(122);na(c,l.Ye);Xa.Object.defineProperties(c.prototype,{WA:{configurable:!0,enumerable:!0,get:function(){return this.config().Ir.WA || "";}},xaa:{configurable:!0,enumerable:!0,get:function(){return this.config().Ir.xaa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Ir.Fta;}},Dpa:{configurable:!0,enumerable:!0,get:function(){return !1;}},FNb:{configurable:!0,enumerable:!0,get:function(){return !0;}},HNb:{configurable:!0,enumerable:!0,get:function(){return !0;}},m8a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",version:"^1.0.0"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.crb.XQa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.n8a);}},n8a:{configurable:!0,enumerable:!0,get:function(){return {};}},K6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Koa:{configurable:!0,enumerable:!0,get:function(){return 10;}},KPa:{configurable:!0,enumerable:!0,get:function(){return !1;}},X3:{configurable:!0,enumerable:!0,get:function(){return !1;}},aVa:{configurable:!0,enumerable:!0,get:function(){return !1;}},h1b:{configurable:!0,enumerable:!0,get:function(){return !1;}},ibb:{configurable:!0,enumerable:!0,get:function(){return !1;}},$Ua:{configurable:!0,enumerable:!0,get:function(){return !0;}},hVa:{configurable:!0,enumerable:!0,get:function(){return !0;}},xla:{configurable:!0,enumerable:!0,get:function(){return !1;}},MSa:{configurable:!0,enumerable:!0,get:function(){return [];}}});g=c;r.__decorate([d.config(d.string,"uiVersion")],g.prototype,"WA",null);r.__decorate([d.config(d.string,"uiPlatform")],g.prototype,"xaa",null);r.__decorate([d.config(d.XA,"pboVersion")],g.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],g.prototype,"organization",null);r.__decorate([d.config(d.cZ,"pboLanguages")],g.prototype,"languages",null);r.__decorate([d.config(d.bd,"hasLimitedPlaybackFunctionality")],g.prototype,"Dpa",null);r.__decorate([d.config(d.bd,"mdxBindUsingNodeQuark")],g.prototype,"FNb",null);r.__decorate([d.config(d.bd,"mdxPairUsingNodeQuark")],g.prototype,"HNb",null);r.__decorate([d.config(d.object(),"pboCommands")],g.prototype,"m8a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],g.prototype,"n8a",null);r.__decorate([d.config(d.bd,"pboRecordHistory")],g.prototype,"K6a",null);r.__decorate([d.config(d.XA,"pboHistorySize")],g.prototype,"Koa",null);r.__decorate([d.config(d.bd,"pboAddXEsnHeader")],g.prototype,"KPa",null);r.__decorate([d.config(d.bd,"combineManifestAndLicense")],g.prototype,"X3",null);r.__decorate([d.config(d.bd,"enableLicensedManifestForPrefetch")],g.prototype,"aVa",null);r.__decorate([d.config(d.bd,"useLdlForPrefetchLicensedManifest")],g.prototype,"h1b",null);r.__decorate([d.config(d.bd,"pboUseStudioManifest")],g.prototype,"ibb",null);r.__decorate([d.config(d.bd,"pboEnableLeanManifest")],g.prototype,"$Ua",null);r.__decorate([d.config(d.bd,"pboEnableV2OptimizedManifest")],g.prototype,"hVa",null);r.__decorate([d.config(d.bd,"pboEnableManifestPartialHydrationSupport")],g.prototype,"xla",null);r.__decorate([d.config(d.cZ,"pboContentPlaygraphTypes")],g.prototype,"MSa",null);g=r.__decorate([f.R(),r.__param(0,f.l(m.Tl)),r.__param(1,f.l(h.Xc)),r.__param(2,f.l(a.uJ))],g);b.sHa=g;},function(r,b,a){var l,m;function c(d,h,g,k,n,q,p){this.version=d;this.url=h;this.id=g;this.languages=k;this.Db=n;this.HAb=q;this.JOb=p;}function f(d){this.sh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ha=void 0;r=a(1);l=a(0);a=a(66);f.prototype.create=function(d,h,g,k,n){return new c(this.sh.version,h,d,this.sh.languages,g,k,n);};m=f;m=r.__decorate([l.R(),r.__param(0,l.l(a.Ws))],m);b.$Ha=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Db,echo:this.HAb};};},function(r,b,a){var f,l,m;function c(d,h){this.CG=h;this.log=d.hb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;r=a(1);f=a(0);l=a(7);a=a(91);c.prototype.yPa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.xV=function(d){!1;return this.links[d];};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(a.xx))],m);b.DHa=m;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(1);a=a(0);c.prototype.hXb=function(f){this.listener=f;};c.prototype.BO=function(f){var l;null === (l=this.listener) || void 0 === l?void 0:l.call(this,f);};a=r.__decorate([a.R()],c);b.XHa=a;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(0);c=a(462);f=a(513);l=a(1167);m=a(515);d=a(1168);h=a(344);g=a(341);k=a(1169);n=a(1180);q=a(13);p=a(18);v=a(96);t=a(27);u=a(7);w=a(1181);x=a(258);y=a(1182);z=a(4);A=a(1183);B=a(1184);D=a(535);E=a(1185);F=a(97);C=a(516);G=a(1186);J=a(111);K=a(29);I=a(155);M=a(91);R=a(281);H=a(538);Q=a(1187);N=a(71);L=a(40);P=a(517);S=a(1188);U=a(292);da=a(26);b.j=new r.pd(function(ka){ka(H.bea).to(Q.xIa).aa();ka(U.tba).uf(function(ma){var X;X=ma.$a;return function(ua,ya){return new (a(1189).Lya)(ua,ya,X.get(v.nv));};});ka(c.wLa).uf(function(ma){var X;X=ma.$a;return function(ua,ya,O,T,ja,pa,sa,Qa,Ua){return new (a(1192).xLa)(X.get(A.CLa),ua,ya,O,T,ja,pa,sa,Qa,Ua);};});ka(A.CLa).to(B.BLa).aa();ka(f.ALa).to(l.zLa).aa();ka(g.sIa).to(k.rIa).aa();ka(P.KJa).to(S.JJa);ka(P.IJa).N$a(P.KJa);ka(h.jBa).uf(function(ma){var X;X=ma.$a;return function(ua){return new (a(1193).kBa)(X.get(F.iBa),X.get(v.nv),X.get(p.fd),ua);};});ka(m.kza).uf(function(){return function(ma){return new d.lza(ma);};});ka(w.mIa).uf(function(ma){var X;X=ma.$a;return function(ua){return new n.nIa(ua,X.get(u.qb),X.get(q.Xc),X.get(t.ag),X.get(v.nv));};});ka(x.dea).uf(function(ma){var X;X=ma.$a;return function(ua,ya,O,T,ja,pa,sa,Qa,Ua){return new y.zIa(ua,ya,O,T,ja,pa,sa,Qa,Ua,X.get(w.mIa),X.get(H.bea));};});ka(D.cKa).uf(function(ma){return function(X){var ua,ya;ua=ma.$a.get(q.Xc);ya=ma.$a.get(u.qb);return new E.dKa(ua,X,ya);};});ka(C.uIa).uf(function(ma){return function(X){var ua,ya,O,T,ja;ua=ma.$a.get(M.xx);ya=ma.$a.get(J.iK);O=ma.$a.get(K.bg);T=ma.$a.get(I.RR);ja=ma.$a.get(da.wx);return new G.vIa(X,ua,ya(z.uh(1)),O,T,ja);};});ka(R.nda).kE(function(ma){return new (a(1194).mGa)(ma.$a.get(N.uR),ma.$a.get(L.Qm));}).aa();});},function(r,b,a){var f,l,m,d,h,g;function c(k,n){this.gg=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;r=a(1);f=a(15);l=a(514);m=a(18);d=a(0);h=a(4);a=a(13);c.prototype.vM=function(k){var n;k.EZ={};if(!k.jD() && k.VA && 0 < k.VA.length && (k.UA=this.PXa(k),k.UA)){n=this.IXb(k);n() || (k.yb.addListener(n),k.Ve.addListener(n));}};c.prototype.IXb=function(k){var q;function n(){var p,v;if(!k.Ve.value || k.yb.value === f.cb.Of)return !1;p=k.UA;v=p.getState();return v === l.vp.LOADING?!1:v !== l.vp.JE && p.retry?(p=q.nHb(k))?(k.EZ.offset=q.gg.Wb().da(h.ja),k.UA=p,p.download(),!0):!1:(k.yb.removeListener(n),k.Ve.removeListener(n),!1);}q=this;return n;};c.prototype.nHb=function(k){var n,q;n=this.config();q=k.Jl.gN() < n.R_b;n=(k.Ve.value?k.Ve.value.bitrate:0) > n.Q_b;return this.LGb(k,q && n);};c.prototype.LGb=function(k,n){if(n && (n=this.PXa(k),this.NYa(k,n.size)))return (k.EZ.r7a="h",n);n=this.NFb(k);if(this.NYa(k,n.size))return (k.EZ.r7a="l",n);};c.prototype.NYa=function(k,n){var q,p;q=this.config();p=Math.min(k.BT(),k.QZ());return k.ksb.htb(n) * (1 + .01 * q.Gqb[2]) < p * q.U_b;};c.prototype.PXa=function(k){return k.VA[k.VA.length - 1];};c.prototype.NFb=function(k){return k.VA[0];};g=c;g=r.__decorate([d.R(),r.__param(0,d.l(m.fd)),r.__param(1,d.l(a.Xc))],g);b.zLa=g;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;a.prototype.Mab=function(){var c;c=this.j.Ka;if(null !== c && void 0 !== c && c.MB){c=c.Ob.get();if(null === c || void 0 === c?0:c.yj)this.j.yj=c.yj.Ga;if(null === c || void 0 === c?0:c.Ra)this.j.Ra=c.Ra.Ga;}};a.prototype.Yt=function(){-1 === this.j.Ra && this.Mab();return this.j.Ra;};a.prototype.htb=function(c){-1 !== this.j.yj && -1 !== this.j.Ra || this.Mab();return -1 === this.j.yj || -1 === this.j.Ra?Number.MAX_VALUE:this.j.yj + 8 * c / this.j.Ra;};b.lza=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M;function c(R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya,O,T,ja,pa,sa,Qa,Ua,Za,ab,kb,Ya,Sa){this.Ez=R;this.iC=H;this.za=Q;this.ya=N;this.lsb=L;this.Zwa=P;this.EW=S;this.Xqa=U;this.KN=da;this.Ed=ka;this.li=ma;this.Ti=X;this.GL=ua;this.IX=ya;this.nk=O;this.oxa=T;this.Uf=ja;this.Am=pa;this.me=sa;this.mta=Qa;this.lVb=Ua;this.eia=Za;this.FH=ab;this.Wsa=kb;this.O3=Ya;this.AL=Sa;}Object.defineProperty(b,"__esModule",{value:!0});b.rIa=void 0;r=a(1);f=a(81);l=a(0);m=a(111);d=a(31);h=a(18);g=a(38);k=a(515);n=a(259);q=a(463);p=a(484);v=a(119);t=a(141);u=a(161);w=a(98);x=a(453);y=a(258);z=a(1170);A=a(513);B=a(49);D=a(29);E=a(516);F=a(71);C=a(517);G=a(292);J=a(281);K=a(118);I=a(496);c.prototype.create=function(R,H,Q,N,L,P,S,U){return new (a(518).tIa)(R,H,P,S,N,L,this.Ez,Q,this.za,this.iC,this.ya,this.EW,this.lsb,this.Zwa,this.Xqa,this.KN,this.Ed,this.li,this.Ti,this.GL,this.IX,this.nk,this.oxa,this.Uf,this.me,this.mta,this.Am,this.lVb(),this.eia,this.FH,this.Wsa,void 0,this.O3,U);};M=c;M=r.__decorate([l.R(),r.__param(0,l.l(f.Ex)),r.__param(1,l.l(d.dh)),r.__param(2,l.l(h.fd)),r.__param(3,l.l(g.Sh)),r.__param(4,l.l(k.kza)),r.__param(5,l.l(m.iK)),r.__param(6,l.l(n.hda)),r.__param(7,l.l(q.FFa)),r.__param(8,l.l(p.nR)),r.__param(9,l.l(v.pF)),r.__param(10,l.l(t.JR)),r.__param(11,l.l(u.eF)),r.__param(12,l.l(x.tza)),r.__param(13,l.l(y.dea)),r.__param(14,l.l(K.OE)),r.__param(15,l.l(A.ALa)),r.__param(16,l.l(B.Rm)),r.__param(17,l.l(F.uR)),r.__param(18,l.l(D.bg)),r.__param(19,l.l(E.uIa)),r.__param(20,l.l(C.IJa)),r.__param(21,l.l(G.tba)),r.__param(22,l.l(J.nda)),r.__param(23,l.l(I.SHa)),r.__param(24,l.l(z.eAa)),r.__param(24,l.optional()),r.__param(25,l.l(w.fQ)),r.__param(25,l.optional())],M);b.rIa=M;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eAa=b.fAa=void 0;r=b.fAa || (b.fAa={});r[r.cib=0]="PAUSE";r[r.mjb=1]="RESUME";r[r.l3b=2]="CAPTIONS_ON";r[r.k3b=3]="CAPTIONS_OFF";r[r.m3b=4]="CAPTION_LANGUAGE_CHANGED";r[r.C2b=5]="AUDIO_LANGUAGE_CHANGED";r[r.M5b=6]="NEXT_EP";r[r.D6b=7]="PREV_EP";r[r.zB=8]="SEEK";r[r.WJa=9]="STOP";b.eAa="CastInteractionTrackerSymbol";},function(r,b,a){var d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I;function c(){this.maa=[];this.z_b=50;}function f(M){var R;R=this;this.j=M;this.Ebb=Promise.resolve();this.TBa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.aC=[];this.et=new n.Fk();this.JMa=this.gfa=0;this.I1=[];this.Cg=v.Ih(this.j,"MediaElementASE");this.FOa=z.ol;this.Dfa=!1;this.Zb=new c();this.so={};this.lNa={};this.P5=this.pS(function(){var H;if(R.X)return null !== (H=R.X.webkitDecodedFrameCount) && void 0 !== H?H:0;});this.MC=this.pS(function(){var H;if(R.X){H=R.Z1();return H?H.totalVideoFrames:R.X.webkitDecodedFrameCount;}});this.TG=this.pS(function(){var H;if(R.X){H=R.Z1();return H?H.droppedVideoFrames:R.X.webkitDroppedFrameCount;}});this.qV=this.pS(function(){var H;if(R.X){H=R.Z1();return H && H.corruptedVideoFrames;}});this.U5=this.pS(function(){var H;if(R.X){H=R.Z1();return H && B.aj(H.totalFrameDelay * z.nl);}});this.HNa=function(H){return R.et.Cc(F.Nj.a1a,{Z:H});};this.Fl=v.ka.get(E.HEa).create(k.config.hp,this,this.j);k.config.nD && (this.Ebb=new Promise(function(H){R.FOa=H;R.j.addEventListener(J.ca.jg,H);}));this.Cg.trace("Created Media Element");this.addEventListener=this.et.addListener;this.removeEventListener=this.et.removeListener;}function l(M){var R,H;R=v.ka.get(C.eMa).GGb();M=M.width / M.height * R.height;H=(R.width - M) / 2;return k.config.CXb?z.createElement("VIDEO","position:absolute;width:" + M + "px;height:" + R.height + "px;left:" + H + "px;top:0px"):z.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(M){M.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;d=a(47);h=a(298);g=a(12);k=a(14);n=a(73);q=a(60);p=a(50);v=a(8);t=a(3);u=a(21);w=a(92);x=a(325);y=a(24);z=a(30);A=a(299);B=a(11);D=a(19);E=a(524);F=a(300);C=a(501);G=a(4);J=a(15);K=a(62);I=! !(B.XE && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);f.prototype.rV=function(M){try{this.X && (this.JMa=this.X.currentTime);}catch(R){this.Cg.error("Exception while getting VIDEO.currentTime",R);M && this.lS(t.M.Hib,R);}return B.aj(this.JMa * z.nl);};f.prototype.seek=function(M){var R;u.kb(!this.Ep);this.yOa();R=this.rV(!0);if(!k.config.Xqb && B.PE(R - M) <= this.wva)(this.Cg.trace("Seek delta too small",{currentTime:R,seekTime:M,min:this.wva}),this.Zb.trace("smallseek",M));else {this.Zb.trace("seek",M);try{this.Cg.trace("Setting video elements currentTime",{From:w.bj(R),To:w.bj(M)});this.Ep={};this.X.currentTime=M / z.nl;this.et.Cc(F.Nj.Vp);}catch(H){this.Cg.error("Exception while setting VIDEO.currentTime",H);this.lS(t.M.Iib,H);}}};f.prototype.OYa=function(){return ! !this.Ep;};f.prototype.addSourceBuffer=function(M){var R,H;R=z.Ge(this.gfa.toString() + this.aC.length.toString());R={TY:this.gfa,D3:R};try{H=new h.kda(this.j,M,this.dg,R,this.Cg);this.aC.push(H);M == g.WJ && H.mma && H.mma.addListener(this.FOa);return H;}catch(Q){H=z.vd(Q);this.Cg.error("Unable to add source buffer.",{error:H});this.j.Wd(t.M.Eda,{na:M === d.Rb.ml.Ub?z.L.eda:z.L.fda,ub:H});}};f.prototype.Z2=function(M){var R;R=this;M.forEach(function(H){return R.addSourceBuffer(H);});this.et.Cc(F.Nj.t9a);return !0;};f.prototype.removeSourceBuffer=function(M){this.aC=this.aC.filter(function(R){return !p.sSa(M,R);});this.dg.removeSourceBuffer(M);};f.prototype.endOfStream=function(){this.Zb.trace("endofstream");!1;k.config.fja && this.dg.endOfStream();};f.prototype.Xp=function(M){!1;this.aC=[];M && M.Nac();return !0;};f.prototype.OWb=function(M){this.gfa=M;};f.prototype.jYa=function(){if(this.dg)return G.L5a(this.dg.duration);};f.prototype.Mzb=function(){var M;if(!this.Dfa && this.X && this.X.readyState >= K.$n.p0.HAVE_CURRENT_DATA){M=this.X.webkitDecodedFrameCount;if(void 0 === M || 0 < M || k.config.f2b)this.Dfa=!0;}return this.Dfa;};f.prototype.open=function(){var M,R,H;M=this;this.X=l(this.j.aB);this.sourceBuffers=this.aC;this.j.addEventListener(J.ca.d9a,function(Q){return M.Unb(Q);});if(I){this.j.kD && !k.config.Yab && this.Fl.i9();try{this.dg=new B.XE();}catch(Q){this.lS(t.M.yib,Q);return;}try{this.tl=URL.createObjectURL(this.dg);}catch(Q){this.lS(t.M.zib,Q);return;}try{this.Fl.kqb(this.HNa);this.dg.addEventListener("sourceopen",function(Q){return M.gOa(Q);});this.dg.addEventListener(this.TBa + "sourceopen",function(Q){return M.gOa(Q);});this.X.addEventListener("error",this.so.error=function(Q){return M.PS(Q);});this.X.addEventListener("seeking",this.so.seeking=function(){return M.Tnb();});this.X.addEventListener("seeked",this.so.seeked=function(){return M.Snb();});this.X.addEventListener("timeupdate",this.so.timeupdate=function(){return M.Vnb();});this.X.addEventListener("loadstart",this.so.loadstart=function(){return M.Gga();});this.X.addEventListener("volumechange",this.so.volumechange=function(Q){return M.Wnb(Q);});this.X.addEventListener(this.Fl.CD,this.so[this.Fl.CD]=function(){M.Cg.trace(M.Fl.CD);M.Qnb();});R=this.j.Ig;H=R.lastChild;H?R.insertBefore(this.X,H):R.appendChild(this.X);k.config.jUa && this.X.addEventListener("contextmenu",m);this.X.src=this.tl;q.ue.addListener(q.Nr,this.lNa[q.Nr]=function(){return M.fOa();});this.fOa();}catch(Q){this.lS(t.M.Aib,Q);}}else this.E1(t.M.dHa);};f.prototype.close=function(){var R;function M(){R.tl && (R.yOa(),q.ue.removeListener(q.Nr,R.lNa[q.Nr]),R.hlb());}R=this;this.Zb.trace("close");this.X.removeEventListener(this.Fl.CD,this.so[this.Fl.CD]);this.X.removeEventListener("error",this.so.error);this.X.removeEventListener("seeking",this.so.seeking);this.X.removeEventListener("seeked",this.so.seeked);this.X.removeEventListener("timeupdate",this.so.timeupdate);this.X.removeEventListener("loadstart",this.so.loadstart);this.X.removeEventListener("volumechange",this.so.volumechange);this.Fl.TUb(this.HNa);k.config.hp?this.Fl.DA().then(function(){return M();}):M();this.Fl.b7a && clearTimeout(this.Fl.b7a);};f.prototype.RC=function(){return this.Zb.RC();};f.prototype.Qnb=function(){k.config.Yab && this.Fl.i9();};f.prototype.Z1=function(){if(this.X)return this.X.getVideoPlaybackQuality && this.X.getVideoPlaybackQuality() || this.X.videoPlaybackQuality || this.X.playbackQuality;};f.prototype.fpb=function(){var M;M=this.j.hi;return (M=M && M.errorCode) && 0 <= [t.M.O0,t.M.t0].indexOf(M);};f.prototype.hlb=function(){var M;M=!1;k.config.fTb && this.fpb() && (M=!0);k.config.Jub && !M && (this.X.removeAttribute("src"),this.X.load && this.X.load());URL.revokeObjectURL(this.tl);k.config.jUa && this.X.removeEventListener("contextmenu",m);!M && this.X && this.j.Ig.removeChild(this.X);this.X=this.dg=void 0;this.tl="";};f.prototype.fOa=function(){!0 === B.Ae.hidden?this.I1.forEach(function(M){M.refresh();M.zYb();}):this.I1.forEach(function(M){M.refresh();M.MYb();});};f.prototype.pS=function(M){var R;R=v.ka.get(x.NGa)(M);this.I1.push(R);return function(){R.refresh();return R.FEb();};};f.prototype.lS=function(M,R){var H,Q;H={na:z.L.Kj,ub:z.vd(R)};try{(Q=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == Q.length && (H.nf=Q);}catch(N){}this.j.Wd(M,H);};f.prototype.yOa=function(){this.I1.forEach(function(M){M.refresh();});};f.prototype.bmb=function(){return this.X && this.X.msGraphicsTrustStatus;};f.prototype.E1=function(M,R){this.j.Wd(M,R,void 0);};f.prototype.Unb=function(M){var R,Q,N,L,P,S,U;if(this.X){M=M.SZ;R=this.bmb();R && (M.ConstrictionActive=R.constrictionActive,M.Status=R.status);try{M.readyState="" + this.X.readyState;M.currentTime="" + this.X.currentTime;M.pbRate="" + this.X.playbackRate;}catch(da){}R=this.aC.length;for(var H;R--;){H=this.aC[R];Q="";H.type == g.y0?Q="audio":H.type == g.WJ && (Q="video");z.Xb(M,H.H5(),{prefix:Q});k.config.gBb && this.j.hi && g.WJ == H.type && (Q=z.lP(H.N5()),3E3 > (Q.data && Q.data.length) && (Q.data=y.USa(Q.data).join(),z.Xb(M,Q,{prefix:H.type})));}this.dg && (R=this.dg.duration) && !isNaN(R) && (M.duration=R.toFixed(4));if(k.config.vMb)try{N=this.j.mf;L=N && N.Ib;if(L){P=L.expiration;isNaN(P) || (M.exp=P);S=L.keyStatuses.entries();if(S.next){U=S.next().value;U && (M.keyStatus=U[1]);}}}catch(da){}}};f.prototype.gOa=function(M){!1;this.hpb || (this.hpb=!0,this.et.Cc(F.Nj.u9a,M));};f.prototype.Tnb=function(){this.Zb.trace("seeking");this.Cg.trace("Video element event: seeking");this.Ep?this.Ep.IPb=!0:(this.Cg.error("unexpected seeking event"),k.config.rCb && this.E1(t.M.Nib,{ub:{Trace:this.RC()}}));};f.prototype.Snb=function(){this.Zb.trace("seeked");this.Cg.trace("Video element event: seeked");this.Ep?(u.kb(this.Ep.IPb),this.Ep.HPb=!0,this.bPa()):(this.Cg.error("unexpected seeked event"),k.config.qCb && this.E1(t.M.Mib,{ub:{Trace:this.RC()}}));};f.prototype.Vnb=function(){var M;this.Zb.trace("timeupdate",null === (M=this.X) || void 0 === M?void 0:M.currentTime);!1;this.Ep && (this.Ep.KPb=!0,this.bPa());this.et.Cc(F.Nj.Vp);};f.prototype.Gga=function(){this.Cg.trace("Video element event: loadstart");};f.prototype.Wnb=function(M){this.Cg.trace("Video element event:",M.type);try{this.j.volume.set(this.X.volume);this.j.muted.set(this.X.muted);}catch(R){this.Cg.error("error updating volume",R);}};f.prototype.PS=function(M){var R,H,Q,N,L,P,S,U,da,ka;R=this.E1;H=t.M.cHa;Q=t.kCa;N=this.RC();L=M.target;P=L && L.error;S=M.errorCode;L=P && P.code;z.Uc(L) || (L=S && S.code);S=P && P.message;U=P && P.msExtendedCode;z.Uc(U) || (U=P && P.systemCode);z.Uc(U) || (U=M.systemCode);if(!z.Uc(U))try{for(M=/\(([^)]+)\)/g;da=M.exec(S);){ka=Number(da[1]);D.Ba(ka) && (U=ka);}}catch(ma){}N=z.Xb({},{code:L,systemCode:U,trace:JSON.stringify(N)},{nA:!0});Q={na:Q(L),ub:A.Rqa(N)};try{S && (Q.MW=S);}catch(ma){}U=z.Ge(U);D.Ba(U) && (Q.nf=v.Eia(U,4));R.call(this,H,Q);};f.prototype.bPa=function(){this.Ep && this.Ep.HPb && this.Ep.KPb && (this.Zb.trace("seekcomplete"),this.Ep=void 0,this.et.Cc(F.Nj.AY));};Xa.Object.defineProperties(f.prototype,{wva:{configurable:!0,enumerable:!0,get:function(){return k.config.rYb;}}});b.TFa=f;c.prototype.trace=function(M,R){this.maa.push([M,R]);this.maa.length > this.z_b && this.maa.shift();};c.prototype.RC=function(){return this.maa;};},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t){var u;u=this;this.j=t;this.Qwa=this.n3a=0;this.jg=this.Aq=!1;this.m$=0;this.Ol=function(){var w,x;u.j$();u.yG && (u.log.info("Deactivating",u.yG),u.QA.Fyb(u.Pe()));u.j.ai.set(null);u.ZI.D8a(void 0);u.dSa();w=u.j.cc.value;w && w.Vr() && !w.qq() && (w=null);if(w && u.j.yb.value !== p.cb.Of){x=u.Pe();u.QA.Vpb(x,w);}w?(u.log.info("Activating",w),u.j.Jm.set(w.getState() === f.kF.AB.JE?p.xf.pe:p.xf.ud),u.Aq || u.j.Cd("tt_start"),w.U6().then(u.vL).catch(u.vL)):u.j.Jm.set(p.xf.pe);u.yG=w;u.kJ();};this.sync=function(){u.Aq && (u.ZI.start(),u.j.yb.value !== p.cb.Hc && u.ZI.stop());};this.kJ=function(){var w;u.j.state.value === p.Pb.pe && u.j.yb.value !== p.cb.Of && (u.vh?w=u.ZI.SDb():u.j.cc.value && (w=c.IYb[u.j.cc.value.getState()]));w && q.Uc(w.startTime) && u.j.bv.value !== w && (u.n3a++,u.Qwa+=u.ZI.kYa() - w.startTime,u.SQa=Math.ceil(u.Qwa / (u.n3a + 0)));u.j.bv.set(w);};this.Pe=function(){var w;w=u.j.Cna();u.yG && u.yG.cu && (w+=u.yG.cu);return w;};this.CQb=function(w){u.fireEvent(c.fYb,w);w && w.id && (u.QA.Qab(w.id),!1);u.log.trace("showsubtitle",u.WYa(w));};this.xQb=function(w){u.fireEvent(c.aVb,w);u.log.trace("removesubtitle",u.WYa(w));};this.sk=function(){u.log.warn("imagesubs buffer underflow",u.j.cc.value.Oi);u.j.Jm.set(p.xf.ud);};this.WPb=function(){u.log.info("imagesubs buffering complete",u.j.cc.value.Oi);u.j.Jm.set(p.xf.pe);};this.d9=function(){u.Aq && u.vh && u.vh.Is(u.Pe());};this.i4a=function(w){u.Aq && u.vh && (u.vh.pause(),u.vh.LA(w.ek));};this.FD=function(){u.Aq && u.vh && u.vh.Yta();};this.f4a=function(w){u.vh && u.vh.si(w.kh,w.aO);};this.n4a=function(w){u.vh && u.vh.wi(w.wa,w.U0b);};this.pQb=function(){u.Aq=!0;n.Qf(function(){var w,x;(null === (w=u.yG) || void 0 === w?0:w.kk)?null === (x=u.vh) || void 0 === x?void 0:x.Is(u.Pe()):u.sync();u.kJ();});};this.mQb=function(){u.dSa();u.ZI.stop();u.kJ();u.jg=!0;u.j$();};this.Jsa=function(w){(w=w.newValue) && q.isArray(w.blocks) && (u.QA.Qab.apply(u.QA,ea(w.blocks.map(function(x){return x.id;}))),!1);};this.tQb=function(w){u.O0b(w.newValue,w.oldValue);u.sync();u.kJ();};this.vL=function(w){var x;if(!u.jg){x=w.track;if(x === u.j.cc.value)try{u.vh=x.Nwa;x.kk?u.Tpb(w):u.Upb(w);}catch(y){u.log.error("Error activating track:",y,x);return;}u.Aq || u.j.Cd(w.$?"tt_comp":"tt_err");w.$?(d.config.Q7a?setTimeout(function(){u.j.Jm.set(p.xf.pe);},d.config.Q7a):u.j.Jm.set(p.xf.pe),x.kk || u.kJ()):w.aborted?u.log.warn("aborted timed text track loading"):d.config.pCb?u.j.Wd(k.M.xgb,{ub:w.track?w.track.Oi:{}}):(u.log.error("ignore subtitle initialization error",w),u.j.Jm.set(p.xf.pe));}};this.Sb=new m.Fk();this.QA=new g.QKa(h.Ih(t,"SubtitleTracker"),d.config.tBb);this.log=h.Ih(t,"TimedTextManager");this.ZI=new l.lLa(this.Pe,this.kJ);this.j.cc.addListener(this.Ol);d.config.CSb?(this.j.addEventListener(p.ca.Aq,this.pQb),this.Ol()):(this.j.Jm.set(p.xf.pe),this.j.addEventListener(p.ca.Aq,function(){u.Aq=!0;u.Ol();}));this.j.yb.addListener(this.tQb);this.j.addEventListener(p.ca.$wa,this.sync);this.j.bv.addListener(this.Jsa);this.j.addEventListener(p.ca.jg,this.mQb);}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;f=a(277);l=a(525);m=a(73);d=a(14);h=a(8);g=a(1173);k=a(3);n=a(61);q=a(19);p=a(15);v=a(1174);c.prototype.addEventListener=function(t,u,w){this.Sb.addListener(t,u,w);};c.prototype.removeEventListener=function(t,u){this.Sb.removeListener(t,u);};c.prototype.fireEvent=function(t,u,w){this.Sb.Cc(t,u,w);};c.prototype.Dha=function(t,u,w){var x,y;x=this;y=v.hLa.wxb(this.j,t,u,w);this.J_a(this.j.Ph,y);this.j.Hi.forEach(function(z){x.J_a(z.Ph,y);});this.j.cc.set(y);this.j.fireEvent(p.ca.dv);};c.prototype.ISb=function(t){this.Vua(t)?t.U6().then(function(){}):Promise.resolve();};c.prototype.dHb=function(t){return this.QA.MGb(t);};c.prototype.Xna=function(t){return this.QA.Xna(t);};c.prototype.JV=function(){var t,u;t=this.j.sZ;u=d.config.exa.characterSize;u={size:d.config.haa.characterSize || u};t && (u.visibility=t.doa(),u.PT=t.boa(),u.Zr=t.coa());return u;};c.prototype.yXb=function(t){d.config.haa.characterSize=t;t=this.j.cc.value;this.Vua(t) && !t.kk && t.U6().then(this.vL).catch(this.vL);};c.prototype.O0b=function(t,u){var w;t === p.cb.Hc || t == p.cb.eh?u !== p.cb.Hc && u !== p.cb.eh && ((u=this.j.cc.value) && !this.Vua(u) || this.QA.s3a(this.Pe(),u || void 0,"presentingstate:" + t)):t !== p.cb.Of && t !== p.cb.Vq || this.QA.Bla(null !== (w=this.Pe()) && void 0 !== w?w:void 0,"presentingstate:" + t);};c.prototype.j$=function(){this.m$=0;clearTimeout(this.PVb);};c.prototype.dSa=function(){var t;this.vh && this.vh.stop();(null === (t=this.yG) || void 0 === t?0:t.kk) && this.M1a("removeListener");this.vh=void 0;};c.prototype.M1a=function(t){this.vh && (this.vh[t]("showsubtitle",this.CQb),this.vh[t]("removesubtitle",this.xQb),this.vh[t]("underflow",this.sk),this.vh[t]("bufferingComplete",this.WPb),"addListener" === t?(this.j.addEventListener(p.ca.Vp,this.d9),this.j.addEventListener(p.ca.wk,this.i4a),this.j.addEventListener(p.ca.AI,this.FD),this.j.addEventListener(p.ca.S8,this.f4a),this.j.addEventListener(p.ca.Jxa,this.n4a)):(this.j.removeEventListener(p.ca.Vp,this.d9),this.j.removeEventListener(p.ca.wk,this.i4a),this.j.removeEventListener(p.ca.AI,this.FD),this.j.removeEventListener(p.ca.S8,this.f4a),this.j.removeEventListener(p.ca.Jxa,this.n4a)));};c.prototype.WYa=function(t){return {currentPts:this.Pe(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.Tpb=function(t){var u,w;u=this;w=t.track;if(!w || !w.kk)throw Error("Not an image base subtitle");t.$?(this.j$(),this.M1a("addListener"),this.log.info("Activated",w),this.j.ai.set(w),this.Aq?n.Qf(function(){u.vh.Is(u.Pe());}):this.vh.pause()):this.G7a(w,t);};c.prototype.Upb=function(t){var u,w;u=t.track;w=t.$;if(!u || u.kk)throw Error("Not a valid text track");w?(this.j$(),this.ZI.D8a(this.vh),this.log.info("Activated",u),this.j.ai.set(u)):this.G7a(u,k.Ss(t));this.kJ();};c.prototype.G7a=function(t,u){var w,x;w=this;x=this.m$ < d.config.vNb;x && (this.PVb=setTimeout(function(){w.m$++;t.U6().then(w.vL).catch(w.vL);},d.config.g_b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.kk)?" img subtitle":""),{retry:x},u,t);};c.prototype.Vua=function(t){return !(!t || t.Vr() && !t.qq());};c.prototype.J_a=function(t,u){var w;w=t.findIndex(function(x){return x.Vc >= u.Vc;});-1 === w && (w=0);t.splice(w,0,u);};b.jLa=c;r={};c.IYb=(r[f.kF.AB.LOADING]={Q7:!0},r[f.kF.AB.hR]={Ot:!0},r);c.fYb="showsubtitle";c.aVb="removesubtitle";},function(r,b,a){var l;function c(m,d,h){this.start=m;this.track=d;this.TI=Array.isArray(h)?h:[];}function f(m,d){this.log=m;this.$A=d;this.eua=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;l=a(21);f.prototype.Vpb=function(m,d){this.s3a(m,d,"activating");};f.prototype.Fyb=function(m){this.Bla(m,"de-activating");};f.prototype.s3a=function(m,d,h){var g;this.Pk && this.Bla(m,"close current for new");g=[];this.orphans.length && (g.push.apply(g,ea(this.orphans)),this.orphans=[]);this.Pk=new c(m,d,g);this.$A && this.log.trace("new range: " + h,this.Pk);};f.prototype.Bla=function(m,d){this.Pk && (this.Pk.end=m,this.eua.push(this.Pk),this.$A && this.log.trace("end range: " + d,this.Pk || ({})),this.Pk=void 0);};f.prototype.Qab=function(m){for(var d=[],h=0;h < arguments.length;++h){d[h - 0]=arguments[h];}this.Pk?this.Pk.TI.push.apply(this.Pk.TI,ea(d)):this.orphans.push.apply(this.orphans,ea(d));};f.prototype.Xna=function(m){var d,h;d=this.eua.slice(0);if(this.Pk && "undefined" !== typeof m){h=new c(this.Pk.start,this.Pk.track,this.Pk.TI);h.end=m;d.push(h);}m=d.reduce(function(g,k){var n,q,p,v;if(!k.track)return g;q=k.track.yc;p=k.track.Mr(k.start,k.end);if(void 0 === p || null === p)return g;v=new Set(k.TI);g[q]?(k=g[q],k.expected+=p,k.missed+=p - v.size):g[q]={dlid:q,bcp47:k.track.Vd,profile:k.track.profile,expected:p,missed:p - v.size,startPts:null !== (n=k.track.YGb()) && void 0 !== n?n:0};return g;},{});m=Object.values(m);this.$A && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};f.prototype.MGb=function(m){var d,h,g,k;d=this.eua.slice(0);h=0;g=0;if(this.Pk && "undefined" != typeof m){k=new c(this.Pk.start,this.Pk.track,this.Pk.TI);k.end=m;d.push(k);}d.forEach(function(n){var q,p;if(n.track){if(n.end < n.start){l.kb(!1,"negative range");n.VD=0;return;}q=new Set(n.TI);p=n.track.Mr(n.start,n.end);n.f5=p;n.VD=void 0 === p || null === p?0:0 === p?100:100 * q.size / p;}else n.VD=100;q=n.end - n.start;h+=q;g+=n.VD * q;});k=h?Math.round(g / h):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.$A && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.VD),lang:n.track?n.track.Vd:"none","actual  ":n.TI.join(" "),expected:n.f5};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,q){return q;}," ")));return k;};b.QKa=f;},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v,t,u,w,x){var y,z;p=h.kF.call(this,v,p,p,w,!0,"","1",{0:t},[{id:0,name:"custom"}],"xx",u || p,g.up.bK,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;p.j=v;p.url=t;p.options=x;p.Js=null === x || void 0 === x?void 0:x.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;r=a(58);f=a(14);l=a(60);m=a(8);d=a(30);h=a(277);g=a(130);k=a(74);n=a(132);q=a(15);r.aea(r.Xda,function(p){var t;function v(u){var w;if(u.ctrlKey && u.altKey && u.shiftKey && u.keyCode == n.rv.Vjb){w=d.createElement("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var x,y,z;x=w.files[0];if(x){y=x.name;t.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return p.Pq.Dha("nourl",y,{content:z.result});});}});w.click();}}t=m.Ih(p,"TimedTextCustomTrack");f.config.zka && (t.info("Loading url",{Url:f.config.zka}),p.Pq.Dha(f.config.zka,"custom"));l.ue.addListener(l.UC,v);p.addEventListener(q.ca.jg,function(){l.ue.removeListener(l.UC,v);});});na(c,h.kF);c.wxb=function(p,v,t,u){var w;w="custom" + c.JJb++;return new c(w,p,v,t,-1,u);};c.prototype.DUa=function(){var p;p=this;return new Promise(function(v,t){var u,w;if(null === (u=p.options) || void 0 === u?0:u.content)v(p.options.content);else if(p.url){w={responseType:k.Loa,url:p.url,track:p,kc:null,AC:"tt-" + p.Vd};p.j.L6.download(w,function(x){x.$?v(x.content):(x.reason="downloadfailed",x.url=w.url,x.track=p,t(x));});}});};b.hLa=c;c.JJb=0;},function(r,b,a){var f,l,m,d,h,g;function c(k){var n,q;n=this;this.j=k;this.aQb=function(){var p;m.ue.removeListener(m.u6,n.l4a);p=n.Rr.An();p && p.parentNode && p.parentNode.removeChild(p);};this.Jsa=function(p){n.Rr.ZWb(p.newValue);};this.FQb=function(p){n.Rr.fXb(p.newValue?p.newValue.q7:void 0);};this.l4a=function(){n.Rr.JO();};this.Rr=new h.iLa(d.config.dxa,k.cc.value?k.cc.value.q7:void 0);q=k.aB;l.kb(.1 < q.width / q.height);this.Rr.PWb(q.width / q.height);k.Ig.appendChild(this.Rr.An());k.bv.addListener(this.Jsa);k.cc.addListener(this.FQb);k.addEventListener(g.ca.jg,this.aQb,f.$E);m.ue.addListener(m.u6,this.l4a);}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;f=a(12);l=a(21);m=a(60);d=a(14);h=a(530);g=a(15);c.prototype.$va=function(k){this.Rr.$va(k);};c.prototype.doa=function(){return this.Rr.doa();};c.prototype.Yva=function(k){this.Rr.Yva(k);};c.prototype.boa=function(){return this.Rr.boa();};c.prototype.Zva=function(k){this.Rr.Zva(k);};c.prototype.coa=function(){return this.Rr.coa();};b.kLa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d6a=void 0;b.d6a=function(a){var c,f;c=!1;f=!1;return function(){if(c)f=!0;else for(f=!0;f;){f=!1;c=!0;a();c=!1;}};};},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t){this.j=t;this.BZb=!1;this.log=d.Ih(this.j,"MediaAppendManager");this.Tb=this.j.Tb;this.X=this.Tb.X;this.WZ=this.GT=!1;this.audio={type:m.Bi.audio,gw:[],Gl:[],oO:!1};this.video={type:m.Bi.video,gw:[],Gl:[],oO:!1};t={};this.cJ=(t[f.Rb.ml.Lb]=this.video,t[f.Rb.ml.Ub]=this.audio,t);this.closed=!1;this.bA=l.config.bA;this.x8=l.config.x8;this.WH=l.DSa(! !this.j.bb.El).WH;this.TQa=!0;g.kb(this.bA > this.x8,"bad config");g.kb(this.bA > this.WH,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;f=a(47);l=a(14);m=a(90);d=a(8);h=a(3);g=a(21);k=a(30);n=a(15);q=a(184);p=a(4);v=a(62);c.prototype.G5=function(){var w,x;function t(y,z){return u(y,z.n8);}function u(y,z){var A,B,D,E;D=! !z.response;E=z.response;if(z.Zc)return y + (E.byteLength || 0);z=(null !== (A=null === z || void 0 === z?void 0:z.LL) && void 0 !== A?A:0) - (null !== (B=null === z || void 0 === z?void 0:z.ML) && void 0 !== B?B:0);return (D?E.byteLength:z) + y;}w=this.cJ[f.Rb.ml.Lb];x=this.cJ[f.Rb.ml.Ub];return {videoToAppend:w.Gl.reduce(u,0),videoInBuffer:w.gw.reduce(t,0),audioToAppend:x.Gl.reduce(u,0),audioInBuffer:x.gw.reduce(t,0)};};c.prototype.yPb=function(){this.audio.Wi && !this.audio.Wi.Hh() && (!1,this.audio.Wi.hQa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.rXb=function(){this.audio.ewa=!0;this.video.ewa=!0;};c.prototype.wXb=function(t){t === f.Rb.ml.Ub?this.GT=!0:t === f.Rb.ml.Lb && (this.WZ=!0);};c.prototype.Hh=function(){var t,u;return !(null === (t=this.audio.Wi) || void 0 === t || !t.Hh()) || !(null === (u=this.video.Wi) || void 0 === u || !u.Hh());};c.prototype.G$=function(t){var u,w;null === (u=this.audio.Wi) || void 0 === u?void 0:u.G$(t);null === (w=this.video.Wi) || void 0 === w?void 0:w.G$(t);};c.prototype.grb=function(t){var u;t.mediaType === f.Rb.ml.Ub?this.GT=!1:t.mediaType === f.Rb.ml.Lb && (this.WZ=!1);u=this.cJ[t.mediaType];u?u.Gl.push(t):g.kb(!1);};c.prototype.erb=function(t,u,w){u={mediaType:t.type,gD:!1,response:u,ii:function(){return "header";},get Zc() {return !this.gD;},profile:w.profile};(t=this.cJ[t.type])?t.Gl.push(u):g.kb(!1);};c.prototype.uXb=function(t){var u;u=this.cJ[t.type];if(u)try{u.Wi=t;}catch(w){this.Wd(h.M.Eda,{na:q.S5(t.type),ub:k.vd(w)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Wd=function(t,u,w){this.closed || this.j.Wd(t,u,w);};c.prototype.Jka=function(t){return this.uUa(this.audio,t,this.q4()) && this.uUa(this.video,t,this.q4());};c.prototype.q4=function(){return this.j.yb.value === n.cb.Of?this.WH:this.x8;};c.prototype.m_b=function(){var t,u;t=this.video.Gl.filter(function(w){return !w.Zc;}).reduce(function(w,x){return w + x.Hr;},0);u=this.audio.Gl.filter(function(w){return !w.Zc;}).reduce(function(w,x){return w + x.Hr;},0);return Math.min(t,u);};c.prototype.uUa=function(t,u,w){var x;x=t.Kka;x=x && x.n8;return !t.Wi || 0 === t.Gl.length && (t.type === m.Bi.audio && this.GT || t.type === m.Bi.video && this.WZ)?!0:x && x.Sw - u >= w || !1;};c.prototype.rxa=function(t){this.BZb || (this.gab(this.audio,t),this.gab(this.video,t));this.closed || this.QRa();};c.prototype.QRa=function(){var t,u,w,x,y;w=!this.audio.Wi || 0 !== this.audio.gw.length;x=0 === this.video.Gl.length && this.WZ;y=!this.video.Wi || 0 !== this.video.gw.length;!(!(0 === this.audio.Gl.length && this.GT && y || x && w) || (null === (t=this.audio.Wi) || void 0 === t?0:t.Hh()) || (null === (u=this.video.Wi) || void 0 === u?0:u.Hh()) || this.Ala) && this.X.readyState > v.$n.p0.HAVE_NOTHING && (this.Ala=!0,this.Tb.endOfStream());};c.prototype.gab=function(t,u){var w,x,y;if(!this.closed && t.Wi){w=t.Wi;x=t.gw;!w.Hh() && 0 < x.length && (t.Kka=x[x.length - 1]);if(t.ewa){if(w.Hh())return;t.ewa=!1;y=this.Tb.jYa().K5a(p.eo);0 < y && w.remove(0,y);}for(y=t.Gl[0];y && y.response && (y.Zc || y.yA - u <= this.bA);){if((this.Ala=!1,this.a0b(y)))(t.Gl.shift(),y=t.Gl[0]);else break;}!w.Hh() && 0 < x.length && (t.Kka=x[x.length - 1]);}};c.prototype.a0b=function(t){var u,w,x;!1;g.kb(t && ! !t.response);u=t.response;w=t.mediaType;x=this.cJ[w];if(!this.closed && x.Wi && !x.Wi.Hh()){try{t.Zc && t.profile && x.Wi.Vtb(t.profile);this.log.trace("Feeding media segment to decoder",{Bytes:u.byteLength});x.Wi.hQa(u,t);t.Zc || x.gw.push(this.yxb(t));l.config.Zzb && !t.Zc && t.YRa();}catch(y){"QuotaExceededError" === y.name?(this.j.s4=this.j.s4?this.j.s4 + 1:1,this.TQa=!1,x.oO=!0):(this.log.error("Exception while appending media",t,y),this.Wd("CodecSwitchingError" === y.name?h.M.eHa:h.M.Jib,q.S5(w)));return;}return !0;}};c.prototype.qxb=function(t){var u;u=this.j.XHb(t.Ld);u || (this.log.warn("Could not find CDN",{cdnId:t.Ld}),u={id:t.Ld,vqa:t.location});return u;};c.prototype.pTa=function(t){var u,w;w=t.Oa;t.mediaType === f.Rb.ml.Ub?u=this.j.pZa(w):t.mediaType === f.Rb.ml.Lb && (u=this.j.AZa(w));u || this.log.error("Could not find stream",{stream:w});return u;};c.prototype.yxb=function(t){var u;u=this.pTa(t);return {n8:t,stream:u,fm:{startTime:Math.floor(t.yA),endTime:Math.floor(t.Sw)},kc:this.qxb(t)};};c.prototype.qja=function(t){this.URa(t,f.Rb.ml.Ub);this.URa(t,f.Rb.ml.Lb);};c.prototype.URa=function(t,u){var w,x,y,z,A,B,D,E,F;w=this;x=t;this.TQa && (x-=l.config.TO);y=this.cJ[u];z=y.gw;D=!1;z.some(function(C,G){var J;J=C.n8;if(t < J.yA)return (g.kb(!1,"decoder content does not contain media time"),!0);x >= J.Sw && (A=G);if(t < J.Sw)return (B=G,G=u === f.Rb.ml.Ub?w.j.hf:w.j.ke,C !== G.value && (G.set(C),D=!0),!0);});if((y.oO || D) && void 0 !== A && !this.Ala){if(A + 1 === B){if(0 === A)return;A--;}E=z[A].n8.Sw - 1;if(0 < E){F=y.Wi;F && !F.Hh()?(F.remove(0,E / k.nl),y.oO=!1,z.splice(0,A + 1)):(y.oO=!0,!1);}}};c.prototype.w7a=function(){!1;[this.audio,this.video].forEach(function(t){t.gw=[];t.Kka=void 0;t.Gl=[];});this.WZ=this.GT=!1;this.j.fireEvent(n.ca.k8);};c.prototype.koa=function(){return [this.audio,this.video].filter(function(t){return t.Wi;});};c.prototype.oEb=function(){var t,u;if(this.Hh())g.kb(!1,"should not be busy while checking buffer ranges");else {t=this.koa().map(function(w){var x,y,z,A,B;A=w.Gl.filter(function(D){return D.gD;});B=w.Wi.buffered();w=B.length?Math.ceil(1E3 * B.start(0)):void 0;B=B.length?Math.floor(1E3 * B.end(B.length - 1)):void 0;w=null !== w && void 0 !== w?w:null === (x=A[0]) || void 0 === x?void 0:x.yA;x=null !== (z=null === (y=A[A.length - 1]) || void 0 === y?void 0:y.Sw) && void 0 !== z?z:B;if(void 0 !== w && void 0 !== x)return {start:w,end:x};});if(t.every(function(w){return w;})){u=Math.max.apply(Math,ea(t.map(function(w){return w.start;})));t=Math.min.apply(Math,ea(t.map(function(w){return w.end;})));if(t > u)return {start:p.Kc(u),end:p.Kc(t)};}}};c.prototype.skip=function(t){g.kb(!this.Hh(),"should not be busy while skipping");this.koa().forEach(function(u){u.oO=!0;});this.qja(t);this.koa().forEach(function(u){0 < u.gw.length || (u.Gl=u.Gl.filter(function(w){return w.Zc || w.Sw > t?!0:!1;}));});};b.KFa=c;},function(r,b){function a(f,l,m){var d,h,g,k;d=[];f.forEach(function(n){-1 == d.indexOf(n.ih) && d.push(n.ih);});h=null;g=null;l.forEach(function(n){null === h?g=h=n.bitrate:g < n.bitrate?g=n.bitrate:h > n.bitrate && (h=n.bitrate);});k=[];d.forEach(function(n){var q;q={ranges:[],profile:n};h && g && (q.ranges.push({min:h,max:g}),m && (q.disallowed=m.filter(function(p){return p.stream.ih === n;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.F4};})),k.push(q));});return k;}function c(f,l){var m;m=void 0;f=f.filter(function(h){var g;g=l(h);g && (m=m || [],m.push({stream:h,F4:g}));return !g;});for(var d=0;d < f.length;d++){f[d].lower=f[d - 1];f[d].wIb=f[d + 1];}return {HC:f,Xzb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.Wzb=b.Et=b.pyb=b.gZa=void 0;b.gZa=function(f,l){l=c(f,l);return a(f,l.HC,l.Xzb);};b.pyb=a;b.Et=c;b.Wzb=function(f){if(f.lower && 1080 < f.height)return ["Prefetch UHD"];};},function(r,b,a){var f,l;function c(m,d){m=f.ac.call(this,m) || this;m.ira=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;f=a(80);l=a(92);na(c,f.ac);c.prototype.set=function(m){f.ac.prototype.set.call(this,l.op(m,0,this.ira));};b.yIa=c;},function(r,b,a){var l,m,d,h,g,k,n,q;function c(p,v,t,u,w){var x;x=this;this.Si=p;this.config=t;this.ib=u;this.debug=w;this.G9=[];this.hs=[];this.pta=[];this.eG={};this.vUa=!1;this.KT={};this.npa=0;this.log=v.hb("PlayTimeTracker");this.startTime=this.Si.mediaTime.value;this.U7=this.config().Ppb;this.pJ();this.eG.abrdel=0;this.U7.forEach(function(y){y="abrdel" + y;x.KT[y]=0;x.eG[y]=0;});}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=void 0;l=a(1);r=a(0);m=a(7);d=a(13);h=a(94);a(4);g=a(27);k=a(96);n=a(12);q=a(24);f.prototype.encode=function(p){return {downloadableId:p.yc,correlationId:p.Eg,bitrate:p.bitrate,vmaf:p.sb,duration:p.duration,metric:p.OW,cdnId:p.sC};};f.prototype.decode=function(p){return {yc:p.downloadableId,Eg:p.correlationId,bitrate:p.bitrate,sb:p.vmaf,duration:p.duration,OW:p.metric,sC:p.cdnId};};c.prototype.gN=function(){var p;this.LI(this.Si.mediaTime.value);p=0;this.hs.forEach(function(v){p+=(v.endTime - v.startTime) / v.rate;});return Math.floor(p);};c.prototype.eoa=function(){var p;this.LI(this.Si.mediaTime.value);p=0;this.hs.forEach(function(v){p+=v.endTime - v.startTime;});this.debug.assert(p === Math.floor(p),"Value of totalContentPlayTime is not an integer.");return Math.floor(p);};c.prototype.aEb=function(){this.LI(this.Si.mediaTime.value);return {audio:this.tV(this.G9,this.sXa),video:this.tV(this.hs,this.sXa)};};c.prototype.qGb=function(){var p;p={total:this.gN(),totalContentTime:this.eoa(),audio:this.tV(this.G9,this.R5),video:this.tV(this.hs,this.R5),timedtext:this.tV(this.pta,this.R5)};this.debug.assert(!(!p.audio || !p.video));return p;};c.prototype.Qma=function(){var p,v;this.LI(this.Si.mediaTime.value);p=this.Lma(this.hs,this.mEb);try{v=this.PWa(p);}catch(t){return (this.log.warn("Failed to calc average bitrate."),null);}this.eG.abrdel=Math.round(v);return this.eG.abrdel;};c.prototype.QWa=function(){var p,v;this.LI(this.Si.mediaTime.value);p=this.Lma(this.hs,this.yHb);try{v=this.PWa(p);}catch(t){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.OWa=function(){var p,v;p=this;if(!this.vUa){v=this.gN();this.U7.forEach(function(t){var u,w,x;if(0 === p.KT["abrdel" + t] && v > t * n.nl){u=0;w=0;x=0;p.hs.some(function(y){u+=y.stream.bitrate * (y.endTime - y.startTime);w+=y.endTime - y.startTime;x=y.stream.bitrate;if(w > t * n.nl)return !0;});u && (p.KT["abrdel" + t]=Math.round((u - x * (w - t * n.nl)) / (t * n.nl)));}});0 !== this.KT["abrdel" + this.U7[this.U7.length - 1]] && (this.vUa=!0);q.se(this.KT,function(t,u){p.eG[t]=0 === u?p.eG.abrdel:u;});}return this.eG;};c.prototype.iqb=function(p){this.npa+=p;};c.prototype.BZa=function(){return ! !(this.hs[0] && this.hs[0].stream && this.ib.Fg(this.hs[0].stream.sb));};c.prototype.pJ=function(){var p;p=this;this.Si.hf.addListener(function(v){p.bM=p.MRa(p.bM,p.G9,v.newValue);});this.Si.ke.addListener(function(v){p.eM=p.MRa(p.eM,p.hs,v.newValue);});this.Si.playbackRate.addListener(function(v){p.LI(p.Si.mediaTime.value,v.oldValue);});this.Si.ai.addListener(this.QPb.bind(this));};c.prototype.ksa=function(p,v){this.LI(p);this.startTime=v;this.eM=this.bM=void 0;this.dM && (this.dM.startTime=this.startTime);!1;};c.prototype.QPb=function(p){this.WX(this.dM,this.pta,this.Si.mediaTime.value);this.dM=p.newValue?{track:p.newValue,startTime:this.Si.mediaTime.value,endTime:h.rB}:void 0;};c.prototype.LI=function(p,v){v=void 0 === v?this.Si.playbackRate.value:v;p && this.bM && this.eM && (p=Math.min(p,this.bM.endTime,this.eM.endTime),this.WX(this.bM,this.G9,p,v),this.bM.startTime=p,this.WX(this.eM,this.hs,p,v),this.eM.startTime=p,this.dM && (this.WX(this.dM,this.pta,p,v),this.dM.startTime=p),this.startTime=p,!1);};c.prototype.MRa=function(p,v,t){p && this.WX(p,v,Math.min(p.endTime,this.Si.mediaTime.value));if(t && t.stream)return (p=t.fm,v=t.stream,{kc:t.kc,track:v.track,stream:v,startTime:Math.max(p.startTime,this.startTime),endTime:p.endTime});};c.prototype.WX=function(p,v,t,u){u=void 0 === u?this.Si.playbackRate.value:u;p && t && t >= p.startTime && (p={kc:p.kc,track:p.track,stream:p.stream,startTime:p.startTime,endTime:t,rate:u},(t=v[v.length - 1]) && t.track === p.track && t.stream === p.stream && t.kc === p.kc && t.endTime === p.startTime && t.rate === p.rate?t.endTime=p.endTime:v.push(p),!1);};c.prototype.Lma=function(p,v){var t,u;t=this;u={};return p.reduce(function(w,x){var y,z,A;y=v.bind(t,x)();z=y.key;y=l.__rest(y,["key"]);x=x.endTime - x.startTime;A=u[z];A?A.duration+=x:(A=y,A.duration=x,w.push(A),u[z]=A);return w;},[]);};c.prototype.tV=function(p,v){return this.Lma(p,v).map(function(t){return new f().encode(t);});};c.prototype.R5=function(p){var v,t,u;v=p.stream;if(v){p=v.yc;t=v.bitrate;u=v.sb;}else p=p.track.yc;return {key:p + "$" + t + "$" + u,yc:p,bitrate:t,sb:u};};c.prototype.sXa=function(p){var v,t,u;t=this.R5(p);u=null === (v=p.kc) || void 0 === v?void 0:v.id;p=p.track.Eg;return Object.assign({},t,{key:t.key + "$" + u + "$" + p,sC:u,Eg:p});};c.prototype.mEb=function(p){var v;v=p.stream;p=null === v || void 0 === v?void 0:v.yc;v=null === v || void 0 === v?void 0:v.bitrate;return {key:p + "$" + v,yc:null !== p && void 0 !== p?p:"",OW:v};};c.prototype.yHb=function(p){var v;v=p.stream;p=null === v || void 0 === v?void 0:v.yc;v=null === v || void 0 === v?void 0:v.sb;return {key:p + "$" + v,yc:null !== p && void 0 !== p?p:"",OW:v};};c.prototype.PWa=function(p){var v,t,u;v=this;t=0;p.forEach(function(w){if(v.ib.Fg(w.duration) && v.ib.Fg(w.OW))t+=w.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!t)return 0;u=0;p.forEach(function(w){u+=w.OW * w.duration / t;});return u;};a=c;a=l.__decorate([r.R(),l.__param(1,r.l(m.qb)),l.__param(2,r.l(d.Xc)),l.__param(3,r.l(g.ag)),l.__param(4,r.l(k.nv))],a);b.nIa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mIa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var f,l;function c(m,d,h,g,k,n,q,p,v,t,u){this.index=m;this.J=d;this.wa=h;this.bb=g;this.ba=k;this.vk=n;this.Dqa=q;this.zvb=v;this.R2a=u;this.ic=new f.ac(null);this.wg=new f.ac(null);this.cc=new f.ac(null);this.ai=new f.ac(null);this.bv=new f.ac(void 0);this.Ve=new f.ac(null);this.hh=new f.ac(null);this.hf=new f.ac(null);this.ke=new f.ac(null);this.kc=[new f.ac(null),new f.ac(null)];this.mediaTime=new f.ac(void 0);this.playbackRate=new f.ac(1);this.Mp=new f.ac(null);this.iG=this.hG="notcached";this.E4=this.background=!1;p && (this.Ve.set(p.Ve.value),this.hh.set(p.hh.value));this.Jl=t(this);this.Am=this.R2a.EUb(this.ba,this.vk);}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;f=a(80);l=a(4);c.prototype.Cd=function(m){this.Am.Jp(m);};c.prototype.Fz=function(m){var d;d=this;Object.entries(m).forEach(function(h){var g;g=ba(h);h=g.next().value;g=g.next().value;d.Am.Jp(h,l.Kc(g - d.vk.da(l.ja)));});};c.prototype.Z8=function(){this.R2a.WUb(this.ba);};Xa.Object.defineProperties(c.prototype,{xe:{configurable:!0,enumerable:!0,get:function(){return this.bb.xe;}},Iaa:{configurable:!0,enumerable:!0,get:function(){return this.bb.Iaa;}},pm:{configurable:!0,enumerable:!0,get:function(){return this.Oc && this.Oc.pm;}},Hi:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Oc && this.Oc.Hi) && void 0 !== m?m:[];}},ip:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Oc && this.Oc.ip) && void 0 !== m?m:[];}},VA:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Oc && this.Oc.VA) && void 0 !== m?m:[];}},Ph:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Oc && this.Oc.Ph) && void 0 !== m?m:[];}},Ri:{configurable:!0,enumerable:!0,get:function(){return this.Oc && this.Oc.Ri;}},kD:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Oc && this.Oc.kD) && void 0 !== m?m:!1;}},Ku:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Oc && this.Oc.Ku) && void 0 !== m?m:[];}},ck:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Oc && this.Oc.ck) && void 0 !== m?m:[];}},Sy:{configurable:!0,enumerable:!0,get:function(){return this.wfa && 0 < this.wfa.da(l.ja)?this.wfa:l.Kc(this.oa?this.oa.uc.duration:0);},set:function(m){this.wfa=m;}},Ej:{configurable:!0,enumerable:!0,get:function(){return this.bb.Ej || 0;}},vka:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.gU?this.gU:void 0 === this.mediaTime.value?null:this.zvb(this.mediaTime.value,this.wa);}},Eg:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.uc.P3) || void 0 === d?void 0:d.ds;}},EI:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.uc.P3) || void 0 === d?void 0:d.EI;}},md:{configurable:!0,enumerable:!0,get:function(){return this.Am.md;}}});b.zIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CLa="TrickPlayParserSymbol";},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BLa=void 0;r=a(1);l=a(165);a=a(0);c.prototype.parse=function(d){var h,g;if(!d)throw Error("invalid array buffer");h=new Uint8Array(d);g=new l.yQ(h);d=this.lRb(g);h=this.mRb(g,h,d);return {header:d,images:h};};c.prototype.lRb=function(d){var h,g,k,n;if(d.Jna() < this.yVb())throw Error("array buffer too short");f.iFa.forEach(function(q){if(q != d.BA())throw Error("BIF has invalid magic.");});h=d.DO();if(h > f.VERSION)throw Error("BIF version in unsupported");g=d.DO();if(0 == g)throw Error("BIF has no frames.");k=d.DO();n=d.Lh(f.uJa);return {version:h,FPb:g,K$a:k,u7a:n};};c.prototype.mRb=function(d,h,g){var q,p;for(var k=[],n=0;n <= g.FPb;n++){q={timestamp:d.DO(),offset:d.DO()};void 0 != p && k.push(h.subarray(p.offset,q.offset));p=q;}return k;};c.prototype.yVb=function(){return f.iFa.length + 4 + 4 + 4 + f.uJa;};m=f=c;m.iFa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.uJa=44;m=f=r.__decorate([a.R()],m);b.BLa=m;},function(r,b,a){var f,l,m;function c(d,h,g){this.config=d;this.j=h;this.Vf=g;this.CX=void 0;this.w9=!1;this.fqa=0;this.log=this.Vf.hb();}Object.defineProperty(b,"__esModule",{value:!0});b.dKa=void 0;f=a(15);l=a(4);m=a(92);c.prototype.YFb=function(d,h,g,k,n){var q,p,v,t;g=void 0 === g?this.j.wa:g;k=void 0 === k?!1:k;q=h === f.Be.gK;p=this.ttb(q?d:this.zub(d,g),k,g);k=this.j.Ka;q?(d=p,p=k.Ct(p)):d=k.ZL(g,p);h === f.Be.Dx && (this.j.eRa=p);n=this.Ji(d,h,n);v=(q=q || n)?d:p;if(this.j.Au){t=this.config().WH;this.j.sZa(v,t) || h !== f.Be.zB || (v=this.j.Au.da(l.ja) - t - 1E3,q?(d=v,p=k.Ct(v)):(d=k.ZL(g,v),p=v));}return {Q8:v,ek:p,jSb:d,Ji:n};};c.prototype.ttb=function(d,h,g){d=this.DKb() || h?Math.round(d):this.j.Ka.eja(d,g);this.j.bb.El && (d=this.mDb(d));this.config().vva && (d+=this.config().vva);return d;};c.prototype.Ji=function(d,h,g){if(this.config().Vzb || h === f.Be.Dx || h === f.Be.SR || h === f.Be.b0 || !g || d < g.start.da(l.ja) || d >= g.end.da(l.ja))return !1;h=this.j.Ka;return (null === h || void 0 === h?void 0:h.Yh) && h.Ji(d) || !1;};c.prototype.DKb=function(){return this.j.bb.El?!0:"boolean" === typeof this.j.bb.LX?this.j.bb.LX:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().LX && this.config().FSb:this.config().LX;};c.prototype.zub=function(d,h){var g;h=this.j.rm(h);g=h.Sy;h=(h.wNb || g).da(l.ja) - this.config().q2b;return m.op(d,0,h);};c.prototype.mDb=function(d){var h,g,k;h=this.j.oV();if(Object.values(h).find(function(n){var q;q=n.Nc;q=d < (null !== q && void 0 !== q?q:Infinity);return n.xc <= d && q;}))return (!1,d);k=d;Object.entries(h).forEach(function(n){var q;n=ba(n);n.next();n=n.next().value.xc;q=n - d;0 < q && (void 0 === g || q < g) && (g=q,k=n);});!1;return k;};Xa.Object.defineProperties(c.prototype,{Fpa:{configurable:!0,enumerable:!0,get:function(){return this.w9 || ! !this.CX;}}});b.dKa=c;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w;function c(x,y,z,A,B,D){var E;E=this;this.j=x;this.gk=y;this.MZ=z;this.$d=A;this.SY=B;this.pn=D;this.CTa={};this.update=function(){var F;if(E.cp.selectionStart == E.cp.selectionEnd){F="";E.vV().forEach(function(C){F=F?F + "\n":"";Object.entries(C).forEach(function(G){var J;J=ba(G);G=J.next().value;J=J.next().value;F+=G + ": " + J + "\n";});});E.cp.style.fontSize=d.op(g.Ix(E.element.clientHeight / 60),8,18) + "px";E.cp.value=F;}};this.fQb=function(){var F,C;if(E.j.Wf){C=E.j.Wf.TG();C && (E.wka=C - (null !== (F=E.S$a) && void 0 !== F?F:0),E.S$a=C,E.iO());}};this.iO=function(){E.MZ.Ml(E.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == q.rv.Pdb || F.keyCode == q.rv.Q) && E.toggle();};this.v5a=[x.mediaTime,x.kc[f.Rb.Ta.Ub],x.kc[f.Rb.Ta.Lb],x.hf,x.ke,x.hh,x.Ve,x.ai,x.state,x.zr,x.yb,x.volume,x.muted];this.element=this.$d.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.cp=this.$d.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.cp);this.controls=this.$d.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.$d.createElement("button",void 0,"X");y.addEventListener("click",function(){return E.Qr();},!1);this.controls.appendChild(y);m.ue.addListener(m.UC,this.onkeydown);x.addEventListener(n.ca.jg,function(){m.ue.removeListener(m.UC,E.onkeydown);E.Qr();});}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;f=a(47);l=a(58);m=a(60);d=a(92);h=a(299);g=a(11);k=a(19);n=a(15);q=a(132);p=a(4);r={};v=(r[n.Pb.ZJ]="Not Loaded",r[n.Pb.LOADING]="Loading",r[n.Pb.pe]="Normal",r[n.Pb.CLOSING]="Closing",r[n.Pb.CLOSED]="Closed",r);r={};t=(r[n.xf.pe]="Normal",r[n.xf.ud]="Pre-buffering",r[n.xf.VJa]="Network stalled",r);r={};u=(r[n.cb.Of]="Waiting for decoder",r[n.cb.Hc]="Playing",r[n.cb.eh]="Paused",r[n.cb.Vq]="Media ended",r);w=[n.ca.k8];c.prototype.WWb=function(x){this.CTa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.NJb=nb.setInterval(this.fQb,1E3),document.body.appendChild(this.element),this.v5a.forEach(function(y){y.addListener(x.iO);}),w.forEach(function(y){x.j.addEventListener(y,x.iO);}),this.visible=!0,this.pn.fZ().then(function(y){x.xoa=y;x.iO();}));this.update();};c.prototype.Qr=function(){var x;x=this;this.visible && (clearInterval(this.NJb),this.S$a=this.wka=void 0,document.body.removeChild(this.element),this.v5a.forEach(function(y){y.removeListener(x.iO);}),w.forEach(function(y){x.j.removeEventListener(y,x.iO);}),this.MZ.Ml(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Qr():this.show();};c.prototype.vV=function(){var x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S,U,da,ka,ma,X,ua,ya,O,T,ja,pa,sa,Qa,Ua,Za,ab,kb;C=[];G=this.gk();C.push({Version:"6.0033.278.911",Esn:G?G.Tk:"UNKNOWN",PBCID:this.j.Eg,UserAgent:g.vB});try{J={MovieId:this.j.J,TrackingId:this.j.Ej,Xid:this.j.ba + " (" + l.co.map(function(Ya){return Ya.ba;}).join(", ") + ")",Position:d.bj(this.j.mediaTime.value),Duration:d.bj(this.j.Sy.da(p.ja)),PlayerDuration:d.bj(this.j.Au.da(p.ja)),Volume:g.aj(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.bb.El || this.j.bb.t7)(J["Segment Position"]=d.bj(this.j.PC()),J.Segment=this.j.Dna());C.push(J);}catch(Ya){}try{C.push({"Player state":v[this.j.state.value],"Buffering state":t[this.j.zr.value],"Rendering state":u[this.j.yb.value]});}catch(Ya){}try{K=this.j.aya() + this.j.lia();I=this.j.hf.value;M=null === I || void 0 === I?void 0:I.stream;R=this.j.ke.value;H=null === R || void 0 === R?void 0:R.stream;Q=null !== (x=null === M || void 0 === M?void 0:M.bitrate) && void 0 !== x?x:"?";N=H?H.bitrate + " (" + H.width + "x" + H.height + ")":"?";L=null !== (y=null === H || void 0 === H?void 0:H.sb) && void 0 !== y?y:"?";P=null !== (A=null === (z=this.j.Ve.value) || void 0 === z?void 0:z.sb) && void 0 !== A?A:"?";S=null !== (D=null === (B=this.j.hh.value) || void 0 === B?void 0:B.bitrate) && void 0 !== D?D:"?";U=null !== (F=null === (E=this.j.Ve.value) || void 0 === E?void 0:E.bitrate) && void 0 !== F?F:"?";da=this.j.kc[f.Rb.Ta.Lb].value;ka=this.j.kc[f.Rb.Ta.Ub].value;C.push({"Playing bitrate (a/v)":Q + " / " + N,"Playing/Buffering vmaf":L + "/" + P,"Buffering bitrate (a/v)":S + " / " + U,"Buffer size in Bytes (a/v)":this.j.lia() + " / " + this.j.aya(),"Buffer size in Bytes":"" + K,"Buffer size in Seconds (a/v)":d.bj(this.j.BT()) + " / " + d.bj(this.j.QZ()),"Current CDN (a/v)":(ka?ka.name + ", Id: " + ka.id:"?") + " / " + (da?da.name + ", Id: " + da.id:"?")});}catch(Ya){}try{if(this.j.hf.value && this.j.ke.value){ma=this.j.hf.value.stream;X=ma.track;ua=this.j.ke.value.stream;ya=this.j.ai.value;O=this.SY.j4(this.j.wg.value?this.j.wg.value.streams:[]);T=this.SY.g4(X.streams);ja=ua.ih;pa=(/hevc/).test(ja)?"hevc":(/vp9/).test(ja)?"vp9":(/h264hpl/).test(ja)?"avchigh":(/av1/).test(ja)?"av1":"avc";(/hdr/).test(ja) && (pa+=", hdr");(/dv/).test(ja) && (pa+=", dv");(/prk/).test(ja) && (pa+=", prk");sa=ma.ih;Qa=(/xheaac/).test(sa)?"xhe-aac":(/heaac/).test(sa)?"he-aac":(/ddplus/).test(sa)?"ddplus":"unknown";(/atmos/).test(sa) && (Qa+=", atmos");C.push({"Audio Track":X.Vd + ", Id: " + X.trackId + ", Channels: " + X.channels + ", Codec: " + T + " (" + Qa + ")","Video Track":"Codec: " + O + " (" + pa + ")","Timed Text Track":ya?ya.Vd + ", Profile: " + ya.profile + ", Id: " + ya.trackId:"none"});}}catch(Ya){}try{Ua=this.j.Wf;Za=this.j.Ve.value?this.j.Ve.value.framerate:0;ab=a(537).G1a;C.push({Framerate:Za.toFixed(3),"Current Dropped Frames":k.Ba(this.wka)?this.wka:"","Total Frames":Ua.MC(),"Total Dropped Frames":Ua.TG(),"Total Corrupted Frames":Ua.qV(),"Total Frame Delay":Ua.U5(),"Main Thread stall/sec":ab?ab.qFb().join(" "):"DISABLED",VideoDiag:h.Rqa(this.j.p6()),"HDR support":this.xoa?this.xoa.result + " (" + this.xoa.reason + ")":"unknown"});}catch(Ya){}try{C.push({Throughput:this.j.Ra + " kbps"});}catch(Ya){}kb=void 0;try{Object.entries(this.CTa).forEach(function(Ya){var Sa;Sa=ba(Ya);Ya=Sa.next().value;Sa=Sa.next().value;kb=kb || ({});kb[Ya]=JSON.stringify(Sa);});kb && C.push(kb);}catch(Ya){}return C;};b.vIa=c;},function(r,b,a){var l,m,d,h;function c(g,k,n,q){this.ba=g;this.uVb=k;this.sa=n;this.gg=q;this.md={};}function f(g,k){this.Vf=g;this.gg=k;this.Dc={};this.sa=g.hb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$ib=b.xIa=void 0;r=a(1);l=a(0);m=a(7);d=a(18);h=a(4);f.prototype.EUb=function(g,k){this.Dc[g] && this.sa.warn("registerPlayback: xid " + g + " already registered, overriding");k=(k?k:this.gg.Wb()).da(h.ja);this.sa.trace("registerPlayback: xid " + g + " at " + k);this.Dc[g]=new c(g,k,this.sa,this.gg);return this.Dc[g];};f.prototype.sGb=function(g){this.Dc[g] || this.sa.warn("getPlaybackMilestones: xid " + g + " is not registered");return this.Dc[g];};f.prototype.WUb=function(g){this.sa.trace("removePlayback: xid " + g);delete this.Dc[g];};a=f;a=r.__decorate([l.R(),r.__param(0,l.l(m.qb)),r.__param(1,l.l(d.fd))],a);b.xIa=a;c.prototype.Jp=function(g,k){k=k?k.da(h.ja):this.gg.Wb().da(h.ja) - this.uVb;this.sa.trace("addMilestone: xid " + this.ba + " " + g + " at " + k);this.md[g]=k;};b.$ib=c;},function(r,b,a){var f,l,m,d;function c(h){this.za=h;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.JJa=void 0;r=a(1);f=a(15);l=a(0);m=a(18);d=a(4);c.prototype.wk=function(h){h.cause !== f.Be.Dx && (this.trace.unshift({time:this.za.Wb(),event:h}),5 < this.trace.length && this.trace.pop());};c.prototype.YYa=function(){var h,g;h=this;if(0 === this.trace.length)return {};g=this.trace[0];return {timeSinceLastRepositionMs:this.G$a(g.time),lastRepositionCause:this.aXa(g.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:h.G$a(k.time),cause:h.aXa(k.event.cause),newMediaTime:k.event.Q8,oldMediaTime:k.event.zsa,contentPts:k.event.ek,skip:k.event.skip};})};};c.prototype.G$a=function(h){return this.za.Wb().Qa(h).da(d.ja);};c.prototype.aXa=function(h){switch(h){case f.Be.Dx:return "initial";case f.Be.zB:return "seek";case f.Be.gK:return "segment_changed";case f.Be.SR:return "track_changed";case f.Be.b0:return "force_rebuffer";}};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.fd))],a);b.JJa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x;function c(y,z,A){var B;B=this;this.fb=y;this.j=z;this.debug=A;this.nr=this.Yh=this.MB=!1;this.jt=this.dn=void 0;this.Oe=function(){var D,E,F,C,G,J;B.debug.assert(B.pa,"has access to asePlaygraph");B.debug.assert(B.kd,"has access to internalLogger");B.debug.assert(B.ru,"has access to mediaBufferGetLogFields");if(B.sf.value !== f.ma.gr && B.sf.value !== f.ma.cj){G=B.wo;J=null === (E=null === (D=B.Ob.get()) || void 0 === D?void 0:D.Ra) || void 0 === E?void 0:E.Ga;D={type:"logdata",target:"startplay",fields:{hasasereport:B.j.sM,hashindsight:!1,buffCompleteReason:G.reason,actualbw:J,initSelReason:null !== (F=G.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:G.vBufferLevelMs,bcABufferLevelMs:G.aBufferLevelMs}};g.jia({BVa:D,mk:B.mk,loadTime:B.loadTime});B.pa.FZ("startplay",m.ae.ap);null !== (C=B.Fa) && void 0 !== C && C.Dl?(B.kd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:G},B.ru()),B.j.wo=G,B.j.zr.set(k.xf.pe),B.cDb || (B.cDb=!0,B.j.Cd("pb")),B.play()):B.kd.error("Shim received buffering complete but player has no position (player " + (B.Fa?"":"un") + "defined, state " + B.j.state + ")");}};this.HT=function(){var D,E;B.debug.assert(B.kd,"has access to internalLogger");!1;B.dn=void 0;B.j.paused.value && B.HD && (B.HD=!1,B.j.paused.set(!1,{esa:!0}));null === (D=B.j.Wf) || void 0 === D?void 0:D.bvb();null === (E=B.jX) || void 0 === E?void 0:E.call(B);B.jX=void 0;};this.events=new x();this.Fj=new w.Xea();}Object.defineProperty(b,"__esModule",{value:!0});b.Lya=void 0;f=a(47);l=a(17);m=a(292);d=a(61);h=a(3);g=a(1190);k=a(15);n=a(14);q=a(19);p=a(4);v=a(1191);t=a(92);u=a(80);w=a(505);x=a(113).EventEmitter;c.prototype.I3=function(){};c.prototype.cd=function(){var y;this.nr=!1;this.Ob.hP(null);this.debug.assert(this.ti,"has access to streamingEngine");this.pa && this.ti.Pu(this.pa);this.Fa && this.ti.HO(this.Fa);this.ti.Fua(this.Fj.zn(this.fb.ha.Z));this.Fj.clear();null === (y=this.qj) || void 0 === y?void 0:y.Xp();};c.prototype.HXb=function(y){var z,A,B,D,E,F,C,G,J,K,I,M,R;z=y.config;A=y.hn;B=y.kd;D=y.me;E=y.ru;F=y.Mi;C=y.IY;y=y.BI;this.kd=B;this.ru=E;this.IY=C;this.BI=y;E=this.j.ha;this.debug.assert(E,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.ti,"has access to streamingEngine");this.debug.assert(E.oa,"has access to manifest");this.ti=A.ti;A.Ne.set(a(185)(z),!0,F("ASE"));A.Ne.set({maxNumberTitlesScheduled:null !== (J=null === (G=z.BSb) || void 0 === G?void 0:G.maxNumberTitlesScheduled) && void 0 !== J?J:1},!0,B);z.Kvb && 3E5 > E.oa.uc.duration?A.Ne.uX({expandDownloadTime:!1},!0,B):A.Ne.uX({expandDownloadTime:A.Ne.j5a().expandDownloadTime},!0,B);z=E.background || z.zSb && "postplay" === E.xe?"historical":A.Ne.j5a().initBitrateSelectorAlgorithm;A.Ne.uX({initBitrateSelectorAlgorithm:z},!0,B);z=null === (R=null === (M=null === (I=null === (K=E.wg) || void 0 === K?void 0:K.value) || void 0 === I?void 0:I.streams) || void 0 === M?void 0:M[0]) || void 0 === R?void 0:R.ih;A.Ne.uX(n.CSa(! !E.bb.El,! !E.bb.t7,z),!0,B);B=D.HH({},n.Uja(E.xe));this.Ne=A.Ne.Dt(B);f.platform.events.emit("networkchange",E.Oc.NWb);this.MB=!0;};c.prototype.b7=function(y){var z,A;this.debug.assert(this.ti,"has access to streamingEngine");z=this.j.rm(y.wa);this.debug.assert(z.Oc,"has access to playback parsedManifest");A=y.flags;this.Ob.reset();this.Ad=new Set([f.Rb.Ta.Ub,f.Rb.Ta.Lb]);(A.pE || A.ET) && this.Ad.delete(A.pE?f.Rb.Ta.Ub:f.Rb.Ta.Lb);this.IP=[z.Oc.bzb,z.Oc.lzb];this.mU(y.wa,y.fw);this.zJb(y);this.lka();};c.prototype.KZ=function(y){var z;null === (z=this.pa) || void 0 === z?void 0:z.KZ(y);};c.prototype.xsb=function(y){var z,A,B,D;z=this;A=y.loadTime;B=y.mk;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");this.mk=B;this.loadTime=A;y=this.pa.events;D=this.Fa.events;y.addListener("error",function(E){"NFErr_MC_StreamingFailure" === E.error && (z.kd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(E)),z.kd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.ru())),d.Qf(function(){z.j.Wd(h.M.ccb,{na:E.nativeCode,ub:E.errormsg,ik:E.httpCode,L8:E.networkErrorCode});}));});y.addListener("logdata",function(E){var F;"string" === typeof E.target && "object" === typeof E.fields && (E.fields.aseApiVersion=null === (F=z.pa) || void 0 === F?void 0:F.aG,g.jia({BVa:E,mk:B,loadTime:A}));});y.addListener("bufferingStarted",function(){z.j.zr.set(k.xf.ud);});y.addListener("bufferingComplete",function(E){z.wo=E;});this.j.paused.addListener(function(E){var F;z.debug.assert(z.kd,"has access to internalLogger");null !== (F=E.km) && void 0 !== F && F.esa || !z.MB || (E.newValue && z.sf.value === f.ma.Hc?(z.sf.set(f.ma.eh),z.Bd.emit("paused",{type:"paused",pts:z.Bd.Jc})):E.newValue || z.sf.value !== f.ma.eh || (z.sf.set(f.ma.Hc),z.Bd.emit("playing",{type:"playing",pts:z.Bd.Jc})));E.newValue || (z.HD=!1);z.kd.info("Paused changed",{From:E.oldValue,To:E.newValue,MediaTime:t.bj(z.j.mediaTime.value)});});this.j.ic.addListener(function(E){var F,C,G,J;if(z.MB)if((z.debug.assert(z.kd,"has access to internalLogger"),E.km && E.km.XPa))z.kd.trace("Not processing already applied track",null === (F=E.newValue) || void 0 === F?void 0:F.trackId);else {J=E.newValue;z.baa({kn:J.Lz,toJSON:function(){return J.Oi;}})?z.kd.trace("ASE accepted the audio track switch",null === (G=E.newValue) || void 0 === G?void 0:G.trackId):(z.kd.trace("ASE rejected the audio track switch",null === (C=E.newValue) || void 0 === C?void 0:C.trackId),E.oldValue && E.oldValue.Lz !== J.Lz && z.j.ic.set(E.oldValue,{XPa:!0}));}});y.addListener("serverSwitch",function(E){var F;z.j.fireEvent(k.ca.FY,E);if("video" === E.mediatype)F=f.Rb.Ta.Lb;else "audio" === E.mediatype && (F=f.Rb.Ta.Ub);q.Uc(F) && z.IY(E.segmentId,E.server,F);});y.addListener("streamSelected",function(E){var F,C,G,J;C=(null === (F=z.pa) || void 0 === F?void 0:F.VC(E.position)).tG.W;F=[];if(E.mediaType === f.Rb.Ta.Lb){G=z.j.AZa(E.streamId);J=z.j.Ve;F=z.j.bH();}else E.mediaType === f.Rb.Ta.Ub && (G=z.j.pZa(E.streamId),J=z.j.hh,F=z.j.YDb());G && J?(!1,J.set(G,{kG:C,LT:E.bandwidth})):z.kd.error("no matching stream for streamSelected event",{streamId:E.streamId,mediaType:E.mediaType,streamList:F,cachedManifest:z.j.iG});});y.addListener("segmentNormalized",function(E){var F,C;F=z.j.rm(E.segmentId);C=Math.floor(E.viewableEarliestContentEnd.W);E=p.Kc(Math.floor(E.viewableContentEnd.W));C=p.Kc(C);F && (F.Sy=E,F.wNb=C);z.j.Au || (z.j.Au=E);});D.addListener("segmentPresenting",function(E){var F;z.debug.assert(z.pa,"has access to asePlaygraph");z.debug.assert(z.Fa,"has access to asePlayer");z.debug.assert(z.BI,"has access to segmentPresentingHandler");F=z.pa.VC(E.position);z.BI(F.Z,!1);z.j.fireEvent(k.ca.AI,{type:"segmentPresenting",position:{segmentId:E.position.wa,offset:E.position.offset},playerTimestamp:E.playerTimestamp,metrics:E.metrics});z.jt=z.Fa.Io();});D.addListener("ptsChanged",function(){z.Bd.emit("skipped");});y.addListener("locationSelected",function(E){z.j.fireEvent(k.ca.Vz,E);});y.addListener("aseReportEnabled",function(){z.j.sM=!0;});y.addListener("aseReport",function(E){z.j.fireEvent(k.ca.BL,E);});};c.prototype.Io=function(){var y,z,A,B,D,E,F,C,G;C=null === (y=this.Fa) || void 0 === y?void 0:y.C6();y=(null !== (z=this.jt) && void 0 !== z?z:C && this.Fa.Io()) || ({});z=y.O;C=y.ig;G=y.uO;y=y.cI;return {id:String(null === z || void 0 === z?void 0:z.id),Ee:null !== (A=null === C || void 0 === C?void 0:C.W) && void 0 !== A?A:0,dd:null !== (B=null === z || void 0 === z?void 0:z.Lg.W) && void 0 !== B?B:Infinity,Ic:null !== (D=null === z || void 0 === z?void 0:z.Sk.W) && void 0 !== D?D:0,je:null !== (E=null === G || void 0 === G?void 0:G.W) && void 0 !== E?E:Infinity,xd:null !== (F=null === y || void 0 === y?void 0:y.W) && void 0 !== F?F:0};};c.prototype.J5=function(){return {Ee:0};};c.prototype.c7=function(){var y,z;this.debug.assert(this.pa,"has access to asePlaygraph");y={};z=this.pa.MM();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.ota=function(){this.Bd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Bd.Jc});};c.prototype.baa=function(y){var z,A,B,D;z=this;this.debug.assert(this.kd,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.j.oa,"has access to playback manifest");if(this.dJ)return (!1,!1);if(!this.j.oa.uc.audio_tracks.some(function(E,F){if(E.track_id === y.kn)return (D=F,!0);}))return (!1,!1);!1;this.dn=D;null === (A=this.j.Wf) || void 0 === A?void 0:A.HYb();(null === (B=this.Fa) || void 0 === B?0:B.RA)?this.HD=!1:n.config.vRb && !this.j.paused.value && (this.Fa.pause([f.Rb.Ta.Ub]),this.HD=!0,this.j.paused.set(!0,{esa:!0}));this.debug.hia(this.dn,"has access to valid requestedAudioTrackIndex number");this.IP[f.Rb.Ta.Ub]=this.dn;(this.pa.ZD({us:function(){return z.IP[f.Rb.Ta.Ub];}},{us:function(){return z.IP[f.Rb.Ta.Lb];}}) || this.HD) && this.Fa.resume(this.HD?[f.Rb.Ta.Ub]:void 0);this.Rq(this.HT);return !0;};c.prototype.Wn=function(){var y;this.sf.set(f.ma.Nf);null === (y=this.pa) || void 0 === y?void 0:y.FZ("intrplay",m.ae.Wn);this.Bd.emit("underflow",{type:"underflow",pts:this.Bd.Jc});this.Rq(this.Oe);};c.prototype.Kq=function(y,z){this.bB.Kq(y,z);};c.prototype.open=function(){this.nr || (this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),this.nr=this.Yh=!0,this.pa.open(),this.debug.assert(this.ax,"invalid start position relative to playgraph"),this.pa.zI(this.ax),this.sf.set(f.ma.ud),this.Rq(this.Oe),this.pa.kia(this.Fa),this.fMb());};c.prototype.play=function(){this.debug.assert(this.pa,"has access to asePlaygrah");this.debug.assert(this.Fa,"has access to asePlayer");0 !== this.pa.state && (this.Fa.resume(this.HD?[f.Rb.Ta.Ub]:void 0),this.sf.set(f.ma.Hc),this.Bd.emit("playing",{type:"playing",pts:this.Bd.Jc}));};c.prototype.stop=function(){var y;this.sf.set(f.ma.gr);null === (y=this.Fa) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Bd.emit("paused",{type:"paused",pts:this.Bd.Jc});};c.prototype.flush=function(){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.ti,"has access to streamingEngine");this.nr && this.sf.value !== f.ma.cj && this.sf.value !== f.ma.gr && this.stop();this.pa.FZ("endplay",m.ae.Zp);this.pa.Cf();this.ti.Kh.save();this.ti.Fn.save();};c.prototype.Ct=function(y){var z;this.debug.assert(this.pa,"has access to asePlaygraph");z=f.T.Fb(y);return (z=this.pa.js(z,{p9a:!0,o9a:!0}))?this.pa.Ca.Aa[z.wa].xc + Number(z.offset.W.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.ZL=function(y,z){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.kd,"has access to internalLogger");this.pa.Ca.Aa[y] || (y=this.bV(z));this.debug.n3(y,"has access to segmentId");y={wa:y,offset:f.T.Fb(z - this.pa.Ca.Aa[y].xc)};if(y=this.pa.MV(y))return y.W;!1;return z;};c.prototype.eja=function(y,z){var A,B,D;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");z && this.pa.Ca.Aa[z] || (z=null !== (A=this.bV(y)) && void 0 !== A?A:null === (B=this.Fa) || void 0 === B?void 0:B.mj.wa);return null === (D=this.pa.vn(z,y)) || void 0 === D?void 0:D.dd;};c.prototype.ez=function(y){var z;z=void 0 === z?!0:z;this.Yh?Number.isFinite(y) && (this.debug.assert(this.Fa,"has access to asePlayer"),z?this.Fa.KY(y):this.Fa.Pva(y)):this.fail("Must call open prior to drmReady");};c.prototype.A6=function(){var y;return null !== (y=this.Fa) && void 0 !== y && y.Dl?this.Fa.Mo(this.pa.Ca.Aa[this.Fa.mj.wa].Z):!1;};c.prototype.Ji=function(y){!1;return this.Fa?this.Fa.Ji(f.T.Fb(y)):(!1,!1);};c.prototype.ss=function(y,z){var A;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");z && this.pa.Ca.Aa[z] || (z=null !== (A=this.bV(y)) && void 0 !== A?A:this.Fa.mj.wa);this.debug.n3(z,"has access to segmentId");this.debug.assert(this.pa.Ca.Aa[z],"segment exists in playgraph map");y={wa:z,offset:f.T.Fb(y - this.pa.Ca.Aa[z].xc)};this.pa.zI(y);this.Fa.resume();this.sf.set(f.ma.ud);this.Rq(this.Oe);y=this.pa.mva(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.W;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.MP=function(y,z){var A;A={};this.pa.wi((A[y]=z,A));};c.prototype.Cr=function(y,z){var A,B;this.debug.assert(this.kd,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");A=this.Io().id;B=this.pa.ZM(A,y);if(z){if(!B.lbb)return (this.kd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.$N)return (!1,B.$N === y);this.pa.si(A,y,!1,z);return !0;}if(void 0 !== B.$N)return (!1,!1);B.JL && (this.Fa.reset(),this.pa.si(A,y,!1,z),this.Fa.resume(),this.sf.set(f.ma.ud),this.Rq(this.Oe));return ! !B.JL;};c.prototype.si=function(y,z,A,B){this.debug.assert(this.pa,"has access to asePlaygraph");this.pa.si(y,z,A,B);};c.prototype.Sn=function(){var y;this.debug.assert(this.kd,"has access to internalLogger");y=this.Bd.Jc;!1;this.Bd.emit("skipped",{type:"skipped",pts:y});return new f.mF(Promise.resolve()).dva;};c.prototype.bV=function(y){var z,A,B,D,E,F,C,G,J;this.debug.assert(this.pa,"has acccess to asePlaygraph");this.debug.assert(this.kd,"has acccess to internalLogger");z=this.pa.Ca;A=[];B=Infinity;for(D in z.Aa){E=z.Aa[D];F=E.xc;E=E.Nc;C=F <= y;G=y < Number(null !== E && void 0 !== E?E:Infinity);!1;if(C && G)(!1,A.push(D));else if((F=Math.min(Math.abs(y - F),Math.abs(y - E)),F < B)){B=F;J=D;}}y=A[0] || J;this.debug.n3(y,"has access to locatedSegmentId");!1;return y;};c.prototype.fMb=function(){var y,z;y=this;this.debug.assert(this.j.Tb,"has acccess to mediaElement");z=this.j.Tb.X;this.debug.assert(z,"has acccess to videoElement");z.addEventListener("play",function(){y.sf.value === f.ma.eh && (y.sf.set(f.ma.Hc),y.Bd.emit("playing",{type:"playing",pts:y.Bd.Jc}));});z.addEventListener("pause",function(){y.sf.value === f.ma.Hc && (y.sf.set(f.ma.eh),y.Bd.emit("paused",{type:"paused",pts:y.Bd.Jc}));});};c.prototype.fail=function(y){var z;null === (z=this.pa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.Rq=function(y){var z,A,B,D,E,F,C,G;z=this;if(y !== this.HT && this.dJ)this.jX=y;else {G=!0 === (null === (A=this.Fa) || void 0 === A?void 0:A.hA.value);A=(null === (B=this.pa) || void 0 === B?void 0:B.Bf.value) === f.Gc.dj;null === (D=this.Fa) || void 0 === D?void 0:D.hA.removeListener(this.B2a);null === (E=this.pa) || void 0 === E?void 0:E.Bf.removeListener(this.pRa);G && A?y():(this.B2a=function(){return z.Rq(y);},this.pRa=function(){return z.Rq(y);},null === (F=this.Fa) || void 0 === F?void 0:F.hA.addListener(this.B2a),null === (C=this.pa) || void 0 === C?void 0:C.Bf.addListener(this.pRa));}};c.prototype.HWa=function(y){var z,A,B;z=this;B=this.j.rm(y);return Promise.resolve(null !== (A=B.oa) && void 0 !== A?A:this.j.OTb(B).then(function(){z.j.LSb(B);return B.oa;})).then(function(D){D=D.uc;return {oa:D,di:D.toa && !D.SV,config:z.Ne,Ad:[].concat(ea(z.Ad))};});};c.prototype.mU=function(y,z){var A,B,D;A=this;this.debug.assert(this.ti,"has access to streamingEngine");B=this.fb.te(y).Z;if(!this.Fj.has(B)){this.Fj.store(B,{hja:function(){},equals:function(E){return E.Z === B && (z.ba === E.ba || !E.ba || !z.ba);},get fv() {D || (D=A.HWa(y));return D;},set fv(E) {D=E;},events:new l.EventEmitter(),ba:z.ba,Z:B,Nt:!1,c$a:!1});this.Ne.hz && this.ti.YD(this.Fj.zn(B),{ba:z.ba,ds:z.ds,DC:z.gz});}};c.prototype.ix=function(y){var z;this.debug.assert(this.ti,"has access to streamingEngine");z=this.fb.te(y).Z;if(!this.Fj.has(z))return Promise.resolve();z=this.Fj.zn(z);z.fv=this.HWa(y);return this.ti.ix(z);};c.prototype.ZM=function(y){var z;this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.pa,"has access to asePlaygraph");return this.pa.ZM(null === (z=this.Fa.Io().O) || void 0 === z?void 0:z.id,y);};c.prototype.zJb=function(y){var z,A,B;z=this;A=y.fw;B=y.wa;this.debug.assert(this.ti,"has access to streamingEngine");this.debug.assert(this.kd,"has access to internalLogger");y=this.j.rm(B);y=this.fb.h6(y);B=y.Aa[B];this.debug.assert(B,"segment exists");this.ax=v.HV(B.Z,y,this.j.Y,B.xc);A=Object.create(this.Ne,{gz:{value:A.gz}});this.sf=new u.ac(f.ma.yh);this.pa=this.ti.YF(y,this.Ne.B5a,A,this.Fj);this.bB=new f.oF(this.kd);A=this.pa.yC(this.bB);y=this.pa.xC();this.pa.J$(y,A);this.pa.ZD({us:function(){return z.IP[f.Rb.Ta.Ub];}},{us:function(){return z.IP[f.Rb.Ta.Lb];}});this.HD=!1;};c.prototype.lka=function(){var y,z;y=this;this.debug.assert(this.ti,"has access to streamingEngine");z=Object.create(this.Ne,{Ad:{value:[].concat(ea(this.Ad))},AV:{value:function(){return y.e6();}}});this.Bd=Object.create(new l.EventEmitter(),{Jc:{get:function(){y.debug.hia(y.j.mediaTime.value,"has access to mediaTime.value");return f.T.Fb(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},zV:{value:function(){y.debug.assert(y.j.Tb,"has access to mediaElement");return y.j.Tb;}}});this.Fa=this.ti.DPa(this.Bd,z);};c.prototype.e6=function(){this.qj || (this.qj=new f.platform.MediaSource(this.Bd),this.qj.jc || (this.qj.jc=f.platform.MediaSource.jc));return this.qj;};Xa.Object.defineProperties(c.prototype,{dJ:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.dn;}},Ob:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.ti,"has access to streamingEngine");return this.ti.Ob;}}});b.Lya=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.jia=void 0;c=a(19);b.jia=function(f){var l,m,d,h;l=f.mk;m=f.loadTime;f=f.BVa;d=c.Ba(m)?m:0;h=l[f.target] || ({});l[f.target] !== h && (l[f.target]=h);Object.entries(f.fields).forEach(function(g){var k,n,q,p;k=ba(g);g=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)h[g]=k;else {n=k.type;if("count" === n)(void 0 === h[g] && (h[g]=0),++h[g]);else if(void 0 !== k.value){if("array" === n){n=h[g];q=k.adjust;p=k.value;n || (n=h[g]=[]);q && 0 < q.length && q.forEach(function(v){p[v]-=d || 0;});n.push(p);}else h[g]="sum" === n?(h[g] || 0) + k.value:k.value;}else h[g]=k;}});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.HV=void 0;c=a(47);f=a(21);b.HV=function(l,m,d,h){return m.Aa[m.Qe].xc === h?(l=c.cka(m,l,c.T.Fb(d)),f.kb(l,"has valid start position relative to playgraph"),l):{wa:m.Qe,offset:c.T.Gb};};},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v,t,u,w,x,y,z){var A;A=this;this.T_b=n;this.j=q;this.id=p;this.height=v;this.width=t;this.ORb=u;this.PRb=w;this.size=x;this.cu=y;this.urls=z;this.type=f.Bi.pxa;this.retry=!0;this.state=h.vp.H0;this.Oi={};this.p3={};this.wTb=function(B){if(B.$)try{A.data=A.T_b.parse(B.content);A.state=h.vp.JE;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Oi);A.j.fireEvent(g.ca.DZ);}catch(D){A.state=h.vp.RGa;A.log.error("TrickPlay parse failed.",D);}else (A.state=h.vp.H0,A.log.error("TrickPlay download failed.",k.Ss(B),A.Oi));};this.log=m.Ih(q,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;f=a(90);l=a(14);m=a(8);d=a(74);h=a(514);g=a(15);k=a(3);c.prototype.jFb=function(n){if(this.data && (this.cu && (n+=this.cu),n=Math.floor(n / this.data.header.K$a),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.K$a,height:this.height,width:this.width,pixelAspectHeight:this.ORb,pixelAspectWidth:this.PRb};};c.prototype.l6=function(){switch(this.state){case h.vp.JE:return "downloaded";case h.vp.LOADING:return "loading";case h.vp.hR:return "downloadfailed";case h.vp.RGa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.qHb();n?(this.state=h.vp.LOADING,this.oAb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.qHb=function(){var n,q,p;n=this;q=Object.keys(this.urls).find(function(v){return (n.p3[n.urls[v]] || 0) <= l.config.P_b;});if(q){p=this.urls[q];(p in this.p3)?this.p3[p]++:this.p3[p]=1;return {url:p,sC:q};}};c.prototype.oAb=function(n){this.log.trace("Downloading",n.url,this.Oi);n={responseType:d.WV,kc:this.Uma(n.sC),url:n.url,track:this};this.j.L6.download(n,this.wTb);};c.prototype.Uma=function(n){return this.j.ck.find(function(q){return q && q.id === n;});};b.xLa=c;},function(r,b,a){var f;function c(l,m,d,h){this.Zka=l;this.debug=m;this.za=d;this.j=h;this.r9=[];this.F8={};this.ala={};this.ima=!1;this.o$a=1;this.gza=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.kBa=void 0;f=a(4);a(15);a(19);a(74);c.prototype.register=function(l,m){this.debug.assert(!(0 <= this.r9.indexOf(l)),"panel already registered");this.F8[l]=m;this.r9.push(l);};c.prototype.Q3a=function(l){var m;m=this;this.ala[l]=!0;this.ima || (this.ima=!0,setTimeout(function(){return m.XCb();},0));};c.prototype.TFb=function(l){return (l=this.F8[l])?l():void 0;};c.prototype.vV=function(){var l;l=this.j.B9;return l?l.vV():[];};c.prototype.addEventListener=function(l,m){this.Zka.addListener(l,m);this.F8[l] && this.Q3a(l);};c.prototype.removeEventListener=function(l,m){this.Zka.removeListener(l,m);};c.prototype.getTime=function(){return this.za.Wb().da(f.ja);};c.prototype.XCb=function(){this.ima=!1;for(var l=this.r9.length,m;l--;){m=this.r9[l];this.ala[m] && (this.ala[m]=!1,this.Zka.Cc(m + "changed",{getModel:this.F8[m]}));}};b.kBa=c;},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q){var p;p=this;this.Am=n;this.Kr=q;this.U$a=function(v){var t,u,w,x,y,z,A;t=p.o$a++;u=v.request.AC || "dl";w=p.dZa(u,"start");if(w){x=v.request.iA;y=x.stream.P.Vo;x=ba(x.stream.P.Wh).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.O.id,!p.F9a.has(y))){z=p.zYa(y);A=v.ls;p.Am.mark(w,z,A?u + "-" + A + "-" + t:u);v.Bha(function(){var B,D;B=p.dZa(u,"end");D=A?u + "-" + A + "-" + t:u;B && p.Am.mark(B,z,D);});}}};this.o$a=0;this.F9a=new Set();this.yva=new Map();q.QU && this.j2b();}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;r=a(1);f=a(0);l=a(62);m=a(71);d=a(4);h=a(74);a=a(40);g={start:{video:l.Ia.qQ,audio:l.Ia.mQ},end:{video:l.Ia.pQ,audio:l.Ia.lQ}};c.prototype.AYa=function(n){var p,v,t,u,w,x,y,z;function q(A){return d.timestamp(p.PPa(d.timestamp(A),n,!0));}p=this;v=new Set();t=n.md;u=n.ba;w=void 0 === n.z9a?null:n.z9a;x=n.wa;y=this.Am.dYa(u);z=x && this.zYa(x);z && y.push.apply(y,ea(this.Am.dYa(z)));this.Am.U6a(n.ba);z && this.Am.U6a(z);x && this.F9a.add(x);x=[];("pr_ats" in t) && x.push({name:l.Ia.Z0,Es:q(t.pr_ats),ba:u,Eg:"request-pre-manifest"});("ats" in t) && x.push({name:l.Ia.X0,Es:q(t.ats),ba:u,Eg:"request-manifest"});("pr_at" in t) && x.push({name:l.Ia.Y0,Es:q(t.pr_at),ba:u,Eg:"request-pre-manifest"});("at" in t) && x.push({name:l.Ia.W0,Es:q(t.at),ba:u,Eg:"request-manifest"});("lg" in t) && x.push({name:l.Ia.V0,Es:q(t.lg),ba:u,Eg:"request-license"});("lr" in t) && (x.push({name:l.Ia.U0,Es:q(t.lr),ba:u,Eg:"request-license"}),x.push({name:l.Ia.j_,Es:q(t.lr),ba:u,Eg:"apply-license"}));("ld" in t) && x.push({name:l.Ia.i_,Es:q(t.ld),ba:u,Eg:"apply-license"});("tt_start" in t) && x.push({name:l.Ia.oQ,Es:q(t.tt_start),ba:u,Eg:"request-timed-text"});("tt_comp" in t) && x.push({name:l.Ia.nQ,Es:q(t.tt_comp),ba:u,Eg:"request-timed-text"});return x.concat(y).map(function(A){return p.k_b(A,n);}).filter(function(A){return A.ts <= (null !== w && void 0 !== w?w:A.ts)?("end" === A.step && v.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || v.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var D;D=B.eventName;delete B.eventName;D && (A[D]=B);return A;},{});};c.prototype.Hqb=function(n,q,p){return (void 0 === p?0:p)?n.da(d.ja) + q.vk.da(d.ja):n.da(d.ja) - q.vk.da(d.ja);};c.prototype.PPa=function(n,q,p){p=void 0 === p?!1:p;if(q.Km)if(p)n.da(d.ja) + q.Km;else return n.da(d.ja) - q.Km;return this.Hqb(n,q,p);};c.prototype.k_b=function(n,q){var p,v;p=n.Eg;v=n.name;return {eventName:this.cPb(v,p),eventId:p || v,ts:this.PPa(n.Es,q),comp:this.pV(v),cat:this.tEb(v),step:this.$Gb(v)};};c.prototype.cPb=function(n,q){switch(n){case l.Ia.oQ:case l.Ia.nQ:case l.Ia.mQ:case l.Ia.lQ:case l.Ia.qQ:case l.Ia.pQ:return n + "-" + q;default:return n;}};c.prototype.pV=function(n){switch(n){case l.Ia.Z0:case l.Ia.Y0:case l.Ia.X0:case l.Ia.W0:return "manifest";case l.Ia.V0:case l.Ia.U0:case l.Ia.vea:case l.Ia.uea:case l.Ia.e0:case l.Ia.d0:case l.Ia.j_:case l.Ia.i_:return "license";case l.Ia.oQ:case l.Ia.nQ:case l.Ia.mQ:case l.Ia.lQ:case l.Ia.qQ:case l.Ia.pQ:case l.Ia.bba:case l.Ia.aba:return "buffering";case l.Ia.Bda:case l.Ia.Ada:return "playback";default:return null;}};c.prototype.tEb=function(n){switch(n){case l.Ia.Z0:case l.Ia.Y0:case l.Ia.X0:case l.Ia.W0:return "aws";case l.Ia.V0:case l.Ia.U0:return "mixed";case l.Ia.Bda:case l.Ia.Ada:case l.Ia.vea:case l.Ia.uea:case l.Ia.e0:case l.Ia.d0:case l.Ia.j_:case l.Ia.i_:case l.Ia.bba:case l.Ia.aba:return "device";case l.Ia.oQ:case l.Ia.nQ:case l.Ia.mQ:case l.Ia.lQ:case l.Ia.qQ:case l.Ia.pQ:return "cdn";default:return null;}};c.prototype.$Gb=function(n){switch(n){case l.Ia.Z0:case l.Ia.Bda:case l.Ia.X0:case l.Ia.V0:case l.Ia.bba:case l.Ia.oQ:case l.Ia.mQ:case l.Ia.qQ:case l.Ia.vea:case l.Ia.e0:case l.Ia.j_:return "start";case l.Ia.Y0:case l.Ia.Ada:case l.Ia.W0:case l.Ia.U0:case l.Ia.uea:case l.Ia.d0:case l.Ia.i_:case l.Ia.aba:case l.Ia.nQ:case l.Ia.lQ:case l.Ia.pQ:return "end";default:return null;}};c.prototype.dZa=function(n,q){if((n in g[q]))return g[q][n];};c.prototype.o0b=function(){h.gf.removeEventListener(h.I6,this.U$a);};c.prototype.j2b=function(){this.o0b();h.gf.addEventListener(h.I6,this.U$a);};c.prototype.zYa=function(n){var q;if(this.yva.has(n))return this.yva.get(n);q=Date.now();this.yva.set(n,q);return q;};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(m.uR)),r.__param(1,f.l(a.Qm))],k);b.mGa=k;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D,E,F,C,G,J,K,I,M,R,H,Q,N,L,P,S;Object.defineProperty(b,"__esModule",{value:!0});b.qSa=void 0;r=a(0);c=a(478);f=a(1196);l=a(103);m=a(1197);d=a(489);h=a(1198);g=a(491);k=a(1199);n=a(492);q=a(1200);p=a(283);v=a(1201);t=a(82);u=a(1202);w=a(1203);x=a(41);y=a(3);z=a(1204);A=a(1205);B=a(1206);D=a(53);E=a(1207);F=a(297);C=a(1208);G=a(1209);J=a(1210);K=a(475);I=a(1211);M=a(1212);R=a(1213);H=a(345);Q=a(1214);N=a(66);L=a(539);P=a(1215);S=a(1216);b.qSa=new r.pd(function(U){U(D.Tm).to(E.rHa);U(c.GHa).to(f.FHa);U(F.Jda).to(C.mHa);U(K.oHa).to(I.nHa);U(G.Uib).to(J.KHa);U(l.Mda).to(m.HHa);U(L.IHa).uf(function(da){return function(){var ka;ka=da.$a.get(N.Ws);return ka && ka.ibb?da.$a.resolve(S.bIa):da.$a.resolve(P.JHa);};});U(d.lHa).to(h.kHa);U(g.ZHa).to(k.YHa);U(n.AHa).to(q.zHa);U(p.Lda).to(v.BHa);U(t.DKa).to(u.CKa);U(t.HKa).to(w.GKa);U(t.rEa).to(z.qEa);U(t.yKa).to(A.xKa);U(t.dCa).to(B.cCa);U(R.Vib).to(M.LHa);U(H.yHa).to(Q.xHa);U(t.jca).uf(function(da){return function(ka){switch(ka){case t.mp.start:return da.$a.get(t.DKa);case t.mp.stop:return da.$a.get(t.HKa);case t.mp.nW:return da.$a.get(t.rEa);case t.mp.splice:return da.$a.get(t.yKa);case t.mp.wM:return da.$a.get(t.dCa);}throw new x.od(y.M.iib,void 0,void 0,void 0,void 0,"The event key was invalid - " + ka);};});});},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.Ugb,1,m.ej.t1a,m.ej.t1a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(g,k){var n;n=this;return this.send(g,"/" + this.name,k).then(function(q){return q.result;}).catch(function(q){throw n.yn(q);});};c.prototype.fq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.FHa=h;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u,w,x,y){t=d.Ai.call(this,t,l.M.pR,3,m.ej.oa,m.ej.oa) || this;t.platform=u;t.Wqa=w;t.KLb=x;t.VMb=y;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;r=a(1);f=a(103);l=a(3);m=a(68);a(186);d=a(75);h=a(53);g=a(34);k=a(40);n=a(157);q=a(283);p=a(0);a=a(539);na(c,d.Ai);c.prototype.ng=function(t,u){var w,x;w=this;this.v2=u.St === f.Sm.bF?"prefetch/manifest":m.ej.oa;x=u.St === f.Sm.e1?k.uv.eJa:k.uv.KR;return this.VMb().transform(u,x).then(function(y){var z,A;y=ba(y);z=y.next().value;A=y.next().value;!1;A.iw && (w.v2=u.St === f.Sm.bF?"prefetch/licensedManifest":"licensedManifest");return w.send(t,A.xl,z,void 0,void 0,x).then(function(B){var D;B=w.Wqa.create(B.result);D=B.uc.cB.map(function(E){return E.Gg;}).filter(Boolean);A.iw && (0 < D.length?(D=w.KLb.$$a(D),A.iw.wPa(D),B.iw=A.iw,B.$_a=u.St === f.Sm.bF,B.Z_a=!0):A.iw.close());!1;return B;});}).catch(function(y){!1;throw w.yn(y);});};c.prototype.fq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};v=c;v=r.__decorate([p.R(),r.__param(0,p.l(h.Tm)),r.__param(1,p.l(g.Gk)),r.__param(2,p.l(n.qR)),r.__param(3,p.l(q.Lda)),r.__param(4,p.l(a.IHa))],v);b.HHa=v;},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.SJ,3,m.ej.Gg,m.ej.Gg) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.fq=function(g,k,n){var q;q=this;k=k.xV(n.c1a).href;this.v2="ldl" === n.c1a?"prefetch/license":m.ej.Gg;return this.send(g,k,n.inputs,"drmSessionId").then(function(p){p=p.result;q.bub(p);return p;}).catch(function(p){throw q.yn(p);});};c.prototype.bub=function(g){g.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.kHa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.qea,3,m.ej.Gg,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(g,k){var n;n=this;return this.send(g,"/bundle",k).then(function(q){return q.result;}).catch(function(q){throw n.yn(q);});};c.prototype.fq=function(){return Promise.reject(Error("Links are unsupported with release"));};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.YHa=h;},function(r,b,a){var f,l,m;function c(d){this.ya=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(1);f=a(0);l=a(38);m=a(4);c.prototype.I_b=function(d){var h;h=this.ya.ef.da(m.eo);return {inputs:d.dk.map(function(g){return {drmSessionId:g.sessionId,clientTime:h,challengeBase64:g.dataBase64,xid:d.ba.toString(),mdxControllerEsn:d.KW};}),c1a:"standard" === d.Tf.toLowerCase()?"license":"ldl"};};c.prototype.L_b=function(d){var h,g;h=this;g=[];return d.ve.map(function(k){g.push(k.id);return {url:h.Vsb(k.xH,k.xW),echo:"drmSessionId",params:{drmSessionId:k.id,xid:d.ba.toString()}};});};c.prototype.Vsb=function(d,h){return "/releaseLicense?drmLicenseContextId=" + d + (h?"&licenseId=" + h:"");};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Sh))],a);b.zHa=a;},function(r,b,a){var f,l,m;function c(d,h){this.$d=d;this.Dy=h;}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(1);f=a(0);l=a(29);a=a(36);c.prototype.$$a=function(d){var h,g;h=this;g=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return h.$d.xX(k.substring(k.indexOf("?") + 1));});return {$:!0,ve:d.map(function(k,n){return {id:k.drmSessionId,xH:g[n].drmlicensecontextid,xW:g[n].licenseid};}),oj:d.map(function(k){return {data:h.Dy.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.bg)),r.__param(1,f.l(a.zi))],m);b.BHa=m;},function(r,b,a){var f,l,m,d,h;function c(g){return m.Uq.call(this,g,l.M.Ejb,d.mp.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Uq);h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.CKa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return m.Uq.call(this,g,l.M.WJa,d.mp.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GKa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Uq);h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.GKa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return m.Uq.call(this,g,l.M.Mca,d.mp.nW,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Uq);h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.qEa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return m.Uq.call(this,g,l.M.UJa,d.mp.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Uq);h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.xKa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return m.Uq.call(this,g,l.M.ifb,d.mp.wM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;r=a(1);f=a(0);l=a(3);m=a(162);d=a(82);a=a(53);na(c,m.Uq);c.prototype.E3=function(g){return Object.assign(Object.assign({},m.Uq.prototype.E3.call(this,g)),{action:g.action});};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.cCa=h;},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v,t,u,w,x,y,z,A){this.Bh=p;this.gf=v;this.sh=t;this.bAb=u;this.Ez=w;this.b1b=x;this.Dka=y;this.oVb=z;this.CG=A;}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;r=a(1);f=a(0);l=a(122);m=a(66);d=a(512);h=a(509);g=a(81);k=a(87);n=a(332);q=a(97);a=a(91);c=r.__decorate([f.R(),r.__param(0,f.l(l.uJ)),r.__param(1,f.l(k.Fx)),r.__param(2,f.l(m.Ws)),r.__param(3,f.l(h.uHa)),r.__param(4,f.l(g.Ex)),r.__param(5,f.l(n.FLa)),r.__param(6,f.l(q.T_)),r.__param(7,f.l(d.aIa)),r.__param(8,f.l(a.xx))],c);b.rHa=c;},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.Acb,2,m.ej.bind,m.ej.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(g,k,n){var q;q=this;return this.send(g,"/" + this.name,k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.yn(p);});};c.prototype.fq=function(){return Promise.reject(Error("Links are unsupported with bind"));};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.mHa=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uib="PboPairCommandSymbol";},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.aib,2,m.ej.G4a,m.ej.G4a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(g,k,n){var q;q=this;return this.send(g,"/" + this.name,k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.yn(p);});};c.prototype.fq=function(){return Promise.reject(Error("Links are unsupported with pair"));};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.KHa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.Bcb,2,m.ej.bind,m.ej.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(g,k,n){var q;q=this;return this.send(g,"/bindDevice",k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.yn(p);});};c.prototype.fq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.nHa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.tib,1,m.ej.ping,m.ej.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(g,k,n){var q;q=this;return this.send(g,"/" + this.name,k,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.yn(p);});};c.prototype.fq=function(){return Promise.reject(Error("Links are unsupported with ping"));};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.LHa=h;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vib="PboPingCommandSymbol";},function(r,b,a){var f,l,m,d,h;function c(g){return d.Ai.call(this,g,l.M.yfb,2,m.ej.oa,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(75);a=a(53);na(c,d.Ai);c.prototype.ng=function(g,k){var n;n=this;return this.send(g,"/generateScreenshots",k).then(function(q){return q.result;}).catch(function(q){throw n.yn(q);});};c.prototype.fq=function(g,k,n){var q;q=this;return this.send(g,k.xV("generateScreenshots").href,n).then(function(p){return p.result;}).catch(function(p){throw q.yn(p);});};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(a.Tm))],h);b.xHa=h;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u,w,x;function c(y,z,A,B,D,E,F,C,G,J){this.sh=y;this.platform=z;this.config=A;this.Mtb=B;this.bSb=D;this.pk=E;this.XT=F;this.ya=C;this.m8=G;this.pn=J;}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;r=a(1);f=a(0);l=a(103);m=a(13);d=a(458);h=a(456);g=a(538);k=a(70);n=a(34);q=a(38);p=a(4);v=a(166);t=a(66);u=a(334);w=a(26);x=a(57);c.prototype.transform=function(y,z){var A,B,D,E,F,C,G,J,K,I,M,R,H;A=this;C=y.bb;G=Object.assign({},C.u3,C.Gm);J={};K=y.Z;J[K]={unletterboxed:! !G.preferUnletterboxed};I=this.config();M=I.n1b?30:25;R=I.hp?this.pk.VEb():Promise.resolve(this.m8.Ut());H=null === (D=null === (B=I.xxa) || void 0 === B?void 0:B[null === C || void 0 === C?void 0:C.xe]) || void 0 === D?void 0:D.ev;B=null === (F=null === (E=I.xxa) || void 0 === E?void 0:E[null === C || void 0 === C?void 0:C.xe]) || void 0 === F?void 0:F.kC;return Promise.all([this.pn.ZYa(B),this.pn.aZa(H),this.pn.$M(),this.pn.g6(),this.uEb(y.ba,z),this.ZEb(y),R]).then(function(Q){var N,L,P,S,U,da;N=ba(Q);L=N.next().value;P=N.next().value;S=N.next().value;U=N.next().value;da=N.next().value;Q=N.next().value;N=N.next().value;L=(L || []).concat(P || []).concat(A.config().cv).concat(["BIF240","BIF320"]).filter(Boolean);U=U?U.DEVICE_SECURITY_LEVEL:void 0;P="postplay" === C.xe?!0:! !G.isUIAutoPlay;S={type:"standard",manifestVersion:A.sh.hVa?"v2":"v1",viewableId:K,profiles:L,flavor:y.St,drmType:N,drmVersion:M,usePsshBox:!0,isBranching:! !y.bb.El,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().AZb,imageSubtitleHeight:d.Kea.FYa(),uiVersion:A.sh.WA,uiPlatform:A.sh.xaa,clientVersion:A.platform.version,supportsPreReleasePin:A.config().Ir.vZb,supportsWatermark:A.config().Ir.wZb,showAllSubDubTracks:A.config().Ir.eYb || ! !G.showAllSubDubTracks,packageId:A.lGb(C),deviceSecurityLevel:U,videoOutputInfo:S,titleSpecificData:J,preferAssistiveAudio:! !G.assistiveAudioPreferred,preferredTextLocale:G.preferredTextLocale,preferredAudioLocale:G.preferredAudioLocale,isUIAutoPlay:P,challenge:da,isNonMember:A.sh.Dpa,pin:C.k5a,desiredVmaf:A.config().bbb?A.config().cUa:A.config().dUa,desiredSegmentVmaf:A.config().bbb?A.config().cUa:A.config().dUa,requestSegmentVmaf:A.config().tVb,supportsPartialHydration:A.sh.xla,contentPlaygraph:A.sh.MSa};C.FVa && (S.extraParams=C.FVa);C.bUa && (S.desiredDownloadables=C.bUa);C.Sua && (S.requestReference=C.Sua);da={xl:Q?"licensedManifest":"manifest",iw:null === Q || void 0 === Q?void 0:Q.Yb};Q && (Q={drmSessionId:Q.Yb.rz() || "session",clientTime:A.ya.EY.da(p.eo),challengeBase64:Q.nja},S.challenges={"default":[Q]},S.profileGroups=[{name:"default",profiles:L}],S.licenseType=y.Tf == x.Vh.ao?"limited":"standard",y.ba && (S.xid=y.ba.toString()));A.sh.$Ua && y.St === l.Sm.e1 && (S.maxSupportedLanguages=2);y.oaa && (S.originalPlaybackContextId=y.oaa.VQb,S.requiredAudioTrackId=y.oaa.xVb,S.requiredTextTrackId=y.oaa.AVb);return [S,da];});};c.prototype.lGb=function(y){if(this.config().T9.enabled){if(void 0 !== y.Uo)return y.Uo;if(void 0 !== this.config().T9.Uo)return Number(this.config().T9.Uo);}};c.prototype.uEb=function(y,z){var A;A=this;return this.Mtb.bXa(z).then(function(B){var D;D=y && A.bSb.sGb(y);D && D.Jp("cad");return B;});};c.prototype.ZEb=function(y){var z;if(void 0 === y.Tf || !this.config().hp)return Promise.resolve(void 0);z=y.Tf === x.Vh.qp && this.sh.X3;return y.Tf === x.Vh.ao && this.sh.aVa || z?this.XT.Qna(y.Tf):Promise.resolve(void 0);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(t.Ws)),r.__param(1,f.l(n.Gk)),r.__param(2,f.l(m.Xc)),r.__param(3,f.l(h.Kza)),r.__param(4,f.l(g.bea)),r.__param(5,f.l(k.Us)),r.__param(6,f.l(v.C_)),r.__param(7,f.l(q.Sh)),r.__param(8,f.l(u.jda)),r.__param(9,f.l(w.wx))],a);b.JHa=a;},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q,p){this.platform=k;this.config=n;this.XT=q;this.pn=p;}Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;r=a(1);f=a(0);l=a(13);m=a(34);d=a(166);h=a(26);g=a(57);c.prototype.transform=function(k){var n,q;n=this;q=k.bb;return Promise.all([this.pn.ZYa(),this.pn.aZa(),this.XT.Qna(g.Vh.qp)]).then(function(p){var v,t;v=ba(p);p=v.next().value;t=v.next().value;v=v.next().value;return [{viewableId:k.Z,packageId:q.Uo,assetId:q.iia,challenge:v.nja,audioProfiles:p,textProfiles:n.config().cv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:t,audioLanguages:q.Mrb,textLanguages:q.TZb,videoLanguages:q.rbb?[q.rbb]:void 0,requestReference:q.Sua},{iw:null === v || void 0 === v?void 0:v.Yb,xl:"studioManifest"}];});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.Gk)),r.__param(1,f.l(l.Xc)),r.__param(2,f.l(d.C_)),r.__param(3,f.l(h.wx))],a);b.bIa=a;},function(r,b,a){var c,f,l,m,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(0);c=a(276);f=a(510);l=a(1218);m=a(1219);d=a(1220);h=a(40);b.transports=new r.pd(function(g){g(c.p1).to(d.sLa).aa();g(f.tGa).to(l.sGa);g(f.AKa).to(m.zKa);g(f.tLa).uf(function(k){return function(n){var q;return k.$a.get(c.p1).L$(null !== (q=null === n || void 0 === n?void 0:n.JOb) && void 0 !== q?q:h.uv.KR)?k.$a.get(f.tGa):k.$a.get(f.AKa);};});});},function(r,b,a){var f,l,m,d,h,g,k;function c(n,q,p,v){var t;t=this;this.AD=q;this.receiver=p;this.profile=v;this.log=n.hb("MslTransport");this.AD().then(function(u){return t.I8=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;r=a(1);f=a(0);l=a(7);m=a(156);d=a(4);h=a(191);a=a(94);g={license:!0};c.prototype.send=function(n,q){var p,v;p=this;v={j3a:Object.assign({gf:n.gf,log:n.log,profile:this.profile},n.wsb),method:n.xl,url:n.url.href,body:JSON.stringify(q),timeout:n.timeout.da(d.ja),t1b:this.profile,hbc:!g[n.xl],aPb:! !g[n.xl],Rk:!0,m$:n.eva,headers:n.headers};!1;return this.AD().then(function(t){return t.send(v).then(function(u){p.receiver.BO({command:n.xl,inputs:q,outputs:u});return u;}).catch(function(u){var w;if(!u.error)throw (u.zc=u.na || u.zc,p.receiver.BO({command:n.xl,inputs:q,outputs:u}),u);w=u.error;w.UD=u.UD;p.log.error("Error sending MSL request",{mslCode:w.kA,subCode:w.zc,data:w.data,message:w.message});p.receiver.BO({command:n.xl,inputs:q,outputs:w});throw w;});});};c.prototype.Zja=function(){var n;return {userTokens:null === (n=this.I8) || void 0 === n?void 0:n.YW.getUserIdTokenKeys()};};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(l.qb)),r.__param(1,f.l(m.vR)),r.__param(2,f.l(h.S0)),r.__param(3,f.l(a.MR))],k);b.sGa=k;},function(r,b,a){var f,l,m,d,h;function c(g,k,n){this.receiver=k;this.gf=n;this.log=g.hb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;r=a(1);f=a(0);l=a(4);m=a(7);d=a(191);a=a(87);c.prototype.send=function(g,k){var n,q;n=this;q={url:g.url.href,AC:"nq-" + g.xl,zta:JSON.stringify(k),b4:g.timeout.da(l.ja),headers:g.headers,withCredentials:!0};!1;return new Promise(function(p,v){n.gf.download(q,function(t){t.$?p(t):v(t);});}).then(function(p){p={status:"success",body:p.content};n.receiver.BO({command:g.xl,inputs:k,outputs:p});return p;}).catch(function(p){var v;if(!p.error)throw (p.zc=p.na || p.zc,n.receiver.BO({command:g.xl,inputs:k,outputs:p}),p);v=p.error;v.UD=p.UD;n.log.error("Error sending SSL request",{subCode:v.zc,data:v.content,message:v.message});n.receiver.BO({command:g.xl,inputs:k,outputs:v});throw v;});};c.prototype.Zja=function(){return {};};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(m.qb)),r.__param(1,f.l(d.S0)),r.__param(2,f.l(a.Fx))],h);b.zKa=h;},function(r,b,a){var f,l,m,d,h;function c(g){return l.Ye.call(this,g,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;r=a(1);f=a(0);l=a(46);m=a(37);d=a(45);h=a(40);na(c,l.Ye);c.prototype.L$=function(g){var k,n;k=this.mJ;n=this.UPa;switch(g){case h.uv.KR:return k;case h.uv.eJa:return k && !n;case h.uv.Shb:return !1;}};Xa.Object.defineProperties(c.prototype,{mJ:{configurable:!0,enumerable:!0,get:function(){return !0;}},UPa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.bd,"usesMsl")],a.prototype,"mJ",null);r.__decorate([d.config(d.bd,"allowRequestsWithoutMsl")],a.prototype,"UPa",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.Tl))],a);b.sLa=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Fl=void 0;r=a(0);c=a(524);f=a(1222);b.Fl=new r.pd(function(l){l(c.HEa).to(f.GEa);});},function(r,b,a){var f,l,m,d,h,g,k,n;function c(q,p,v,t,u){this.FG=q;this.Yp=p;this.config=v;this.RN=t;this.Ed=u;}Object.defineProperty(b,"__esModule",{value:!0});b.GEa=void 0;r=a(1);f=a(0);l=a(121);m=a(1223);d=a(1224);h=a(69);g=a(13);k=a(138);a=a(119);c.prototype.create=function(q,p,v){return q?new m.IEa(this.config(),this.Yp,this.Ed,p,v,this.FG,this.RN()):new d.zEa(this.config,this.Ed,p,v);};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.W_)),r.__param(1,f.l(h.qv)),r.__param(2,f.l(g.Xc)),r.__param(3,f.l(k.rR)),r.__param(4,f.l(a.pF))],n);b.GEa=n;},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v,t,u,w,x,y){u=k.kQ.call(this,u,w) || this;u.config=p;u.Yp=v;u.Ed=t;u.FG=x;u.tra=y;u.log=l.Ih(u.j,"LicenseBroker");u.vW=new Set();u.sra=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.IEa=void 0;r=a(1);f=a(3);l=a(8);m=a(323);d=a(4);h=a(0);g=a(288);k=a(540);n=a(57);q=a(15);na(c,k.kQ);c.prototype.i9=function(){var p,v;p=this;v=this.j.ha;this.vW.has(v.J) || (this.vW.add(v.J),this.irb(v).catch(function(){return p.h7a(v);}).then(function(){return p.lQa(v);}).catch(function(t){return p.kQa(v,t);}).catch(function(t){return p.Wd(t.code,t,t.Jd);}));};c.prototype.irb=function(p){var v;v=this;return Promise.all([this.Ed.YWa(p.J),this.FG()]).then(function(t){var u,w;t=ba(t);u=t.next().value;w=t.next().value;return u.E$.then(function(x){var y;if("manifest" === u.source){y=v.ZXa(p);w.d3a(y,x);}return x;}).then(function(x){return v.i3(x,p,u.source);});}).catch(function(t){v.log.warn("eme not in cache",t);throw t;});};c.prototype.i3=function(p,v,t){this.X5a(p,v);v.hG=t;this.tra.setMediaKeys(p.mediaKeys);return p.aia();};c.prototype.pDb=function(p){var v;v={};p.forEach(function(t){v[m.JUa(t.PW)]=t.time.da(d.ja);});return v;};c.prototype.X5a=function(p,v){var t;t=this;v.mf=p;p.aXb(function(u){t.Wd(u.code,u,u.Jd);});};c.prototype.lQa=function(p){this.log.info("Successfully applied license for xid: " + p.ba + ", viewable: " + p.J + ", segment: " + p.wa);this.Fz(p);this.sra?this.p5(p.J):this.setMediaKeys(p);};c.prototype.kQa=function(p,v){this.Fz(p);throw v;};c.prototype.Fz=function(p){p.mf && p.Fz(this.pDb(p.mf.md));};c.prototype.ZXa=function(p){var v;return {type:this.Y5(!1),initData:p.Ku.map(function(t){return l.Ar(t);}),context:{X:this.Tb.X,Hu:null === (v=p.wg.value) || void 0 === v?void 0:v.Hu},Qi:{J:p.J,ba:p.ba,Ri:p.Ri,pm:p.pm,lk:p.oa.lk}};};c.prototype.h7a=function(p){var v;v=this;return this.FG().then(function(t){var u;u=v.ZXa(p);v.vW.add(p.J);return t.Gg(u,v.tra).then(function(w){v.X5a(w,p);v.j.fireEvent(q.ca.HN,{J:p.J});return w.aia();});});};c.prototype.setMediaKeys=function(p){var v;v=this;if(this.sra)this.log.trace("Media Keys already set");else try{this.Tb.X?this.Tb.X.setMediaKeys(p.mf.mediaKeys).then(function(){v.p5(p.J);v.sra=!0;}).catch(function(t){t=v.fZa(t);v.Wd(f.M.aK,t,t.nf);}):this.p5(p.J);}catch(t){this.Wd(f.M.aK,t,void 0);}};c.prototype.DA=function(){var p,v;p=this;v=this.j.ha.mf;return v?this.FG().then(function(t){return t.release(v,p.tra).then(function(u){p.log.trace("Successfully released the license");return u.close();}).catch(function(u){p.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.g7a=function(p){var v;v=this;p=void 0 === p?this.j:p;return this.h7a(p).then(function(){return v.lQa(p);}).catch(function(t){return v.kQa(p,t);});};c.prototype.Y5=function(p){return this.Yp.gV?n.Vh.ao:p?n.Vh.ao:n.Vh.qp;};Xa.Object.defineProperties(c.prototype,{CD:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},um:{configurable:!0,enumerable:!0,get:function(){return this.config.um;}}});a=c;r.__decorate([g.sW],a.prototype,"CD",null);a=r.__decorate([h.R()],a);b.IEa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v;function c(t,u,w,x){w=q.kQ.call(this,w,x) || this;w.config=t;w.Ed=u;w.log=l.Ih(w.j,"LegacyLicenseBroker");w.um=w.config().um;w.config().b6a?d.h0a()?w.Haa=!0:w.log.error("Promise based eme requested but platform does not support it",{browserua:h.vB}):w.Haa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;r=a(1);f=a(3);l=a(8);m=a(155);d=a(50);h=a(11);g=a(0);k=a(288);n=a(34);q=a(540);p=a(57);na(c,q.kQ);c.prototype.cTa=function(t){var u;u=void 0 === u?this.j:u;return new this.fs.GJ(t,function(w){return u.c4.XG(w);},function(w){return u.c4.release(w);},{pf:!1,Wk:!1});};c.prototype.wG=function(t){var u,w,x,y,z,A;u=this;t=void 0 === t?this.j:t;w=a(51).kj;this.fs.GJ || this.Wd(f.M.SJ,f.L.afb);x=l.Ih(t,"Eme");y=this.cTa(x);z=l.ka.get(m.RR);A=z.g4(t.ic.value.streams);z=z.j4(t.wg.value.streams);return this.fs.IJ(x,function(B){return t.Cd(B);},{pf:!1,Wk:!1,ya:{getTime:w},Ll:y,TX:! !this.Haa,X:this.Tb.X,$A:this.config().ZUa,onerror:function(B,D,E){return u.Wd(B,D,E);},isa:function(){},$H:!0,Lrb:A,P1b:z,Q6:this.config().Q6});};c.prototype.setMediaKeys=function(t){var u;u=this;return this.Haa?new Promise(function(w,x){if(u.Tb.X)u.Tb.X.setMediaKeys(t).then(function(){w();}).catch(function(y){var z;z=u.fZa(y);x({$:!1,code:f.M.aK,zc:z.na,Jd:z.nf,ub:z.ub,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.xVa=function(t){return {code:t.code,subCode:t.zc,extCode:t.Jd,edgeCode:t.rn,message:t.message,errorDetails:t.ub,errorData:t.zM,state:t.state};};c.prototype.Sva=function(t,u,w){var y,z,A;function x(){z.nI().catch(function(B){y.log.error("Unable to set the license",y.xVa(B));B.cause && B.cause.ub && (B.ub=B.ub?B.ub + B.cause.ub:B.cause.ub);y.Wd(B.code,B,B.Jd);});}y=this;w=void 0 === w?this.j:w;z=w.mf;this.log.info("Setting the license");A=u?function(){return Promise.resolve();}:function(){return z.Gg(y.Y5(!1),t);};return (u?function(){return z.i3(y.Tb.X);}:function(){return z.create(y.um).then(function(){return Promise.resolve();});})().then(function(){return y.config().E8a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(A).then(function(){return y.config().E8a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.p5(w.J);y.Tb.Ebb.then(function(){y.config().nD && (u || y.config().gV) && (y.b7a=nb.setTimeout(x,y.config().nD));});}).catch(function(B){y.log.error("Unable to set the license",y.xVa(B));B.cause && B.cause.ub && (B.ub=B.ub?B.ub + B.cause.ub:B.cause.ub);if(u)throw Error(B && B.message?B.message:"failed to set license");y.Wd(B.code,B,B.Jd);});};c.prototype.DA=function(){return Promise.resolve();};c.prototype.i9=function(){var u;function t(){var w;u.j.mf=u.wG();w=[];u.j.Ku.forEach(function(x){w.push(l.Ar(x));});u.Sva(w);}u=this;this.vW || (this.vW=!0,this.fs.IJ?this.j.Ku?this.config().PU && this.config().Pw?this.Ed.YWa(this.j.J).then(function(w){u.j.mf=w;return w.fya.then(function(){var x;x=[];u.j.Ku.forEach(function(y){x.push(l.Ar(y));});return u.Sva(x,!0).then(function(){var y;if(w.S8b)u.Wd(f.M.dfb);else {y=l.Ih(u.j,"Eme");w.Kab({log:y,Kn:function(z){return u.j.Cd(z);}},{Ll:u.cTa(y),onerror:function(z,A,B){return u.Wd(z,A,B);}});u.j.Fz(w.md || ({}));u.j.hG="videopreparer";}});});}).catch(function(w){u.log.warn("eme not in cache",w);t();}):t():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Wd(f.M.Fib)):this.Wd(f.M.SJ,f.L.bfb));};c.prototype.g7a=function(t){var u;t=void 0 === t?this.j:t;t.mf=this.wG();u=[];t.Ku.forEach(function(w){u.push(l.Ar(w));});return this.Sva(u,!1,t);};c.prototype.Y5=function(t){return this.config().gV?p.Vh.ao:t?p.Vh.ao:p.Vh.qp;};Xa.Object.defineProperties(c.prototype,{fs:{configurable:!0,enumerable:!0,get:function(){return l.ka.get(n.wB);}},CD:{configurable:!0,enumerable:!0,get:function(){return this.Haa?"encrypted":this.Tb.TBa + "needkey";}}});v=c;r.__decorate([k.sW],v.prototype,"fs",null);r.__decorate([k.sW],v.prototype,"CD",null);v=r.__decorate([g.R()],v);b.zEa=v;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});b.Xg=void 0;r=a(0);c=a(301);f=a(1226);l=a(302);m=a(1231);d=a(120);h=a(1233);g=a(1234);k=a(161);n=a(541);q=a(1235);p=a(542);v=a(1237);t=a(81);u=a(543);w=a(1238);b.Xg=new r.pd(function(x){x(c.fea).to(f.QIa).aa();x(l.hea).to(m.bJa).aa();x(d.cK).to(h.OIa).aa();x(k.eF).to(g.MIa).aa();x(n.WIa).to(q.VIa).aa();x(p.$Ia).uf(function(y){var z;z=y.$a;return function(A){return new v.aJa(A,z.get(t.Ex),z.get(k.eF));};});x(u.DEa).uf(function(y){var z;z=y.$a;return function(A,B,D){return new w.EEa(A,B,D,z.get(k.eF),z.get(d.cK));};});});},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v,t,u,w,x,y){this.Vf=p;this.Ola=v;this.Ti=t;this.lxa=u;this.pSb=w;this.rSb=x;this.qSb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(1);f=a(0);l=a(1227);m=a(7);d=a(161);h=a(335);g=a(541);k=a(343);n=a(542);a=a(302);c.prototype.create=function(p){return new l.RIa(p,this.Vf,this.Ola,this.Ti,this.lxa,this.pSb,this.rSb,this.qSb);};q=c;q=r.__decorate([f.R(),r.__param(0,f.l(m.qb)),r.__param(1,f.l(h.GQ)),r.__param(2,f.l(d.eF)),r.__param(3,f.l(k.qLa)),r.__param(4,f.l(g.WIa)),r.__param(5,f.l(n.$Ia)),r.__param(6,f.l(a.hea))],q);b.QIa=q;},function(r,b,a){var f,l,m;function c(d,h,g,k,n,q,p,v){this.lxa=n;this.cya=v;this.dV=!1;k.Gaa && (d=new m.SIa().K_b(d));this.fb=p(d);this.Dk=new l.cJa(this.fb);this.Dk.x8a(this.fb.ha.Z);this.log=h.hb("PlaygraphManager");this.Sb=g.create();this.yu=q.create(this.fb,this.Dk,this.log,this.Sb);this.KXb();}Object.defineProperty(b,"__esModule",{value:!0});b.RIa=void 0;f=a(15);l=a(1228);m=a(1230);c.prototype.vGb=function(){return this.fb.I9;};c.prototype.N5=function(){return this.fb.ha;};c.prototype.lXa=function(){return this.fb.kh;};c.prototype.aH=function(){return this.fb.cl;};c.prototype.si=function(d){for(var h=[],g=0;g < arguments.length;++g){h[g - 0]=arguments[g];}this.fb.si.apply(this.fb,ea(h));};c.prototype.Gub=function(d){for(var h=[],g=0;g < arguments.length;++g){h[g - 0]=arguments[g];}this.fb.AQa(h);};c.prototype.KZ=function(d){this.fb.cl=d;};c.prototype.wi=function(d,h){this.fb.wi(d,h);};c.prototype.moa=function(d,h,g,k){var n,q;g=void 0 === g?{}:g;k=void 0 === k?!0:k;if(d !== this.fb.kh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.aH().Aa[d].next) && void 0 !== n?n:{}).indexOf(h))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + h);this.Y8a();null === (q=g.Gm) || void 0 === q?void 0:q.isUIAutoPlay;return this.yu.noa(h,g,k);};c.prototype.isReady=function(){return this.yu.isReady();};c.prototype.addListener=function(d,h,g){this.Sb.addListener(d,h,g);};c.prototype.removeListener=function(d,h){this.Sb.removeListener(d,h);};c.prototype.An=function(){return this.yu.An();};c.prototype.Ab=function(){return this.yu.ZG();};c.prototype.dyb=function(d,h,g){var k;d=void 0 === d?this.aH().Qe:d;h=void 0 === h?{}:h;k=this.cya.nTa(this);this.TSb(null !== d && void 0 !== d?d:this.aH().Qe,h,g);return k;};c.prototype.Dqb=function(d){var h;this.log.info("Adding segment - movieId: " + d.J + ", startPts: " + d.Y + ", logicalEnd: " + d.pj);h=Object.assign({},d.Db,d.Y?{Y:d.Y}:{},d.pj?{pj:d.pj}:{});this.N9a(d.J,h,d.oa);d=this.yu.JPa(d);this.Y8a();return d;};c.prototype.transition=function(d){var h;h=this.fb.BV(this.fb.kh);return h?this.moa(this.fb.kh,h,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.yu.close(d);};c.prototype.TSb=function(d,h,g){var k;void 0 === d && (d=null === (k=this.aH()) || void 0 === k?void 0:k.Qe);(h || g) && this.N9a(this.aH().Aa[d].Z,null !== h && void 0 !== h?h:{},g);this.yu.fI(d);};c.prototype.N9a=function(d,h,g){g && this.Dk.wL(d,g);this.Dk.sqb(d,h);};c.prototype.KXb=function(){var d;d=this;this.fb.jZb(function(){d.Dk.Kw();d.yu.Kw();});this.fb.kZb(function(h){d.yu.Hsa(h);});this.fb.iZb(function(h){d.yu.SH(h);});this.addListener(f.fF.BY,function(){return d.AQb();});this.addListener(f.Da.L_a,function(h){return d.nQb(h);});};c.prototype.Y8a=function(){var d;d=this;this.dV || (this.Ab().Jha(f.ca.AI,function(h){return d.FD(h);}),this.dV=!0);};c.prototype.nQb=function(d){var h;h=this;this.yu.kab(d).catch(function(){return h.Sb.Cc(f.Da.error,d.xZ());});};c.prototype.AQb=function(){var d;d=this.Ab().getError();d?this.Sb.Cc(f.Da.KL,d):(this.Sb.Cc(f.Da.s3),this.Sb.Cc(f.Da.dm),this.Sb.Cc(f.Da.dv),this.Sb.Cc(f.Da.Ol),this.Sb.Cc(f.Da.DZ),this.Sb.Cc(f.Da.KL));};c.prototype.FD=function(d){var h,g,k;!1;h=d.metrics;if(h){g=this.Ab();k=g.rm(d.position.segmentId);h=g.rm(h.srcsegment);this.lxa.xTb(d,k,h,! !g.BYa().El);}};b.RIa=c;},function(r,b,a){var f;function c(l){this.Ca=l;this.SP={};this.Kw();}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;f=a(1229);c.prototype.Kw=function(){var l;l=this;Object.values(this.Ca.cl.Aa).forEach(function(m){m=m.Z;l.SP[m] || l.F_a(m);});this.zaa();};c.prototype.iN=function(l){return this.SP[l];};c.prototype.cXb=function(l){this.DV(l).state=f.Wx.xCa;this.zaa();};c.prototype.bXb=function(l,m){l=this.DV(l);l.state=f.Wx.Error;l.error=m;l.E7a(!1);this.zaa();};c.prototype.x8a=function(l){l=this.DV(l);l.state=f.Wx.Teb;l.E7a(!0);this.zaa();};c.prototype.sqb=function(l,m){this.DV(l).Db=m;};c.prototype.wL=function(l,m){this.DV(l).oa=m;};c.prototype.DV=function(l){var m;return null !== (m=this.iN(l)) && void 0 !== m?m:this.F_a(l);};c.prototype.F_a=function(l){var m,d;m=void 0;d=new Promise(function(h,g){m=function(k){(k?h:g)();};});return this.SP[l]={state:f.Wx.DGa,YTb:d,E7a:m};};c.prototype.zaa=function(){var m;for(var l=this.Ca.kh;l=this.Ca.BV(l);){m=this.nq(l);if(this.SP[m].state === f.Wx.Error)break;if(this.SP[m].state === f.Wx.xCa)break;if(this.SP[m].state === f.Wx.DGa)break;}};c.prototype.nq=function(l){return this.Ca.cl.Aa[l].Z;};b.cJa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wx=void 0;r=b.Wx || (b.Wx={});r[r.DGa=0]="None";r[r.xCa=1]="Fetching";r[r.Teb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;f=a(67);c.prototype.K_b=function(l){var m;if(!this.JKb(l.Aa))return l;m=new f.dF().LY(l.Qe);Object.entries(l.Aa).forEach(function(d){var h;h=ba(d);d=h.next().value;h=h.next().value;d === l.Qe?m.vo(d,Object.assign(Object.assign({},h),{next:void 0,Nc:void 0,Eh:void 0})):m.vo(d,h);});return m.Ii();};c.prototype.JKb=function(l){l=Object.values(l).map(function(m){return m.Z;});return 1 === new Set(l).size;};b.SIa=c;},function(r,b,a){var f,l,m,d;function c(h,g){this.za=h;this.GLb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;r=a(1);f=a(0);l=a(18);m=a(543);c.prototype.create=function(h){return new (a(303).r1)(this.za.Wb(),h);};c.prototype.nTa=function(h){return new (a(1232).QLa)(this.za.Wb(),h,this.GLb);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.fd)),r.__param(1,f.l(m.DEa))],d);b.bJa=d;},function(r,b,a){var f;function c(l,m,d){var h;h=f.r1.call(this,l,m) || this;h.seek=function(g){return h.Ab().seek(g);};h.addEpisode=function(g){return h.pqa.dqb(g);};h.playNextEpisode=function(g){g=void 0 === g?{}:g;return h.pqa.ZRb(g);};h.watchCredits=function(g){return h.pqa.d2b(g);};h.playSegment=function(g){return h.Ab().s5a(g);};h.queueSegment=function(g){return h.Ab().l6a(g);};h.updateNextSegmentWeights=function(g,k){return h.Ab().wi(g,k);};h.setNextSegment=function(g){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(q){return {wa:q.segmentId,aO:q.nextSegmentId};});h.Xg.si.apply(h.Xg,ea(k));};h.clearNextSegment=function(g){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return h.Xg.Gub.apply(h.Xg,ea(k));};h.goToNextSegment=function(g,k){return h.Xg.moa(g,k);};h.getPlaying=function(){return h.isPlaying();};h.getPaused=function(){return h.isPaused();};h.getMuted=function(){return h.isMuted();};h.getEnded=function(){return h.isEnded();};h.getTimedTextVisibility=function(){return h.isTimedTextVisible();};h.isTimedTextVisible=function(){return ! !h.Ab().JV().visibility;};h.setTimedTextVisibility=function(g){return h.setTimedTextVisible(g);};h.setTimedTextSize=function(g){return h.Ab().kP({size:g});};h.setTimedTextBounds=function(g){return h.Ab().kP({bounds:g});};h.setTimedTextMargins=function(g){return h.Ab().kP({margins:g});};h.setTimedTextVisible=function(g){return h.Ab().kP({visibility:g});};h.getCongestionInfo=function(g){g && g({success:!1,name:null,isCongested:null});};h.pqa=d(l,m,h.log);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.QLa=void 0;f=a(303);na(c,f.r1);b.QLa=c;},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(1);f=a(120);l=a(0);m=a(67);c.prototype.Zxb=function(d){var k,n,q;for(var h=[],g=0;g < arguments.length;++g){h[g - 0]=arguments[g];}k=this;if(0 === h.length)throw Error("Empty playgraph");n=new m.dF().LY(this.Lr(h[0]));h.reverse().forEach(function(p){var v;v=k.Lr(p);n.vo(v,Object.assign({Z:p,xc:0,Nc:Infinity},q?{Eh:q}:{}));q=v;});return n.Ii();};c.prototype.Lr=function(d,h){h=void 0 === h?f.gF.Zca:h;return d + ":" + h;};c.prototype.hrb=function(d,h){var g,k,n,q;if(void 0 === n)n=null !== (g=h.id) && void 0 !== g?g:this.Lr(h.J);g=this.WXa(d);q=new m.dF(d);q.vo(n,{Z:h.J,xc:null !== (k=h.Y) && void 0 !== k?k:0,Nc:Infinity});d=d.Aa[g];h={};q.vo(g,Object.assign({},d,{Eh:n,next:Object.assign({},d.next || ({}),(h[n]={},h))}));return q.Ii();};c.prototype.WXa=function(d){for(var h=d.Qe,g=h;g=d.Aa[g].Eh;){h=g;}return h;};a=r.__decorate([l.R()],c);b.OIa=a;},function(r,b,a){var f,l,m,d,h;function c(g){return l.Ye.call(this,g,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;r=a(1);f=a(0);l=a(46);m=a(37);d=a(45);h=a(4);na(c,l.Ye);Xa.Object.defineProperties(c.prototype,{ZSb:{configurable:!0,enumerable:!0,get:function(){return 2;}},YSb:{configurable:!0,enumerable:!0,get:function(){return h.E8(3);}},Wxa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Gaa:{configurable:!0,enumerable:!0,get:function(){return !1;}},hbb:{configurable:!0,enumerable:!0,get:function(){return !1;}},qWa:{configurable:!0,enumerable:!0,get:function(){return !1;}},K9:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.XA,"prepareSegmentsUpfront")],a.prototype,"ZSb",null);r.__decorate([d.config(d.Yk,"prepareSegmentsDuration")],a.prototype,"YSb",null);r.__decorate([d.config(d.bd,"usePlaygraphForPostPlay")],a.prototype,"Wxa",null);r.__decorate([d.config(d.bd,"usePlaygraphForSkipSegment")],a.prototype,"Gaa",null);r.__decorate([d.config(d.bd,"useSinglePlayerPlayback")],a.prototype,"hbb",null);r.__decorate([d.config(d.bd,"forcePlaygraphTrace")],a.prototype,"qWa",null);r.__decorate([d.config(d.bd,"postPlayDefaultNextEpisode")],a.prototype,"K9",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.Tl))],a);b.MIa=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q,p;function c(v,t,u,w,x,y,z){this.za=v;this.rWb=u;this.Ti=x;this.Bm=z;this.qWb=t.LC(!1,"6.0033.278.911",v.id,y,w);}Object.defineProperty(b,"__esModule",{value:!0});b.VIa=void 0;r=a(1);f=a(0);l=a(18);m=a(161);d=a(1236);h=a(340);g=a(210);k=a(13);n=a(544);q=a(39);a=a(120);c.prototype.create=function(v,t,u,w){var x,y;x=this.rWb.Qxb(v,this.qWb,t);y=v.Xxa;u.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.vKa(this.Ti,v,t,u,x,w,this.Bm):new n.TE(v,t,x,w,this.Bm);};p=c;p=r.__decorate([f.R(),r.__param(0,f.l(l.fd)),r.__param(1,f.l(h.hKa)),r.__param(2,f.l(g.Bea)),r.__param(3,f.l(k.Xc)),r.__param(4,f.l(m.eF)),r.__param(5,f.l(q.IR)),r.__param(6,f.l(a.cK))],p);b.VIa=p;},function(r,b,a){var f,l,m,d,h;function c(g,k,n,q,p,v,t){var u;u=d.TE.call(this,k,n,p,v,t) || this;u.Ti=g;u.sa=q;u.dV=!1;u.Jla=new Map();u.qQb=function(){u.ZG().Jha(l.ca.AI,function(w){u.Sb.Cc(l.fF.BY);u.fb.kh=w.position.segmentId;});};u.uJb();v.addListener(l.Da.loaded,u.qQb);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;f=a(67);l=a(15);m=a(3);d=a(544);h=a(120);na(c,d.TE);c.prototype.JPa=function(g){var k,n,q,p,v,t,u,w,x,y,z;k=this;q=this.fb.cl;p=this.Bm.Lr(g.J,"ident");v=this.Bm.Lr(g.J,"main");t=this.Bm.Lr(g.J,"credits");u=isFinite(g.pj);w=isFinite(g.Y) && g.J !== q.Aa[q.Qe].Z;x={};y=new f.dF(q).vo(v,Object.assign({Z:g.J,xc:w && g.Y || 0,Nc:null !== (n=g.pj) && void 0 !== n?n:Infinity},u?{next:(x[t]={},x),Eh:t}:{}));w && (n={},y.vo(p,{Z:g.J,xc:0,Nc:g.Y,next:(n[v]={},n),Eh:v}));u && y.vo(t,{Z:g.J,xc:g.pj,Nc:Infinity});if(!this.fb.WD(v)){g=q.Aa[this.Bm.WXa(q)].Z;z=this.Bm.Lr(g,h.gF.Tza);[this.Bm.Lr(g,h.gF.Zca),z].filter(function(A){return k.fb.WD(A);}).forEach(function(A){var B,D,E;B=k.fb.te(A);D=A === z || k.Ti.K9;E={};y.vo(A,Object.assign({},B,{next:Object.assign({},B.next,(E[v]={},E))},D?{Eh:v}:{}));});}this.fb.cl=y.Ii();return this.fI(v);};c.prototype.Kw=function(){this.isReady() && this.ZG().Kw();};c.prototype.Hsa=function(){};c.prototype.SH=function(g){this.ZG().SH(g);};c.prototype.noa=function(g,k,n){k=void 0 === k?{}:k;this.sa.debug("goToSegment " + g);return this.ZG().LV(g,k,n);};c.prototype.fI=function(g){if(g === this.pWb)return null;this.pWb=g;return this.dV?this.Dk.iN(this.fb.te(g).Z).YTb:(this.dV=!0,d.TE.prototype.fI.call(this,g));};c.prototype.kab=function(g){return g.errorCode && this.Jla.has(g.errorCode)?this.Jla.get(g.errorCode)(g):Promise.reject(Error("Error " + g.errorCode + " isn't recoverable"));};c.prototype.uJb=function(){var g;g=this;this.Jla.set(m.M.eHa,function(){var k,n;return null !== (n=null === (k=d.TE.prototype.fI.call(g,g.fb.kh)) || void 0 === k?void 0:k.then(function(){var q,p;d.TE.prototype.noa.call(g,g.fb.kh,null !== (p=null === (q=g.Dk.iN(g.fb.ha.Z)) || void 0 === q?void 0:q.Db) && void 0 !== p?p:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.vKa=c;},function(r,b,a){var f,l;function c(m,d,h){this.Ez=d;this.Ti=h;this.l2={};this.Dab=[];this.m9a=[];this.v3a=[];this.fia=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;f=a(67);l=a(67);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.Aa).length && 1 === new Set(Object.values(m.Aa).map(function(h){return h.Z;})).size;this.Cpb=this.Ti.hbb || d;this.K8a(m);this.kh=m.Qe;this.job=this.Ez.Uy();this.nwa=new Map();};c.prototype.h6=function(m){if(this.Xxa)return this.cl;this.fia.has(m) || this.fia.set(m,f.II(m.J,m.wa));return this.fia.get(m);};c.prototype.K8a=function(m){this.kob=m;this.l2={};m=Object.keys(m.Aa);this.AQa(m);this.xPb();};c.prototype.si=function(m){var g;for(var d=[],h=0;h < arguments.length;++h){d[h - 0]=arguments[h];}g=this;d.filter(function(k){return g.WD(k.wa);}).filter(function(k){k=k.aO;return !k || g.WD(k);}).forEach(function(k){var n;n=k.wa;g.l2[n]=g.R3a(k.aO);g.oPb(n);});};c.prototype.AQa=function(m){var d;d=this;m.filter(function(h){return d.WD(h);}).forEach(function(h){d.l2[h]=d.R3a(d.te(h).Eh);});};c.prototype.wi=function(m,d){var h,g,k;h=this.te(m);if(h && h.next){g=new l.dF(this.cl);k=Object.keys(h.next).reduce(function(n,q){n[q]=void 0 === d[q]?h.next[q]:Object.assign({},h.next[q],{weight:d[q]});return n;},{});k=Object.assign({},h,{next:k});g.vo(m,k);this.cl=g.Ii();}};c.prototype.WD=function(m,d){d=void 0 === d?this.cl.Aa:d;return (m in d);};c.prototype.BV=function(m){return this.l2[m];};c.prototype.te=function(m){return this.cl.Aa[m];};c.prototype.VGb=function(m){if(this.nwa.has(m))return this.nwa.get(m);m=this.te(m);return isFinite(m.Nc)?m.Nc:void 0;};c.prototype.K0b=function(m,d){this.nwa.set(m,d);this.tPb(m);};c.prototype.jZb=function(m){this.Dab.push(m);};c.prototype.kZb=function(m){this.m9a.push(m);};c.prototype.iZb=function(m){this.v3a.push(m);};c.prototype.xPb=function(){var m;m=this;this.Dab.forEach(function(d){return d(m.cl);});};c.prototype.oPb=function(m){this.v3a.forEach(function(d){return d(m);});};c.prototype.tPb=function(m){this.m9a.forEach(function(d){return d(m);});};c.prototype.R3a=function(m){return null === m?void 0:m;};Xa.Object.defineProperties(c.prototype,{I9:{configurable:!0,enumerable:!0,get:function(){return this.job;}},Xxa:{configurable:!0,enumerable:!0,get:function(){return this.Cpb;}},cl:{configurable:!0,enumerable:!0,get:function(){return this.kob;},set:function(m){if(this.kh && !this.WD(this.kh,m.Aa))throw Error("Provided playgraphMap does not contain the current segmentId " + this.kh);this.K8a(m);}},kh:{configurable:!0,enumerable:!0,get:function(){return this.ulb;},set:function(m){if(!this.WD(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.ulb=m;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.te(this.kh);}}});b.aJa=c;},function(r,b,a){var f,l;function c(m,d,h,g,k){this.vk=m;this.Xg=d;this.log=h;this.Ti=g;this.Bm=k;this.C9=new f.cea();}Object.defineProperty(b,"__esModule",{value:!0});b.EEa=void 0;f=a(545);l=a(120);c.prototype.dqb=function(m){var d,h,g,k,n,q,p;this.log.info("Next episode added",m);q=this.C9.Yqa(m.playbackParams);p=Math.max(0,null !== (g=null !== (h=null !== (d=m.startPts) && void 0 !== d?d:m.nextStartPts) && void 0 !== h?h:q.Y) && void 0 !== g?g:0);d=null !== (n=null !== (k=m.endPts) && void 0 !== k?k:m.currentEndPts) && void 0 !== n?n:q.pj;return this.Xg.Dqb({J:m.movieId,Y:p,pj:d,Db:q,oa:m.manifest,vk:this.vk});};c.prototype.ZRb=function(m){var d,h,g,k,n,q;m=this.C9.Yqa(m);this.log.info("Playing the next episode",m);g=this.Xg.lXa();k=this.Xg.aH();n=k.Aa[g];q=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(p){return n.Z !== k.Aa[p].Z;});d=!this.Ti.K9 || !(null === (h=m.Gm) || void 0 === h?0:h.isUIAutoPlay);return q?this.Xg.moa(g,q,m,d):Promise.reject(Error("Next episode not found"));};c.prototype.d2b=function(m){var d,h;d=this.Bm.Lr(m,l.gF.Zca);m=this.Bm.Lr(m,l.gF.Tza);h=this.Xg.fb;this.Ti.K9 && h.kh !== m && h.WD(m) && h.BV(d) !== m && this.Xg.si({wa:d,aO:m});};b.EEa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.DQa=void 0;r=a(0);c=a(1240);f=a(31);b.DQa=new r.pd(function(l){l(f.dh).to(c.aza).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n,q,p,v,t,u;function c(w,x,y,z,A,B){var D;D=this;this.jl=w;this.config=y;this.Wo=z;this.debug=A;this.za=B;this.O$a=[];this.md={};this.log=x.hb("loadAsync");this.OMb=v.FCa(function(E){D.FUb=!0;D.startTime=D.za.Wb().da(q.ja);D.load(D.O$a).then(function(){D.endTime=D.za.Wb().da(q.ja);E(u.Xe);}).catch(function(F){D.endTime=D.za.Wb().da(q.ja);E(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.aza=void 0;r=a(1);f=a(71);l=a(3);m=a(1241);d=a(62);h=a(0);g=a(7);k=a(13);n=a(64);q=a(4);p=a(96);v=a(546);t=a(18);u=a(12);c.prototype.IN=function(w){this.OMb(w);};c.prototype.register=function(w,x){this.debug.assert(!this.FUb);this.O$a.push({kMb:this.ztb(x),errorCode:w});};c.prototype.Cd=function(w){this.debug.assert(void 0 === this.md[w]);this.md[w]=this.za.Wb().da(q.ja);};c.prototype.load=function(w){var x;x=this;return m.V5a(w).then(function(y){x.jl.mark(d.$n.Qj.kcb);return y.reduce(function(z,A){return z.then(function(){return x.hMb(A);});},Promise.resolve()).then(function(){x.jl.mark(d.$n.Qj.icb);});});};c.prototype.hMb=function(w){var x,y;x=this;y=w.kMb;!1;return this.Wo.Iq(q.Kc(this.config().Arb),y()).catch(function(z){x.log.error("Failed to load component " + w.errorCode,z);x.jl.mark(d.$n.Qj.jcb);if(z instanceof n.hr)throw {na:l.L.hcb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.na=z.na || l.L.gcb;throw z;});};c.prototype.ztb=function(w){return function(){return new Promise(function(x,y){w(function(z){z.$?x():y(z);});});};};a=c;a=r.__decorate([h.R(),r.__param(0,h.l(f.lF)),r.__param(1,h.l(g.qb)),r.__param(2,h.l(k.Xc)),r.__param(3,h.l(n.Px)),r.__param(4,h.l(p.nv)),r.__param(5,h.l(t.fd))],a);b.aza=a;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.V5a=void 0;c=a(3);f=[c.M.ggb,c.M.ODa,c.M.MDa,c.M.NDa,c.M.SDa,c.M.JDa,c.M.HDa,c.M.Eca,c.M.UDa,c.M.KDa,c.M.dgb,c.M.egb,c.M.IDa,c.M.pB,c.M.EDa,c.M.GDa,c.M.PDa,c.M.QDa,c.M.RDa,c.M.hgb,c.M.jgb,c.M.ngb,c.M.lgb,c.M.kgb,c.M.igb,c.M.mgb,c.M.pgb,c.M.LDa,c.M.ogb,c.M.FDa];(function(m){m.Qhb=function(d){var k;for(var h={},g=0;g < d.length;g++){k=d[g];if(h[k.errorCode])return {errorCode:k.errorCode,na:c.L.ecb};h[k.errorCode]=1;}};m.Rhb=function(d){var g;for(var h=0;h < d.length;h++){g=d[h];if(-1 === f.indexOf(g.errorCode))return {errorCode:g.errorCode,na:c.L.fcb};}};})(l || (l={}));b.V5a=function(m){return new Promise(function(d,h){var g;g=l.Rhb(m);g && h(g);(g=l.Qhb(m)) && h(g);d(m.sort(function(k,n){return f.indexOf(k.errorCode) - f.indexOf(n.errorCode);}));});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.oa=void 0;r=a(0);c=a(1243);f=a(118);b.oa=new r.pd(function(l){l(f.OE).to(c.zFa).aa();});},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v,t,u,w){this.gg=v;this.SMb=u;this.jY=new Map();this.log=p.hb("ManifestFetcher");this.Dg=t.Dg;this.atb=w().hBb;}Object.defineProperty(b,"__esModule",{value:!0});b.zFa=void 0;r=a(1);f=a(0);l=a(18);m=a(41);d=a(7);h=a(4);g=a(13);k=a(103);n=a(51);a=a(290);c.prototype.WM=function(p,v,t){var u;u=this;v=void 0 === v?!0:v;t && this.xqb(p.Z,t);return v && this.roa(p.Z)?this.I5(p.Z).catch(function(){return u.j7a(p,v);}):this.j7a(p,v);};c.prototype.roa=function(p){return this.Dg.RV(p,"manifest");};c.prototype.aZ=function(p,v){var t;t=this;this.atb && this.Dg.setData(p,"manifest",v,function(){return t.MHb(p);});};c.prototype.I5=function(p){var v;v=this;return this.Dg.getData(p,"manifest").then(function(t){if(!t)throw Error("Manifest not found");if(t.uc.expiration <= n.T3())throw (v.Dg.clearData(p,"manifest"),Error("Manifest has expired"));return t;});};c.prototype.MHb=function(p){var v;null === (v=this.jY.get(p)) || void 0 === v?void 0:v.forEach(function(t){return t();});this.jY.delete(p);};c.prototype.xqb=function(p,v){this.jY.has(p) || this.jY.set(p,[]);this.jY.get(p).push(v);};c.prototype.j7a=function(p,v){var t,u,w;t=this;this.log.trace("Requesting a new manifest",p.Z);u=this.gg.Wb().da(h.ja);w=this.SMb.ng(this.log,p).then(function(x){var y,z;if(x.iw){y=x.iw;z={E$:Promise.resolve(y),source:"manifest"};delete x.iw;t.Dg.setData(p.Z,"ldl",z,function(){y.close().catch(function(A){t.log.info("Unable to cleanup LDL session.",A);});});}p.St === k.Sm.bF && (x.qI=u,x.PO=t.gg.Wb().da(h.ja));return x;}).catch(function(x){v && t.aZ(p.Z,void 0);t.log.error("Failed to fetch manifest",m.od.vd(x));throw x;});v && this.aZ(p.Z,w);return w;};q=c;q=r.__decorate([f.R(),r.__param(0,f.l(d.qb)),r.__param(1,f.l(l.fd)),r.__param(2,f.l(a.Jba)),r.__param(3,f.l(k.Mda)),r.__param(4,f.l(g.Xc))],q);b.zFa=q;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.eQa=void 0;c=a(1245);f=a(122);r=a(0);l=a(94);m=a(13);b.eQa=new r.pd(function(d){d(f.uJ).to(c.Bya).aa();});b.profile=new r.pd(function(d){d(l.MR).kE(function(h){return (h=h.$a.get(m.Xc)()) && h.kw?"browsertest":"browser";});});},function(r,b,a){var f,l,m,d,h,g;function c(k,n,q,p){k=d.Ye.call(this,k,void 0 === p?"AppInfoConfigImpl":p) || this;k.config=n;k.uaa=q;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Bya=void 0;r=a(1);f=a(0);l=a(40);m=a(45);d=a(46);h=a(37);a=a(276);na(c,d.Ye);c.prototype.eGb=function(k){return "" + this.pVa + (this.uaa.L$(k)?"/msl_v1":"");};c.prototype.pGb=function(k){return "" + this.host + (this.uaa.L$(k)?"/msl":"") + "/playapi";};Xa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},pVa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.yM){case l.Ax.Mjb:k="www.stage";break;case l.Ax.$Ka:k="www-qa.test";break;case l.Ax.jEa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},XQa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});g=c;r.__decorate([m.config(m.string,"apiEndpoint")],g.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],g.prototype,"pVa",null);r.__decorate([m.config(m.string,"bindService")],g.prototype,"XQa",null);g=r.__decorate([f.R(),r.__param(0,f.l(h.Tl)),r.__param(1,f.l(l.Qm)),r.__param(2,f.l(a.p1)),r.__param(3,f.l(h.tQ)),r.__param(3,f.optional())],g);b.Bya=g;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.v1b=b.Tjb=b.Rjb=b.Qjb=b.Sjb=void 0;c=a(30);f=a(11);b.Sjb=function(l,m,d){for(d=(d - l.length) / m.length;0 < d--;){l+=m;}return l;};b.Qjb=function(l,m,d){d=c.Re(d)?d:"...";return l.length <= m?l:l.substr(0,l.length - (l.length + d.length - m)) + d;};b.Rjb=function(l,m){var h;for(var d=1;d < arguments.length;++d){;}h=f.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(g,k){return "undefined" != typeof h[k]?h[k]:g;});};b.Tjb=function(l){for(var m=l.length,d=new Uint16Array(m),h=0;h < m;h++){d[h]=l.charCodeAt(h);}return d.buffer;};b.v1b=function(l){var m;m=new Uint8Array(l.length);Array.prototype.forEach.call(l,function(d,h){m[h]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(8);b=a(112);a=a(287);r.ka.get(b.UJ).b$(a.Wca.Cdb,function(c){var f,l;f=c.level;if(!nb._cad_global.config || f <= nb._cad_global.config.BMb){c=c.jaa();l=nb.console;1 >= f?l.error(c):2 >= f?l.warn(c):l.log(c);}});},function(r,b,a){var g,k,n,q,p;function c(v){var t,w;k.hM(v);if(n.Re(v) && b.XDa.test(v)){t=v.split(".");if(4 === t.length){for(var u=0;u < t.length;u++){w=n.Ge(t[u]);if(0 > w || !p.Pz(w,0,255) || 1 !== t[u].length && 0 === t[u].indexOf("0"))return;}return v;}}}function f(v){var t;t=0;if(c(v) === v)return (v=v.split("."),t+=n.Ge(v[0]) << 24,t+=n.Ge(v[1]) << 16,t+=n.Ge(v[2]) << 8,t + n.Ge(v[3]));}function l(v){var t;k.hM(v);if(n.Re(v) && v.match(b.YDa)){t=v.split(":");-1 !== t[t.length - 1].indexOf(".") && (v=m(t[t.length - 1]),t.pop(),t.push(v[0]),t.push(v[1]),v=t.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== t.length) && (t=1 < v.length?d(v):t,v=t.length,8 === v)){for(;v--;){if(!p.Pz(parseInt(t[v],16),0,g.kFa))return;}return t.join(":");}}}function m(v){var t;v=f(v) >>> 0;t=[];t.push((v >>> 16 & 65535).toString(16));t.push((v & 65535).toString(16));return t;}function d(v){var t,u,w;t=v[0].split(":");v=v[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === v.length && "" === v[0] && (v=[]);u=8 - (t.length + v.length);if(1 > u)return [];for(w=0;w < u;w++){t.push("0");}for(w=0;w < v.length;w++){t.push(v[w]);}return t;}function h(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.Ggb=b.Lgb=b.Igb=b.Hgb=b.Kgb=b.Fgb=b.Jgb=b.GE=b.YDa=b.XDa=void 0;g=a(12);k=a(21);n=a(30);q=a(11);p=a(19);b.XDa=/^[0-9.]*$/;b.YDa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.GE="0000000000000000";b.Jgb=c;b.Fgb=f;b.Kgb=l;b.Hgb=m;b.Igb=d;b.Lgb=function(v,t,u){var w,x,y,z;w=c(v);x=l(v);y=c(t);z=l(t);if(!w && !x || !y && !z || w && !y || x && !z)return !1;if(v === w)return (u=h(u),(f(v) & u) !== (f(t) & u)?!1:!0);if(v === x){v=v.split(":");t=t.split(":");for(w=q.Ix(u / b.GE.length);w--;){if(v[w] !== t[w])return !1;}u%=b.GE.length;if(0 !== u)for((v=parseInt(v[w],16).toString(2),t=parseInt(t[w],16).toString(2),v=b.GE.substring(0,b.GE.length - v.length) + v,t=b.GE.substring(0,b.GE.length - t.length) + t,w=0);w < u;w++){if(v[w] !== t[w])return !1;}return !0;}return !1;};b.Ggb=h;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(14);a(12);r=a(8);a(112);a(287);a(3);a(111);a(4);a=a(31);r.ka.get(a.dh);!1;},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(50);f=a(12);l=a(14);m=a(3);d=a(198);h=a(34);g=a(11);k=a(8);r=a(31);n=k.ka.get(r.dh);n.register(m.M.SDa,function(q){g.Up && g.Up.generateKey && g.Up.importKey && g.Up.unwrapKey?!k.ka.get(h.wB).Qba && l.config.FL != d.qx.Rib && l.config.FL != d.qx.dhb || g.D0?(n.Cd("wcs"),c.VH(g.Up.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Cd("wcdone");q(f.Xe);},function(p){var v;p="" + p;if(0 <= p.indexOf("missing crypto.subtle"))v=m.L.Zea;else 0 <= p.indexOf("timeout waiting for iframe to load") && (v=m.L.lkb);q({na:v,ub:p});})):q({na:m.L.kkb}):q({na:m.L.Zea});});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(8);f=a(499);a=a(31);c.ka.get(a.dh).register(r.M.HDa,function(l){c.ka.get(f.DBa)().then(function(){l({$:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);l({$:!0});});});},function(r,b,a){var m,d,h,g;function c(k,n,q,p){var v,t,u;m.kb(g.Jh(k) && !g.isArray(k));p=p || "";v="";t=k.hasOwnProperty(h.Ek) && k[h.Ek];t && d.se(t,function(w,x){v && (v+=" ");v+=w + '="' + l(x) + '"';});q=(n?n + ":":"") + q;t=p + "<" + q + (v?" " + v:"");u=k.hasOwnProperty(h.Ls) && k[h.Ls].trim && "" !== k[h.Ls].trim() && k[h.Ls];if(u)return t + ">" + l(u) + "</" + q + ">";k=f(k,n,p + "  ");return t + (k?">\n" + k + "\n" + p + "</" + q + ">":"/>");}function f(k,n,q){var p;m.kb(g.Jh(k) && !g.isArray(k));q=q || "";p="";d.se(k,function(v,t){var x;if("$" != v[0])for(var u=d.yw(t),w=0;w < u.length;w++){if((t=u[w],p && (p+="\n"),g.Jh(t)))p+=c(t,n,v,q);else {x=(n?n + ":":"") + v;p+=q + "<" + x + ">" + l(t) + "</" + x + ">";}}});return p;}function l(k){if(g.Re(k))return d.VV(k);if(g.Ba(k))return (m.rU(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";m.kb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.t_b=b.dLb=b.cLb=void 0;m=a(21);d=a(24);h=a(158);g=a(19);b.cLb=c;b.dLb=f;b.t_b=l;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x,y,z,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(293);f=a(192);l=a(14);m=a(12);d=a(3);h=a(21);g=a(8);k=a(71);n=a(62);q=a(79);p=a(24);v=a(11);t=a(19);u=a(50);w=a(111);x=a(4);r=a(31);y=a(470);z={};A=g.ka.get(r.dh);A.register(d.M.KDa,function(B){var C,G,J,K,I,M,R,H,Q,N,L,P,S,U;function D(da){da && da.userList && l.config.UXb && (da.userList=[]);K({esn:f.gk.Tk,esnPrefix:f.gk.Do,authenticationType:l.config.FL,authenticationKeyNames:l.config.MQa,systemKeyWrapFormat:l.config.GZb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:S,storeState:da,notifyMilestone:A.Cd.bind(A),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.L.rhb,MSL_READ_TIMEOUT:d.L.qhb}},{result:function(ka){E(ka);},timeout:function(){B({na:d.L.tFa});},error:function(ka){B(F(d.L.tFa,void 0,ka));}});}function E(da){var ma,X,ua;function ka(){P && g.ka.get(q.hB).create().then(function(ya){return ya.save(N,X,!1);}).catch(function(ya){R.error("Error persisting msl store",d.Ss(ya));});}ma=g.ka.get(w.iK)(x.Kc(100));ua=I.extend({init:function(ya){this.WNa=ya;},getResponse:function(ya,O,T){var ja,pa;O=this.WNa;ja=O.j3a.gf || ja;ya=t.Qpa(ya.body)?g.OZ(ya.body):ya.body;h.hM(ya,"Msl should not be sending empty request");ya={url:O.url,zta:ya,withCredentials:!0,AC:"nq-" + O.method,headers:O.headers};O=this.WNa.timeout;ya.b4=O;ya.bsa=O;pa=ja.download(ya,function(sa){try{if(sa.$)T.result({body:sa.content});else if(400 === sa.ik && sa.ub)T.result({body:sa.ub});else throw p.Xb(new M("HTTP error, SubCode: " + sa.na + (sa.ik?", HttpCode: " + sa.ik:"")),{cadmiumResponse:sa});}catch(Qa){T.error(Qa);}});return {abort:function(){pa.abort();}};}});Q && da.addEventHandler("shouldpersist",function(ya){X=ya.storeState;ma.Ml(ka);});p.Xb(z,{q$b:function(){L=!0;},send:function(ya){function O(){var T,ja;T=ya.j3a;ja={method:ya.method,nonReplayable:ya.aPb,encrypted:ya.Rk,userId:ya.t1b,body:ya.body,timeout:2 * ya.timeout,url:new ua(ya),allowTokenRefresh:P,sendUserAuthIfRequired:U,shouldSendUserAuthData:l.config.YXb};T.email?(ja.email=T.email,ja.password=T.password || ""):T.v_b?(ja.token=T.v_b,ja.mechanism=T.fac,T.Sra && (ja.netflixId=T.Sra,ja.secureNetflixId=T.nWb),T.Tta && (ja.profileGuid=T.Tta)):T.Sra?(ja.netflixId=T.Sra,ja.secureNetflixId=T.nWb):T.GNb?(ja.mdxControllerToken=T.GNb,ja.mdxPin=T.dac,ja.mdxNonce=T.cac,ja.mdxEncryptedPinB64=T.bac,ja.mdxSignature=T.eac):L || T.useNetflixUserAuthData?ja.useNetflixUserAuthData=!0:T.Tta && (ja.profileGuid=T.Tta);return ja;}return new Promise(function(T,ja){var pa;pa=O();da.send(pa).then(function(sa){L && (L=!1);T({$:!0,body:sa.body});}).catch(function(sa){var Qa,Ua;if(sa.error){Qa=sa.error.cadmiumResponse && sa.error.cadmiumResponse.na?sa.error.cadmiumResponse.na:da.isErrorReauth(sa.error)?d.L.sFa:da.isErrorHeader(sa.error)?d.L.khb:d.L.jhb;Ua=da.getErrorCode(sa.error);ja(F(Qa,Ua,sa.error));}else (R.error("Unknown MSL error",sa),sa.zc=sa.subCode,ja({na:sa.zc?sa.zc:d.L.shb}));});});},YW:da});B(m.Xe);g.ka.get(y.qda).MOb(z);}function F(da,ka,ma){var X,ua,ya,O;ya={na:da,X4:ka};if(ma){O=function(T){var ja;T=T || "" + ma;if(ma.stack){ja="" + ma.stack;T=0 <= ja.indexOf(T)?ja:T + ja;}return T;};if(ua=ma.cadmiumResponse){if(X=ua.nf && ua.nf.toString())ua.nf=X;ua.na=da;ua.X4=ka;ua.ub=O(ma.message);ua.error={zc:da,Jd:X,kA:ka,data:ma.cause,message:ma.message};return ua;}O=O(ma.errorMessage);X=p.Ge(ma.internalCode) || p.Ge(ma.error && ma.error.internalCode);ua=void 0 !== ma.PBb?u.qsa(ma.PBb):void 0;}O && (ya.ub=O);X && (ya.nf=X);ya.error={zc:da,Jd:X.toString(),kA:ka,data:ua,message:O};return ya;}h.kb(l.config);C=g.ka.get(k.lF);G=n.$n.Qj;if(v.uB && v.Up && v.Up.unwrapKey){try{J=nb.netflix.msl;K=J.createMslClient;I=J.IHttpLocation;M=J.MslIoException;}catch(da){B({na:d.L.lhb});return;}R=g.Mi("Msl");H=l.config.IOb;Q=l.config.KOb;N=l.config.kw?"mslstoretest":"mslstore";J=c.OI.p8a;L=l.config.jJb;P=!J || J.$;S=g.Ar(l.config.kw?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");U=! !l.config.Iva;g.ka.get(q.hB).create().then(function(da){H?da.remove(N).then(function(){D();}).catch(function(ka){R.error("Unable to delete MSL store",d.Ss(ka));D();}):Q?da.load(N).then(function(ka){C.mark(G.nhb);D(ka.value);}).catch(function(ka){ka.na == d.L.BB?(C.mark(G.phb),D()):(R.error("Error loading msl store",d.Ss(ka)),C.mark(G.ohb),da.remove(N).then(function(){D();}).catch(function(ma){B(ma);}));}):D();}).catch(function(da){R.error("Error creating app storage while loading msl store",d.Ss(da));B(da);});}else B({na:d.L.mhb});});},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);f=a(12);l=a(14);m=a(58);d=a(51);r=a(3);h=a(8);g=a(71);k=a(11);n=a(61);q=a(19);p=a(49);v=a(89);a=a(31);w=h.ka.get(a.dh);w.register(r.M.IDa,function(x){var z;function y(){var A,B,D;A=w.startTime;B={browserua:k.vB,browserhref:k.F0.href,initstart:A,initdelay:w.endTime - A};(A=k.Ae.documentMode) && (B.browserdm="" + A);"undefined" !== typeof nb.nrdp && nb.nrdp.device && (B.firmware_version=nb.nrdp.device.firmwareVersion);q.Qz(l.config.PVa) && (B.fesn=l.config.PVa);Object.assign(B,c.Mna());D=k.vv && k.vv.timing;D && l.config.yMb.map(function(E){var F;F=D[E];F && (B["pt_" + E]=F - d.hSa());});A=z.aYa();Object.entries(A).forEach(function(E){var F;F=ba(E);E=F.next().value;F=F.next().value;return B["m_" + E]=F;});A=u.Ft("startup","info",B,m.xB.oma);t.Ec(A);}u=h.ka.get(v.Gx);t=h.ka.get(p.Rm);z=h.ka.get(g.lF);w.IN(function(){t.xb();n.Qf(y);});x(f.Xe);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u,w,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=a(47);l=a(508);m=a(1257);d=a(298);h=a(14);g=a(12);k=a(189);n=a(548);q=a(51);r=a(3);p=a(8);v=a(282);t=a(11);u=a(294);b=a(31);w=a(58);x=a(133);p.ka.get(b.dh).register(r.M.EDa,function(y){var z,A,B,D,E,F,C;z=p.ka.get(v.I0).ika();A=p.ka.get(k.cca).EJ;B=p.ka.get(l.$Fa).Zq;D={sO:p.mV("ASE"),mrb:p.mV("JS-ASE",void 0,"Platform"),Mi:p.mV,storage:u.storage,dGb:t.CJ,getTime:q.kj,FN:{},Zq:B,xv:m.xv,EJ:A,MediaSource:n.cGa,SourceBuffer:d.kda,Go:function(){return [h.config.yT,h.config.zT];},Et:function(G){w.co.forEach(function(J){J.P8a(G);});}};A=new Promise(function(G){u.storage.load("nh",function(J){D.FN.nh=J.$?J.data:void 0;G();});});B=new Promise(function(G){u.storage.load("lh",function(J){D.FN.lh=J.$?J.data:void 0;G();});});E=new Promise(function(G){u.storage.load("gh",function(J){D.FN.gh=J.$?J.data:void 0;G();});});F=new Promise(function(G){u.storage.load("sth",function(J){D.FN.sth=J.$?J.data:void 0;G();});});C=new Promise(function(G){u.storage.load("vb",function(J){D.FN.vb=J.$?J.data:void 0;G();});});Promise.all([A,B,C,F,E]).then(function(){return c.__awaiter(this,void 0,void 0,function J(){var K,I,M;return Ia(J,function(R){var H;if(1 == R.OH){K=a(1259)(D);x.hn.Ne=a(549);x.hn.Ne.declare(f.mm);x.hn.Ne.set(a(185)(h.config),!0,p.mV("ASE"));I=f.I1a(K);x.hn.yQa=new I(x.hn.Ne,z);x.hn.yQa.xb(h.config.yT,h.config.zT,{sO:D.sO},h.config.TO);H=f.YG(K);R.OH=2;return {value:H};}M=R.qya;M.open(x.hn.Ne,z);M.Nva({audio:h.config.yT,video:h.config.zT},{W:h.config.TO,fa:void 0});x.hn.ti=M;y(g.Xe);R.OH=0;});});}).catch(function(G){D.sO.error("Exception loading location history from local storage",G);});});},function(r,b,a){var f,l,m,d,h,g,k;function c(){var n;n=new l.Fk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Cc.bind(this);this.u2=g++;this.Cg=m.Mi("ProbeRequest");this.qOa=f.pJa;d.kb(void 0 !== this.qOa);this.Ah=b.xv.Pc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.xv=void 0;f=a(1258);l=a(73);m=a(8);d=a(21);h=a(30);g=0;(function(){function n(){return JSON.stringify({url:this.tl,id:this.u2,affected:this.x1,readystate:this.Ah});}h.Xb(c.prototype,{dO:function(q){q.affected=this.x1;q.probed={requestId:this.u2,url:this.tl,Ld:this.eT,groupId:this.a2};this.emit(b.xv.Ke.zR,q);},jsa:function(q){this.kpb=q.httpcode;q.affected=this.x1;q.probed={requestId:this.u2,url:this.tl,Ld:this.eT,groupId:this.a2};this.emit(b.xv.Ke.ZE,q);},open:function(q,p,v,t){if(!q)return (!1,!1);this.tl=q;this.x1=p;this.eT=v;this.Ah=b.xv.Pc.OPENED;this.Kmb=t;this.qOa.kV(this);return !0;},cd:function(){!1;return !0;},ii:function(){return this.u2;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Ah;},set:function(){}},status:{get:function(){return this.kpb;}},url:{get:function(){return this.tl;}},n8b:{get:function(){return this.x1;}},rMb:{get:function(){return this.Kmb;}}});})();(function(n){n.Ke={zR:"pr0",ZE:"pr1"};n.Pc={UNSENT:0,OPENED:1,Rx:2,DONE:3,JJ:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.xv=Object.assign(c,k);},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.pJa=void 0;c=a(8);f=a(74);b.pJa=(function(){c.Mi("ProbeDownloader");return {kV:function(l){l={url:l.url,lTb:l};!1;f.gf.oTb(l);}};})();},function(r,b,a){var h,g,k,n,q,p,v,t,u,w,x,y,z,A,B,D;function c(E,F,C){this.yo=E;this.groups=F;this.prefix=C;E=w(E,F,C);this.info=E.info.bind(E);this.fatal=E.fatal.bind(E);this.error=E.error.bind(E);this.warn=E.warn.bind(E);this.trace=E.trace.bind(E);this.debug=E.debug.bind(E);this.log=E.log.bind(E);}function f(){this.aTa=function(){throw Error("Not implemented");};this.aAb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function l(){}function m(){return u?u:"0.0.0.0";}function d(E){E({t4a:0,kZ:0,LZa:0,OVa:0});}h=a(17);f.prototype.set=function(E,F){n[E]=F;q.save(E,F);};f.prototype.get=function(E,F){if(n.hasOwnProperty(E))return n[E];t.trace("key: " + E + ", is not available in storage cache and needs to be retrieved asynchronously");q.load(E,function(C){C.$?(n[E]=C.data,F && F(C.data)):n[E]=void 0;});};f.prototype.remove=function(E){q.remove(E);};f.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};l.prototype.now=function(){return p();};l.prototype.ea=function(){return v();};l.prototype.Ora=function(E){return E + p() - v();};l.prototype.lsa=function(E){return E + v() - p();};c.prototype.qTa=function(E){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ea(this.prefix)):this.prefix && F.push(this.prefix);F.push(E);return new c(this.yo,this.groups,F);};x=(function(){var E;E=Promise;E.prototype.fail=Promise.prototype.catch;return E;})();r.exports=function(E){g=E.sO;w=E.Mi;q=E.storage;n=E.FN;p=E.dGb;v=E.getTime;t=E.mrb;y=E.Zq;D=E.xv;z=E.EJ;A=E.SourceBuffer;B=E.MediaSource;u=E.t$b;k=E.Et;return {name:"cadmium",Et:k,sO:g,storage:new f(),Storage:f,time:new l(),events:new h.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,Zq:y,EJ:z,vhb:A,MediaSource:B,xv:D,So:{name:m},memory:{oFb:d},Go:E.Go};};},function(r,b,a){r.exports={EventEmitter:a(1261),Uh:a(1262)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.zd)return (this.zd={},this.zd[c]=[f],!0);l=this.zd[c];return void 0 === l?(this.zd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.zd?this.zd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.zd)return !1;l=this.zd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.zd[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.zd && (void 0 === c?delete this.zd:delete this.zd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var f,l,m,d,h,g,k,n,q;function c(p,v){var w,x,y,z,A,B,D,E,F,C,G;function t(){var J;J=p.yb.value === n.cb.Hc && p.state.value === n.Pb.pe && p.J === v.J;G?J || (clearInterval(G),B=G=void 0):J && (G=nb.setInterval(u,1E3));}function u(){var J,K,I,M,R,H;J=p.ke.value;J=(J=J && J.stream) && J.height;if(null !== J && 0 < J){K=d.kj();I=p.Wf.TG();if(I){if(B && 2E3 > K - B.time && J === B.height){M=I - B.AAb;R=x[J];R || (x[J]=R=[],J > E && (A.push(J),m.r_(A)));0 < M && !(C && C < J) && (C=J);R.push(M);R.length > D && R.shift();(R=z[J]) || (z[J]=R={});H=R[M];R[M]=H?H + 1:1;}B={time:K,AAb:I,height:J};p.B9 && p.B9.WWb(x);}}}w=h.Ih(p,"DFF");x={};y=f.config.EAb;z={};A=[];D=f.config.CAb;E=f.config.DAb;F=l.jFa;if(f.config.BAb)return (v.ola={fEb:function(){var J;J={};z && A.forEach(function(K){var I,M,R;I=z[K];if(I){M=0;R=0;q.se(I,function(H,Q){R+=g.Ge(H);M+=Q;});J[K]=R / M;}});return J;},EV:function(J){var K;K={};J.forEach(function(I){K[I]={};});z && (m.r_(J),A.forEach(function(I){var M,R,H,Q;M=z[I];if(M){R=0;H=0;q.se(M,function(U,da){R+=da;});Q=Object.keys(M).map(Number);m.r_(Q);for(var N=Q.length - 1,L=Q[N],P=J.length - 1;0 <= P;P--){for(var S=J[P];L >= S && 0 <= N;){(L=M[L]) && (H+=L);L=Q[--N];}K[S][I]=k.aj(H / R * 100);}}}));return K;}},p.state.addListener(t),p.yb.addListener(t),p.addEventListener(n.ca.yH,t),{EM:"df",Xu:function(J){var M,R,H,L,P;if(J.lower && J.height > E){J=J.height;a:{if(C){for(var K=A.length,I=0;I < K;I++){M=A[I];if(M >= C && M < F){R=x[M];if(H=R)b:{H=y.length;for(var Q=R.length,N=0;N < H;N++){L=y[N];P=L[0];L=L[1];for(var S=0;S < Q;S++){if(R[S] >= L && 0 >= --P){H=!0;break b;}}}H=!1;}if(H && F != M){w.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:M});v.Mp.set({reason:"droppedFrames",height:M});K=F=M;break a;}}}C=void 0;}K=F;}J=J >= K;}else J=!1;return J;}});}Object.defineProperty(b,"__esModule",{value:!0});b.xhb=void 0;r=a(106);f=a(14);l=a(12);m=a(50);d=a(51);h=a(8);g=a(30);k=a(11);n=a(15);q=a(24);r.RE(c);b.xhb=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(106).RE(function(){return {EM:"op",Xu:function(){}};});},function(r,b,a){var f,l;function c(m,d){var h,g;h=l.Ih(m,"MSS");if(f.config.gOb)return {EM:"mss",Xu:function(k){var n,q;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === g){try{q=nb.MSMediaKeys;g=q && q.isTypeSupportedWithFeatures?"probably" === q.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){h.error("hasUltraHdDisplay exception");g=!0;}g || (h.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.Mp.set({reason:"microsoftScreenSize",height:k.height}));}return !g;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.yhb=void 0;r=a(106);f=a(14);l=a(8);r.RE(c);b.yhb=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(106);c=a(1267);f=a(8);l=a(34);m=a(70);r.RE(function(d){var h;if(f.ka.get(l.Gk).iY){h=f.ka.get(m.Us);return new c.tEa(d,f.Vf,h);}});},function(r,b,a){var f;function c(l,m,d){var h;h=this;this.j=l;this.sa=m;this.vD=d;this.Npa=!1;this.log=this.sa.hb("KeySystemRobustness",this.j);this.Npa=!1;this.vD.rw().then(function(g){var k,n;n=null === (k=g.getConfiguration().videoCapabilities) || void 0 === k?void 0:k.map(function(q){return q.robustness;});h.Npa=!(null === n || void 0 === n || !n.some(function(q){return q === f.OJ;}));l.Q8a("keySystem",g.keySystem);l.Q8a("robustness",null === n || void 0 === n?void 0:n.toString());h.log.trace("KeySystemRobustness: " + n);}).catch(function(g){h.log.error("KeySystemRobustness exception",g);});}Object.defineProperty(b,"__esModule",{value:!0});b.tEa=void 0;f=a(63);c.prototype.Xu=function(l){return l.lower && l.Oz && !this.Npa && 720 < l.height;};Xa.Object.defineProperties(c.prototype,{EM:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.tEa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(106);c=a(14);f=a(8);l=a(1269);r.RE(function(m,d){if(c.config.iLb)return new l.sEa(m,d,f.Vf,c.config,f.ya,f.Lc);});},function(r,b,a){var f,l,m;function c(d,h,g,k,n,q){var p;p=this;this.j=d;this.va=h;this.sa=g;this.config=k;this.ya=n;this.Lc=q;this.Yqb=function(v){!0 === v.oldValue && !1 === v.newValue && (p.log.error("RestartStreaming: UHD key is no longer usable"),p.j.LVb());};this.c0b=function(v){var t,u,w;p.log.trace("UhdKeyStatus: " + v.oldValue + " -> " + v.newValue);u=null === v || void 0 === v?void 0:v.newValue;w=null === v || void 0 === v?void 0:v.oldValue;"usable" !== u && (p.QWb(u,(null === (t=null === v || void 0 === v?void 0:v.km) || void 0 === t?void 0:t.height) || 0),"usable" === w && (v=p.ya.ef.Qa(p.kLb),p.log.error("UHD KeyStatus unexpectedly changed: " + v.da(m.ja))));};this.t0a=!1;this.log=this.sa.hb("KeyStatusStreamFilter",this.j);this.VPa=new l.ac(!1,this.Yqb);this.b0b=new l.ac(void 0,this.c0b);}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;f=a(206);l=a(80);m=a(4);c.prototype.Xu=function(d){this.gZb();this.VPa.set(this.t0a && this.lIb);return d.lower && 1080 < d.height && !this.VPa.value?!0:!1;};c.prototype.avb=function(){this.lIb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.FZa);};c.prototype.Lxb=function(){var d,h,g;h={};g=null === (d=this.va.wg.value) || void 0 === d?void 0:d.Hu;null === g || void 0 === g?void 0:g.forEach(function(k){h[k.nj]=k.tI.height;});this.log.trace("KeyStatusMap",h);return h;};c.prototype.t3a=function(d){var h;h=this;Object.entries(d).forEach(function(g){var k;k=ba(g);g=k.next().value;k=k.next().value;g=h.jLb[g];1080 < g && (h.t0a="usable" === k,h.b0b.set(k,{height:g}));});};c.prototype.gZb=function(){var d,h;d=this;h=this.va.mf;!this.NKb && f.rpa(h) && (this.NKb=!0,this.jLb=this.Lxb(),this.t3a(h.keyStatuses.value),h.keyStatuses.addListener(function(g){return d.t3a(g.newValue);}),this.Lc.zk(m.Kc(this.config.FZa),function(){return d.avb();}),this.kLb=this.ya.ef);};c.prototype.QWb=function(d,h){this.log.error("Restricting resolution due to keyStatus",{keyHeight:h,keyStatus:d});this.va.Mp.set({reason:"keyStatus",height:h});};Xa.Object.defineProperties(c.prototype,{EM:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.sEa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(106);c=a(14);f=a(8);r.RE(function(l,m){var d,h,g,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.d0b);h=d[m.xe];if(c.config.e0b && h){g={};k=f.Ih(l,"MediaStreamFilter");return {EM:"uiLabel",Xu:function(n){if(n.lower && n.height > h)return (g[n.height] || (g[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:h,streamHeight:n.height}),m.Mp.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);f=a(547);r=a(58);l=a(14);m=a(60);d=a(12);h=a(50);g=a(51);k=a(24);n=a(11);q=a(8);p=a(122);v=a(15);t=a(31);u=a(34);r.aea(r.Wda,function(w){var E,F,C,G,J,K;function x(I){var M,R;if(I.newValue >= v.Pb.LOADING){w.state.removeListener(x);I=n.E0;try{M="" + g.S3();localStorage.setItem("player$test",M);R=localStorage.getItem("player$test");localStorage.removeItem("player$test");M=M == R?"success":"mism";}catch(H){M="ex: " + H;}D("type=openplay&sev=info&locstor=" + I.call(n,M));C=g.kj();A();}}function y(){K("type=startplay&sev=info&outcome=success");}function z(){var I,M;I=w.hi;if(I){M="type=startplay&sev=error&outcome=error";I=c.Bna(q.ka.get(u.Gk).aq,I);k.se(I,function(R,H){M+="&" + n.E0(R) + "=" + n.E0(H || "");});K(M);}else K("type=startplay&sev=info&outcome=abort");}function A(){var I,M;I=G.shift();if(0 < I){M=n.bo(I - (g.kj() - C),0);F=setTimeout(function(){D("type=startstall&sev=info&kt=" + I);A();},M);}}function B(){K("type=startplay&sev=info&outcome=unload");}function D(I){I=J + "&soffms=" + w.Ina() + "&" + I;w.md && Object.keys(w.md).length && (I+="&" + h.hO(k.Xb({},w.md,{prefix:"sm_"})));f.W$a("playback",I,E);}E=q.ka.get(p.uJ).host + l.config.jxa;if(l.config.X$a && E && l.config.Y$a.playback){G=l.config.G_b.slice();J="xid=" + w.ba + "&pbi=" + w.index + "&uiLabel=" + (w.xe || "");w.state.addListener(x);w.addEventListener(v.ca.Bq,y);w.addEventListener(v.ca.jg,z);m.ue.addListener(m.Cl,B,d.$E);K=function(I){var M;K=d.ol;M=q.ka.get(t.dh);I+="&initstart=" + M.startTime + "&initend=" + M.endTime;D(I);clearTimeout(F);w.removeEventListener(v.ca.Bq,y);w.removeEventListener(v.ca.jg,z);m.ue.removeListener(m.Cl,B);};}});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);l=a(8);m=a(167);a=a(31);l.ka.get(a.dh).register(r.M.GDa,function(d){c.config.DDb && l.ka.get(m.ECa).start();d(f.Xe);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;c=a(74);f=a(50);l=a(21);m=a(24);d=a(30);b.sAa=function(h,g){l.kb(h);l.kb(g);l.hM(g.FBb,"endpointURL property is required");l.kb(g.ee);this.log=h;this.z5a=g;};b.sAa.prototype.LC=function(){var h,g,k;h=this;h.log.trace("Downloading config data.");g={browserInfo:JSON.stringify(h.z5a.ee)};k=h.z5a.FBb + "?" + f.hO(g);return new Promise(function(n,q){function p(w){var x,y;try{if(w.$){x=new Uint8Array(w.content);y=String.fromCharCode.apply(null,x);return {$:!0,config:JSON.parse(y).core.initParams};}return {$:!1,message:"Unable to download the config. " + w.ub,ZC:w.ik};}catch(z){return (w=m.vd(z),h.log.error("Unable to download the config. Received an exception parsing response",{message:z.message,exception:w,url:k}),{$:!1,ub:w,message:"Unable to download the config. " + z.message});}}function v(w,x,y){return x > y?(h.log.error("Config download failed, retry limit exceeded, giving up",d.Xb({Attempts:x - 1,MaxRetries:y},w)),!1):!0;}function t(w){return new Promise(function(x){setTimeout(function(){x();},w);});}function u(w,x,y){c.gf.download(w,function(z){var A;z=p(z);if(z.$)n(z);else {h.log.warn("Config download failed, retrying",d.Xb({Attempt:x,WaitTime:A,MaxRetries:y},z));if(v(z,x + 1,y)){A=m.dua(1E3,1E3 * Math.pow(2,Math.min(x - 1,y)));return t(A).then(function(){return u(w,x + 1,y);});}q(z);}});}return c.gf?u({url:k,responseType:3,withCredentials:!0,AC:"config-download"},1,3):Promise.reject({$:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);f=a(163);l=a(12);m=a(14);r=a(3);d=a(8);h=a(21);g=a(24);k=a(30);n=a(19);q=a(49);p=a(89);a=a(31);d.ka.get(a.dh).register(r.M.PDa,function(v){var t,u;t=d.Mi("NccpApi");u=g.uQa(["info","warn","trace","error"]);f.nK.AT.nccp={getEsn:function(){return c.gk.Tk;},getPreferredLanguages:function(){return m.config.Ir.Fta;},setPreferredLanguages:function(w){h.kb(n.isArray(w) && k.Qz(w[0]));m.config.Ir.Fta=w;},queueLogblob:function(w,x,y){var z;if(w && x)if((x=x.toLowerCase(),u[x])){z=d.ka.get(q.Rm);w=d.ka.get(p.Gx).Ft(w,x,y);z.Ec(w);}else t.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.ka.get(q.Rm).flush(!0);}};v(l.Xe);});},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(31);b=a(3);c=a(7);f=a(34);l=a(191);m=a(12);d=a(14);h=a(8);g=a(133);k=a(58);n=a(163);q=a(297);p=a(119);h.ka.get(r.dh).register(b.M.RDa,function(v){var w,x,y;function t(z,A){return void 0 === z || void 0 === A?Promise.reject("Invalid email and/or password"):h.ka.get(q.Jda).ng(this.log,{},{email:z,password:A}).then(function(){});}function u(z){var A;A=h.ka.get(p.pF);return A.RVa.fetch(z,A);}if(d.config.bCb){w=h.ka.get(l.S0);x=h.ka.get(f.Gk);y=h.ka.get(c.qb).hb("Test");n.nK.AT.test={setPboRequestsListener:function(z){return w.hXb(z);},playbacks:k.co,getPlayback:function(z){return k.co.find(function(A){return A.ba === z;});},playgraphManager:{isNextSegmentReady:function(z,A){var B,D;return void 0 !== (null === (D=null === (B=k.co.find(function(E){return E.ba === z;})) || void 0 === B?void 0:B.Ka) || void 0 === D?void 0:D.J5(A));},isNextSegmentBuffering:function(z,A){var B,D;return null === (D=null === (B=k.co.find(function(E){return E.ba === z;})) || void 0 === B?void 0:B.Ka) || void 0 === D?void 0:D.ZM(A).JL;}},aseManager:{cacheDestroy:function(){return g.hn.yQa.Jy();}},device:{esn:nb._cad_global.device.Tk,esnPrefix:x.Do,errorPrefix:x.aq},log:{info:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.info(z,B);},error:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.error(z,B);},warn:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.warn(z,B);},trace:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.trace(z,B);},log:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.log(z,B);},debug:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.debug(z,B);}},login:t,getManifest:u};}v(m.Xe);});},function(r,b,a){var c,f,l,m,d,h,g,k,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(1277);c=a(12);f=a(14);l=a(58);b=a(7);m=a(8);d=a(49);h=a(112);g=a(21);k=a(30);n=a(11);nb.netflix=nb.netflix || ({});g.kb(!nb.netflix.player);nb.netflix.player={VideoSession:r.XLa,diag:{togglePanel:function(q,p){var v;v=[];if(!f.config || f.config.mY){switch(q){case "info":v=l.co.map(function(t){return t.B9;});break;case "streams":v=l.co.map(function(t){return t.D9;});break;case "log":v=[];}v.forEach(function(t){k.Uc(p)?p?t.show():t.Qr():t.toggle();});}},addLogMessageSink:function(q){m.ka.get(d.Rm).addListener({Bbc:function(){},YNb:function(p){q({data:p.data});}});}},log:m.Mi("Ext"),LogLevel:b.Mj,addLogSink:function(q,p){m.ka.get(h.UJ).b$(q,p);},getVersion:function(){return "6.0033.278.911";},getMostRecentPlaybackDiagnosticGroups:function(){var q;return null === (q=l.xB.g3a) || void 0 === q?void 0:q.C4.vV();},isWidevineSupported:function(q){var v;function p(t){return function(u,w){return w.contentType == t;};}if("function" !== typeof q)throw Error("input param is not a function");v=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Hx,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.VJ,robustness:"SW_SECURE_CRYPTO"}]}];try{n.jf.requestMediaKeySystemAccess("com.widevine.alpha",v).then(function(t){var u;u=t.getConfiguration();t=u.videoCapabilities || [];u=(u.audioCapabilities || []).reduce(p(c.VJ),!1);t=t.reduce(p(c.Hx),!1);q(u && t);}).catch(function(){q(!1);});}catch(t){q(!1);}}};},function(r,b,a){var f,l,m,d,h,g;function c(k){var n;n=m.nK.call(this,k) || this;n.createPlayer=function(q,p){var v,t,u;p=void 0 === p?{}:p;p="number" === typeof p?{Ej:p}:p;v=f.ka.get(l.cK);t=f.ka.get(h.qR).create(p.manifest);u=f.ka.get(d.hea);q=v.Zxb(q);v=f.ka.get(g.fea).create(q);q=v.N5();u=u.nTa(v);u.addEpisode({movieId:q.Z,playbackParams:n.LQa(p,q),manifest:t});return u;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;f=a(8);l=a(120);m=a(163);d=a(302);h=a(157);g=a(301);na(c,m.nK);b.XLa=c;},function(r,b,a){var c,f,l,m,d,h,g,k,n,q,p,v,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(163);f=a(192);l=a(12);m=a(50);r=a(3);d=a(8);h=a(165);g=a(21);k=a(30);n=a(11);b=a(31);q=a(51);p=a(94);v=a(156);t=a(164);d.ka.get(b.dh).register(r.M.QDa,function(u){var B;function w(){return f.gk.Tk;}function x(D){var E;E=d.ka.get(p.MR);d.ka.get(v.vR)().then(function(F){var C,G;C=F.YW.getStateForMdx(E);G=C.cryptoContext;F=C.masterToken;C=C.userIdToken;F && C?(g.kb(G),F=["1",d.lC(JSON.stringify(F.toJSON())),d.lC(JSON.stringify(C.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,K){J=k.Re(J)?d.NP(J):J;G.encrypt(J,{result:function(I){I=d.lC(I);K({success:!0,mslEncryptionEnvelopeBase64:I});},timeout:function(){K({success:!1});},error:function(I){g.kb(!1,"Encrypt error: " + I);K({success:!1});}});},decrypt:function(J,K){J=d.Ar(J);G.decrypt(J,{result:function(I){K({success:!0,text:d.OZ(I)});},timeout:function(){K({success:!1});},error:function(I){g.kb(!1,"Decrypt error: " + I);K({success:!1});}});},hmac:function(J,K){J=k.Re(J)?d.NP(J):J;G.sign(J,{result:function(I){K({success:!0,hmacBase64:d.lC(I)});},timeout:function(){K({success:!1});},error:function(I){g.kb(!1,"Hmac error: " + I);K({success:!1});}});}}})):(g.kb(!1,"Must login first"),D({success:!1}));});}function y(D,E){var F;F=d.Ar(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([m.VH(n.Up.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),m.VH(n.Up.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(C){E({success:!0,cryptoContext:z(C[0],C[1])});},function(){E({success:!1});});}function z(D,E){function F(C){C=new h.yQ(d.Ar(C));C.BA();return {iv:C.r6a(),DBb:C.r6a()};}return {encrypt:function(C,G){var J;C=k.Re(C)?d.NP(C):C;J=n.uB.getRandomValues(new Uint8Array(16));m.VH(n.Up.encrypt({name:"AES-CBC",iv:J},D,C)).then(function(K){var I,M;K=new Uint8Array(K);I=[];M=new h.yQ(I);M.Vaa(2);M.Mbb(J);M.Mbb(K);K=d.lC(I);G({success:!0,encryptedDataAsn1Base64:K});},function(K){g.kb(!1,"Encrypt error: " + K);G({success:!1});});},decrypt:function(C,G){C=F(C);m.VH(n.Up.decrypt({name:"AES-CBC",iv:C.iv},D,C.DBb)).then(function(J){J=new Uint8Array(J);G({success:!0,text:d.OZ(J)});},function(J){g.kb(!1,"Decrypt error: " + J);G({success:!1});});},hmac:function(C,G){C=k.Re(C)?d.NP(C):C;m.VH(n.Up.sign({name:"HMAC",hash:{name:"SHA-256"}},E,C)).then(function(J){J=new Uint8Array(J);G({success:!0,hmacBase64:d.lC(J)});},function(J){g.kb(!1,"Hmac error: " + J);G({success:!1});});}};}function A(){return q.T3();}B=d.ka.get(t.kB);if(B.R_a || B.uw)c.nK.AT.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};u(l.Xe);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);l=a(8);b=a(31);m=a(119);l.ka.get(b.dh).register(r.M.LDa,function(h){var g,k,n;if(c.config.iSb){g=l.Mi("PlayerPredictionModel");k=l.ka.get(m.pF);n=a(1280);g.log=g.trace.bind(g);d=new n({},g,{oY:function(){},hVb:function(){}},k,{eI:function(){}});nb._cad_global.playerPredictionModel=d;g.info("ppm v2 initialized");}h(f.Xe);});},function(r,b,a){var m,d,h,g,k,n,q;function c(p,v,t,u,w,x){this.J=this.Z=p;this.priority=v;this.Dd=t;x && x.xe && (this.xe=x.xe);void 0 !== u && (this.qO=u);this.Bl=w;this.Db=x;}function f(p,v,t,u,w){h(void 0 !== u,"video preparer is null");h(void 0 !== w,"ui preparer is null");this.H=v;this.Ja=t;this.Dpb=u;this.wpb=w;this.oOa=n.Bta;this.mL=[];this.pha=!1;this.sS=0;new q().on(n,"changed",l,this);this.reset();}function l(){this.H.log("config changed");n.Bta && (this.oOa=n.Bta);n.XW !== this.aL && (this.reset(),this.Mua());}m=a(304);d=a(305);b=a(550);h=b.assert;g=b.$Va;k=a(1281);n=a(551).config;q=a(1282).Uh;n.declare({Bta:["ppmConfig",{c3b:{W3a:0,V3a:2,T3a:0,U3a:5,V8a:0},q7b:{W3a:0,V3a:1,T3a:0,U3a:3,V8a:1E3},s3b:{W3a:0,V3a:1,T3a:0,U3a:3,V8a:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.Tfa=!0;this.aL=n.XW;this.H.log("create model: " + n.XW,n.L7a,n.mSa);switch(n.XW){case "modelone":this.aL=new k(this.H);break;default:this.aL=new k(this.H);}};f.prototype.Mua=function(){var v,t;if(!1 === this.pha){this.pha=!0;for(var p=0;p < this.mL.length;p++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.mL[p]));v=this.TSa(this.mL[p]);t=this.IWa(v);this.aL.update(v,t);this.Tfa=!1;}this.mL=[];}};f.prototype.update=function(p){var v,t,u;this.H.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.Ya && p.Ya[0]){!1 === this.pha && this.mL.length < n.qNb && this.mL.push(p);v=this.TSa(p);t=this.IWa(v);this.H.log("actionType",t);v="mlmodel" == n.XW?this.aL.update(p,t):this.aL.update(v,t);v=this.ODb(v,n.YKb || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.sS && (this.sS=m(),this.Ja && this.Ja.oY && this.Ja.oY({Fzb:this.sS}));if(this.Ja && this.Ja.hVb){this.MEb();u=[];v.forEach(function(w){u.push({dcc:w.Z});});JSON.stringify(p);JSON.stringify(v);}this.Dpb.eI(v);this.wpb.eI(v);this.Tfa=!1;}};f.prototype.MEb=function(){m();};f.prototype.oY=function(){this.sS=m();this.Ja && this.Ja.oY && this.Ja.oY({Fzb:this.sS});};f.prototype.TSa=function(p){var v,t,u,w,x;v={};u=p.Ya || [];w=(function(y){var z,A;z={};x=d.gR.name.indexOf(y.context);z.context=0 <= x?x:d.gR.Nx;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];t=y.list || [];t.forEach((function(B){A={Z:B.Z,Dd:B.Dd,index:B.index,qO:B.qO,O9:B.O9,list:B.list,Db:B.Db};void 0 !== B.property && (x=d.QJ.name.indexOf(B.property),A.property=0 <= x?x:d.QJ.Nx);z.list.push(A);}).bind(this));v.Ya.push(z);}).bind(this);if(void 0 !== p.direction){x=d.tv.name.indexOf(p.direction);v.direction=0 <= x?x:d.tv.Nx;}void 0 !== p.eV && (v.G9b=p.eV.rowIndex,v.F9b=p.eV.Uub);v.eV=p.eV;v.Ya=[];u.forEach(w);return v;};f.prototype.IWa=function(p){var v,t,u;v=p.direction || d.tv.Nx;t=p.eV;u=p.Ya || [];!0 === this.Tfa?p=d.ox.sCa:!0 === u.some(this.iIb)?(p=d.ox.CR,this.d$(u,v,t)):p=u[0].context === d.gR.b1?d.ox.b1:v === d.tv.xJa || v === d.tv.uEa?d.ox.RJa:d.ox.Nx;return p;};f.prototype.iIb=function(p){return (p.list || []).some(function(v){return v.property === d.QJ.CR || v.property === d.QJ.KAa;});};f.prototype.d$=function(p,v,t){var u,w;this.H.log("reportPlayFocusEvent: ",v,t);u={};w=g(p);this.Ja && this.Ja.d$ && (u.x9b=m(),u.direction=d.tv.name[v],t && (u.rowIndex=t.rowIndex,u.Lja=t.Uub),void 0 !== w.xk && (u.requestId=p[w.xk].requestId),this.Ja.d$ && this.Ja.d$(u));};f.prototype.ODb=function(p,v){for(var t=p.length,u=[],w,x,y,z,A=0;A < t;A++){x=p[A];w=Math.floor(A / v) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.Sub,z) && !(y[B].Bl=x.Bl,this.BPa(y[B],w,u),u.length >= n.o2a);B++){;}}else this.BPa(x,w,u);if(u.length >= n.o2a)break;}return u;};f.prototype.BPa=function(p,v,t){var w,x;function u(y){y.xe && (y.Db || (y.Db={}),y.Db.xe=y.xe);return y.Db;}w=p.O9;if(void 0 !== w && w instanceof Array)w.forEach(function(y){void 0 !== y.Z && (x=u(y),t.push(new c(y.Z,v,y.Dd,y.qO,p.Bl,x)));});else if(void 0 !== w && void 0 !== w.Z){w=p.O9;x=u(w);t.push(new c(w.Z,v,w.Dd,w.qO,p.Bl,x));}void 0 !== p.Z && (x=u(p),t.push(new c(p.Z,v,p.Dd,p.qO,p.Bl,x)));};f.prototype.LC=function(p){var v;v=this.oOa;return p?v[p]:v;};r.exports=f;},function(r,b,a){var l,m,d,h,g,k,n,q,p,v;function c(t,u){this.xk=t;this.gm=u;}function f(t){this.H=t;this.reset();}l=a(304);m=a(305);b=a(550);d=a(551).config;h=b.EEb;g=b.lEb;k=b.Hzb;n=b.OPb;q=b.NPb;p=b.MPb;v=b.$Va;f.prototype.constructor=f;f.prototype.reset=function(){this.pOa=void 0;this.Kk=[];this.dOa=this.eOa=!1;};f.prototype.update=function(t,u){var w;this.Kk && (this.Kk=this.Kk.filter(this.WXb,this));if(!1 === this.eOa){w=h(t.Ya).slice(0,d.DTa);0 < w.length && (this.IH(w,m.tx.pl),this.eOa=!0,this.Kk=this.iJ(w.concat(this.Kk)));}!1 === this.dOa && (w=g(t.Ya).slice(0,d.DTa),0 < w.length && (this.IH(w,m.tx.pl),this.dOa=!0,this.Kk=this.iJ(w.concat(this.Kk))));switch(u){case m.ox.sCa:u=this.JHb(t);break;case m.ox.RJa:u=this.SHb(t);break;case m.ox.b1:u=this.THb(t);break;case m.ox.CR:u=this.OHb(t);break;default:u=this.GHb(t);}this.pOa=t;return u;};f.prototype.JHb=function(t){t=n(t.Ya,d.L7a,d.mSa);this.IH(t,m.tx.pl);return this.Kk=this.iJ(this.Kk.concat(t));};f.prototype.SHb=function(t){var u,w;this.H.log("handleScrollHorizontal");u=t.Ya;t=n(u,d.N7a,d.nSa);w=k(u,this.pOa.Ya);u=u[w].list.slice(0,d.UVb);u.concat(t);this.IH(u,m.tx.Mea);return this.iJ(u.concat(this.Kk));};f.prototype.IH=function(t,u){t.forEach(function(w){if(void 0 === w.rC || w.rC < u)w.rC=u;void 0 === w.DP && (w.DP=l());void 0 === w.Bl && (w.Bl=l());});};f.prototype.THb=function(t){this.H.log("handleSearch");t=q(t.Ya,d.lWb);this.IH(t,m.tx.SJa);this.Kk=t.concat(this.Kk);return this.Kk=this.iJ(this.Kk);};f.prototype.OHb=function(t){var u,w,x,y,z;this.H.log("handlePlayFocus: ",d.UV);u=t.direction;w=t.Ya;t=[];x=v(w);if(void 0 !== x.xk)switch((t.push(x),u)){case m.tv.xJa:for(u=1;u < d.UV;u++){t.push(new c(x.xk,x.gm + u));}t.push(new c(x.xk - 1,x.gm));t.push(new c(x.xk + 1,x.gm));break;case m.tv.uEa:for(u=1;u < d.UV;u++){t.push(new c(x.xk,x.gm - u));}t.push(new c(x.xk - 1,x.gm));t.push(new c(x.xk + 1,x.gm));break;case m.tv.fkb:t.push(new c(x.xk - 1,x.gm));for(u=1;u <= d.UV / 2;u++){t.push(new c(x.xk,x.gm + u));t.push(new c(x.xk,x.gm - u));}break;case m.tv.Keb:for((t.push(new c(x.xk + 1,x.gm)),u=1);u <= d.UV / 2;u++){t.push(new c(x.xk,x.gm + u));t.push(new c(x.xk,x.gm - u));}}y=[];t.forEach(function(A){z=p(w,A.xk,A.gm);void 0 !== z && y.push(z);});this.IH(y,m.tx.Mea);return this.iJ(y.concat(this.Kk));};f.prototype.GHb=function(t){this.H.log("ModelOne: handleDefaultCase");t=n(t.Ya,d.N7a,d.nSa);this.IH(t,m.tx.Mea);return this.iJ(t.concat(this.Kk));};f.prototype.WXb=function(t){return t.rC == m.tx.pl | t.rC == m.tx.SJa & l() - t.DP < d.CIb;};f.prototype.iJ=function(t){var u,w,x,y,z,A,B;u=[];w={};y=0;z=t.length;for(x=0;x < z;x++){A=t[x].Z;B=t[x];!1 === (A in w)?(u.push(B),w[A]=y,y++):(A=u[w[A]],B.Bl < A.Bl && (A.Bl=B.Bl),B.rC > A.rC && (A.rC=B.rC),B.DP > A.DP && (A.DP=B.DP));}return u;};r.exports=f;},function(r,b,a){r.exports={EventEmitter:a(1283),Uh:a(1284)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.zd)return (this.zd={},this.zd[c]=[f],!0);l=this.zd[c];return void 0 === l?(this.zd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.zd?this.zd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.zd)return !1;l=this.zd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.zd[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.zd && (void 0 === c?delete this.zd:delete this.zd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(nb);})(window);}).call(window);